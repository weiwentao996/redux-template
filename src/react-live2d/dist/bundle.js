/* eslint-disable */
// eslint-disable-next-line vue/no-setup-props-destructure
(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory(require("react"));
	else if(typeof define === 'function' && define.amd)
		define(["react"], factory);
	else if(typeof exports === 'object')
		exports["live2d"] = factory(require("react"));
	else
		root["live2d"] = factory(root["React"]);
})(window, function(__WEBPACK_EXTERNAL_MODULE_react__) {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/index.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./Framework/src/cubismdefaultparameterid.ts":
/*!***************************************************!*\
  !*** ./Framework/src/cubismdefaultparameterid.ts ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Live2DCubismFramework = void 0;\r\nvar Live2DCubismFramework;\r\n(function (Live2DCubismFramework) {\r\n    Live2DCubismFramework.HitAreaPrefix = 'HitArea';\r\n    Live2DCubismFramework.HitAreaHead = 'Head';\r\n    Live2DCubismFramework.HitAreaBody = 'Body';\r\n    Live2DCubismFramework.PartsIdCore = 'Parts01Core';\r\n    Live2DCubismFramework.PartsArmPrefix = 'Parts01Arm_';\r\n    Live2DCubismFramework.PartsArmLPrefix = 'Parts01ArmL_';\r\n    Live2DCubismFramework.PartsArmRPrefix = 'Parts01ArmR_';\r\n    Live2DCubismFramework.ParamAngleX = 'ParamAngleX';\r\n    Live2DCubismFramework.ParamAngleY = 'ParamAngleY';\r\n    Live2DCubismFramework.ParamAngleZ = 'ParamAngleZ';\r\n    Live2DCubismFramework.ParamEyeLOpen = 'ParamEyeLOpen';\r\n    Live2DCubismFramework.ParamEyeLSmile = 'ParamEyeLSmile';\r\n    Live2DCubismFramework.ParamEyeROpen = 'ParamEyeROpen';\r\n    Live2DCubismFramework.ParamEyeRSmile = 'ParamEyeRSmile';\r\n    Live2DCubismFramework.ParamEyeBallX = 'ParamEyeBallX';\r\n    Live2DCubismFramework.ParamEyeBallY = 'ParamEyeBallY';\r\n    Live2DCubismFramework.ParamEyeBallForm = 'ParamEyeBallForm';\r\n    Live2DCubismFramework.ParamBrowLY = 'ParamBrowLY';\r\n    Live2DCubismFramework.ParamBrowRY = 'ParamBrowRY';\r\n    Live2DCubismFramework.ParamBrowLX = 'ParamBrowLX';\r\n    Live2DCubismFramework.ParamBrowRX = 'ParamBrowRX';\r\n    Live2DCubismFramework.ParamBrowLAngle = 'ParamBrowLAngle';\r\n    Live2DCubismFramework.ParamBrowRAngle = 'ParamBrowRAngle';\r\n    Live2DCubismFramework.ParamBrowLForm = 'ParamBrowLForm';\r\n    Live2DCubismFramework.ParamBrowRForm = 'ParamBrowRForm';\r\n    Live2DCubismFramework.ParamMouthForm = 'ParamMouthForm';\r\n    Live2DCubismFramework.ParamMouthOpenY = 'ParamMouthOpenY';\r\n    Live2DCubismFramework.ParamCheek = 'ParamCheek';\r\n    Live2DCubismFramework.ParamBodyAngleX = 'ParamBodyAngleX';\r\n    Live2DCubismFramework.ParamBodyAngleY = 'ParamBodyAngleY';\r\n    Live2DCubismFramework.ParamBodyAngleZ = 'ParamBodyAngleZ';\r\n    Live2DCubismFramework.ParamBreath = 'ParamBreath';\r\n    Live2DCubismFramework.ParamArmLA = 'ParamArmLA';\r\n    Live2DCubismFramework.ParamArmRA = 'ParamArmRA';\r\n    Live2DCubismFramework.ParamArmLB = 'ParamArmLB';\r\n    Live2DCubismFramework.ParamArmRB = 'ParamArmRB';\r\n    Live2DCubismFramework.ParamHandL = 'ParamHandL';\r\n    Live2DCubismFramework.ParamHandR = 'ParamHandR';\r\n    Live2DCubismFramework.ParamHairFront = 'ParamHairFront';\r\n    Live2DCubismFramework.ParamHairSide = 'ParamHairSide';\r\n    Live2DCubismFramework.ParamHairBack = 'ParamHairBack';\r\n    Live2DCubismFramework.ParamHairFluffy = 'ParamHairFluffy';\r\n    Live2DCubismFramework.ParamShoulderY = 'ParamShoulderY';\r\n    Live2DCubismFramework.ParamBustX = 'ParamBustX';\r\n    Live2DCubismFramework.ParamBustY = 'ParamBustY';\r\n    Live2DCubismFramework.ParamBaseX = 'ParamBaseX';\r\n    Live2DCubismFramework.ParamBaseY = 'ParamBaseY';\r\n    Live2DCubismFramework.ParamNONE = 'NONE:';\r\n})(Live2DCubismFramework = exports.Live2DCubismFramework || (exports.Live2DCubismFramework = {}));\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9GcmFtZXdvcmsvc3JjL2N1YmlzbWRlZmF1bHRwYXJhbWV0ZXJpZC50cy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL2xpdmUyZC8uL0ZyYW1ld29yay9zcmMvY3ViaXNtZGVmYXVsdHBhcmFtZXRlcmlkLnRzPzEyODciXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIENvcHlyaWdodChjKSBMaXZlMkQgSW5jLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4gKlxyXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSB0aGUgTGl2ZTJEIE9wZW4gU29mdHdhcmUgbGljZW5zZVxyXG4gKiB0aGF0IGNhbiBiZSBmb3VuZCBhdCBodHRwczovL3d3dy5saXZlMmQuY29tL2V1bGEvbGl2ZTJkLW9wZW4tc29mdHdhcmUtbGljZW5zZS1hZ3JlZW1lbnRfZW4uaHRtbC5cclxuICovXHJcblxyXG4vKipcclxuICogQGJyaWVmIOODkeODqeODoeODvOOCv0lE44Gu44OH44OV44Kp44Or44OI5YCk44KS5L+d5oyB44GZ44KL5a6a5pWwPGJyPlxyXG4gKiAgICAgICAgIOODh+ODleOCqeODq+ODiOWApOOBruS7leanmOOBr+S7peS4i+OBruODnuODi+ODpeOCouODq+OBq+WfuuOBpeOBjzxicj5cclxuICogICAgICAgICBodHRwczovL2RvY3MubGl2ZTJkLmNvbS9jdWJpc20tZWRpdG9yLW1hbnVhbC9zdGFuZGFyZC1wYXJhbWV0b3ItbGlzdC9cclxuICovXHJcbmV4cG9ydCBuYW1lc3BhY2UgTGl2ZTJEQ3ViaXNtRnJhbWV3b3JrIHtcclxuICAvLyDjg5Hjg7zjg4RJRFxyXG4gIGV4cG9ydCBjb25zdCBIaXRBcmVhUHJlZml4ID0gJ0hpdEFyZWEnO1xyXG4gIGV4cG9ydCBjb25zdCBIaXRBcmVhSGVhZCA9ICdIZWFkJztcclxuICBleHBvcnQgY29uc3QgSGl0QXJlYUJvZHkgPSAnQm9keSc7XHJcbiAgZXhwb3J0IGNvbnN0IFBhcnRzSWRDb3JlID0gJ1BhcnRzMDFDb3JlJztcclxuICBleHBvcnQgY29uc3QgUGFydHNBcm1QcmVmaXggPSAnUGFydHMwMUFybV8nO1xyXG4gIGV4cG9ydCBjb25zdCBQYXJ0c0FybUxQcmVmaXggPSAnUGFydHMwMUFybUxfJztcclxuICBleHBvcnQgY29uc3QgUGFydHNBcm1SUHJlZml4ID0gJ1BhcnRzMDFBcm1SXyc7XHJcblxyXG4gIC8vIOODkeODqeODoeODvOOCv0lEXHJcbiAgZXhwb3J0IGNvbnN0IFBhcmFtQW5nbGVYID0gJ1BhcmFtQW5nbGVYJztcclxuICBleHBvcnQgY29uc3QgUGFyYW1BbmdsZVkgPSAnUGFyYW1BbmdsZVknO1xyXG4gIGV4cG9ydCBjb25zdCBQYXJhbUFuZ2xlWiA9ICdQYXJhbUFuZ2xlWic7XHJcbiAgZXhwb3J0IGNvbnN0IFBhcmFtRXllTE9wZW4gPSAnUGFyYW1FeWVMT3Blbic7XHJcbiAgZXhwb3J0IGNvbnN0IFBhcmFtRXllTFNtaWxlID0gJ1BhcmFtRXllTFNtaWxlJztcclxuICBleHBvcnQgY29uc3QgUGFyYW1FeWVST3BlbiA9ICdQYXJhbUV5ZVJPcGVuJztcclxuICBleHBvcnQgY29uc3QgUGFyYW1FeWVSU21pbGUgPSAnUGFyYW1FeWVSU21pbGUnO1xyXG4gIGV4cG9ydCBjb25zdCBQYXJhbUV5ZUJhbGxYID0gJ1BhcmFtRXllQmFsbFgnO1xyXG4gIGV4cG9ydCBjb25zdCBQYXJhbUV5ZUJhbGxZID0gJ1BhcmFtRXllQmFsbFknO1xyXG4gIGV4cG9ydCBjb25zdCBQYXJhbUV5ZUJhbGxGb3JtID0gJ1BhcmFtRXllQmFsbEZvcm0nO1xyXG4gIGV4cG9ydCBjb25zdCBQYXJhbUJyb3dMWSA9ICdQYXJhbUJyb3dMWSc7XHJcbiAgZXhwb3J0IGNvbnN0IFBhcmFtQnJvd1JZID0gJ1BhcmFtQnJvd1JZJztcclxuICBleHBvcnQgY29uc3QgUGFyYW1Ccm93TFggPSAnUGFyYW1Ccm93TFgnO1xyXG4gIGV4cG9ydCBjb25zdCBQYXJhbUJyb3dSWCA9ICdQYXJhbUJyb3dSWCc7XHJcbiAgZXhwb3J0IGNvbnN0IFBhcmFtQnJvd0xBbmdsZSA9ICdQYXJhbUJyb3dMQW5nbGUnO1xyXG4gIGV4cG9ydCBjb25zdCBQYXJhbUJyb3dSQW5nbGUgPSAnUGFyYW1Ccm93UkFuZ2xlJztcclxuICBleHBvcnQgY29uc3QgUGFyYW1Ccm93TEZvcm0gPSAnUGFyYW1Ccm93TEZvcm0nO1xyXG4gIGV4cG9ydCBjb25zdCBQYXJhbUJyb3dSRm9ybSA9ICdQYXJhbUJyb3dSRm9ybSc7XHJcbiAgZXhwb3J0IGNvbnN0IFBhcmFtTW91dGhGb3JtID0gJ1BhcmFtTW91dGhGb3JtJztcclxuICBleHBvcnQgY29uc3QgUGFyYW1Nb3V0aE9wZW5ZID0gJ1BhcmFtTW91dGhPcGVuWSc7XHJcbiAgZXhwb3J0IGNvbnN0IFBhcmFtQ2hlZWsgPSAnUGFyYW1DaGVlayc7XHJcbiAgZXhwb3J0IGNvbnN0IFBhcmFtQm9keUFuZ2xlWCA9ICdQYXJhbUJvZHlBbmdsZVgnO1xyXG4gIGV4cG9ydCBjb25zdCBQYXJhbUJvZHlBbmdsZVkgPSAnUGFyYW1Cb2R5QW5nbGVZJztcclxuICBleHBvcnQgY29uc3QgUGFyYW1Cb2R5QW5nbGVaID0gJ1BhcmFtQm9keUFuZ2xlWic7XHJcbiAgZXhwb3J0IGNvbnN0IFBhcmFtQnJlYXRoID0gJ1BhcmFtQnJlYXRoJztcclxuICBleHBvcnQgY29uc3QgUGFyYW1Bcm1MQSA9ICdQYXJhbUFybUxBJztcclxuICBleHBvcnQgY29uc3QgUGFyYW1Bcm1SQSA9ICdQYXJhbUFybVJBJztcclxuICBleHBvcnQgY29uc3QgUGFyYW1Bcm1MQiA9ICdQYXJhbUFybUxCJztcclxuICBleHBvcnQgY29uc3QgUGFyYW1Bcm1SQiA9ICdQYXJhbUFybVJCJztcclxuICBleHBvcnQgY29uc3QgUGFyYW1IYW5kTCA9ICdQYXJhbUhhbmRMJztcclxuICBleHBvcnQgY29uc3QgUGFyYW1IYW5kUiA9ICdQYXJhbUhhbmRSJztcclxuICBleHBvcnQgY29uc3QgUGFyYW1IYWlyRnJvbnQgPSAnUGFyYW1IYWlyRnJvbnQnO1xyXG4gIGV4cG9ydCBjb25zdCBQYXJhbUhhaXJTaWRlID0gJ1BhcmFtSGFpclNpZGUnO1xyXG4gIGV4cG9ydCBjb25zdCBQYXJhbUhhaXJCYWNrID0gJ1BhcmFtSGFpckJhY2snO1xyXG4gIGV4cG9ydCBjb25zdCBQYXJhbUhhaXJGbHVmZnkgPSAnUGFyYW1IYWlyRmx1ZmZ5JztcclxuICBleHBvcnQgY29uc3QgUGFyYW1TaG91bGRlclkgPSAnUGFyYW1TaG91bGRlclknO1xyXG4gIGV4cG9ydCBjb25zdCBQYXJhbUJ1c3RYID0gJ1BhcmFtQnVzdFgnO1xyXG4gIGV4cG9ydCBjb25zdCBQYXJhbUJ1c3RZID0gJ1BhcmFtQnVzdFknO1xyXG4gIGV4cG9ydCBjb25zdCBQYXJhbUJhc2VYID0gJ1BhcmFtQmFzZVgnO1xyXG4gIGV4cG9ydCBjb25zdCBQYXJhbUJhc2VZID0gJ1BhcmFtQmFzZVknO1xyXG4gIGV4cG9ydCBjb25zdCBQYXJhbU5PTkUgPSAnTk9ORTonO1xyXG59XHJcbiJdLCJtYXBwaW5ncyI6Ijs7O0FBWUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./Framework/src/cubismdefaultparameterid.ts\n");

/***/ }),

/***/ "./Framework/src/cubismframeworkconfig.ts":
/*!************************************************!*\
  !*** ./Framework/src/cubismframeworkconfig.ts ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.CSM_LOG_LEVEL = exports.CSM_LOG_LEVEL_OFF = exports.CSM_LOG_LEVEL_ERROR = exports.CSM_LOG_LEVEL_WARNING = exports.CSM_LOG_LEVEL_INFO = exports.CSM_LOG_LEVEL_DEBUG = exports.CSM_LOG_LEVEL_VERBOSE = void 0;\r\nexports.CSM_LOG_LEVEL_VERBOSE = 0;\r\nexports.CSM_LOG_LEVEL_DEBUG = 1;\r\nexports.CSM_LOG_LEVEL_INFO = 2;\r\nexports.CSM_LOG_LEVEL_WARNING = 3;\r\nexports.CSM_LOG_LEVEL_ERROR = 4;\r\nexports.CSM_LOG_LEVEL_OFF = 5;\r\nexports.CSM_LOG_LEVEL = exports.CSM_LOG_LEVEL_VERBOSE;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9GcmFtZXdvcmsvc3JjL2N1YmlzbWZyYW1ld29ya2NvbmZpZy50cy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL2xpdmUyZC8uL0ZyYW1ld29yay9zcmMvY3ViaXNtZnJhbWV3b3JrY29uZmlnLnRzP2U4MGYiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIENvcHlyaWdodChjKSBMaXZlMkQgSW5jLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4gKlxyXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSB0aGUgTGl2ZTJEIE9wZW4gU29mdHdhcmUgbGljZW5zZVxyXG4gKiB0aGF0IGNhbiBiZSBmb3VuZCBhdCBodHRwczovL3d3dy5saXZlMmQuY29tL2V1bGEvbGl2ZTJkLW9wZW4tc29mdHdhcmUtbGljZW5zZS1hZ3JlZW1lbnRfZW4uaHRtbC5cclxuICovXHJcblxyXG4vLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vICDjg63jgrDlh7rlipvplqLmlbDjga7oqK3lrppcclxuLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuLy8tLS0tLS0tLS0tIOODreOCsOWHuuWKm+ODrOODmeODqyDpgbjmip7poIXnm64g5a6a576pIC0tLS0tLS0tLS1cclxuLy8g6Kmz57Sw44Ot44Kw5Ye65Yqb6Kit5a6aXHJcbmV4cG9ydCBjb25zdCBDU01fTE9HX0xFVkVMX1ZFUkJPU0UgPSAwO1xyXG4vLyDjg4fjg5Djg4PjgrDjg63jgrDlh7rlipvoqK3lrppcclxuZXhwb3J0IGNvbnN0IENTTV9MT0dfTEVWRUxfREVCVUcgPSAxO1xyXG4vLyBJbmZv44Ot44Kw5Ye65Yqb6Kit5a6aXHJcbmV4cG9ydCBjb25zdCBDU01fTE9HX0xFVkVMX0lORk8gPSAyO1xyXG4vLyDorablkYrjg63jgrDlh7rlipvoqK3lrppcclxuZXhwb3J0IGNvbnN0IENTTV9MT0dfTEVWRUxfV0FSTklORyA9IDM7XHJcbi8vIOOCqOODqeODvOODreOCsOWHuuWKm+ioreWumlxyXG5leHBvcnQgY29uc3QgQ1NNX0xPR19MRVZFTF9FUlJPUiA9IDQ7XHJcbi8vIOODreOCsOWHuuWKm+OCquODleioreWumlxyXG5leHBvcnQgY29uc3QgQ1NNX0xPR19MRVZFTF9PRkYgPSA1O1xyXG5cclxuLyoqXHJcbiAqIOODreOCsOWHuuWKm+ODrOODmeODq+ioreWumuOAglxyXG4gKlxyXG4gKiDlvLfliLbnmoTjgavjg63jgrDlh7rlipvjg6zjg5njg6vjgpLlpInjgYjjgovmmYLjgavlrprnvqnjgpLmnInlirnjgavjgZnjgovjgIJcclxuICogQ1NNX0xPR19MRVZFTF9WRVJCT1NFIO+9niBDU01fTE9HX0xFVkVMX09GRiDjgpLpgbjmip7jgZnjgovjgIJcclxuICovXHJcbmV4cG9ydCBjb25zdCBDU01fTE9HX0xFVkVMOiBudW1iZXIgPSBDU01fTE9HX0xFVkVMX1ZFUkJPU0U7XHJcbiJdLCJtYXBwaW5ncyI6Ijs7O0FBYUE7QUFFQTtBQUVBO0FBRUE7QUFFQTtBQUVBO0FBUUE7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./Framework/src/cubismframeworkconfig.ts\n");

/***/ }),

/***/ "./Framework/src/cubismmodelsettingjson.ts":
/*!*************************************************!*\
  !*** ./Framework/src/cubismmodelsettingjson.ts ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Live2DCubismFramework = void 0;\r\nvar live2dcubismframework_1 = __webpack_require__(/*! ./live2dcubismframework */ \"./Framework/src/live2dcubismframework.ts\");\r\nvar icubismmodelsetting_1 = __webpack_require__(/*! ./icubismmodelsetting */ \"./Framework/src/icubismmodelsetting.ts\");\r\nvar cubismjson_1 = __webpack_require__(/*! ./utils/cubismjson */ \"./Framework/src/utils/cubismjson.ts\");\r\nvar csmvector_1 = __webpack_require__(/*! ./type/csmvector */ \"./Framework/src/type/csmvector.ts\");\r\nvar csmVector = csmvector_1.Live2DCubismFramework.csmVector;\r\nvar CubismFramework = live2dcubismframework_1.Live2DCubismFramework.CubismFramework;\r\nvar CubismJson = cubismjson_1.Live2DCubismFramework.CubismJson;\r\nvar ICubismModelSetting = icubismmodelsetting_1.Live2DCubismFramework.ICubismModelSetting;\r\nvar Live2DCubismFramework;\r\n(function (Live2DCubismFramework) {\r\n    var Version = 'Version';\r\n    var FileReferences = 'FileReferences';\r\n    var Groups = 'Groups';\r\n    var Layout = 'Layout';\r\n    var HitAreas = 'HitAreas';\r\n    var Moc = 'Moc';\r\n    var Textures = 'Textures';\r\n    var Physics = 'Physics';\r\n    var Pose = 'Pose';\r\n    var Expressions = 'Expressions';\r\n    var Motions = 'Motions';\r\n    var UserData = 'UserData';\r\n    var Name = 'Name';\r\n    var FilePath = 'File';\r\n    var Id = 'Id';\r\n    var Ids = 'Ids';\r\n    var Target = 'Target';\r\n    var Idle = 'Idle';\r\n    var TapBody = 'TapBody';\r\n    var PinchIn = 'PinchIn';\r\n    var PinchOut = 'PinchOut';\r\n    var Shake = 'Shake';\r\n    var FlickHead = 'FlickHead';\r\n    var Parameter = 'Parameter';\r\n    var SoundPath = 'Sound';\r\n    var FadeInTime = 'FadeInTime';\r\n    var FadeOutTime = 'FadeOutTime';\r\n    var CenterX = 'CenterX';\r\n    var CenterY = 'CenterY';\r\n    var X = 'X';\r\n    var Y = 'Y';\r\n    var Width = 'Width';\r\n    var Height = 'Height';\r\n    var LipSync = 'LipSync';\r\n    var EyeBlink = 'EyeBlink';\r\n    var InitParameter = 'init_param';\r\n    var InitPartsVisible = 'init_parts_visible';\r\n    var Val = 'val';\r\n    var FrequestNode;\r\n    (function (FrequestNode) {\r\n        FrequestNode[FrequestNode[\"FrequestNode_Groups\"] = 0] = \"FrequestNode_Groups\";\r\n        FrequestNode[FrequestNode[\"FrequestNode_Moc\"] = 1] = \"FrequestNode_Moc\";\r\n        FrequestNode[FrequestNode[\"FrequestNode_Motions\"] = 2] = \"FrequestNode_Motions\";\r\n        FrequestNode[FrequestNode[\"FrequestNode_Expressions\"] = 3] = \"FrequestNode_Expressions\";\r\n        FrequestNode[FrequestNode[\"FrequestNode_Textures\"] = 4] = \"FrequestNode_Textures\";\r\n        FrequestNode[FrequestNode[\"FrequestNode_Physics\"] = 5] = \"FrequestNode_Physics\";\r\n        FrequestNode[FrequestNode[\"FrequestNode_Pose\"] = 6] = \"FrequestNode_Pose\";\r\n        FrequestNode[FrequestNode[\"FrequestNode_HitAreas\"] = 7] = \"FrequestNode_HitAreas\";\r\n    })(FrequestNode || (FrequestNode = {}));\r\n    var CubismModelSettingJson = (function (_super) {\r\n        __extends(CubismModelSettingJson, _super);\r\n        function CubismModelSettingJson(buffer, size) {\r\n            var _this = _super.call(this) || this;\r\n            _this._json = CubismJson.create(buffer, size);\r\n            if (_this._json) {\r\n                _this._jsonValue = new csmVector();\r\n                _this._jsonValue.pushBack(_this._json.getRoot().getValueByString(Groups));\r\n                _this._jsonValue.pushBack(_this._json\r\n                    .getRoot()\r\n                    .getValueByString(FileReferences)\r\n                    .getValueByString(Moc));\r\n                _this._jsonValue.pushBack(_this._json\r\n                    .getRoot()\r\n                    .getValueByString(FileReferences)\r\n                    .getValueByString(Motions));\r\n                _this._jsonValue.pushBack(_this._json\r\n                    .getRoot()\r\n                    .getValueByString(FileReferences)\r\n                    .getValueByString(Expressions));\r\n                _this._jsonValue.pushBack(_this._json\r\n                    .getRoot()\r\n                    .getValueByString(FileReferences)\r\n                    .getValueByString(Textures));\r\n                _this._jsonValue.pushBack(_this._json\r\n                    .getRoot()\r\n                    .getValueByString(FileReferences)\r\n                    .getValueByString(Physics));\r\n                _this._jsonValue.pushBack(_this._json\r\n                    .getRoot()\r\n                    .getValueByString(FileReferences)\r\n                    .getValueByString(Pose));\r\n                _this._jsonValue.pushBack(_this._json.getRoot().getValueByString(HitAreas));\r\n            }\r\n            return _this;\r\n        }\r\n        CubismModelSettingJson.prototype.release = function () {\r\n            CubismJson.delete(this._json);\r\n            this._jsonValue = null;\r\n        };\r\n        CubismModelSettingJson.prototype.GetJson = function () {\r\n            return this._json;\r\n        };\r\n        CubismModelSettingJson.prototype.getModelFileName = function () {\r\n            if (!this.isExistModelFile()) {\r\n                return '';\r\n            }\r\n            return this._jsonValue.at(FrequestNode.FrequestNode_Moc).getRawString();\r\n        };\r\n        CubismModelSettingJson.prototype.getTextureCount = function () {\r\n            if (!this.isExistTextureFiles()) {\r\n                return 0;\r\n            }\r\n            return this._jsonValue.at(FrequestNode.FrequestNode_Textures).getSize();\r\n        };\r\n        CubismModelSettingJson.prototype.getTextureDirectory = function () {\r\n            return this._jsonValue\r\n                .at(FrequestNode.FrequestNode_Textures)\r\n                .getRawString();\r\n        };\r\n        CubismModelSettingJson.prototype.getTextureFileName = function (index) {\r\n            return this._jsonValue\r\n                .at(FrequestNode.FrequestNode_Textures)\r\n                .getValueByIndex(index)\r\n                .getRawString();\r\n        };\r\n        CubismModelSettingJson.prototype.getHitAreasCount = function () {\r\n            if (!this.isExistHitAreas()) {\r\n                return 0;\r\n            }\r\n            return this._jsonValue.at(FrequestNode.FrequestNode_HitAreas).getSize();\r\n        };\r\n        CubismModelSettingJson.prototype.getHitAreaId = function (index) {\r\n            return CubismFramework.getIdManager().getId(this._jsonValue\r\n                .at(FrequestNode.FrequestNode_HitAreas)\r\n                .getValueByIndex(index)\r\n                .getValueByString(Id)\r\n                .getRawString());\r\n        };\r\n        CubismModelSettingJson.prototype.getHitAreaName = function (index) {\r\n            return this._jsonValue\r\n                .at(FrequestNode.FrequestNode_HitAreas)\r\n                .getValueByIndex(index)\r\n                .getValueByString(Name)\r\n                .getRawString();\r\n        };\r\n        CubismModelSettingJson.prototype.getPhysicsFileName = function () {\r\n            if (!this.isExistPhysicsFile()) {\r\n                return '';\r\n            }\r\n            return this._jsonValue\r\n                .at(FrequestNode.FrequestNode_Physics)\r\n                .getRawString();\r\n        };\r\n        CubismModelSettingJson.prototype.getPoseFileName = function () {\r\n            if (!this.isExistPoseFile()) {\r\n                return '';\r\n            }\r\n            return this._jsonValue.at(FrequestNode.FrequestNode_Pose).getRawString();\r\n        };\r\n        CubismModelSettingJson.prototype.getExpressionCount = function () {\r\n            if (!this.isExistExpressionFile()) {\r\n                return 0;\r\n            }\r\n            return this._jsonValue\r\n                .at(FrequestNode.FrequestNode_Expressions)\r\n                .getSize();\r\n        };\r\n        CubismModelSettingJson.prototype.getExpressionName = function (index) {\r\n            return this._jsonValue\r\n                .at(FrequestNode.FrequestNode_Expressions)\r\n                .getValueByIndex(index)\r\n                .getValueByString(Name)\r\n                .getRawString();\r\n        };\r\n        CubismModelSettingJson.prototype.getExpressionFileName = function (index) {\r\n            return this._jsonValue\r\n                .at(FrequestNode.FrequestNode_Expressions)\r\n                .getValueByIndex(index)\r\n                .getValueByString(FilePath)\r\n                .getRawString();\r\n        };\r\n        CubismModelSettingJson.prototype.getMotionGroupCount = function () {\r\n            if (!this.isExistMotionGroups()) {\r\n                return 0;\r\n            }\r\n            return this._jsonValue\r\n                .at(FrequestNode.FrequestNode_Motions)\r\n                .getKeys()\r\n                .getSize();\r\n        };\r\n        CubismModelSettingJson.prototype.getMotionGroupName = function (index) {\r\n            if (!this.isExistMotionGroups()) {\r\n                return null;\r\n            }\r\n            return this._jsonValue\r\n                .at(FrequestNode.FrequestNode_Motions)\r\n                .getKeys()\r\n                .at(index);\r\n        };\r\n        CubismModelSettingJson.prototype.getMotionCount = function (groupName) {\r\n            if (!this.isExistMotionGroupName(groupName)) {\r\n                return 0;\r\n            }\r\n            return this._jsonValue\r\n                .at(FrequestNode.FrequestNode_Motions)\r\n                .getValueByString(groupName)\r\n                .getSize();\r\n        };\r\n        CubismModelSettingJson.prototype.getMotionFileName = function (groupName, index) {\r\n            if (!this.isExistMotionGroupName(groupName)) {\r\n                return '';\r\n            }\r\n            return this._jsonValue\r\n                .at(FrequestNode.FrequestNode_Motions)\r\n                .getValueByString(groupName)\r\n                .getValueByIndex(index)\r\n                .getValueByString(FilePath)\r\n                .getRawString();\r\n        };\r\n        CubismModelSettingJson.prototype.getMotionSoundFileName = function (groupName, index) {\r\n            if (!this.isExistMotionSoundFile(groupName, index)) {\r\n                return '';\r\n            }\r\n            return this._jsonValue\r\n                .at(FrequestNode.FrequestNode_Motions)\r\n                .getValueByString(groupName)\r\n                .getValueByIndex(index)\r\n                .getValueByString(SoundPath)\r\n                .getRawString();\r\n        };\r\n        CubismModelSettingJson.prototype.getMotionFadeInTimeValue = function (groupName, index) {\r\n            if (!this.isExistMotionFadeIn(groupName, index)) {\r\n                return -1.0;\r\n            }\r\n            return this._jsonValue\r\n                .at(FrequestNode.FrequestNode_Motions)\r\n                .getValueByString(groupName)\r\n                .getValueByIndex(index)\r\n                .getValueByString(FadeInTime)\r\n                .toFloat();\r\n        };\r\n        CubismModelSettingJson.prototype.getMotionFadeOutTimeValue = function (groupName, index) {\r\n            if (!this.isExistMotionFadeOut(groupName, index)) {\r\n                return -1.0;\r\n            }\r\n            return this._jsonValue\r\n                .at(FrequestNode.FrequestNode_Motions)\r\n                .getValueByString(groupName)\r\n                .getValueByIndex(index)\r\n                .getValueByString(FadeOutTime)\r\n                .toFloat();\r\n        };\r\n        CubismModelSettingJson.prototype.getUserDataFile = function () {\r\n            if (!this.isExistUserDataFile()) {\r\n                return '';\r\n            }\r\n            return this._json\r\n                .getRoot()\r\n                .getValueByString(FileReferences)\r\n                .getValueByString(UserData)\r\n                .getRawString();\r\n        };\r\n        CubismModelSettingJson.prototype.getLayoutMap = function (outLayoutMap) {\r\n            var map = this._json\r\n                .getRoot()\r\n                .getValueByString(Layout)\r\n                .getMap();\r\n            if (map == null) {\r\n                return false;\r\n            }\r\n            var ret = false;\r\n            for (var ite = map.begin(); ite.notEqual(map.end()); ite.preIncrement()) {\r\n                outLayoutMap.setValue(ite.ptr().first, ite.ptr().second.toFloat());\r\n                ret = true;\r\n            }\r\n            return ret;\r\n        };\r\n        CubismModelSettingJson.prototype.getEyeBlinkParameterCount = function () {\r\n            if (!this.isExistEyeBlinkParameters()) {\r\n                return 0;\r\n            }\r\n            var num = 0;\r\n            for (var i = 0; i < this._jsonValue.at(FrequestNode.FrequestNode_Groups).getSize(); i++) {\r\n                var refI = this._jsonValue\r\n                    .at(FrequestNode.FrequestNode_Groups)\r\n                    .getValueByIndex(i);\r\n                if (refI.isNull() || refI.isError()) {\r\n                    continue;\r\n                }\r\n                if (refI.getValueByString(Name).getRawString() == EyeBlink) {\r\n                    num = refI\r\n                        .getValueByString(Ids)\r\n                        .getVector()\r\n                        .getSize();\r\n                    break;\r\n                }\r\n            }\r\n            return num;\r\n        };\r\n        CubismModelSettingJson.prototype.getEyeBlinkParameterId = function (index) {\r\n            if (!this.isExistEyeBlinkParameters()) {\r\n                return null;\r\n            }\r\n            for (var i = 0; i < this._jsonValue.at(FrequestNode.FrequestNode_Groups).getSize(); i++) {\r\n                var refI = this._jsonValue\r\n                    .at(FrequestNode.FrequestNode_Groups)\r\n                    .getValueByIndex(i);\r\n                if (refI.isNull() || refI.isError()) {\r\n                    continue;\r\n                }\r\n                if (refI.getValueByString(Name).getRawString() == EyeBlink) {\r\n                    return CubismFramework.getIdManager().getId(refI\r\n                        .getValueByString(Ids)\r\n                        .getValueByIndex(index)\r\n                        .getRawString());\r\n                }\r\n            }\r\n            return null;\r\n        };\r\n        CubismModelSettingJson.prototype.getLipSyncParameterCount = function () {\r\n            if (!this.isExistLipSyncParameters()) {\r\n                return 0;\r\n            }\r\n            var num = 0;\r\n            for (var i = 0; i < this._jsonValue.at(FrequestNode.FrequestNode_Groups).getSize(); i++) {\r\n                var refI = this._jsonValue\r\n                    .at(FrequestNode.FrequestNode_Groups)\r\n                    .getValueByIndex(i);\r\n                if (refI.isNull() || refI.isError()) {\r\n                    continue;\r\n                }\r\n                if (refI.getValueByString(Name).getRawString() == LipSync) {\r\n                    num = refI\r\n                        .getValueByString(Ids)\r\n                        .getVector()\r\n                        .getSize();\r\n                    break;\r\n                }\r\n            }\r\n            return num;\r\n        };\r\n        CubismModelSettingJson.prototype.getLipSyncParameterId = function (index) {\r\n            if (!this.isExistLipSyncParameters()) {\r\n                return null;\r\n            }\r\n            for (var i = 0; i < this._jsonValue.at(FrequestNode.FrequestNode_Groups).getSize(); i++) {\r\n                var refI = this._jsonValue\r\n                    .at(FrequestNode.FrequestNode_Groups)\r\n                    .getValueByIndex(i);\r\n                if (refI.isNull() || refI.isError()) {\r\n                    continue;\r\n                }\r\n                if (refI.getValueByString(Name).getRawString() == LipSync) {\r\n                    return CubismFramework.getIdManager().getId(refI\r\n                        .getValueByString(Ids)\r\n                        .getValueByIndex(index)\r\n                        .getRawString());\r\n                }\r\n            }\r\n            return null;\r\n        };\r\n        CubismModelSettingJson.prototype.isExistModelFile = function () {\r\n            var node = this._jsonValue.at(FrequestNode.FrequestNode_Moc);\r\n            return !node.isNull() && !node.isError();\r\n        };\r\n        CubismModelSettingJson.prototype.isExistTextureFiles = function () {\r\n            var node = this._jsonValue.at(FrequestNode.FrequestNode_Textures);\r\n            return !node.isNull() && !node.isError();\r\n        };\r\n        CubismModelSettingJson.prototype.isExistHitAreas = function () {\r\n            var node = this._jsonValue.at(FrequestNode.FrequestNode_HitAreas);\r\n            return !node.isNull() && !node.isError();\r\n        };\r\n        CubismModelSettingJson.prototype.isExistPhysicsFile = function () {\r\n            var node = this._jsonValue.at(FrequestNode.FrequestNode_Physics);\r\n            return !node.isNull() && !node.isError();\r\n        };\r\n        CubismModelSettingJson.prototype.isExistPoseFile = function () {\r\n            var node = this._jsonValue.at(FrequestNode.FrequestNode_Pose);\r\n            return !node.isNull() && !node.isError();\r\n        };\r\n        CubismModelSettingJson.prototype.isExistExpressionFile = function () {\r\n            var node = this._jsonValue.at(FrequestNode.FrequestNode_Expressions);\r\n            return !node.isNull() && !node.isError();\r\n        };\r\n        CubismModelSettingJson.prototype.isExistMotionGroups = function () {\r\n            var node = this._jsonValue.at(FrequestNode.FrequestNode_Motions);\r\n            return !node.isNull() && !node.isError();\r\n        };\r\n        CubismModelSettingJson.prototype.isExistMotionGroupName = function (groupName) {\r\n            var node = this._jsonValue\r\n                .at(FrequestNode.FrequestNode_Motions)\r\n                .getValueByString(groupName);\r\n            return !node.isNull() && !node.isError();\r\n        };\r\n        CubismModelSettingJson.prototype.isExistMotionSoundFile = function (groupName, index) {\r\n            var node = this._jsonValue\r\n                .at(FrequestNode.FrequestNode_Motions)\r\n                .getValueByString(groupName)\r\n                .getValueByIndex(index)\r\n                .getValueByString(SoundPath);\r\n            return !node.isNull() && !node.isError();\r\n        };\r\n        CubismModelSettingJson.prototype.isExistMotionFadeIn = function (groupName, index) {\r\n            var node = this._jsonValue\r\n                .at(FrequestNode.FrequestNode_Motions)\r\n                .getValueByString(groupName)\r\n                .getValueByIndex(index)\r\n                .getValueByString(FadeInTime);\r\n            return !node.isNull() && !node.isError();\r\n        };\r\n        CubismModelSettingJson.prototype.isExistMotionFadeOut = function (groupName, index) {\r\n            var node = this._jsonValue\r\n                .at(FrequestNode.FrequestNode_Motions)\r\n                .getValueByString(groupName)\r\n                .getValueByIndex(index)\r\n                .getValueByString(FadeOutTime);\r\n            return !node.isNull() && !node.isError();\r\n        };\r\n        CubismModelSettingJson.prototype.isExistUserDataFile = function () {\r\n            var node = this._json\r\n                .getRoot()\r\n                .getValueByString(FileReferences)\r\n                .getValueByString(UserData);\r\n            return !node.isNull() && !node.isError();\r\n        };\r\n        CubismModelSettingJson.prototype.isExistEyeBlinkParameters = function () {\r\n            if (this._jsonValue.at(FrequestNode.FrequestNode_Groups).isNull() ||\r\n                this._jsonValue.at(FrequestNode.FrequestNode_Groups).isError()) {\r\n                return false;\r\n            }\r\n            for (var i = 0; i < this._jsonValue.at(FrequestNode.FrequestNode_Groups).getSize(); ++i) {\r\n                if (this._jsonValue\r\n                    .at(FrequestNode.FrequestNode_Groups)\r\n                    .getValueByIndex(i)\r\n                    .getValueByString(Name)\r\n                    .getRawString() == EyeBlink) {\r\n                    return true;\r\n                }\r\n            }\r\n            return false;\r\n        };\r\n        CubismModelSettingJson.prototype.isExistLipSyncParameters = function () {\r\n            if (this._jsonValue.at(FrequestNode.FrequestNode_Groups).isNull() ||\r\n                this._jsonValue.at(FrequestNode.FrequestNode_Groups).isError()) {\r\n                return false;\r\n            }\r\n            for (var i = 0; i < this._jsonValue.at(FrequestNode.FrequestNode_Groups).getSize(); ++i) {\r\n                if (this._jsonValue\r\n                    .at(FrequestNode.FrequestNode_Groups)\r\n                    .getValueByIndex(i)\r\n                    .getValueByString(Name)\r\n                    .getRawString() == LipSync) {\r\n                    return true;\r\n                }\r\n            }\r\n            return false;\r\n        };\r\n        return CubismModelSettingJson;\r\n    }(ICubismModelSetting));\r\n    Live2DCubismFramework.CubismModelSettingJson = CubismModelSettingJson;\r\n})(Live2DCubismFramework = exports.Live2DCubismFramework || (exports.Live2DCubismFramework = {}));\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9GcmFtZXdvcmsvc3JjL2N1YmlzbW1vZGVsc2V0dGluZ2pzb24udHMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9saXZlMmQvLi9GcmFtZXdvcmsvc3JjL2N1YmlzbW1vZGVsc2V0dGluZ2pzb24udHM/M2U2NSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogQ29weXJpZ2h0KGMpIExpdmUyRCBJbmMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbiAqXHJcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IHRoZSBMaXZlMkQgT3BlbiBTb2Z0d2FyZSBsaWNlbnNlXHJcbiAqIHRoYXQgY2FuIGJlIGZvdW5kIGF0IGh0dHBzOi8vd3d3LmxpdmUyZC5jb20vZXVsYS9saXZlMmQtb3Blbi1zb2Z0d2FyZS1saWNlbnNlLWFncmVlbWVudF9lbi5odG1sLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IExpdmUyREN1YmlzbUZyYW1ld29yayBhcyBjdWJpc21mcmFtZXdvcmsgfSBmcm9tICcuL2xpdmUyZGN1YmlzbWZyYW1ld29yayc7XHJcbmltcG9ydCB7IExpdmUyREN1YmlzbUZyYW1ld29yayBhcyBpY3ViaXNtbW9kZWxzZXR0aW5nIH0gZnJvbSAnLi9pY3ViaXNtbW9kZWxzZXR0aW5nJztcclxuaW1wb3J0IHsgTGl2ZTJEQ3ViaXNtRnJhbWV3b3JrIGFzIGN1YmlzbWlkIH0gZnJvbSAnLi9pZC9jdWJpc21pZCc7XHJcbmltcG9ydCB7IExpdmUyREN1YmlzbUZyYW1ld29yayBhcyBjdWJpc21qc29uIH0gZnJvbSAnLi91dGlscy9jdWJpc21qc29uJztcclxuaW1wb3J0IHsgTGl2ZTJEQ3ViaXNtRnJhbWV3b3JrIGFzIGNzbW1hcCB9IGZyb20gJy4vdHlwZS9jc21tYXAnO1xyXG5pbXBvcnQgeyBMaXZlMkRDdWJpc21GcmFtZXdvcmsgYXMgY3NtdmVjdG9yIH0gZnJvbSAnLi90eXBlL2NzbXZlY3Rvcic7XHJcbmltcG9ydCBjc21WZWN0b3IgPSBjc212ZWN0b3IuY3NtVmVjdG9yO1xyXG5pbXBvcnQgY3NtTWFwID0gY3NtbWFwLmNzbU1hcDtcclxuaW1wb3J0IGl0ZXJhdG9yID0gY3NtbWFwLml0ZXJhdG9yO1xyXG5pbXBvcnQgQ3ViaXNtRnJhbWV3b3JrID0gY3ViaXNtZnJhbWV3b3JrLkN1YmlzbUZyYW1ld29yaztcclxuaW1wb3J0IEN1YmlzbUlkSGFuZGxlID0gY3ViaXNtaWQuQ3ViaXNtSWRIYW5kbGU7XHJcbmltcG9ydCBDdWJpc21Kc29uID0gY3ViaXNtanNvbi5DdWJpc21Kc29uO1xyXG5pbXBvcnQgVmFsdWUgPSBjdWJpc21qc29uLlZhbHVlO1xyXG5pbXBvcnQgSUN1YmlzbU1vZGVsU2V0dGluZyA9IGljdWJpc21tb2RlbHNldHRpbmcuSUN1YmlzbU1vZGVsU2V0dGluZztcclxuXHJcbmV4cG9ydCBuYW1lc3BhY2UgTGl2ZTJEQ3ViaXNtRnJhbWV3b3JrIHtcclxuICAvKipcclxuICAgKiBNb2RlbDNKc29u44Gu44Kt44O85paH5a2X5YiXXHJcbiAgICovXHJcblxyXG4gIC8vIEpTT04gS2V5c1xyXG4gIGNvbnN0IFZlcnNpb24gPSAnVmVyc2lvbic7XHJcbiAgY29uc3QgRmlsZVJlZmVyZW5jZXMgPSAnRmlsZVJlZmVyZW5jZXMnO1xyXG4gIGNvbnN0IEdyb3VwcyA9ICdHcm91cHMnO1xyXG4gIGNvbnN0IExheW91dCA9ICdMYXlvdXQnO1xyXG4gIGNvbnN0IEhpdEFyZWFzID0gJ0hpdEFyZWFzJztcclxuXHJcbiAgY29uc3QgTW9jID0gJ01vYyc7XHJcbiAgY29uc3QgVGV4dHVyZXMgPSAnVGV4dHVyZXMnO1xyXG4gIGNvbnN0IFBoeXNpY3MgPSAnUGh5c2ljcyc7XHJcbiAgY29uc3QgUG9zZSA9ICdQb3NlJztcclxuICBjb25zdCBFeHByZXNzaW9ucyA9ICdFeHByZXNzaW9ucyc7XHJcbiAgY29uc3QgTW90aW9ucyA9ICdNb3Rpb25zJztcclxuXHJcbiAgY29uc3QgVXNlckRhdGEgPSAnVXNlckRhdGEnO1xyXG4gIGNvbnN0IE5hbWUgPSAnTmFtZSc7XHJcbiAgY29uc3QgRmlsZVBhdGggPSAnRmlsZSc7XHJcbiAgY29uc3QgSWQgPSAnSWQnO1xyXG4gIGNvbnN0IElkcyA9ICdJZHMnO1xyXG4gIGNvbnN0IFRhcmdldCA9ICdUYXJnZXQnO1xyXG5cclxuICAvLyBNb3Rpb25zXHJcbiAgY29uc3QgSWRsZSA9ICdJZGxlJztcclxuICBjb25zdCBUYXBCb2R5ID0gJ1RhcEJvZHknO1xyXG4gIGNvbnN0IFBpbmNoSW4gPSAnUGluY2hJbic7XHJcbiAgY29uc3QgUGluY2hPdXQgPSAnUGluY2hPdXQnO1xyXG4gIGNvbnN0IFNoYWtlID0gJ1NoYWtlJztcclxuICBjb25zdCBGbGlja0hlYWQgPSAnRmxpY2tIZWFkJztcclxuICBjb25zdCBQYXJhbWV0ZXIgPSAnUGFyYW1ldGVyJztcclxuXHJcbiAgY29uc3QgU291bmRQYXRoID0gJ1NvdW5kJztcclxuICBjb25zdCBGYWRlSW5UaW1lID0gJ0ZhZGVJblRpbWUnO1xyXG4gIGNvbnN0IEZhZGVPdXRUaW1lID0gJ0ZhZGVPdXRUaW1lJztcclxuXHJcbiAgLy8gTGF5b3V0XHJcbiAgY29uc3QgQ2VudGVyWCA9ICdDZW50ZXJYJztcclxuICBjb25zdCBDZW50ZXJZID0gJ0NlbnRlclknO1xyXG4gIGNvbnN0IFggPSAnWCc7XHJcbiAgY29uc3QgWSA9ICdZJztcclxuICBjb25zdCBXaWR0aCA9ICdXaWR0aCc7XHJcbiAgY29uc3QgSGVpZ2h0ID0gJ0hlaWdodCc7XHJcblxyXG4gIGNvbnN0IExpcFN5bmMgPSAnTGlwU3luYyc7XHJcbiAgY29uc3QgRXllQmxpbmsgPSAnRXllQmxpbmsnO1xyXG5cclxuICBjb25zdCBJbml0UGFyYW1ldGVyID0gJ2luaXRfcGFyYW0nO1xyXG4gIGNvbnN0IEluaXRQYXJ0c1Zpc2libGUgPSAnaW5pdF9wYXJ0c192aXNpYmxlJztcclxuICBjb25zdCBWYWwgPSAndmFsJztcclxuXHJcbiAgZW51bSBGcmVxdWVzdE5vZGUge1xyXG4gICAgRnJlcXVlc3ROb2RlX0dyb3VwcywgLy8gZ2V0Um9vdCgpLmdldFZhbHVlQnlTdHJpbmcoR3JvdXBzKVxyXG4gICAgRnJlcXVlc3ROb2RlX01vYywgLy8gZ2V0Um9vdCgpLmdldFZhbHVlQnlTdHJpbmcoRmlsZVJlZmVyZW5jZXMpLmdldFZhbHVlQnlTdHJpbmcoTW9jKVxyXG4gICAgRnJlcXVlc3ROb2RlX01vdGlvbnMsIC8vIGdldFJvb3QoKS5nZXRWYWx1ZUJ5U3RyaW5nKEZpbGVSZWZlcmVuY2VzKS5nZXRWYWx1ZUJ5U3RyaW5nKE1vdGlvbnMpXHJcbiAgICBGcmVxdWVzdE5vZGVfRXhwcmVzc2lvbnMsIC8vIGdldFJvb3QoKS5nZXRWYWx1ZUJ5U3RyaW5nKEZpbGVSZWZlcmVuY2VzKS5nZXRWYWx1ZUJ5U3RyaW5nKEV4cHJlc3Npb25zKVxyXG4gICAgRnJlcXVlc3ROb2RlX1RleHR1cmVzLCAvLyBnZXRSb290KCkuZ2V0VmFsdWVCeVN0cmluZyhGaWxlUmVmZXJlbmNlcykuZ2V0VmFsdWVCeVN0cmluZyhUZXh0dXJlcylcclxuICAgIEZyZXF1ZXN0Tm9kZV9QaHlzaWNzLCAvLyBnZXRSb290KCkuZ2V0VmFsdWVCeVN0cmluZyhGaWxlUmVmZXJlbmNlcykuZ2V0VmFsdWVCeVN0cmluZyhQaHlzaWNzKVxyXG4gICAgRnJlcXVlc3ROb2RlX1Bvc2UsIC8vIGdldFJvb3QoKS5nZXRWYWx1ZUJ5U3RyaW5nKEZpbGVSZWZlcmVuY2VzKS5nZXRWYWx1ZUJ5U3RyaW5nKFBvc2UpXHJcbiAgICBGcmVxdWVzdE5vZGVfSGl0QXJlYXMgLy8gZ2V0Um9vdCgpLmdldFZhbHVlQnlTdHJpbmcoSGl0QXJlYXMpXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBNb2RlbDNKc29u44OR44O844K144O8XHJcbiAgICpcclxuICAgKiBtb2RlbDMuanNvbuODleOCoeOCpOODq+OCkuODkeODvOOCueOBl+OBpuWApOOCkuWPluW+l+OBmeOCi1xyXG4gICAqL1xyXG4gIGV4cG9ydCBjbGFzcyBDdWJpc21Nb2RlbFNldHRpbmdKc29uIGV4dGVuZHMgSUN1YmlzbU1vZGVsU2V0dGluZyB7XHJcbiAgICAvKipcclxuICAgICAqIOW8leaVsOS7mOOBjeOCs+ODs+OCueODiOODqeOCr+OCv1xyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBidWZmZXIgICAgTW9kZWwzSnNvbuOCkuODkOOCpOODiOmFjeWIl+OBqOOBl+OBpuiqreOBv+i+vOOCk+OBoOODh+ODvOOCv+ODkOODg+ODleOCoVxyXG4gICAgICogQHBhcmFtIHNpemUgICAgICBNb2RlbDNKc29u44Gu44OH44O844K/44K144Kk44K6XHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcihidWZmZXI6IEFycmF5QnVmZmVyLCBzaXplOiBudW1iZXIpIHtcclxuICAgICAgc3VwZXIoKTtcclxuICAgICAgdGhpcy5fanNvbiA9IEN1YmlzbUpzb24uY3JlYXRlKGJ1ZmZlciwgc2l6ZSk7XHJcblxyXG4gICAgICBpZiAodGhpcy5fanNvbikge1xyXG4gICAgICAgIHRoaXMuX2pzb25WYWx1ZSA9IG5ldyBjc21WZWN0b3I8VmFsdWU+KCk7XHJcblxyXG4gICAgICAgIC8vIOmghueVquOBr2VudW0gRnJlcXVlc3ROb2Rl44Go5LiA6Ie044GV44Gb44KLXHJcbiAgICAgICAgdGhpcy5fanNvblZhbHVlLnB1c2hCYWNrKHRoaXMuX2pzb24uZ2V0Um9vdCgpLmdldFZhbHVlQnlTdHJpbmcoR3JvdXBzKSk7XHJcbiAgICAgICAgdGhpcy5fanNvblZhbHVlLnB1c2hCYWNrKFxyXG4gICAgICAgICAgdGhpcy5fanNvblxyXG4gICAgICAgICAgICAuZ2V0Um9vdCgpXHJcbiAgICAgICAgICAgIC5nZXRWYWx1ZUJ5U3RyaW5nKEZpbGVSZWZlcmVuY2VzKVxyXG4gICAgICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhNb2MpXHJcbiAgICAgICAgKTtcclxuICAgICAgICB0aGlzLl9qc29uVmFsdWUucHVzaEJhY2soXHJcbiAgICAgICAgICB0aGlzLl9qc29uXHJcbiAgICAgICAgICAgIC5nZXRSb290KClcclxuICAgICAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoRmlsZVJlZmVyZW5jZXMpXHJcbiAgICAgICAgICAgIC5nZXRWYWx1ZUJ5U3RyaW5nKE1vdGlvbnMpXHJcbiAgICAgICAgKTtcclxuICAgICAgICB0aGlzLl9qc29uVmFsdWUucHVzaEJhY2soXHJcbiAgICAgICAgICB0aGlzLl9qc29uXHJcbiAgICAgICAgICAgIC5nZXRSb290KClcclxuICAgICAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoRmlsZVJlZmVyZW5jZXMpXHJcbiAgICAgICAgICAgIC5nZXRWYWx1ZUJ5U3RyaW5nKEV4cHJlc3Npb25zKVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgdGhpcy5fanNvblZhbHVlLnB1c2hCYWNrKFxyXG4gICAgICAgICAgdGhpcy5fanNvblxyXG4gICAgICAgICAgICAuZ2V0Um9vdCgpXHJcbiAgICAgICAgICAgIC5nZXRWYWx1ZUJ5U3RyaW5nKEZpbGVSZWZlcmVuY2VzKVxyXG4gICAgICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhUZXh0dXJlcylcclxuICAgICAgICApO1xyXG4gICAgICAgIHRoaXMuX2pzb25WYWx1ZS5wdXNoQmFjayhcclxuICAgICAgICAgIHRoaXMuX2pzb25cclxuICAgICAgICAgICAgLmdldFJvb3QoKVxyXG4gICAgICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhGaWxlUmVmZXJlbmNlcylcclxuICAgICAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoUGh5c2ljcylcclxuICAgICAgICApO1xyXG4gICAgICAgIHRoaXMuX2pzb25WYWx1ZS5wdXNoQmFjayhcclxuICAgICAgICAgIHRoaXMuX2pzb25cclxuICAgICAgICAgICAgLmdldFJvb3QoKVxyXG4gICAgICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhGaWxlUmVmZXJlbmNlcylcclxuICAgICAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoUG9zZSlcclxuICAgICAgICApO1xyXG4gICAgICAgIHRoaXMuX2pzb25WYWx1ZS5wdXNoQmFjayhcclxuICAgICAgICAgIHRoaXMuX2pzb24uZ2V0Um9vdCgpLmdldFZhbHVlQnlTdHJpbmcoSGl0QXJlYXMpXHJcbiAgICAgICAgKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog44OH44K544OI44Op44Kv44K/55u45b2T44Gu5Yem55CGXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyByZWxlYXNlKCk6IHZvaWQge1xyXG4gICAgICBDdWJpc21Kc29uLmRlbGV0ZSh0aGlzLl9qc29uKTtcclxuXHJcbiAgICAgIHRoaXMuX2pzb25WYWx1ZSA9IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDdWJpc21Kc29u44Kq44OW44K444Kn44Kv44OI44KS5Y+W5b6X44GZ44KLXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybiBDdWJpc21Kc29uXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBHZXRKc29uKCk6IEN1YmlzbUpzb24ge1xyXG4gICAgICByZXR1cm4gdGhpcy5fanNvbjtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIE1vY+ODleOCoeOCpOODq+OBruWQjeWJjeOCkuWPluW+l+OBmeOCi1xyXG4gICAgICogQHJldHVybiBNb2Pjg5XjgqHjgqTjg6vjga7lkI3liY1cclxuICAgICAqL1xyXG4gICAgcHVibGljIGdldE1vZGVsRmlsZU5hbWUoKTogc3RyaW5nIHtcclxuICAgICAgaWYgKCF0aGlzLmlzRXhpc3RNb2RlbEZpbGUoKSkge1xyXG4gICAgICAgIHJldHVybiAnJztcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gdGhpcy5fanNvblZhbHVlLmF0KEZyZXF1ZXN0Tm9kZS5GcmVxdWVzdE5vZGVfTW9jKS5nZXRSYXdTdHJpbmcoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOODouODh+ODq+OBjOS9v+eUqOOBmeOCi+ODhuOCr+OCueODgeODo+OBruaVsOOCkuWPluW+l+OBmeOCi1xyXG4gICAgICog44OG44Kv44K544OB44Oj44Gu5pWwXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXRUZXh0dXJlQ291bnQoKTogbnVtYmVyIHtcclxuICAgICAgaWYgKCF0aGlzLmlzRXhpc3RUZXh0dXJlRmlsZXMoKSkge1xyXG4gICAgICAgIHJldHVybiAwO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gdGhpcy5fanNvblZhbHVlLmF0KEZyZXF1ZXN0Tm9kZS5GcmVxdWVzdE5vZGVfVGV4dHVyZXMpLmdldFNpemUoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOODhuOCr+OCueODgeODo+OBjOmFjee9ruOBleOCjOOBn+ODh+OCo+ODrOOCr+ODiOODquOBruWQjeWJjeOCkuWPluW+l+OBmeOCi1xyXG4gICAgICogQHJldHVybiDjg4bjgq/jgrnjg4Hjg6PjgYzphY3nva7jgZXjgozjgZ/jg4fjgqPjg6zjgq/jg4jjg6rjga7lkI3liY1cclxuICAgICAqL1xyXG4gICAgcHVibGljIGdldFRleHR1cmVEaXJlY3RvcnkoKTogc3RyaW5nIHtcclxuICAgICAgcmV0dXJuIHRoaXMuX2pzb25WYWx1ZVxyXG4gICAgICAgIC5hdChGcmVxdWVzdE5vZGUuRnJlcXVlc3ROb2RlX1RleHR1cmVzKVxyXG4gICAgICAgIC5nZXRSYXdTdHJpbmcoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOODouODh+ODq+OBjOS9v+eUqOOBmeOCi+ODhuOCr+OCueODgeODo+OBruWQjeWJjeOCkuWPluW+l+OBmeOCi1xyXG4gICAgICogQHBhcmFtIGluZGV4IOmFjeWIl+OBruOCpOODs+ODh+ODg+OCr+OCueWApFxyXG4gICAgICogQHJldHVybiDjg4bjgq/jgrnjg4Hjg6Pjga7lkI3liY1cclxuICAgICAqL1xyXG4gICAgcHVibGljIGdldFRleHR1cmVGaWxlTmFtZShpbmRleDogbnVtYmVyKTogc3RyaW5nIHtcclxuICAgICAgcmV0dXJuIHRoaXMuX2pzb25WYWx1ZVxyXG4gICAgICAgIC5hdChGcmVxdWVzdE5vZGUuRnJlcXVlc3ROb2RlX1RleHR1cmVzKVxyXG4gICAgICAgIC5nZXRWYWx1ZUJ5SW5kZXgoaW5kZXgpXHJcbiAgICAgICAgLmdldFJhd1N0cmluZygpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog44Oi44OH44Or44Gr6Kit5a6a44GV44KM44Gf5b2T44Gf44KK5Yik5a6a44Gu5pWw44KS5Y+W5b6X44GZ44KLXHJcbiAgICAgKiBAcmV0dXJuIOODouODh+ODq+OBq+ioreWumuOBleOCjOOBn+W9k+OBn+OCiuWIpOWumuOBruaVsFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2V0SGl0QXJlYXNDb3VudCgpOiBudW1iZXIge1xyXG4gICAgICBpZiAoIXRoaXMuaXNFeGlzdEhpdEFyZWFzKCkpIHtcclxuICAgICAgICByZXR1cm4gMDtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIHRoaXMuX2pzb25WYWx1ZS5hdChGcmVxdWVzdE5vZGUuRnJlcXVlc3ROb2RlX0hpdEFyZWFzKS5nZXRTaXplKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDlvZPjgZ/jgorliKTlrprjgavoqK3lrprjgZXjgozjgZ9JROOCkuWPluW+l+OBmeOCi1xyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBpbmRleCDphY3liJfjga5pbmRleFxyXG4gICAgICogQHJldHVybiDlvZPjgZ/jgorliKTlrprjgavoqK3lrprjgZXjgozjgZ9JRFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2V0SGl0QXJlYUlkKGluZGV4OiBudW1iZXIpOiBDdWJpc21JZEhhbmRsZSB7XHJcbiAgICAgIHJldHVybiBDdWJpc21GcmFtZXdvcmsuZ2V0SWRNYW5hZ2VyKCkuZ2V0SWQoXHJcbiAgICAgICAgdGhpcy5fanNvblZhbHVlXHJcbiAgICAgICAgICAuYXQoRnJlcXVlc3ROb2RlLkZyZXF1ZXN0Tm9kZV9IaXRBcmVhcylcclxuICAgICAgICAgIC5nZXRWYWx1ZUJ5SW5kZXgoaW5kZXgpXHJcbiAgICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhJZClcclxuICAgICAgICAgIC5nZXRSYXdTdHJpbmcoKVxyXG4gICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5b2T44Gf44KK5Yik5a6a44Gr6Kit5a6a44GV44KM44Gf5ZCN5YmN44KS5Y+W5b6X44GZ44KLXHJcbiAgICAgKiBAcGFyYW0gaW5kZXgg6YWN5YiX44Gu44Kk44Oz44OH44OD44Kv44K55YCkXHJcbiAgICAgKiBAcmV0dXJuIOW9k+OBn+OCiuWIpOWumuOBq+ioreWumuOBleOCjOOBn+WQjeWJjVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2V0SGl0QXJlYU5hbWUoaW5kZXg6IG51bWJlcik6IHN0cmluZyB7XHJcbiAgICAgIHJldHVybiB0aGlzLl9qc29uVmFsdWVcclxuICAgICAgICAuYXQoRnJlcXVlc3ROb2RlLkZyZXF1ZXN0Tm9kZV9IaXRBcmVhcylcclxuICAgICAgICAuZ2V0VmFsdWVCeUluZGV4KGluZGV4KVxyXG4gICAgICAgIC5nZXRWYWx1ZUJ5U3RyaW5nKE5hbWUpXHJcbiAgICAgICAgLmdldFJhd1N0cmluZygpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog54mp55CG5ryU566X6Kit5a6a44OV44Kh44Kk44Or44Gu5ZCN5YmN44KS5Y+W5b6X44GZ44KLXHJcbiAgICAgKiBAcmV0dXJuIOeJqeeQhua8lOeul+ioreWumuODleOCoeOCpOODq+OBruWQjeWJjVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2V0UGh5c2ljc0ZpbGVOYW1lKCk6IHN0cmluZyB7XHJcbiAgICAgIGlmICghdGhpcy5pc0V4aXN0UGh5c2ljc0ZpbGUoKSkge1xyXG4gICAgICAgIHJldHVybiAnJztcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIHRoaXMuX2pzb25WYWx1ZVxyXG4gICAgICAgIC5hdChGcmVxdWVzdE5vZGUuRnJlcXVlc3ROb2RlX1BoeXNpY3MpXHJcbiAgICAgICAgLmdldFJhd1N0cmluZygpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog44OR44O844OE5YiH44KK5pu/44GI6Kit5a6a44OV44Kh44Kk44Or44Gu5ZCN5YmN44KS5Y+W5b6X44GZ44KLXHJcbiAgICAgKiBAcmV0dXJuIOODkeODvOODhOWIh+OCiuabv+OBiOioreWumuODleOCoeOCpOODq+OBruWQjeWJjVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2V0UG9zZUZpbGVOYW1lKCk6IHN0cmluZyB7XHJcbiAgICAgIGlmICghdGhpcy5pc0V4aXN0UG9zZUZpbGUoKSkge1xyXG4gICAgICAgIHJldHVybiAnJztcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIHRoaXMuX2pzb25WYWx1ZS5hdChGcmVxdWVzdE5vZGUuRnJlcXVlc3ROb2RlX1Bvc2UpLmdldFJhd1N0cmluZygpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog6KGo5oOF6Kit5a6a44OV44Kh44Kk44Or44Gu5pWw44KS5Y+W5b6X44GZ44KLXHJcbiAgICAgKiBAcmV0dXJuIOihqOaDheioreWumuODleOCoeOCpOODq+OBruaVsFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2V0RXhwcmVzc2lvbkNvdW50KCk6IG51bWJlciB7XHJcbiAgICAgIGlmICghdGhpcy5pc0V4aXN0RXhwcmVzc2lvbkZpbGUoKSkge1xyXG4gICAgICAgIHJldHVybiAwO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gdGhpcy5fanNvblZhbHVlXHJcbiAgICAgICAgLmF0KEZyZXF1ZXN0Tm9kZS5GcmVxdWVzdE5vZGVfRXhwcmVzc2lvbnMpXHJcbiAgICAgICAgLmdldFNpemUoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOihqOaDheioreWumuODleOCoeOCpOODq+OCkuitmOWIpeOBmeOCi+WQjeWJje+8iOWIpeWQje+8ieOCkuWPluW+l+OBmeOCi1xyXG4gICAgICogQHBhcmFtIGluZGV4IOmFjeWIl+OBruOCpOODs+ODh+ODg+OCr+OCueWApFxyXG4gICAgICogQHJldHVybiDooajmg4Xjga7lkI3liY1cclxuICAgICAqL1xyXG4gICAgcHVibGljIGdldEV4cHJlc3Npb25OYW1lKGluZGV4OiBudW1iZXIpOiBzdHJpbmcge1xyXG4gICAgICByZXR1cm4gdGhpcy5fanNvblZhbHVlXHJcbiAgICAgICAgLmF0KEZyZXF1ZXN0Tm9kZS5GcmVxdWVzdE5vZGVfRXhwcmVzc2lvbnMpXHJcbiAgICAgICAgLmdldFZhbHVlQnlJbmRleChpbmRleClcclxuICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhOYW1lKVxyXG4gICAgICAgIC5nZXRSYXdTdHJpbmcoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOihqOaDheioreWumuODleOCoeOCpOODq+OBruWQjeWJjeOCkuWPluW+l+OBmeOCi1xyXG4gICAgICogQHBhcmFtIGluZGV4IOmFjeWIl+OBruOCpOODs+ODh+ODg+OCr+OCueWApFxyXG4gICAgICogQHJldHVybiDooajmg4XoqK3lrprjg5XjgqHjgqTjg6vjga7lkI3liY1cclxuICAgICAqL1xyXG4gICAgcHVibGljIGdldEV4cHJlc3Npb25GaWxlTmFtZShpbmRleDogbnVtYmVyKTogc3RyaW5nIHtcclxuICAgICAgcmV0dXJuIHRoaXMuX2pzb25WYWx1ZVxyXG4gICAgICAgIC5hdChGcmVxdWVzdE5vZGUuRnJlcXVlc3ROb2RlX0V4cHJlc3Npb25zKVxyXG4gICAgICAgIC5nZXRWYWx1ZUJ5SW5kZXgoaW5kZXgpXHJcbiAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoRmlsZVBhdGgpXHJcbiAgICAgICAgLmdldFJhd1N0cmluZygpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog44Oi44O844K344On44Oz44Kw44Or44O844OX44Gu5pWw44KS5Y+W5b6X44GZ44KLXHJcbiAgICAgKiBAcmV0dXJuIOODouODvOOCt+ODp+ODs+OCsOODq+ODvOODl+OBruaVsFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2V0TW90aW9uR3JvdXBDb3VudCgpOiBudW1iZXIge1xyXG4gICAgICBpZiAoIXRoaXMuaXNFeGlzdE1vdGlvbkdyb3VwcygpKSB7XHJcbiAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiB0aGlzLl9qc29uVmFsdWVcclxuICAgICAgICAuYXQoRnJlcXVlc3ROb2RlLkZyZXF1ZXN0Tm9kZV9Nb3Rpb25zKVxyXG4gICAgICAgIC5nZXRLZXlzKClcclxuICAgICAgICAuZ2V0U2l6ZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog44Oi44O844K344On44Oz44Kw44Or44O844OX44Gu5ZCN5YmN44KS5Y+W5b6X44GZ44KLXHJcbiAgICAgKiDojrflj5bliqjkvZznu4TnmoTlkI3np7BcclxuICAgICAqIEBwYXJhbSBpbmRleCDphY3liJfjga7jgqTjg7Pjg4fjg4Pjgq/jgrnlgKRcclxuICAgICAqIEByZXR1cm4g44Oi44O844K344On44Oz44Kw44Or44O844OX44Gu5ZCN5YmNXHJcbiAgICAgKiBAcGFyYW0gaW5kZXgg5o6S5YiX55qE57Si5byV5YC8XHJcbiAgICAgKiBAcmV0dXJuIOWKqOS9nOe7hOeahOWQjeensFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2V0TW90aW9uR3JvdXBOYW1lKGluZGV4OiBudW1iZXIpOiBzdHJpbmcge1xyXG4gICAgICBpZiAoIXRoaXMuaXNFeGlzdE1vdGlvbkdyb3VwcygpKSB7XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiB0aGlzLl9qc29uVmFsdWVcclxuICAgICAgICAuYXQoRnJlcXVlc3ROb2RlLkZyZXF1ZXN0Tm9kZV9Nb3Rpb25zKVxyXG4gICAgICAgIC5nZXRLZXlzKClcclxuICAgICAgICAuYXQoaW5kZXgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog44Oi44O844K344On44Oz44Kw44Or44O844OX44Gr5ZCr44G+44KM44KL44Oi44O844K344On44Oz44Gu5pWw44KS5Y+W5b6X44GZ44KLXHJcbiAgICAgKiBAcGFyYW0gZ3JvdXBOYW1lIOODouODvOOCt+ODp+ODs+OCsOODq+ODvOODl+OBruWQjeWJjVxyXG4gICAgICogQHJldHVybiDjg6Ljg7zjgrfjg6fjg7PjgrDjg6vjg7zjg5fjga7mlbBcclxuICAgICAqL1xyXG4gICAgcHVibGljIGdldE1vdGlvbkNvdW50KGdyb3VwTmFtZTogc3RyaW5nKTogbnVtYmVyIHtcclxuICAgICAgaWYgKCF0aGlzLmlzRXhpc3RNb3Rpb25Hcm91cE5hbWUoZ3JvdXBOYW1lKSkge1xyXG4gICAgICAgIHJldHVybiAwO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gdGhpcy5fanNvblZhbHVlXHJcbiAgICAgICAgLmF0KEZyZXF1ZXN0Tm9kZS5GcmVxdWVzdE5vZGVfTW90aW9ucylcclxuICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhncm91cE5hbWUpXHJcbiAgICAgICAgLmdldFNpemUoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOOCsOODq+ODvOODl+WQjeOBqOOCpOODs+ODh+ODg+OCr+OCueWApOOBi+OCieODouODvOOCt+ODp+ODs+ODleOCoeOCpOODq+WQjeOCkuWPluW+l+OBmeOCi1xyXG4gICAgICogQHBhcmFtIGdyb3VwTmFtZSDjg6Ljg7zjgrfjg6fjg7PjgrDjg6vjg7zjg5fjga7lkI3liY1cclxuICAgICAqIEBwYXJhbSBpbmRleCAgICAg6YWN5YiX44Gu44Kk44Oz44OH44OD44Kv44K55YCkXHJcbiAgICAgKiBAcmV0dXJuIOODouODvOOCt+ODp+ODs+ODleOCoeOCpOODq+OBruWQjeWJjVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2V0TW90aW9uRmlsZU5hbWUoZ3JvdXBOYW1lOiBzdHJpbmcsIGluZGV4OiBudW1iZXIpOiBzdHJpbmcge1xyXG4gICAgICBpZiAoIXRoaXMuaXNFeGlzdE1vdGlvbkdyb3VwTmFtZShncm91cE5hbWUpKSB7XHJcbiAgICAgICAgcmV0dXJuICcnO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gdGhpcy5fanNvblZhbHVlXHJcbiAgICAgICAgLmF0KEZyZXF1ZXN0Tm9kZS5GcmVxdWVzdE5vZGVfTW90aW9ucylcclxuICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhncm91cE5hbWUpXHJcbiAgICAgICAgLmdldFZhbHVlQnlJbmRleChpbmRleClcclxuICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhGaWxlUGF0aClcclxuICAgICAgICAuZ2V0UmF3U3RyaW5nKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDjg6Ljg7zjgrfjg6fjg7Pjgavlr77lv5zjgZnjgovjgrXjgqbjg7Pjg4njg5XjgqHjgqTjg6vjga7lkI3liY3jgpLlj5blvpfjgZnjgotcclxuICAgICAqIEBwYXJhbSBncm91cE5hbWUg44Oi44O844K344On44Oz44Kw44Or44O844OX44Gu5ZCN5YmNXHJcbiAgICAgKiBAcGFyYW0gaW5kZXgg6YWN5YiX44Gu44Kk44Oz44OH44OD44Kv44K55YCkXHJcbiAgICAgKiBAcmV0dXJuIOOCteOCpuODs+ODieODleOCoeOCpOODq+OBruWQjeWJjVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2V0TW90aW9uU291bmRGaWxlTmFtZShncm91cE5hbWU6IHN0cmluZywgaW5kZXg6IG51bWJlcik6IHN0cmluZyB7XHJcbiAgICAgIGlmICghdGhpcy5pc0V4aXN0TW90aW9uU291bmRGaWxlKGdyb3VwTmFtZSwgaW5kZXgpKSB7XHJcbiAgICAgICAgcmV0dXJuICcnO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gdGhpcy5fanNvblZhbHVlXHJcbiAgICAgICAgLmF0KEZyZXF1ZXN0Tm9kZS5GcmVxdWVzdE5vZGVfTW90aW9ucylcclxuICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhncm91cE5hbWUpXHJcbiAgICAgICAgLmdldFZhbHVlQnlJbmRleChpbmRleClcclxuICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhTb3VuZFBhdGgpXHJcbiAgICAgICAgLmdldFJhd1N0cmluZygpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog44Oi44O844K344On44Oz6ZaL5aeL5pmC44Gu44OV44Kn44O844OJ44Kk44Oz5Yem55CG5pmC6ZaT44KS5Y+W5b6X44GZ44KLXHJcbiAgICAgKiBAcGFyYW0gZ3JvdXBOYW1lIOODouODvOOCt+ODp+ODs+OCsOODq+ODvOODl+OBruWQjeWJjVxyXG4gICAgICogQHBhcmFtIGluZGV4IOmFjeWIl+OBruOCpOODs+ODh+ODg+OCr+OCueWApFxyXG4gICAgICogQHJldHVybiDjg5Xjgqfjg7zjg4njgqTjg7Plh6bnkIbmmYLplpNb56eSXVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2V0TW90aW9uRmFkZUluVGltZVZhbHVlKGdyb3VwTmFtZTogc3RyaW5nLCBpbmRleDogbnVtYmVyKTogbnVtYmVyIHtcclxuICAgICAgaWYgKCF0aGlzLmlzRXhpc3RNb3Rpb25GYWRlSW4oZ3JvdXBOYW1lLCBpbmRleCkpIHtcclxuICAgICAgICByZXR1cm4gLTEuMDtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIHRoaXMuX2pzb25WYWx1ZVxyXG4gICAgICAgIC5hdChGcmVxdWVzdE5vZGUuRnJlcXVlc3ROb2RlX01vdGlvbnMpXHJcbiAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoZ3JvdXBOYW1lKVxyXG4gICAgICAgIC5nZXRWYWx1ZUJ5SW5kZXgoaW5kZXgpXHJcbiAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoRmFkZUluVGltZSlcclxuICAgICAgICAudG9GbG9hdCgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog44Oi44O844K344On44Oz57WC5LqG5pmC44Gu44OV44Kn44O844OJ44Ki44Km44OI5Yem55CG5pmC6ZaT44KS5Y+W5b6X44GZ44KLXHJcbiAgICAgKiBAcGFyYW0gZ3JvdXBOYW1lIOODouODvOOCt+ODp+ODs+OCsOODq+ODvOODl+OBruWQjeWJjVxyXG4gICAgICogQHBhcmFtIGluZGV4IOmFjeWIl+OBruOCpOODs+ODh+ODg+OCr+OCueWApFxyXG4gICAgICogQHJldHVybiDjg5Xjgqfjg7zjg4njgqLjgqbjg4jlh6bnkIbmmYLplpNb56eSXVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2V0TW90aW9uRmFkZU91dFRpbWVWYWx1ZShncm91cE5hbWU6IHN0cmluZywgaW5kZXg6IG51bWJlcik6IG51bWJlciB7XHJcbiAgICAgIGlmICghdGhpcy5pc0V4aXN0TW90aW9uRmFkZU91dChncm91cE5hbWUsIGluZGV4KSkge1xyXG4gICAgICAgIHJldHVybiAtMS4wO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gdGhpcy5fanNvblZhbHVlXHJcbiAgICAgICAgLmF0KEZyZXF1ZXN0Tm9kZS5GcmVxdWVzdE5vZGVfTW90aW9ucylcclxuICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhncm91cE5hbWUpXHJcbiAgICAgICAgLmdldFZhbHVlQnlJbmRleChpbmRleClcclxuICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhGYWRlT3V0VGltZSlcclxuICAgICAgICAudG9GbG9hdCgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog44Om44O844K244O844OH44O844K/44Gu44OV44Kh44Kk44Or5ZCN44KS5Y+W5b6X44GZ44KLXHJcbiAgICAgKiBAcmV0dXJuIOODpuODvOOCtuODvOODh+ODvOOCv+OBruODleOCoeOCpOODq+WQjVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2V0VXNlckRhdGFGaWxlKCk6IHN0cmluZyB7XHJcbiAgICAgIGlmICghdGhpcy5pc0V4aXN0VXNlckRhdGFGaWxlKCkpIHtcclxuICAgICAgICByZXR1cm4gJyc7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiB0aGlzLl9qc29uXHJcbiAgICAgICAgLmdldFJvb3QoKVxyXG4gICAgICAgIC5nZXRWYWx1ZUJ5U3RyaW5nKEZpbGVSZWZlcmVuY2VzKVxyXG4gICAgICAgIC5nZXRWYWx1ZUJ5U3RyaW5nKFVzZXJEYXRhKVxyXG4gICAgICAgIC5nZXRSYXdTdHJpbmcoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOODrOOCpOOCouOCpuODiOaDheWgseOCkuWPluW+l+OBmeOCi1xyXG4gICAgICogQHBhcmFtIG91dExheW91dE1hcCBjc21NYXDjgq/jg6njgrnjga7jgqTjg7Pjgrnjgr/jg7PjgrlcclxuICAgICAqIEByZXR1cm4gdHJ1ZSDjg6zjgqTjgqLjgqbjg4jmg4XloLHjgYzlrZjlnKjjgZnjgotcclxuICAgICAqIEByZXR1cm4gZmFsc2Ug44Os44Kk44Ki44Km44OI5oOF5aCx44GM5a2Y5Zyo44GX44Gq44GEXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXRMYXlvdXRNYXAob3V0TGF5b3V0TWFwOiBjc21NYXA8c3RyaW5nLCBudW1iZXI+KTogYm9vbGVhbiB7XHJcbiAgICAgIC8vIOWtmOWcqOOBl+OBquOBhOimgee0oOOBq+OCouOCr+OCu+OCueOBmeOCi+OBqOOCqOODqeODvOOBq+OBquOCi+OBn+OCgVZhbHVl44GMbnVsbOOBruWgtOWQiOOBr251bGzjgpLku6PlhaXjgZnjgotcclxuICAgICAgY29uc3QgbWFwOiBjc21NYXA8c3RyaW5nLCBWYWx1ZT4gPSB0aGlzLl9qc29uXHJcbiAgICAgICAgLmdldFJvb3QoKVxyXG4gICAgICAgIC5nZXRWYWx1ZUJ5U3RyaW5nKExheW91dClcclxuICAgICAgICAuZ2V0TWFwKCk7XHJcblxyXG4gICAgICBpZiAobWFwID09IG51bGwpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGxldCByZXQgPSBmYWxzZTtcclxuXHJcbiAgICAgIGZvciAoXHJcbiAgICAgICAgY29uc3QgaXRlOiBpdGVyYXRvcjxzdHJpbmcsIFZhbHVlPiA9IG1hcC5iZWdpbigpO1xyXG4gICAgICAgIGl0ZS5ub3RFcXVhbChtYXAuZW5kKCkpO1xyXG4gICAgICAgIGl0ZS5wcmVJbmNyZW1lbnQoKVxyXG4gICAgICApIHtcclxuICAgICAgICBvdXRMYXlvdXRNYXAuc2V0VmFsdWUoaXRlLnB0cigpLmZpcnN0LCBpdGUucHRyKCkuc2Vjb25kLnRvRmxvYXQoKSk7XHJcbiAgICAgICAgcmV0ID0gdHJ1ZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIHJldDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOebruODkeODgeOBq+mWoumAo+S7mOOBkeOCieOCjOOBn+ODkeODqeODoeODvOOCv+OBruaVsOOCkuWPluW+l+OBmeOCi1xyXG4gICAgICogQHJldHVybiDnm67jg5Hjg4HjgavplqLpgKPku5jjgZHjgonjgozjgZ/jg5Hjg6njg6Hjg7zjgr/jga7mlbBcclxuICAgICAqL1xyXG4gICAgcHVibGljIGdldEV5ZUJsaW5rUGFyYW1ldGVyQ291bnQoKTogbnVtYmVyIHtcclxuICAgICAgaWYgKCF0aGlzLmlzRXhpc3RFeWVCbGlua1BhcmFtZXRlcnMoKSkge1xyXG4gICAgICAgIHJldHVybiAwO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBsZXQgbnVtID0gMDtcclxuICAgICAgZm9yIChcclxuICAgICAgICBsZXQgaSA9IDA7XHJcbiAgICAgICAgaSA8IHRoaXMuX2pzb25WYWx1ZS5hdChGcmVxdWVzdE5vZGUuRnJlcXVlc3ROb2RlX0dyb3VwcykuZ2V0U2l6ZSgpO1xyXG4gICAgICAgIGkrK1xyXG4gICAgICApIHtcclxuICAgICAgICBjb25zdCByZWZJOiBWYWx1ZSA9IHRoaXMuX2pzb25WYWx1ZVxyXG4gICAgICAgICAgLmF0KEZyZXF1ZXN0Tm9kZS5GcmVxdWVzdE5vZGVfR3JvdXBzKVxyXG4gICAgICAgICAgLmdldFZhbHVlQnlJbmRleChpKTtcclxuICAgICAgICBpZiAocmVmSS5pc051bGwoKSB8fCByZWZJLmlzRXJyb3IoKSkge1xyXG4gICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAocmVmSS5nZXRWYWx1ZUJ5U3RyaW5nKE5hbWUpLmdldFJhd1N0cmluZygpID09IEV5ZUJsaW5rKSB7XHJcbiAgICAgICAgICBudW0gPSByZWZJXHJcbiAgICAgICAgICAgIC5nZXRWYWx1ZUJ5U3RyaW5nKElkcylcclxuICAgICAgICAgICAgLmdldFZlY3RvcigpXHJcbiAgICAgICAgICAgIC5nZXRTaXplKCk7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiBudW07XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDnm67jg5Hjg4HjgavplqLpgKPku5jjgZHjgonjgozjgZ/jg5Hjg6njg6Hjg7zjgr/jga5JROOCkuWPluW+l+OBmeOCi1xyXG4gICAgICogQHBhcmFtIGluZGV4IOmFjeWIl+OBruOCpOODs+ODh+ODg+OCr+OCueWApFxyXG4gICAgICogQHJldHVybiDjg5Hjg6njg6Hjg7zjgr9JRFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2V0RXllQmxpbmtQYXJhbWV0ZXJJZChpbmRleDogbnVtYmVyKTogQ3ViaXNtSWRIYW5kbGUge1xyXG4gICAgICBpZiAoIXRoaXMuaXNFeGlzdEV5ZUJsaW5rUGFyYW1ldGVycygpKSB7XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGZvciAoXHJcbiAgICAgICAgbGV0IGkgPSAwO1xyXG4gICAgICAgIGkgPCB0aGlzLl9qc29uVmFsdWUuYXQoRnJlcXVlc3ROb2RlLkZyZXF1ZXN0Tm9kZV9Hcm91cHMpLmdldFNpemUoKTtcclxuICAgICAgICBpKytcclxuICAgICAgKSB7XHJcbiAgICAgICAgY29uc3QgcmVmSTogVmFsdWUgPSB0aGlzLl9qc29uVmFsdWVcclxuICAgICAgICAgIC5hdChGcmVxdWVzdE5vZGUuRnJlcXVlc3ROb2RlX0dyb3VwcylcclxuICAgICAgICAgIC5nZXRWYWx1ZUJ5SW5kZXgoaSk7XHJcbiAgICAgICAgaWYgKHJlZkkuaXNOdWxsKCkgfHwgcmVmSS5pc0Vycm9yKCkpIHtcclxuICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHJlZkkuZ2V0VmFsdWVCeVN0cmluZyhOYW1lKS5nZXRSYXdTdHJpbmcoKSA9PSBFeWVCbGluaykge1xyXG4gICAgICAgICAgcmV0dXJuIEN1YmlzbUZyYW1ld29yay5nZXRJZE1hbmFnZXIoKS5nZXRJZChcclxuICAgICAgICAgICAgcmVmSVxyXG4gICAgICAgICAgICAgIC5nZXRWYWx1ZUJ5U3RyaW5nKElkcylcclxuICAgICAgICAgICAgICAuZ2V0VmFsdWVCeUluZGV4KGluZGV4KVxyXG4gICAgICAgICAgICAgIC5nZXRSYXdTdHJpbmcoKVxyXG4gICAgICAgICAgKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDjg6rjg4Pjg5fjgrfjg7Pjgq/jgavplqLpgKPku5jjgZHjgonjgozjgZ/jg5Hjg6njg6Hjg7zjgr/jga7mlbDjgpLlj5blvpfjgZnjgotcclxuICAgICAqIEByZXR1cm4g44Oq44OD44OX44K344Oz44Kv44Gr6Zai6YCj5LuY44GR44KJ44KM44Gf44OR44Op44Oh44O844K/44Gu5pWwXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXRMaXBTeW5jUGFyYW1ldGVyQ291bnQoKTogbnVtYmVyIHtcclxuICAgICAgaWYgKCF0aGlzLmlzRXhpc3RMaXBTeW5jUGFyYW1ldGVycygpKSB7XHJcbiAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGxldCBudW0gPSAwO1xyXG4gICAgICBmb3IgKFxyXG4gICAgICAgIGxldCBpID0gMDtcclxuICAgICAgICBpIDwgdGhpcy5fanNvblZhbHVlLmF0KEZyZXF1ZXN0Tm9kZS5GcmVxdWVzdE5vZGVfR3JvdXBzKS5nZXRTaXplKCk7XHJcbiAgICAgICAgaSsrXHJcbiAgICAgICkge1xyXG4gICAgICAgIGNvbnN0IHJlZkk6IFZhbHVlID0gdGhpcy5fanNvblZhbHVlXHJcbiAgICAgICAgICAuYXQoRnJlcXVlc3ROb2RlLkZyZXF1ZXN0Tm9kZV9Hcm91cHMpXHJcbiAgICAgICAgICAuZ2V0VmFsdWVCeUluZGV4KGkpO1xyXG4gICAgICAgIGlmIChyZWZJLmlzTnVsbCgpIHx8IHJlZkkuaXNFcnJvcigpKSB7XHJcbiAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChyZWZJLmdldFZhbHVlQnlTdHJpbmcoTmFtZSkuZ2V0UmF3U3RyaW5nKCkgPT0gTGlwU3luYykge1xyXG4gICAgICAgICAgbnVtID0gcmVmSVxyXG4gICAgICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhJZHMpXHJcbiAgICAgICAgICAgIC5nZXRWZWN0b3IoKVxyXG4gICAgICAgICAgICAuZ2V0U2l6ZSgpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gbnVtO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog44Oq44OD44OX44K344Oz44Kv44Gr6Zai6YCj5LuY44GR44KJ44KM44Gf44OR44Op44Oh44O844K/44Gu5pWw44KS5Y+W5b6X44GZ44KLXHJcbiAgICAgKiBAcGFyYW0gaW5kZXgg6YWN5YiX44Gu44Kk44Oz44OH44OD44Kv44K55YCkXHJcbiAgICAgKiBAcmV0dXJuIOODkeODqeODoeODvOOCv0lEXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXRMaXBTeW5jUGFyYW1ldGVySWQoaW5kZXg6IG51bWJlcik6IEN1YmlzbUlkSGFuZGxlIHtcclxuICAgICAgaWYgKCF0aGlzLmlzRXhpc3RMaXBTeW5jUGFyYW1ldGVycygpKSB7XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGZvciAoXHJcbiAgICAgICAgbGV0IGkgPSAwO1xyXG4gICAgICAgIGkgPCB0aGlzLl9qc29uVmFsdWUuYXQoRnJlcXVlc3ROb2RlLkZyZXF1ZXN0Tm9kZV9Hcm91cHMpLmdldFNpemUoKTtcclxuICAgICAgICBpKytcclxuICAgICAgKSB7XHJcbiAgICAgICAgY29uc3QgcmVmSTogVmFsdWUgPSB0aGlzLl9qc29uVmFsdWVcclxuICAgICAgICAgIC5hdChGcmVxdWVzdE5vZGUuRnJlcXVlc3ROb2RlX0dyb3VwcylcclxuICAgICAgICAgIC5nZXRWYWx1ZUJ5SW5kZXgoaSk7XHJcbiAgICAgICAgaWYgKHJlZkkuaXNOdWxsKCkgfHwgcmVmSS5pc0Vycm9yKCkpIHtcclxuICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHJlZkkuZ2V0VmFsdWVCeVN0cmluZyhOYW1lKS5nZXRSYXdTdHJpbmcoKSA9PSBMaXBTeW5jKSB7XHJcbiAgICAgICAgICByZXR1cm4gQ3ViaXNtRnJhbWV3b3JrLmdldElkTWFuYWdlcigpLmdldElkKFxyXG4gICAgICAgICAgICByZWZJXHJcbiAgICAgICAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoSWRzKVxyXG4gICAgICAgICAgICAgIC5nZXRWYWx1ZUJ5SW5kZXgoaW5kZXgpXHJcbiAgICAgICAgICAgICAgLmdldFJhd1N0cmluZygpXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOODouODh+ODq+ODleOCoeOCpOODq+OBruOCreODvOOBjOWtmOWcqOOBmeOCi+OBi+OBqeOBhuOBi+OCkueiuuiqjeOBmeOCi1xyXG4gICAgICogQHJldHVybiB0cnVlIOOCreODvOOBjOWtmOWcqOOBmeOCi1xyXG4gICAgICogQHJldHVybiBmYWxzZSDjgq3jg7zjgYzlrZjlnKjjgZfjgarjgYRcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBpc0V4aXN0TW9kZWxGaWxlKCk6IGJvb2xlYW4ge1xyXG4gICAgICBjb25zdCBub2RlOiBWYWx1ZSA9IHRoaXMuX2pzb25WYWx1ZS5hdChGcmVxdWVzdE5vZGUuRnJlcXVlc3ROb2RlX01vYyk7XHJcbiAgICAgIHJldHVybiAhbm9kZS5pc051bGwoKSAmJiAhbm9kZS5pc0Vycm9yKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDjg4bjgq/jgrnjg4Hjg6Pjg5XjgqHjgqTjg6vjga7jgq3jg7zjgYzlrZjlnKjjgZnjgovjgYvjganjgYbjgYvjgpLnorroqo3jgZnjgotcclxuICAgICAqIEByZXR1cm4gdHJ1ZSDjgq3jg7zjgYzlrZjlnKjjgZnjgotcclxuICAgICAqIEByZXR1cm4gZmFsc2Ug44Kt44O844GM5a2Y5Zyo44GX44Gq44GEXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgaXNFeGlzdFRleHR1cmVGaWxlcygpOiBib29sZWFuIHtcclxuICAgICAgY29uc3Qgbm9kZTogVmFsdWUgPSB0aGlzLl9qc29uVmFsdWUuYXQoXHJcbiAgICAgICAgRnJlcXVlc3ROb2RlLkZyZXF1ZXN0Tm9kZV9UZXh0dXJlc1xyXG4gICAgICApO1xyXG4gICAgICByZXR1cm4gIW5vZGUuaXNOdWxsKCkgJiYgIW5vZGUuaXNFcnJvcigpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5b2T44Gf44KK5Yik5a6a44Gu44Kt44O844GM5a2Y5Zyo44GZ44KL44GL44Gp44GG44GL44KS56K66KqN44GZ44KLXHJcbiAgICAgKiBAcmV0dXJuIHRydWUg44Kt44O844GM5a2Y5Zyo44GZ44KLXHJcbiAgICAgKiBAcmV0dXJuIGZhbHNlIOOCreODvOOBjOWtmOWcqOOBl+OBquOBhFxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGlzRXhpc3RIaXRBcmVhcygpOiBib29sZWFuIHtcclxuICAgICAgY29uc3Qgbm9kZTogVmFsdWUgPSB0aGlzLl9qc29uVmFsdWUuYXQoXHJcbiAgICAgICAgRnJlcXVlc3ROb2RlLkZyZXF1ZXN0Tm9kZV9IaXRBcmVhc1xyXG4gICAgICApO1xyXG4gICAgICByZXR1cm4gIW5vZGUuaXNOdWxsKCkgJiYgIW5vZGUuaXNFcnJvcigpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog54mp55CG5ryU566X44OV44Kh44Kk44Or44Gu44Kt44O844GM5a2Y5Zyo44GZ44KL44GL44Gp44GG44GL44KS56K66KqN44GZ44KLXHJcbiAgICAgKiBAcmV0dXJuIHRydWUg44Kt44O844GM5a2Y5Zyo44GZ44KLXHJcbiAgICAgKiBAcmV0dXJuIGZhbHNlIOOCreODvOOBjOWtmOWcqOOBl+OBquOBhFxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGlzRXhpc3RQaHlzaWNzRmlsZSgpOiBib29sZWFuIHtcclxuICAgICAgY29uc3Qgbm9kZTogVmFsdWUgPSB0aGlzLl9qc29uVmFsdWUuYXQoRnJlcXVlc3ROb2RlLkZyZXF1ZXN0Tm9kZV9QaHlzaWNzKTtcclxuICAgICAgcmV0dXJuICFub2RlLmlzTnVsbCgpICYmICFub2RlLmlzRXJyb3IoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOODneODvOOCuuioreWumuODleOCoeOCpOODq+OBruOCreODvOOBjOWtmOWcqOOBmeOCi+OBi+OBqeOBhuOBi+OCkueiuuiqjeOBmeOCi1xyXG4gICAgICogQHJldHVybiB0cnVlIOOCreODvOOBjOWtmOWcqOOBmeOCi1xyXG4gICAgICogQHJldHVybiBmYWxzZSDjgq3jg7zjgYzlrZjlnKjjgZfjgarjgYRcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBpc0V4aXN0UG9zZUZpbGUoKTogYm9vbGVhbiB7XHJcbiAgICAgIGNvbnN0IG5vZGU6IFZhbHVlID0gdGhpcy5fanNvblZhbHVlLmF0KEZyZXF1ZXN0Tm9kZS5GcmVxdWVzdE5vZGVfUG9zZSk7XHJcbiAgICAgIHJldHVybiAhbm9kZS5pc051bGwoKSAmJiAhbm9kZS5pc0Vycm9yKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDooajmg4XoqK3lrprjg5XjgqHjgqTjg6vjga7jgq3jg7zjgYzlrZjlnKjjgZnjgovjgYvjganjgYbjgYvjgpLnorroqo3jgZnjgotcclxuICAgICAqIEByZXR1cm4gdHJ1ZSDjgq3jg7zjgYzlrZjlnKjjgZnjgotcclxuICAgICAqIEByZXR1cm4gZmFsc2Ug44Kt44O844GM5a2Y5Zyo44GX44Gq44GEXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgaXNFeGlzdEV4cHJlc3Npb25GaWxlKCk6IGJvb2xlYW4ge1xyXG4gICAgICBjb25zdCBub2RlOiBWYWx1ZSA9IHRoaXMuX2pzb25WYWx1ZS5hdChcclxuICAgICAgICBGcmVxdWVzdE5vZGUuRnJlcXVlc3ROb2RlX0V4cHJlc3Npb25zXHJcbiAgICAgICk7XHJcbiAgICAgIHJldHVybiAhbm9kZS5pc051bGwoKSAmJiAhbm9kZS5pc0Vycm9yKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDjg6Ljg7zjgrfjg6fjg7PjgrDjg6vjg7zjg5fjga7jgq3jg7zjgYzlrZjlnKjjgZnjgovjgYvjganjgYbjgYvjgpLnorroqo3jgZnjgotcclxuICAgICAqIEByZXR1cm4gdHJ1ZSDjgq3jg7zjgYzlrZjlnKjjgZnjgotcclxuICAgICAqIEByZXR1cm4gZmFsc2Ug44Kt44O844GM5a2Y5Zyo44GX44Gq44GEXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgaXNFeGlzdE1vdGlvbkdyb3VwcygpOiBib29sZWFuIHtcclxuICAgICAgY29uc3Qgbm9kZTogVmFsdWUgPSB0aGlzLl9qc29uVmFsdWUuYXQoRnJlcXVlc3ROb2RlLkZyZXF1ZXN0Tm9kZV9Nb3Rpb25zKTtcclxuICAgICAgcmV0dXJuICFub2RlLmlzTnVsbCgpICYmICFub2RlLmlzRXJyb3IoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOW8leaVsOOBp+aMh+WumuOBl+OBn+ODouODvOOCt+ODp+ODs+OCsOODq+ODvOODl+OBruOCreODvOOBjOWtmOWcqOOBmeOCi+OBi+OBqeOBhuOBi+OCkueiuuiqjeOBmeOCi1xyXG4gICAgICogQHBhcmFtIGdyb3VwTmFtZSAg44Kw44Or44O844OX5ZCNXHJcbiAgICAgKiBAcmV0dXJuIHRydWUg44Kt44O844GM5a2Y5Zyo44GZ44KLXHJcbiAgICAgKiBAcmV0dXJuIGZhbHNlIOOCreODvOOBjOWtmOWcqOOBl+OBquOBhFxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGlzRXhpc3RNb3Rpb25Hcm91cE5hbWUoZ3JvdXBOYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcclxuICAgICAgY29uc3Qgbm9kZTogVmFsdWUgPSB0aGlzLl9qc29uVmFsdWVcclxuICAgICAgICAuYXQoRnJlcXVlc3ROb2RlLkZyZXF1ZXN0Tm9kZV9Nb3Rpb25zKVxyXG4gICAgICAgIC5nZXRWYWx1ZUJ5U3RyaW5nKGdyb3VwTmFtZSk7XHJcbiAgICAgIHJldHVybiAhbm9kZS5pc051bGwoKSAmJiAhbm9kZS5pc0Vycm9yKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDlvJXmlbDjgafmjIflrprjgZfjgZ/jg6Ljg7zjgrfjg6fjg7Pjgavlr77lv5zjgZnjgovjgrXjgqbjg7Pjg4njg5XjgqHjgqTjg6vjga7jgq3jg7zjgYzlrZjlnKjjgZnjgovjgYvjganjgYbjgYvjgpLnorroqo3jgZnjgotcclxuICAgICAqIEBwYXJhbSBncm91cE5hbWUgIOOCsOODq+ODvOODl+WQjVxyXG4gICAgICogQHBhcmFtIGluZGV4IOmFjeWIl+OBruOCpOODs+ODh+ODg+OCr+OCueWApFxyXG4gICAgICogQHJldHVybiB0cnVlIOOCreODvOOBjOWtmOWcqOOBmeOCi1xyXG4gICAgICogQHJldHVybiBmYWxzZSDjgq3jg7zjgYzlrZjlnKjjgZfjgarjgYRcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBpc0V4aXN0TW90aW9uU291bmRGaWxlKGdyb3VwTmFtZTogc3RyaW5nLCBpbmRleDogbnVtYmVyKTogYm9vbGVhbiB7XHJcbiAgICAgIGNvbnN0IG5vZGU6IFZhbHVlID0gdGhpcy5fanNvblZhbHVlXHJcbiAgICAgICAgLmF0KEZyZXF1ZXN0Tm9kZS5GcmVxdWVzdE5vZGVfTW90aW9ucylcclxuICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhncm91cE5hbWUpXHJcbiAgICAgICAgLmdldFZhbHVlQnlJbmRleChpbmRleClcclxuICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhTb3VuZFBhdGgpO1xyXG4gICAgICByZXR1cm4gIW5vZGUuaXNOdWxsKCkgJiYgIW5vZGUuaXNFcnJvcigpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5byV5pWw44Gn5oyH5a6a44GX44Gf44Oi44O844K344On44Oz44Gr5a++5b+c44GZ44KL44OV44Kn44O844OJ44Kk44Oz5pmC6ZaT44Gu44Kt44O844GM5a2Y5Zyo44GZ44KL44GL44Gp44GG44GL44KS56K66KqN44GZ44KLXHJcbiAgICAgKiBAcGFyYW0gZ3JvdXBOYW1lICDjgrDjg6vjg7zjg5flkI1cclxuICAgICAqIEBwYXJhbSBpbmRleCDphY3liJfjga7jgqTjg7Pjg4fjg4Pjgq/jgrnlgKRcclxuICAgICAqIEByZXR1cm4gdHJ1ZSDjgq3jg7zjgYzlrZjlnKjjgZnjgotcclxuICAgICAqIEByZXR1cm4gZmFsc2Ug44Kt44O844GM5a2Y5Zyo44GX44Gq44GEXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgaXNFeGlzdE1vdGlvbkZhZGVJbihncm91cE5hbWU6IHN0cmluZywgaW5kZXg6IG51bWJlcik6IGJvb2xlYW4ge1xyXG4gICAgICBjb25zdCBub2RlOiBWYWx1ZSA9IHRoaXMuX2pzb25WYWx1ZVxyXG4gICAgICAgIC5hdChGcmVxdWVzdE5vZGUuRnJlcXVlc3ROb2RlX01vdGlvbnMpXHJcbiAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoZ3JvdXBOYW1lKVxyXG4gICAgICAgIC5nZXRWYWx1ZUJ5SW5kZXgoaW5kZXgpXHJcbiAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoRmFkZUluVGltZSk7XHJcbiAgICAgIHJldHVybiAhbm9kZS5pc051bGwoKSAmJiAhbm9kZS5pc0Vycm9yKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDlvJXmlbDjgafmjIflrprjgZfjgZ/jg6Ljg7zjgrfjg6fjg7Pjgavlr77lv5zjgZnjgovjg5Xjgqfjg7zjg4njgqLjgqbjg4jmmYLplpPjga7jgq3jg7zjgYzlrZjlnKjjgZnjgovjgYvjganjgYbjgYvjgpLnorroqo3jgZnjgotcclxuICAgICAqIEBwYXJhbSBncm91cE5hbWUgIOOCsOODq+ODvOODl+WQjVxyXG4gICAgICogQHBhcmFtIGluZGV4IOmFjeWIl+OBruOCpOODs+ODh+ODg+OCr+OCueWApFxyXG4gICAgICogQHJldHVybiB0cnVlIOOCreODvOOBjOWtmOWcqOOBmeOCi1xyXG4gICAgICogQHJldHVybiBmYWxzZSDjgq3jg7zjgYzlrZjlnKjjgZfjgarjgYRcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBpc0V4aXN0TW90aW9uRmFkZU91dChncm91cE5hbWU6IHN0cmluZywgaW5kZXg6IG51bWJlcik6IGJvb2xlYW4ge1xyXG4gICAgICBjb25zdCBub2RlOiBWYWx1ZSA9IHRoaXMuX2pzb25WYWx1ZVxyXG4gICAgICAgIC5hdChGcmVxdWVzdE5vZGUuRnJlcXVlc3ROb2RlX01vdGlvbnMpXHJcbiAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoZ3JvdXBOYW1lKVxyXG4gICAgICAgIC5nZXRWYWx1ZUJ5SW5kZXgoaW5kZXgpXHJcbiAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoRmFkZU91dFRpbWUpO1xyXG4gICAgICByZXR1cm4gIW5vZGUuaXNOdWxsKCkgJiYgIW5vZGUuaXNFcnJvcigpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogVXNlckRhdGHjga7jg5XjgqHjgqTjg6vlkI3jgYzlrZjlnKjjgZnjgovjgYvjganjgYbjgYvjgpLnorroqo3jgZnjgotcclxuICAgICAqIEByZXR1cm4gdHJ1ZSDjgq3jg7zjgYzlrZjlnKjjgZnjgotcclxuICAgICAqIEByZXR1cm4gZmFsc2Ug44Kt44O844GM5a2Y5Zyo44GX44Gq44GEXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgaXNFeGlzdFVzZXJEYXRhRmlsZSgpOiBib29sZWFuIHtcclxuICAgICAgY29uc3Qgbm9kZTogVmFsdWUgPSB0aGlzLl9qc29uXHJcbiAgICAgICAgLmdldFJvb3QoKVxyXG4gICAgICAgIC5nZXRWYWx1ZUJ5U3RyaW5nKEZpbGVSZWZlcmVuY2VzKVxyXG4gICAgICAgIC5nZXRWYWx1ZUJ5U3RyaW5nKFVzZXJEYXRhKTtcclxuICAgICAgcmV0dXJuICFub2RlLmlzTnVsbCgpICYmICFub2RlLmlzRXJyb3IoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOebruOBseOBoeOBq+WvvuW/nOS7mOOBkeOCieOCjOOBn+ODkeODqeODoeODvOOCv+OBjOWtmOWcqOOBmeOCi+OBi+OBqeOBhuOBi+OCkueiuuiqjeOBmeOCi1xyXG4gICAgICogQHJldHVybiB0cnVlIOOCreODvOOBjOWtmOWcqOOBmeOCi1xyXG4gICAgICogQHJldHVybiBmYWxzZSDjgq3jg7zjgYzlrZjlnKjjgZfjgarjgYRcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBpc0V4aXN0RXllQmxpbmtQYXJhbWV0ZXJzKCk6IGJvb2xlYW4ge1xyXG4gICAgICBpZiAoXHJcbiAgICAgICAgdGhpcy5fanNvblZhbHVlLmF0KEZyZXF1ZXN0Tm9kZS5GcmVxdWVzdE5vZGVfR3JvdXBzKS5pc051bGwoKSB8fFxyXG4gICAgICAgIHRoaXMuX2pzb25WYWx1ZS5hdChGcmVxdWVzdE5vZGUuRnJlcXVlc3ROb2RlX0dyb3VwcykuaXNFcnJvcigpXHJcbiAgICAgICkge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgZm9yIChcclxuICAgICAgICBsZXQgaSA9IDA7XHJcbiAgICAgICAgaSA8IHRoaXMuX2pzb25WYWx1ZS5hdChGcmVxdWVzdE5vZGUuRnJlcXVlc3ROb2RlX0dyb3VwcykuZ2V0U2l6ZSgpO1xyXG4gICAgICAgICsraVxyXG4gICAgICApIHtcclxuICAgICAgICBpZiAoXHJcbiAgICAgICAgICB0aGlzLl9qc29uVmFsdWVcclxuICAgICAgICAgICAgLmF0KEZyZXF1ZXN0Tm9kZS5GcmVxdWVzdE5vZGVfR3JvdXBzKVxyXG4gICAgICAgICAgICAuZ2V0VmFsdWVCeUluZGV4KGkpXHJcbiAgICAgICAgICAgIC5nZXRWYWx1ZUJ5U3RyaW5nKE5hbWUpXHJcbiAgICAgICAgICAgIC5nZXRSYXdTdHJpbmcoKSA9PSBFeWVCbGlua1xyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDjg6rjg4Pjg5fjgrfjg7Pjgq/jgavlr77lv5zku5jjgZHjgonjgozjgZ/jg5Hjg6njg6Hjg7zjgr/jgYzlrZjlnKjjgZnjgovjgYvjganjgYbjgYvjgpLnorroqo3jgZnjgotcclxuICAgICAqIEByZXR1cm4gdHJ1ZSDjgq3jg7zjgYzlrZjlnKjjgZnjgotcclxuICAgICAqIEByZXR1cm4gZmFsc2Ug44Kt44O844GM5a2Y5Zyo44GX44Gq44GEXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgaXNFeGlzdExpcFN5bmNQYXJhbWV0ZXJzKCk6IGJvb2xlYW4ge1xyXG4gICAgICBpZiAoXHJcbiAgICAgICAgdGhpcy5fanNvblZhbHVlLmF0KEZyZXF1ZXN0Tm9kZS5GcmVxdWVzdE5vZGVfR3JvdXBzKS5pc051bGwoKSB8fFxyXG4gICAgICAgIHRoaXMuX2pzb25WYWx1ZS5hdChGcmVxdWVzdE5vZGUuRnJlcXVlc3ROb2RlX0dyb3VwcykuaXNFcnJvcigpXHJcbiAgICAgICkge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgICBmb3IgKFxyXG4gICAgICAgIGxldCBpID0gMDtcclxuICAgICAgICBpIDwgdGhpcy5fanNvblZhbHVlLmF0KEZyZXF1ZXN0Tm9kZS5GcmVxdWVzdE5vZGVfR3JvdXBzKS5nZXRTaXplKCk7XHJcbiAgICAgICAgKytpXHJcbiAgICAgICkge1xyXG4gICAgICAgIGlmIChcclxuICAgICAgICAgIHRoaXMuX2pzb25WYWx1ZVxyXG4gICAgICAgICAgICAuYXQoRnJlcXVlc3ROb2RlLkZyZXF1ZXN0Tm9kZV9Hcm91cHMpXHJcbiAgICAgICAgICAgIC5nZXRWYWx1ZUJ5SW5kZXgoaSlcclxuICAgICAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoTmFtZSlcclxuICAgICAgICAgICAgLmdldFJhd1N0cmluZygpID09IExpcFN5bmNcclxuICAgICAgICApIHtcclxuICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBfanNvbjogQ3ViaXNtSnNvbjtcclxuICAgIHByaXZhdGUgX2pzb25WYWx1ZTogY3NtVmVjdG9yPFZhbHVlPjtcclxuICB9XHJcbn1cclxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBT0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUdBO0FBRUE7QUFFQTtBQUVBO0FBQUE7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBQUE7QUFPQTtBQUFBO0FBRUE7QUFFQTtBQUNBO0FBR0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUdBOztBQUNBO0FBS0E7QUFDQTtBQUVBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBUUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBS0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBT0E7QUFDQTtBQUdBO0FBQ0E7QUFPQTtBQUNBO0FBR0E7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBR0E7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBU0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFTQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFLQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQU9BO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUtBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFBQTtBQS91QkE7QUFndkJBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./Framework/src/cubismmodelsettingjson.ts\n");

/***/ }),

/***/ "./Framework/src/effect/cubismbreath.ts":
/*!**********************************************!*\
  !*** ./Framework/src/effect/cubismbreath.ts ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Live2DCubismFramework = void 0;\r\nvar Live2DCubismFramework;\r\n(function (Live2DCubismFramework) {\r\n    var CubismBreath = (function () {\r\n        function CubismBreath() {\r\n            this._currentTime = 0.0;\r\n        }\r\n        CubismBreath.create = function () {\r\n            return new CubismBreath();\r\n        };\r\n        CubismBreath.delete = function (instance) {\r\n            if (instance != null) {\r\n                instance = null;\r\n            }\r\n        };\r\n        CubismBreath.prototype.setParameters = function (breathParameters) {\r\n            this._breathParameters = breathParameters;\r\n        };\r\n        CubismBreath.prototype.getParameters = function () {\r\n            return this._breathParameters;\r\n        };\r\n        CubismBreath.prototype.updateParameters = function (model, deltaTimeSeconds) {\r\n            this._currentTime += deltaTimeSeconds;\r\n            var t = this._currentTime * 2.0 * 3.14159;\r\n            for (var i = 0; i < this._breathParameters.getSize(); ++i) {\r\n                var data = this._breathParameters.at(i);\r\n                model.addParameterValueById(data.parameterId, data.offset + data.peak * Math.sin(t / data.cycle), data.weight);\r\n            }\r\n        };\r\n        return CubismBreath;\r\n    }());\r\n    Live2DCubismFramework.CubismBreath = CubismBreath;\r\n    var BreathParameterData = (function () {\r\n        function BreathParameterData(parameterId, offset, peak, cycle, weight) {\r\n            this.parameterId = parameterId == undefined ? null : parameterId;\r\n            this.offset = offset == undefined ? 0.0 : offset;\r\n            this.peak = peak == undefined ? 0.0 : peak;\r\n            this.cycle = cycle == undefined ? 0.0 : cycle;\r\n            this.weight = weight == undefined ? 0.0 : weight;\r\n        }\r\n        return BreathParameterData;\r\n    }());\r\n    Live2DCubismFramework.BreathParameterData = BreathParameterData;\r\n})(Live2DCubismFramework = exports.Live2DCubismFramework || (exports.Live2DCubismFramework = {}));\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9GcmFtZXdvcmsvc3JjL2VmZmVjdC9jdWJpc21icmVhdGgudHMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9saXZlMmQvLi9GcmFtZXdvcmsvc3JjL2VmZmVjdC9jdWJpc21icmVhdGgudHM/YWRiZCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogQ29weXJpZ2h0KGMpIExpdmUyRCBJbmMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbiAqXHJcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IHRoZSBMaXZlMkQgT3BlbiBTb2Z0d2FyZSBsaWNlbnNlXHJcbiAqIHRoYXQgY2FuIGJlIGZvdW5kIGF0IGh0dHBzOi8vd3d3LmxpdmUyZC5jb20vZXVsYS9saXZlMmQtb3Blbi1zb2Z0d2FyZS1saWNlbnNlLWFncmVlbWVudF9lbi5odG1sLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IExpdmUyREN1YmlzbUZyYW1ld29yayBhcyBjc212ZWN0b3IgfSBmcm9tICcuLi90eXBlL2NzbXZlY3Rvcic7XHJcbmltcG9ydCB7IExpdmUyREN1YmlzbUZyYW1ld29yayBhcyBjdWJpc21tb2RlbCB9IGZyb20gJy4uL21vZGVsL2N1YmlzbW1vZGVsJztcclxuaW1wb3J0IHsgTGl2ZTJEQ3ViaXNtRnJhbWV3b3JrIGFzIGN1YmlzbWlkIH0gZnJvbSAnLi4vaWQvY3ViaXNtaWQnO1xyXG5pbXBvcnQgQ3ViaXNtSWRIYW5kbGUgPSBjdWJpc21pZC5DdWJpc21JZEhhbmRsZTtcclxuaW1wb3J0IEN1YmlzbU1vZGVsID0gY3ViaXNtbW9kZWwuQ3ViaXNtTW9kZWw7XHJcbmltcG9ydCBjc21WZWN0b3IgPSBjc212ZWN0b3IuY3NtVmVjdG9yO1xyXG5cclxuZXhwb3J0IG5hbWVzcGFjZSBMaXZlMkRDdWJpc21GcmFtZXdvcmsge1xyXG4gIC8qKlxyXG4gICAqIOWRvOWQuOapn+iDvVxyXG4gICAqXHJcbiAgICog5ZG85ZC45qmf6IO944KS5o+Q5L6b44GZ44KL44CCXHJcbiAgICovXHJcbiAgZXhwb3J0IGNsYXNzIEN1YmlzbUJyZWF0aCB7XHJcbiAgICAvKipcclxuICAgICAqIOOCpOODs+OCueOCv+ODs+OCueOBruS9nOaIkFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSgpOiBDdWJpc21CcmVhdGgge1xyXG4gICAgICByZXR1cm4gbmV3IEN1YmlzbUJyZWF0aCgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog44Kk44Oz44K544K/44Oz44K544Gu56C05qOEXHJcbiAgICAgKiBAcGFyYW0gaW5zdGFuY2Ug5a++6LGh44GuQ3ViaXNtQnJlYXRoXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzdGF0aWMgZGVsZXRlKGluc3RhbmNlOiBDdWJpc21CcmVhdGgpOiB2b2lkIHtcclxuICAgICAgaWYgKGluc3RhbmNlICE9IG51bGwpIHtcclxuICAgICAgICBpbnN0YW5jZSA9IG51bGw7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOWRvOWQuOOBruODkeODqeODoeODvOOCv+OBrue0kOOBpeOBkVxyXG4gICAgICogQHBhcmFtIGJyZWF0aFBhcmFtZXRlcnMg5ZG85ZC444KS57SQ44Gl44GR44Gf44GE44OR44Op44Oh44O844K/44Gu44Oq44K544OIXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzZXRQYXJhbWV0ZXJzKFxyXG4gICAgICBicmVhdGhQYXJhbWV0ZXJzOiBjc21WZWN0b3I8QnJlYXRoUGFyYW1ldGVyRGF0YT5cclxuICAgICk6IHZvaWQge1xyXG4gICAgICB0aGlzLl9icmVhdGhQYXJhbWV0ZXJzID0gYnJlYXRoUGFyYW1ldGVycztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOWRvOWQuOOBq+e0kOOBpeOBhOOBpuOBhOOCi+ODkeODqeODoeODvOOCv+OBruWPluW+l1xyXG4gICAgICogQHJldHVybiDlkbzlkLjjgavntJDjgaXjgYTjgabjgYTjgovjg5Hjg6njg6Hjg7zjgr/jga7jg6rjgrnjg4hcclxuICAgICAqL1xyXG4gICAgcHVibGljIGdldFBhcmFtZXRlcnMoKTogY3NtVmVjdG9yPEJyZWF0aFBhcmFtZXRlckRhdGE+IHtcclxuICAgICAgcmV0dXJuIHRoaXMuX2JyZWF0aFBhcmFtZXRlcnM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDjg6Ljg4fjg6vjga7jg5Hjg6njg6Hjg7zjgr/jga7mm7TmlrBcclxuICAgICAqIEBwYXJhbSBtb2RlbCDlr77osaHjga7jg6Ljg4fjg6tcclxuICAgICAqIEBwYXJhbSBkZWx0YVRpbWVTZWNvbmRzIOODh+ODq+OCv+aZgumWk1vnp5JdXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyB1cGRhdGVQYXJhbWV0ZXJzKFxyXG4gICAgICBtb2RlbDogQ3ViaXNtTW9kZWwsXHJcbiAgICAgIGRlbHRhVGltZVNlY29uZHM6IG51bWJlclxyXG4gICAgKTogdm9pZCB7XHJcbiAgICAgIHRoaXMuX2N1cnJlbnRUaW1lICs9IGRlbHRhVGltZVNlY29uZHM7XHJcblxyXG4gICAgICBjb25zdCB0OiBudW1iZXIgPSB0aGlzLl9jdXJyZW50VGltZSAqIDIuMCAqIDMuMTQxNTk7XHJcblxyXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX2JyZWF0aFBhcmFtZXRlcnMuZ2V0U2l6ZSgpOyArK2kpIHtcclxuICAgICAgICBjb25zdCBkYXRhOiBCcmVhdGhQYXJhbWV0ZXJEYXRhID0gdGhpcy5fYnJlYXRoUGFyYW1ldGVycy5hdChpKTtcclxuXHJcbiAgICAgICAgbW9kZWwuYWRkUGFyYW1ldGVyVmFsdWVCeUlkKFxyXG4gICAgICAgICAgZGF0YS5wYXJhbWV0ZXJJZCxcclxuICAgICAgICAgIGRhdGEub2Zmc2V0ICsgZGF0YS5wZWFrICogTWF0aC5zaW4odCAvIGRhdGEuY3ljbGUpLFxyXG4gICAgICAgICAgZGF0YS53ZWlnaHRcclxuICAgICAgICApO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDjgrPjg7Pjgrnjg4jjg6njgq/jgr9cclxuICAgICAqL1xyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICB0aGlzLl9jdXJyZW50VGltZSA9IDAuMDtcclxuICAgIH1cclxuXHJcbiAgICBfYnJlYXRoUGFyYW1ldGVyczogY3NtVmVjdG9yPEJyZWF0aFBhcmFtZXRlckRhdGE+OyAvLyDlkbzlkLjjgavjgbLjgoLjgaXjgYTjgabjgYTjgovjg5Hjg6njg6Hjg7zjgr/jga7jg6rjgrnjg4hcclxuICAgIF9jdXJyZW50VGltZTogbnVtYmVyOyAvLyDnqY3nrpfmmYLplpNb56eSXVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog5ZG85ZC444Gu44OR44Op44Oh44O844K/5oOF5aCxXHJcbiAgICovXHJcbiAgZXhwb3J0IGNsYXNzIEJyZWF0aFBhcmFtZXRlckRhdGEge1xyXG4gICAgLyoqXHJcbiAgICAgKiDjgrPjg7Pjgrnjg4jjg6njgq/jgr9cclxuICAgICAqIEBwYXJhbSBwYXJhbWV0ZXJJZCAgIOWRvOWQuOOCkuOBsuOCguOBpeOBkeOCi+ODkeODqeODoeODvOOCv0lEXHJcbiAgICAgKiBAcGFyYW0gb2Zmc2V0ICAgICAgICDlkbzlkLjjgpLmraPlvKbms6LjgajjgZfjgZ/jgajjgY3jga7jgIHms6Ljga7jgqrjg5Xjgrvjg4Pjg4hcclxuICAgICAqIEBwYXJhbSBwZWFrICAgICAgICAgIOWRvOWQuOOCkuato+W8puazouOBqOOBl+OBn+OBqOOBjeOBruOAgeazouOBrumrmOOBlVxyXG4gICAgICogQHBhcmFtIGN5Y2xlICAgICAgICAg5ZG85ZC444KS5q2j5bym5rOi44Go44GX44Gf44Go44GN44Gu44CB5rOi44Gu5ZGo5pyfXHJcbiAgICAgKiBAcGFyYW0gd2VpZ2h0ICAgICAgICDjg5Hjg6njg6Hjg7zjgr/jgbjjga7ph43jgb9cclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IoXHJcbiAgICAgIHBhcmFtZXRlcklkPzogQ3ViaXNtSWRIYW5kbGUsXHJcbiAgICAgIG9mZnNldD86IG51bWJlcixcclxuICAgICAgcGVhaz86IG51bWJlcixcclxuICAgICAgY3ljbGU/OiBudW1iZXIsXHJcbiAgICAgIHdlaWdodD86IG51bWJlclxyXG4gICAgKSB7XHJcbiAgICAgIHRoaXMucGFyYW1ldGVySWQgPSBwYXJhbWV0ZXJJZCA9PSB1bmRlZmluZWQgPyBudWxsIDogcGFyYW1ldGVySWQ7XHJcbiAgICAgIHRoaXMub2Zmc2V0ID0gb2Zmc2V0ID09IHVuZGVmaW5lZCA/IDAuMCA6IG9mZnNldDtcclxuICAgICAgdGhpcy5wZWFrID0gcGVhayA9PSB1bmRlZmluZWQgPyAwLjAgOiBwZWFrO1xyXG4gICAgICB0aGlzLmN5Y2xlID0gY3ljbGUgPT0gdW5kZWZpbmVkID8gMC4wIDogY3ljbGU7XHJcbiAgICAgIHRoaXMud2VpZ2h0ID0gd2VpZ2h0ID09IHVuZGVmaW5lZCA/IDAuMCA6IHdlaWdodDtcclxuICAgIH1cclxuXHJcbiAgICBwYXJhbWV0ZXJJZDogQ3ViaXNtSWRIYW5kbGU7IC8vIOWRvOWQuOOCkuOBsuOCguOBpeOBkeOCi+ODkeODqeODoeODvOOCv0lEXFxcclxuICAgIG9mZnNldDogbnVtYmVyOyAvLyDlkbzlkLjjgpLmraPlvKbms6LjgajjgZfjgZ/jgajjgY3jga7jgIHms6Ljga7jgqrjg5Xjgrvjg4Pjg4hcclxuICAgIHBlYWs6IG51bWJlcjsgLy8g5ZG85ZC444KS5q2j5bym5rOi44Go44GX44Gf44Go44GN44Gu44CB5rOi44Gu6auY44GVXHJcbiAgICBjeWNsZTogbnVtYmVyOyAvLyDlkbzlkLjjgpLmraPlvKbms6LjgajjgZfjgZ/jgajjgY3jga7jgIHms6Ljga7lkajmnJ9cclxuICAgIHdlaWdodDogbnVtYmVyOyAvLyDjg5Hjg6njg6Hjg7zjgr/jgbjjga7ph43jgb9cclxuICB9XHJcbn1cclxuIl0sIm1hcHBpbmdzIjoiOzs7QUFjQTtBQUFBO0FBTUE7QUErREE7QUFDQTtBQUNBO0FBN0RBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUdBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFPQTtBQUlBO0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFLQTtBQUNBO0FBV0E7QUFBQTtBQXJFQTtBQTBFQTtBQVNBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBT0E7QUFBQTtBQTVCQTtBQTZCQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./Framework/src/effect/cubismbreath.ts\n");

/***/ }),

/***/ "./Framework/src/effect/cubismeyeblink.ts":
/*!************************************************!*\
  !*** ./Framework/src/effect/cubismeyeblink.ts ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Live2DCubismFramework = void 0;\r\nvar csmvector_1 = __webpack_require__(/*! ../type/csmvector */ \"./Framework/src/type/csmvector.ts\");\r\nvar csmVector = csmvector_1.Live2DCubismFramework.csmVector;\r\nvar Live2DCubismFramework;\r\n(function (Live2DCubismFramework) {\r\n    var CubismEyeBlink = (function () {\r\n        function CubismEyeBlink(modelSetting) {\r\n            this._blinkingState = EyeState.EyeState_First;\r\n            this._nextBlinkingTime = 0.0;\r\n            this._stateStartTimeSeconds = 0.0;\r\n            this._blinkingIntervalSeconds = 4.0;\r\n            this._closingSeconds = 0.1;\r\n            this._closedSeconds = 0.05;\r\n            this._openingSeconds = 0.15;\r\n            this._userTimeSeconds = 0.0;\r\n            this._parameterIds = new csmVector();\r\n            if (modelSetting == null) {\r\n                return;\r\n            }\r\n            for (var i = 0; i < modelSetting.getEyeBlinkParameterCount(); ++i) {\r\n                this._parameterIds.pushBack(modelSetting.getEyeBlinkParameterId(i));\r\n            }\r\n        }\r\n        CubismEyeBlink.create = function (modelSetting) {\r\n            if (modelSetting === void 0) { modelSetting = null; }\r\n            return new CubismEyeBlink(modelSetting);\r\n        };\r\n        CubismEyeBlink.delete = function (eyeBlink) {\r\n            if (eyeBlink != null) {\r\n                eyeBlink = null;\r\n            }\r\n        };\r\n        CubismEyeBlink.prototype.setBlinkingInterval = function (blinkingInterval) {\r\n            this._blinkingIntervalSeconds = blinkingInterval;\r\n        };\r\n        CubismEyeBlink.prototype.setBlinkingSetting = function (closing, closed, opening) {\r\n            this._closingSeconds = closing;\r\n            this._closedSeconds = closed;\r\n            this._openingSeconds = opening;\r\n        };\r\n        CubismEyeBlink.prototype.setParameterIds = function (parameterIds) {\r\n            this._parameterIds = parameterIds;\r\n        };\r\n        CubismEyeBlink.prototype.getParameterIds = function () {\r\n            return this._parameterIds;\r\n        };\r\n        CubismEyeBlink.prototype.updateParameters = function (model, deltaTimeSeconds) {\r\n            this._userTimeSeconds += deltaTimeSeconds;\r\n            var parameterValue;\r\n            var t = 0.0;\r\n            switch (this._blinkingState) {\r\n                case EyeState.EyeState_Closing:\r\n                    t =\r\n                        (this._userTimeSeconds - this._stateStartTimeSeconds) /\r\n                            this._closingSeconds;\r\n                    if (t >= 1.0) {\r\n                        t = 1.0;\r\n                        this._blinkingState = EyeState.EyeState_Closed;\r\n                        this._stateStartTimeSeconds = this._userTimeSeconds;\r\n                    }\r\n                    parameterValue = 1.0 - t;\r\n                    break;\r\n                case EyeState.EyeState_Closed:\r\n                    t =\r\n                        (this._userTimeSeconds - this._stateStartTimeSeconds) /\r\n                            this._closedSeconds;\r\n                    if (t >= 1.0) {\r\n                        this._blinkingState = EyeState.EyeState_Opening;\r\n                        this._stateStartTimeSeconds = this._userTimeSeconds;\r\n                    }\r\n                    parameterValue = 0.0;\r\n                    break;\r\n                case EyeState.EyeState_Opening:\r\n                    t =\r\n                        (this._userTimeSeconds - this._stateStartTimeSeconds) /\r\n                            this._openingSeconds;\r\n                    if (t >= 1.0) {\r\n                        t = 1.0;\r\n                        this._blinkingState = EyeState.EyeState_Interval;\r\n                        this._nextBlinkingTime = this.determinNextBlinkingTiming();\r\n                    }\r\n                    parameterValue = t;\r\n                    break;\r\n                case EyeState.EyeState_Interval:\r\n                    if (this._nextBlinkingTime < this._userTimeSeconds) {\r\n                        this._blinkingState = EyeState.EyeState_Closing;\r\n                        this._stateStartTimeSeconds = this._userTimeSeconds;\r\n                    }\r\n                    parameterValue = 1.0;\r\n                    break;\r\n                case EyeState.EyeState_First:\r\n                default:\r\n                    this._blinkingState = EyeState.EyeState_Interval;\r\n                    this._nextBlinkingTime = this.determinNextBlinkingTiming();\r\n                    parameterValue = 1.0;\r\n                    break;\r\n            }\r\n            if (!CubismEyeBlink.CloseIfZero) {\r\n                parameterValue = -parameterValue;\r\n            }\r\n            for (var i = 0; i < this._parameterIds.getSize(); ++i) {\r\n                model.setParameterValueById(this._parameterIds.at(i), parameterValue);\r\n            }\r\n        };\r\n        CubismEyeBlink.prototype.determinNextBlinkingTiming = function () {\r\n            var r = Math.random();\r\n            return (this._userTimeSeconds + r * (2.0 * this._blinkingIntervalSeconds - 1.0));\r\n        };\r\n        CubismEyeBlink.CloseIfZero = true;\r\n        return CubismEyeBlink;\r\n    }());\r\n    Live2DCubismFramework.CubismEyeBlink = CubismEyeBlink;\r\n    var EyeState;\r\n    (function (EyeState) {\r\n        EyeState[EyeState[\"EyeState_First\"] = 0] = \"EyeState_First\";\r\n        EyeState[EyeState[\"EyeState_Interval\"] = 1] = \"EyeState_Interval\";\r\n        EyeState[EyeState[\"EyeState_Closing\"] = 2] = \"EyeState_Closing\";\r\n        EyeState[EyeState[\"EyeState_Closed\"] = 3] = \"EyeState_Closed\";\r\n        EyeState[EyeState[\"EyeState_Opening\"] = 4] = \"EyeState_Opening\";\r\n    })(EyeState = Live2DCubismFramework.EyeState || (Live2DCubismFramework.EyeState = {}));\r\n})(Live2DCubismFramework = exports.Live2DCubismFramework || (exports.Live2DCubismFramework = {}));\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9GcmFtZXdvcmsvc3JjL2VmZmVjdC9jdWJpc21leWVibGluay50cy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL2xpdmUyZC8uL0ZyYW1ld29yay9zcmMvZWZmZWN0L2N1YmlzbWV5ZWJsaW5rLnRzP2Q4NjMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIENvcHlyaWdodChjKSBMaXZlMkQgSW5jLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4gKlxyXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSB0aGUgTGl2ZTJEIE9wZW4gU29mdHdhcmUgbGljZW5zZVxyXG4gKiB0aGF0IGNhbiBiZSBmb3VuZCBhdCBodHRwczovL3d3dy5saXZlMmQuY29tL2V1bGEvbGl2ZTJkLW9wZW4tc29mdHdhcmUtbGljZW5zZS1hZ3JlZW1lbnRfZW4uaHRtbC5cclxuICovXHJcblxyXG5pbXBvcnQgeyBMaXZlMkRDdWJpc21GcmFtZXdvcmsgYXMgY3NtdmVjdG9yIH0gZnJvbSAnLi4vdHlwZS9jc212ZWN0b3InO1xyXG5pbXBvcnQgeyBMaXZlMkRDdWJpc21GcmFtZXdvcmsgYXMgaWN1YmlzbW1vZGVsc2V0dGluZyB9IGZyb20gJy4uL2ljdWJpc21tb2RlbHNldHRpbmcnO1xyXG5pbXBvcnQgeyBMaXZlMkRDdWJpc21GcmFtZXdvcmsgYXMgY3ViaXNtaWQgfSBmcm9tICcuLi9pZC9jdWJpc21pZCc7XHJcbmltcG9ydCB7IExpdmUyREN1YmlzbUZyYW1ld29yayBhcyBjdWJpc21tb2RlbCB9IGZyb20gJy4uL21vZGVsL2N1YmlzbW1vZGVsJztcclxuaW1wb3J0IEN1YmlzbU1vZGVsID0gY3ViaXNtbW9kZWwuQ3ViaXNtTW9kZWw7XHJcbmltcG9ydCBDdWJpc21JZEhhbmRsZSA9IGN1YmlzbWlkLkN1YmlzbUlkSGFuZGxlO1xyXG5pbXBvcnQgSUN1YmlzbU1vZGVsU2V0dGluZyA9IGljdWJpc21tb2RlbHNldHRpbmcuSUN1YmlzbU1vZGVsU2V0dGluZztcclxuaW1wb3J0IGNzbVZlY3RvciA9IGNzbXZlY3Rvci5jc21WZWN0b3I7XHJcblxyXG5leHBvcnQgbmFtZXNwYWNlIExpdmUyREN1YmlzbUZyYW1ld29yayB7XHJcbiAgLyoqXHJcbiAgICog6Ieq5YuV44G+44Gw44Gf44GN5qmf6IO9XHJcbiAgICpcclxuICAgKiDoh6rli5Xjgb7jgbDjgZ/jgY3mqZ/og73jgpLmj5DkvpvjgZnjgovjgIJcclxuICAgKi9cclxuICBleHBvcnQgY2xhc3MgQ3ViaXNtRXllQmxpbmsge1xyXG4gICAgLyoqXHJcbiAgICAgKiDjgqTjg7Pjgrnjgr/jg7PjgrnjgpLkvZzmiJDjgZnjgotcclxuICAgICAqIEBwYXJhbSBtb2RlbFNldHRpbmcg44Oi44OH44Or44Gu6Kit5a6a5oOF5aCxXHJcbiAgICAgKiBAcmV0dXJuIOS9nOaIkOOBleOCjOOBn+OCpOODs+OCueOCv+ODs+OCuVxyXG4gICAgICogQG5vdGUg5byV5pWw44GMTlVMTOOBruWgtOWQiOOAgeODkeODqeODoeODvOOCv0lE44GM6Kit5a6a44GV44KM44Gm44GE44Gq44GE56m644Gu44Kk44Oz44K544K/44Oz44K544KS5L2c5oiQ44GZ44KL44CCXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKFxyXG4gICAgICBtb2RlbFNldHRpbmc6IElDdWJpc21Nb2RlbFNldHRpbmcgPSBudWxsXHJcbiAgICApOiBDdWJpc21FeWVCbGluayB7XHJcbiAgICAgIHJldHVybiBuZXcgQ3ViaXNtRXllQmxpbmsobW9kZWxTZXR0aW5nKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOOCpOODs+OCueOCv+ODs+OCueOBruegtOajhFxyXG4gICAgICogQHBhcmFtIGV5ZUJsaW5rIOWvvuixoeOBrkN1YmlzbUV5ZUJsaW5rXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzdGF0aWMgZGVsZXRlKGV5ZUJsaW5rOiBDdWJpc21FeWVCbGluayk6IHZvaWQge1xyXG4gICAgICBpZiAoZXllQmxpbmsgIT0gbnVsbCkge1xyXG4gICAgICAgIGV5ZUJsaW5rID0gbnVsbDtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog44G+44Gw44Gf44GN44Gu6ZaT6ZqU44Gu6Kit5a6aXHJcbiAgICAgKiBAcGFyYW0gYmxpbmtpbmdJbnRlcnZhbCDjgb7jgbDjgZ/jgY3jga7plpPpmpTjga7mmYLplpNb56eSXVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc2V0QmxpbmtpbmdJbnRlcnZhbChibGlua2luZ0ludGVydmFsOiBudW1iZXIpOiB2b2lkIHtcclxuICAgICAgdGhpcy5fYmxpbmtpbmdJbnRlcnZhbFNlY29uZHMgPSBibGlua2luZ0ludGVydmFsO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog44G+44Gw44Gf44GN44Gu44Oi44O844K344On44Oz44Gu6Kmz57Sw6Kit5a6aXHJcbiAgICAgKiBAcGFyYW0gY2xvc2luZyAgIOOBvuOBtuOBn+OCkumWieOBmOOCi+WLleS9nOOBruaJgOimgeaZgumWk1vnp5JdXHJcbiAgICAgKiBAcGFyYW0gY2xvc2VkICAgIOOBvuOBtuOBn+OCkumWieOBmOOBpuOBhOOCi+WLleS9nOOBruaJgOimgeaZgumWk1vnp5JdXHJcbiAgICAgKiBAcGFyYW0gb3BlbmluZyAgIOOBvuOBtuOBn+OCkumWi+OBj+WLleS9nOOBruaJgOimgeaZgumWk1vnp5JdXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzZXRCbGlua2luZ1NldHRpbmcoXHJcbiAgICAgIGNsb3Npbmc6IG51bWJlcixcclxuICAgICAgY2xvc2VkOiBudW1iZXIsXHJcbiAgICAgIG9wZW5pbmc6IG51bWJlclxyXG4gICAgKTogdm9pZCB7XHJcbiAgICAgIHRoaXMuX2Nsb3NpbmdTZWNvbmRzID0gY2xvc2luZztcclxuICAgICAgdGhpcy5fY2xvc2VkU2Vjb25kcyA9IGNsb3NlZDtcclxuICAgICAgdGhpcy5fb3BlbmluZ1NlY29uZHMgPSBvcGVuaW5nO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog44G+44Gw44Gf44GN44GV44Gb44KL44OR44Op44Oh44O844K/SUTjga7jg6rjgrnjg4jjga7oqK3lrppcclxuICAgICAqIEBwYXJhbSBwYXJhbWV0ZXJJZHMg44OR44Op44Oh44O844K/44GuSUTjga7jg6rjgrnjg4hcclxuICAgICAqL1xyXG4gICAgcHVibGljIHNldFBhcmFtZXRlcklkcyhwYXJhbWV0ZXJJZHM6IGNzbVZlY3RvcjxDdWJpc21JZEhhbmRsZT4pOiB2b2lkIHtcclxuICAgICAgdGhpcy5fcGFyYW1ldGVySWRzID0gcGFyYW1ldGVySWRzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog44G+44Gw44Gf44GN44GV44Gb44KL44OR44Op44Oh44O844K/SUTjga7jg6rjgrnjg4jjga7lj5blvpdcclxuICAgICAqIEByZXR1cm4g44OR44Op44Oh44O844K/SUTjga7jg6rjgrnjg4hcclxuICAgICAqL1xyXG4gICAgcHVibGljIGdldFBhcmFtZXRlcklkcygpOiBjc21WZWN0b3I8Q3ViaXNtSWRIYW5kbGU+IHtcclxuICAgICAgcmV0dXJuIHRoaXMuX3BhcmFtZXRlcklkcztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOODouODh+ODq+OBruODkeODqeODoeODvOOCv+OBruabtOaWsFxyXG4gICAgICogQHBhcmFtIG1vZGVsIOWvvuixoeOBruODouODh+ODq1xyXG4gICAgICogQHBhcmFtIGRlbHRhVGltZVNlY29uZHMg44OH44Or44K/5pmC6ZaTW+enkl1cclxuICAgICAqL1xyXG4gICAgcHVibGljIHVwZGF0ZVBhcmFtZXRlcnMoXHJcbiAgICAgIG1vZGVsOiBDdWJpc21Nb2RlbCxcclxuICAgICAgZGVsdGFUaW1lU2Vjb25kczogbnVtYmVyXHJcbiAgICApOiB2b2lkIHtcclxuICAgICAgdGhpcy5fdXNlclRpbWVTZWNvbmRzICs9IGRlbHRhVGltZVNlY29uZHM7XHJcbiAgICAgIGxldCBwYXJhbWV0ZXJWYWx1ZTogbnVtYmVyO1xyXG4gICAgICBsZXQgdCA9IDAuMDtcclxuXHJcbiAgICAgIHN3aXRjaCAodGhpcy5fYmxpbmtpbmdTdGF0ZSkge1xyXG4gICAgICAgIGNhc2UgRXllU3RhdGUuRXllU3RhdGVfQ2xvc2luZzpcclxuICAgICAgICAgIHQgPVxyXG4gICAgICAgICAgICAodGhpcy5fdXNlclRpbWVTZWNvbmRzIC0gdGhpcy5fc3RhdGVTdGFydFRpbWVTZWNvbmRzKSAvXHJcbiAgICAgICAgICAgIHRoaXMuX2Nsb3NpbmdTZWNvbmRzO1xyXG5cclxuICAgICAgICAgIGlmICh0ID49IDEuMCkge1xyXG4gICAgICAgICAgICB0ID0gMS4wO1xyXG4gICAgICAgICAgICB0aGlzLl9ibGlua2luZ1N0YXRlID0gRXllU3RhdGUuRXllU3RhdGVfQ2xvc2VkO1xyXG4gICAgICAgICAgICB0aGlzLl9zdGF0ZVN0YXJ0VGltZVNlY29uZHMgPSB0aGlzLl91c2VyVGltZVNlY29uZHM7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgcGFyYW1ldGVyVmFsdWUgPSAxLjAgLSB0O1xyXG5cclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgRXllU3RhdGUuRXllU3RhdGVfQ2xvc2VkOlxyXG4gICAgICAgICAgdCA9XHJcbiAgICAgICAgICAgICh0aGlzLl91c2VyVGltZVNlY29uZHMgLSB0aGlzLl9zdGF0ZVN0YXJ0VGltZVNlY29uZHMpIC9cclxuICAgICAgICAgICAgdGhpcy5fY2xvc2VkU2Vjb25kcztcclxuXHJcbiAgICAgICAgICBpZiAodCA+PSAxLjApIHtcclxuICAgICAgICAgICAgdGhpcy5fYmxpbmtpbmdTdGF0ZSA9IEV5ZVN0YXRlLkV5ZVN0YXRlX09wZW5pbmc7XHJcbiAgICAgICAgICAgIHRoaXMuX3N0YXRlU3RhcnRUaW1lU2Vjb25kcyA9IHRoaXMuX3VzZXJUaW1lU2Vjb25kcztcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBwYXJhbWV0ZXJWYWx1ZSA9IDAuMDtcclxuXHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIEV5ZVN0YXRlLkV5ZVN0YXRlX09wZW5pbmc6XHJcbiAgICAgICAgICB0ID1cclxuICAgICAgICAgICAgKHRoaXMuX3VzZXJUaW1lU2Vjb25kcyAtIHRoaXMuX3N0YXRlU3RhcnRUaW1lU2Vjb25kcykgL1xyXG4gICAgICAgICAgICB0aGlzLl9vcGVuaW5nU2Vjb25kcztcclxuXHJcbiAgICAgICAgICBpZiAodCA+PSAxLjApIHtcclxuICAgICAgICAgICAgdCA9IDEuMDtcclxuICAgICAgICAgICAgdGhpcy5fYmxpbmtpbmdTdGF0ZSA9IEV5ZVN0YXRlLkV5ZVN0YXRlX0ludGVydmFsO1xyXG4gICAgICAgICAgICB0aGlzLl9uZXh0QmxpbmtpbmdUaW1lID0gdGhpcy5kZXRlcm1pbk5leHRCbGlua2luZ1RpbWluZygpO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIHBhcmFtZXRlclZhbHVlID0gdDtcclxuXHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIEV5ZVN0YXRlLkV5ZVN0YXRlX0ludGVydmFsOlxyXG4gICAgICAgICAgaWYgKHRoaXMuX25leHRCbGlua2luZ1RpbWUgPCB0aGlzLl91c2VyVGltZVNlY29uZHMpIHtcclxuICAgICAgICAgICAgdGhpcy5fYmxpbmtpbmdTdGF0ZSA9IEV5ZVN0YXRlLkV5ZVN0YXRlX0Nsb3Npbmc7XHJcbiAgICAgICAgICAgIHRoaXMuX3N0YXRlU3RhcnRUaW1lU2Vjb25kcyA9IHRoaXMuX3VzZXJUaW1lU2Vjb25kcztcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBwYXJhbWV0ZXJWYWx1ZSA9IDEuMDtcclxuXHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIEV5ZVN0YXRlLkV5ZVN0YXRlX0ZpcnN0OlxyXG4gICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICB0aGlzLl9ibGlua2luZ1N0YXRlID0gRXllU3RhdGUuRXllU3RhdGVfSW50ZXJ2YWw7XHJcbiAgICAgICAgICB0aGlzLl9uZXh0QmxpbmtpbmdUaW1lID0gdGhpcy5kZXRlcm1pbk5leHRCbGlua2luZ1RpbWluZygpO1xyXG5cclxuICAgICAgICAgIHBhcmFtZXRlclZhbHVlID0gMS4wO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICghQ3ViaXNtRXllQmxpbmsuQ2xvc2VJZlplcm8pIHtcclxuICAgICAgICBwYXJhbWV0ZXJWYWx1ZSA9IC1wYXJhbWV0ZXJWYWx1ZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9wYXJhbWV0ZXJJZHMuZ2V0U2l6ZSgpOyArK2kpIHtcclxuICAgICAgICBtb2RlbC5zZXRQYXJhbWV0ZXJWYWx1ZUJ5SWQodGhpcy5fcGFyYW1ldGVySWRzLmF0KGkpLCBwYXJhbWV0ZXJWYWx1ZSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOOCs+ODs+OCueODiOODqeOCr+OCv1xyXG4gICAgICogQHBhcmFtIG1vZGVsU2V0dGluZyDjg6Ljg4fjg6vjga7oqK3lrprmg4XloLFcclxuICAgICAqL1xyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKG1vZGVsU2V0dGluZzogSUN1YmlzbU1vZGVsU2V0dGluZykge1xyXG4gICAgICB0aGlzLl9ibGlua2luZ1N0YXRlID0gRXllU3RhdGUuRXllU3RhdGVfRmlyc3Q7XHJcbiAgICAgIHRoaXMuX25leHRCbGlua2luZ1RpbWUgPSAwLjA7XHJcbiAgICAgIHRoaXMuX3N0YXRlU3RhcnRUaW1lU2Vjb25kcyA9IDAuMDtcclxuICAgICAgdGhpcy5fYmxpbmtpbmdJbnRlcnZhbFNlY29uZHMgPSA0LjA7XHJcbiAgICAgIHRoaXMuX2Nsb3NpbmdTZWNvbmRzID0gMC4xO1xyXG4gICAgICB0aGlzLl9jbG9zZWRTZWNvbmRzID0gMC4wNTtcclxuICAgICAgdGhpcy5fb3BlbmluZ1NlY29uZHMgPSAwLjE1O1xyXG4gICAgICB0aGlzLl91c2VyVGltZVNlY29uZHMgPSAwLjA7XHJcbiAgICAgIHRoaXMuX3BhcmFtZXRlcklkcyA9IG5ldyBjc21WZWN0b3I8Q3ViaXNtSWRIYW5kbGU+KCk7XHJcblxyXG4gICAgICBpZiAobW9kZWxTZXR0aW5nID09IG51bGwpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbW9kZWxTZXR0aW5nLmdldEV5ZUJsaW5rUGFyYW1ldGVyQ291bnQoKTsgKytpKSB7XHJcbiAgICAgICAgdGhpcy5fcGFyYW1ldGVySWRzLnB1c2hCYWNrKG1vZGVsU2V0dGluZy5nZXRFeWVCbGlua1BhcmFtZXRlcklkKGkpKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5qyh44Gu556s44GN44Gu44K/44Kk44Of44Oz44Kw44Gu5rG65a6aXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybiDmrKHjga7jgb7jgbDjgZ/jgY3jgpLooYzjgYbmmYLliLtb56eSXVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZGV0ZXJtaW5OZXh0QmxpbmtpbmdUaW1pbmcoKTogbnVtYmVyIHtcclxuICAgICAgY29uc3QgcjogbnVtYmVyID0gTWF0aC5yYW5kb20oKTtcclxuICAgICAgcmV0dXJuIChcclxuICAgICAgICB0aGlzLl91c2VyVGltZVNlY29uZHMgKyByICogKDIuMCAqIHRoaXMuX2JsaW5raW5nSW50ZXJ2YWxTZWNvbmRzIC0gMS4wKVxyXG4gICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIF9ibGlua2luZ1N0YXRlOiBudW1iZXI7IC8vIOePvuWcqOOBrueKtuaFi1xyXG4gICAgX3BhcmFtZXRlcklkczogY3NtVmVjdG9yPEN1YmlzbUlkSGFuZGxlPjsgLy8g5pON5L2c5a++6LGh44Gu44OR44Op44Oh44O844K/44GuSUTjga7jg6rjgrnjg4hcclxuICAgIF9uZXh0QmxpbmtpbmdUaW1lOiBudW1iZXI7IC8vIOasoeOBruOBvuOBsOOBn+OBjeOBruaZguWIu1vnp5JdXHJcbiAgICBfc3RhdGVTdGFydFRpbWVTZWNvbmRzOiBudW1iZXI7IC8vIOePvuWcqOOBrueKtuaFi+OBjOmWi+Wni+OBl+OBn+aZguWIu1vnp5JdXHJcbiAgICBfYmxpbmtpbmdJbnRlcnZhbFNlY29uZHM6IG51bWJlcjsgLy8g44G+44Gw44Gf44GN44Gu6ZaT6ZqUW+enkl1cclxuICAgIF9jbG9zaW5nU2Vjb25kczogbnVtYmVyOyAvLyDjgb7jgbbjgZ/jgpLplonjgZjjgovli5XkvZzjga7miYDopoHmmYLplpNb56eSXVxyXG4gICAgX2Nsb3NlZFNlY29uZHM6IG51bWJlcjsgLy8g44G+44G244Gf44KS6ZaJ44GY44Gm44GE44KL5YuV5L2c44Gu5omA6KaB5pmC6ZaTW+enkl1cclxuICAgIF9vcGVuaW5nU2Vjb25kczogbnVtYmVyOyAvLyDjgb7jgbbjgZ/jgpLplovjgY/li5XkvZzjga7miYDopoHmmYLplpNb56eSXVxyXG4gICAgX3VzZXJUaW1lU2Vjb25kczogbnVtYmVyOyAvLyDjg4fjg6vjgr/mmYLplpPjga7nqY3nrpflgKRb56eSXVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogSUTjgafmjIflrprjgZXjgozjgZ/nm67jga7jg5Hjg6njg6Hjg7zjgr/jgYzjgIEw44Gu44Go44GN44Gr6ZaJ44GY44KL44Gq44KJIHRydWUg44CBMeOBruaZguOBq+mWieOBmOOCi+OBquOCiSBmYWxzZSDjgIJcclxuICAgICAqL1xyXG4gICAgc3RhdGljIHJlYWRvbmx5IENsb3NlSWZaZXJvOiBib29sZWFuID0gdHJ1ZTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOOBvuOBsOOBn+OBjeOBrueKtuaFi1xyXG4gICAqXHJcbiAgICog44G+44Gw44Gf44GN44Gu54q25oWL44KS6KGo44GZ5YiX5oyZ5Z6LXHJcbiAgICovXHJcbiAgZXhwb3J0IGVudW0gRXllU3RhdGUge1xyXG4gICAgRXllU3RhdGVfRmlyc3QgPSAwLCAvLyDliJ3mnJ/nirbmhYtcclxuICAgIEV5ZVN0YXRlX0ludGVydmFsLCAvLyDjgb7jgbDjgZ/jgY3jgZfjgabjgYTjgarjgYTnirbmhYtcclxuICAgIEV5ZVN0YXRlX0Nsb3NpbmcsIC8vIOOBvuOBtuOBn+OBjOmWieOBmOOBpuOBhOOBj+mAlOS4reOBrueKtuaFi1xyXG4gICAgRXllU3RhdGVfQ2xvc2VkLCAvLyDjgb7jgbbjgZ/jgYzplonjgZjjgabjgYTjgovnirbmhYtcclxuICAgIEV5ZVN0YXRlX09wZW5pbmcgLy8g44G+44G244Gf44GM6ZaL44GE44Gm44GE44GP6YCU5Lit44Gu54q25oWLXHJcbiAgfVxyXG59XHJcbiJdLCJtYXBwaW5ncyI6Ijs7O0FBT0E7QUFPQTtBQUVBO0FBQUE7QUFNQTtBQXFKQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBaEtBO0FBQ0E7QUFFQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQVFBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFPQTtBQUlBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQStCQTtBQUNBO0FBQ0E7QUFHQTtBQWVBO0FBQ0E7QUFBQTtBQW5NQTtBQTBNQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./Framework/src/effect/cubismeyeblink.ts\n");

/***/ }),

/***/ "./Framework/src/effect/cubismpose.ts":
/*!********************************************!*\
  !*** ./Framework/src/effect/cubismpose.ts ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Live2DCubismFramework = void 0;\r\nvar csmvector_1 = __webpack_require__(/*! ../type/csmvector */ \"./Framework/src/type/csmvector.ts\");\r\nvar live2dcubismframework_1 = __webpack_require__(/*! ../live2dcubismframework */ \"./Framework/src/live2dcubismframework.ts\");\r\nvar cubismjson_1 = __webpack_require__(/*! ../utils/cubismjson */ \"./Framework/src/utils/cubismjson.ts\");\r\nvar csmVector = csmvector_1.Live2DCubismFramework.csmVector;\r\nvar CubismFramework = live2dcubismframework_1.Live2DCubismFramework.CubismFramework;\r\nvar CubismJson = cubismjson_1.Live2DCubismFramework.CubismJson;\r\nvar Live2DCubismFramework;\r\n(function (Live2DCubismFramework) {\r\n    var Epsilon = 0.001;\r\n    var DefaultFadeInSeconds = 0.5;\r\n    var FadeIn = 'FadeInTime';\r\n    var Link = 'Link';\r\n    var Groups = 'Groups';\r\n    var Id = 'Id';\r\n    var CubismPose = (function () {\r\n        function CubismPose() {\r\n            this._fadeTimeSeconds = DefaultFadeInSeconds;\r\n            this._lastModel = null;\r\n            this._partGroups = new csmVector();\r\n            this._partGroupCounts = new csmVector();\r\n        }\r\n        CubismPose.create = function (pose3json, size) {\r\n            var ret = new CubismPose();\r\n            var json = CubismJson.create(pose3json, size);\r\n            var root = json.getRoot();\r\n            if (!root.getValueByString(FadeIn).isNull()) {\r\n                ret._fadeTimeSeconds = root\r\n                    .getValueByString(FadeIn)\r\n                    .toFloat(DefaultFadeInSeconds);\r\n                if (ret._fadeTimeSeconds <= 0.0) {\r\n                    ret._fadeTimeSeconds = DefaultFadeInSeconds;\r\n                }\r\n            }\r\n            var poseListInfo = root.getValueByString(Groups);\r\n            var poseCount = poseListInfo.getSize();\r\n            for (var poseIndex = 0; poseIndex < poseCount; ++poseIndex) {\r\n                var idListInfo = poseListInfo.getValueByIndex(poseIndex);\r\n                var idCount = idListInfo.getSize();\r\n                var groupCount = 0;\r\n                for (var groupIndex = 0; groupIndex < idCount; ++groupIndex) {\r\n                    var partInfo = idListInfo.getValueByIndex(groupIndex);\r\n                    var partData = new PartData();\r\n                    var parameterId = CubismFramework.getIdManager().getId(partInfo.getValueByString(Id).getRawString());\r\n                    partData.partId = parameterId;\r\n                    if (!partInfo.getValueByString(Link).isNull()) {\r\n                        var linkListInfo = partInfo.getValueByString(Link);\r\n                        var linkCount = linkListInfo.getSize();\r\n                        for (var linkIndex = 0; linkIndex < linkCount; ++linkIndex) {\r\n                            var linkPart = new PartData();\r\n                            var linkId = CubismFramework.getIdManager().getId(linkListInfo.getValueByIndex(linkIndex).getString());\r\n                            linkPart.partId = linkId;\r\n                            partData.link.pushBack(linkPart);\r\n                        }\r\n                    }\r\n                    ret._partGroups.pushBack(partData.clone());\r\n                    ++groupCount;\r\n                }\r\n                ret._partGroupCounts.pushBack(groupCount);\r\n            }\r\n            CubismJson.delete(json);\r\n            return ret;\r\n        };\r\n        CubismPose.delete = function (pose) {\r\n            if (pose != null) {\r\n                pose = null;\r\n            }\r\n        };\r\n        CubismPose.prototype.updateParameters = function (model, deltaTimeSeconds) {\r\n            if (model != this._lastModel) {\r\n                this.reset(model);\r\n            }\r\n            this._lastModel = model;\r\n            if (deltaTimeSeconds < 0.0) {\r\n                deltaTimeSeconds = 0.0;\r\n            }\r\n            var beginIndex = 0;\r\n            for (var i = 0; i < this._partGroupCounts.getSize(); i++) {\r\n                var partGroupCount = this._partGroupCounts.at(i);\r\n                this.doFade(model, deltaTimeSeconds, beginIndex, partGroupCount);\r\n                beginIndex += partGroupCount;\r\n            }\r\n            this.copyPartOpacities(model);\r\n        };\r\n        CubismPose.prototype.reset = function (model) {\r\n            var beginIndex = 0;\r\n            for (var i = 0; i < this._partGroupCounts.getSize(); ++i) {\r\n                var groupCount = this._partGroupCounts.at(i);\r\n                for (var j = beginIndex; j < beginIndex + groupCount; ++j) {\r\n                    this._partGroups.at(j).initialize(model);\r\n                    var partsIndex = this._partGroups.at(j).partIndex;\r\n                    var paramIndex = this._partGroups.at(j).parameterIndex;\r\n                    if (partsIndex < 0) {\r\n                        continue;\r\n                    }\r\n                    model.setPartOpacityByIndex(partsIndex, j == beginIndex ? 1.0 : 0.0);\r\n                    model.setParameterValueByIndex(paramIndex, j == beginIndex ? 1.0 : 0.0);\r\n                    for (var k = 0; k < this._partGroups.at(j).link.getSize(); ++k) {\r\n                        this._partGroups\r\n                            .at(j)\r\n                            .link.at(k)\r\n                            .initialize(model);\r\n                    }\r\n                }\r\n                beginIndex += groupCount;\r\n            }\r\n        };\r\n        CubismPose.prototype.copyPartOpacities = function (model) {\r\n            for (var groupIndex = 0; groupIndex < this._partGroups.getSize(); ++groupIndex) {\r\n                var partData = this._partGroups.at(groupIndex);\r\n                if (partData.link.getSize() == 0) {\r\n                    continue;\r\n                }\r\n                var partIndex = this._partGroups.at(groupIndex).partIndex;\r\n                var opacity = model.getPartOpacityByIndex(partIndex);\r\n                for (var linkIndex = 0; linkIndex < partData.link.getSize(); ++linkIndex) {\r\n                    var linkPart = partData.link.at(linkIndex);\r\n                    var linkPartIndex = linkPart.partIndex;\r\n                    if (linkPartIndex < 0) {\r\n                        continue;\r\n                    }\r\n                    model.setPartOpacityByIndex(linkPartIndex, opacity);\r\n                }\r\n            }\r\n        };\r\n        CubismPose.prototype.doFade = function (model, deltaTimeSeconds, beginIndex, partGroupCount) {\r\n            var visiblePartIndex = -1;\r\n            var newOpacity = 1.0;\r\n            var phi = 0.5;\r\n            var backOpacityThreshold = 0.15;\r\n            for (var i = beginIndex; i < beginIndex + partGroupCount; ++i) {\r\n                var partIndex = this._partGroups.at(i).partIndex;\r\n                var paramIndex = this._partGroups.at(i).parameterIndex;\r\n                if (model.getParameterValueByIndex(paramIndex) > Epsilon) {\r\n                    if (visiblePartIndex >= 0) {\r\n                        break;\r\n                    }\r\n                    visiblePartIndex = i;\r\n                    newOpacity = model.getPartOpacityByIndex(partIndex);\r\n                    newOpacity += deltaTimeSeconds / this._fadeTimeSeconds;\r\n                    if (newOpacity > 1.0) {\r\n                        newOpacity = 1.0;\r\n                    }\r\n                }\r\n            }\r\n            if (visiblePartIndex < 0) {\r\n                visiblePartIndex = 0;\r\n                newOpacity = 1.0;\r\n            }\r\n            for (var i = beginIndex; i < beginIndex + partGroupCount; ++i) {\r\n                var partsIndex = this._partGroups.at(i).partIndex;\r\n                if (visiblePartIndex == i) {\r\n                    model.setPartOpacityByIndex(partsIndex, newOpacity);\r\n                }\r\n                else {\r\n                    var opacity = model.getPartOpacityByIndex(partsIndex);\r\n                    var a1 = void 0;\r\n                    if (newOpacity < phi) {\r\n                        a1 = (newOpacity * (phi - 1)) / phi + 1.0;\r\n                    }\r\n                    else {\r\n                        a1 = ((1 - newOpacity) * phi) / (1.0 - phi);\r\n                    }\r\n                    var backOpacity = (1.0 - a1) * (1.0 - newOpacity);\r\n                    if (backOpacity > backOpacityThreshold) {\r\n                        a1 = 1.0 - backOpacityThreshold / (1.0 - newOpacity);\r\n                    }\r\n                    if (opacity > a1) {\r\n                        opacity = a1;\r\n                    }\r\n                    model.setPartOpacityByIndex(partsIndex, opacity);\r\n                }\r\n            }\r\n        };\r\n        return CubismPose;\r\n    }());\r\n    Live2DCubismFramework.CubismPose = CubismPose;\r\n    var PartData = (function () {\r\n        function PartData(v) {\r\n            this.parameterIndex = 0;\r\n            this.partIndex = 0;\r\n            this.link = new csmVector();\r\n            if (v != undefined) {\r\n                this.partId = v.partId;\r\n                for (var ite = v.link.begin(); ite.notEqual(v.link.end()); ite.preIncrement()) {\r\n                    this.link.pushBack(ite.ptr().clone());\r\n                }\r\n            }\r\n        }\r\n        PartData.prototype.assignment = function (v) {\r\n            this.partId = v.partId;\r\n            for (var ite = v.link.begin(); ite.notEqual(v.link.end()); ite.preIncrement()) {\r\n                this.link.pushBack(ite.ptr().clone());\r\n            }\r\n            return this;\r\n        };\r\n        PartData.prototype.initialize = function (model) {\r\n            this.parameterIndex = model.getParameterIndex(this.partId);\r\n            this.partIndex = model.getPartIndex(this.partId);\r\n            model.setParameterValueByIndex(this.parameterIndex, 1);\r\n        };\r\n        PartData.prototype.clone = function () {\r\n            var clonePartData = new PartData();\r\n            clonePartData.partId = this.partId;\r\n            clonePartData.parameterIndex = this.parameterIndex;\r\n            clonePartData.partIndex = this.partIndex;\r\n            clonePartData.link = new csmVector();\r\n            for (var ite = this.link.begin(); ite.notEqual(this.link.end()); ite.increment()) {\r\n                clonePartData.link.pushBack(ite.ptr().clone());\r\n            }\r\n            return clonePartData;\r\n        };\r\n        return PartData;\r\n    }());\r\n    Live2DCubismFramework.PartData = PartData;\r\n})(Live2DCubismFramework = exports.Live2DCubismFramework || (exports.Live2DCubismFramework = {}));\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9GcmFtZXdvcmsvc3JjL2VmZmVjdC9jdWJpc21wb3NlLnRzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbGl2ZTJkLy4vRnJhbWV3b3JrL3NyYy9lZmZlY3QvY3ViaXNtcG9zZS50cz8wZDY2Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBDb3B5cmlnaHQoYykgTGl2ZTJEIEluYy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuICpcclxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgdGhlIExpdmUyRCBPcGVuIFNvZnR3YXJlIGxpY2Vuc2VcclxuICogdGhhdCBjYW4gYmUgZm91bmQgYXQgaHR0cHM6Ly93d3cubGl2ZTJkLmNvbS9ldWxhL2xpdmUyZC1vcGVuLXNvZnR3YXJlLWxpY2Vuc2UtYWdyZWVtZW50X2VuLmh0bWwuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgTGl2ZTJEQ3ViaXNtRnJhbWV3b3JrIGFzIGN1YmlzbWlkIH0gZnJvbSAnLi4vaWQvY3ViaXNtaWQnO1xyXG5pbXBvcnQgeyBMaXZlMkRDdWJpc21GcmFtZXdvcmsgYXMgY3NtdmVjdG9yIH0gZnJvbSAnLi4vdHlwZS9jc212ZWN0b3InO1xyXG5pbXBvcnQgeyBMaXZlMkRDdWJpc21GcmFtZXdvcmsgYXMgY3ViaXNtbW9kZWwgfSBmcm9tICcuLi9tb2RlbC9jdWJpc21tb2RlbCc7XHJcbmltcG9ydCB7IExpdmUyREN1YmlzbUZyYW1ld29yayBhcyBjdWJpc21mcmFtZXdvcmsgfSBmcm9tICcuLi9saXZlMmRjdWJpc21mcmFtZXdvcmsnO1xyXG5pbXBvcnQgeyBMaXZlMkRDdWJpc21GcmFtZXdvcmsgYXMgY3ViaXNtanNvbiB9IGZyb20gJy4uL3V0aWxzL2N1YmlzbWpzb24nO1xyXG5pbXBvcnQgQ3ViaXNtSWRIYW5kbGUgPSBjdWJpc21pZC5DdWJpc21JZEhhbmRsZTtcclxuaW1wb3J0IGNzbVZlY3RvciA9IGNzbXZlY3Rvci5jc21WZWN0b3I7XHJcbmltcG9ydCBpdGVyYXRvciA9IGNzbXZlY3Rvci5pdGVyYXRvcjtcclxuaW1wb3J0IEN1YmlzbU1vZGVsID0gY3ViaXNtbW9kZWwuQ3ViaXNtTW9kZWw7XHJcbmltcG9ydCBDdWJpc21GcmFtZXdvcmsgPSBjdWJpc21mcmFtZXdvcmsuQ3ViaXNtRnJhbWV3b3JrO1xyXG5pbXBvcnQgQ3ViaXNtSnNvbiA9IGN1YmlzbWpzb24uQ3ViaXNtSnNvbjtcclxuaW1wb3J0IFZhbHVlID0gY3ViaXNtanNvbi5WYWx1ZTtcclxuXHJcbmV4cG9ydCBuYW1lc3BhY2UgTGl2ZTJEQ3ViaXNtRnJhbWV3b3JrIHtcclxuICBjb25zdCBFcHNpbG9uID0gMC4wMDE7XHJcbiAgY29uc3QgRGVmYXVsdEZhZGVJblNlY29uZHMgPSAwLjU7XHJcblxyXG4gIC8vIFBvc2UuanNvbuOBruOCv+OCsFxyXG4gIGNvbnN0IEZhZGVJbiA9ICdGYWRlSW5UaW1lJztcclxuICBjb25zdCBMaW5rID0gJ0xpbmsnO1xyXG4gIGNvbnN0IEdyb3VwcyA9ICdHcm91cHMnO1xyXG4gIGNvbnN0IElkID0gJ0lkJztcclxuXHJcbiAgLyoqXHJcbiAgICog44OR44O844OE44Gu5LiN6YCP5piO5bqm44Gu6Kit5a6aXHJcbiAgICpcclxuICAgKiDjg5Hjg7zjg4Tjga7kuI3pgI/mmI7luqbjga7nrqHnkIbjgajoqK3lrprjgpLooYzjgYbjgIJcclxuICAgKi9cclxuICBleHBvcnQgY2xhc3MgQ3ViaXNtUG9zZSB7XHJcbiAgICAvKipcclxuICAgICAqIOOCpOODs+OCueOCv+ODs+OCueOBruS9nOaIkFxyXG4gICAgICogQHBhcmFtIHBvc2UzanNvbiBwb3NlMy5qc29u44Gu44OH44O844K/XHJcbiAgICAgKiBAcGFyYW0gc2l6ZSBwb3NlMy5qc29u44Gu44OH44O844K/44Gu44K144Kk44K6W2J5dGVdXHJcbiAgICAgKiBAcmV0dXJuIOS9nOaIkOOBleOCjOOBn+OCpOODs+OCueOCv+ODs+OCuVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZShwb3NlM2pzb246IEFycmF5QnVmZmVyLCBzaXplOiBudW1iZXIpOiBDdWJpc21Qb3NlIHtcclxuICAgICAgY29uc3QgcmV0OiBDdWJpc21Qb3NlID0gbmV3IEN1YmlzbVBvc2UoKTtcclxuICAgICAgY29uc3QganNvbjogQ3ViaXNtSnNvbiA9IEN1YmlzbUpzb24uY3JlYXRlKHBvc2UzanNvbiwgc2l6ZSk7XHJcbiAgICAgIGNvbnN0IHJvb3Q6IFZhbHVlID0ganNvbi5nZXRSb290KCk7XHJcblxyXG4gICAgICAvLyDjg5Xjgqfjg7zjg4nmmYLplpPjga7mjIflrppcclxuICAgICAgaWYgKCFyb290LmdldFZhbHVlQnlTdHJpbmcoRmFkZUluKS5pc051bGwoKSkge1xyXG4gICAgICAgIHJldC5fZmFkZVRpbWVTZWNvbmRzID0gcm9vdFxyXG4gICAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoRmFkZUluKVxyXG4gICAgICAgICAgLnRvRmxvYXQoRGVmYXVsdEZhZGVJblNlY29uZHMpO1xyXG5cclxuICAgICAgICBpZiAocmV0Ll9mYWRlVGltZVNlY29uZHMgPD0gMC4wKSB7XHJcbiAgICAgICAgICByZXQuX2ZhZGVUaW1lU2Vjb25kcyA9IERlZmF1bHRGYWRlSW5TZWNvbmRzO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgLy8g44OR44O844OE44Kw44Or44O844OXXHJcbiAgICAgIGNvbnN0IHBvc2VMaXN0SW5mbzogVmFsdWUgPSByb290LmdldFZhbHVlQnlTdHJpbmcoR3JvdXBzKTtcclxuICAgICAgY29uc3QgcG9zZUNvdW50OiBudW1iZXIgPSBwb3NlTGlzdEluZm8uZ2V0U2l6ZSgpO1xyXG5cclxuICAgICAgZm9yIChsZXQgcG9zZUluZGV4ID0gMDsgcG9zZUluZGV4IDwgcG9zZUNvdW50OyArK3Bvc2VJbmRleCkge1xyXG4gICAgICAgIGNvbnN0IGlkTGlzdEluZm86IFZhbHVlID0gcG9zZUxpc3RJbmZvLmdldFZhbHVlQnlJbmRleChwb3NlSW5kZXgpO1xyXG4gICAgICAgIGNvbnN0IGlkQ291bnQ6IG51bWJlciA9IGlkTGlzdEluZm8uZ2V0U2l6ZSgpO1xyXG4gICAgICAgIGxldCBncm91cENvdW50ID0gMDtcclxuXHJcbiAgICAgICAgZm9yIChsZXQgZ3JvdXBJbmRleCA9IDA7IGdyb3VwSW5kZXggPCBpZENvdW50OyArK2dyb3VwSW5kZXgpIHtcclxuICAgICAgICAgIGNvbnN0IHBhcnRJbmZvOiBWYWx1ZSA9IGlkTGlzdEluZm8uZ2V0VmFsdWVCeUluZGV4KGdyb3VwSW5kZXgpO1xyXG4gICAgICAgICAgY29uc3QgcGFydERhdGE6IFBhcnREYXRhID0gbmV3IFBhcnREYXRhKCk7XHJcbiAgICAgICAgICBjb25zdCBwYXJhbWV0ZXJJZDogQ3ViaXNtSWRIYW5kbGUgPSBDdWJpc21GcmFtZXdvcmsuZ2V0SWRNYW5hZ2VyKCkuZ2V0SWQoXHJcbiAgICAgICAgICAgIHBhcnRJbmZvLmdldFZhbHVlQnlTdHJpbmcoSWQpLmdldFJhd1N0cmluZygpXHJcbiAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgIHBhcnREYXRhLnBhcnRJZCA9IHBhcmFtZXRlcklkO1xyXG5cclxuICAgICAgICAgIC8vIOODquODs+OCr+OBmeOCi+ODkeODvOODhOOBruioreWumlxyXG4gICAgICAgICAgaWYgKCFwYXJ0SW5mby5nZXRWYWx1ZUJ5U3RyaW5nKExpbmspLmlzTnVsbCgpKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGxpbmtMaXN0SW5mbzogVmFsdWUgPSBwYXJ0SW5mby5nZXRWYWx1ZUJ5U3RyaW5nKExpbmspO1xyXG4gICAgICAgICAgICBjb25zdCBsaW5rQ291bnQ6IG51bWJlciA9IGxpbmtMaXN0SW5mby5nZXRTaXplKCk7XHJcblxyXG4gICAgICAgICAgICBmb3IgKGxldCBsaW5rSW5kZXggPSAwOyBsaW5rSW5kZXggPCBsaW5rQ291bnQ7ICsrbGlua0luZGV4KSB7XHJcbiAgICAgICAgICAgICAgY29uc3QgbGlua1BhcnQ6IFBhcnREYXRhID0gbmV3IFBhcnREYXRhKCk7XHJcbiAgICAgICAgICAgICAgY29uc3QgbGlua0lkOiBDdWJpc21JZEhhbmRsZSA9IEN1YmlzbUZyYW1ld29yay5nZXRJZE1hbmFnZXIoKS5nZXRJZChcclxuICAgICAgICAgICAgICAgIGxpbmtMaXN0SW5mby5nZXRWYWx1ZUJ5SW5kZXgobGlua0luZGV4KS5nZXRTdHJpbmcoKVxyXG4gICAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICAgIGxpbmtQYXJ0LnBhcnRJZCA9IGxpbmtJZDtcclxuXHJcbiAgICAgICAgICAgICAgcGFydERhdGEubGluay5wdXNoQmFjayhsaW5rUGFydCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICByZXQuX3BhcnRHcm91cHMucHVzaEJhY2socGFydERhdGEuY2xvbmUoKSk7XHJcblxyXG4gICAgICAgICAgKytncm91cENvdW50O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0Ll9wYXJ0R3JvdXBDb3VudHMucHVzaEJhY2soZ3JvdXBDb3VudCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIEN1YmlzbUpzb24uZGVsZXRlKGpzb24pO1xyXG5cclxuICAgICAgcmV0dXJuIHJldDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOOCpOODs+OCueOCv+ODs+OCueOCkuegtOajhOOBmeOCi1xyXG4gICAgICogQHBhcmFtIHBvc2Ug5a++6LGh44GuQ3ViaXNtUG9zZVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc3RhdGljIGRlbGV0ZShwb3NlOiBDdWJpc21Qb3NlKTogdm9pZCB7XHJcbiAgICAgIGlmIChwb3NlICE9IG51bGwpIHtcclxuICAgICAgICBwb3NlID0gbnVsbDtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog44Oi44OH44Or44Gu44OR44Op44Oh44O844K/44Gu5pu05pawXHJcbiAgICAgKiBAcGFyYW0gbW9kZWwg5a++6LGh44Gu44Oi44OH44OrXHJcbiAgICAgKiBAcGFyYW0gZGVsdGFUaW1lU2Vjb25kcyDjg4fjg6vjgr/mmYLplpNb56eSXVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgdXBkYXRlUGFyYW1ldGVycyhcclxuICAgICAgbW9kZWw6IEN1YmlzbU1vZGVsLFxyXG4gICAgICBkZWx0YVRpbWVTZWNvbmRzOiBudW1iZXJcclxuICAgICk6IHZvaWQge1xyXG4gICAgICAvLyDliY3lm57jga7jg6Ljg4fjg6vjgajlkIzjgZjjgafjgarjgYTloLTlkIjjga/liJ3mnJ/ljJbjgYzlv4XopoFcclxuICAgICAgaWYgKG1vZGVsICE9IHRoaXMuX2xhc3RNb2RlbCkge1xyXG4gICAgICAgIC8vIOODkeODqeODoeODvOOCv+OCpOODs+ODh+ODg+OCr+OCueOBruWIneacn+WMllxyXG4gICAgICAgIHRoaXMucmVzZXQobW9kZWwpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB0aGlzLl9sYXN0TW9kZWwgPSBtb2RlbDtcclxuXHJcbiAgICAgIC8vIOioreWumuOBi+OCieaZgumWk+OCkuWkieabtOOBmeOCi+OBqOOAgee1jOmBjuaZgumWk+OBjOODnuOCpOODiuOCueOBq+OBquOCi+S6i+OBjOOBguOCi+OBruOBp+OAgee1jOmBjuaZgumWkzDjgajjgZfjgablr77lv5xcclxuICAgICAgaWYgKGRlbHRhVGltZVNlY29uZHMgPCAwLjApIHtcclxuICAgICAgICBkZWx0YVRpbWVTZWNvbmRzID0gMC4wO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBsZXQgYmVnaW5JbmRleCA9IDA7XHJcblxyXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX3BhcnRHcm91cENvdW50cy5nZXRTaXplKCk7IGkrKykge1xyXG4gICAgICAgIGNvbnN0IHBhcnRHcm91cENvdW50OiBudW1iZXIgPSB0aGlzLl9wYXJ0R3JvdXBDb3VudHMuYXQoaSk7XHJcblxyXG4gICAgICAgIHRoaXMuZG9GYWRlKG1vZGVsLCBkZWx0YVRpbWVTZWNvbmRzLCBiZWdpbkluZGV4LCBwYXJ0R3JvdXBDb3VudCk7XHJcblxyXG4gICAgICAgIGJlZ2luSW5kZXggKz0gcGFydEdyb3VwQ291bnQ7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHRoaXMuY29weVBhcnRPcGFjaXRpZXMobW9kZWwpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog6KGo56S644KS5Yid5pyf5YyWXHJcbiAgICAgKiBAcGFyYW0gbW9kZWwg5a++6LGh44Gu44Oi44OH44OrXHJcbiAgICAgKiBAbm90ZSDkuI3pgI/mmI7luqbjga7liJ3mnJ/lgKTjgYww44Gn44Gq44GE44OR44Op44Oh44O844K/44Gv44CB5LiN6YCP5piO5bqm44KS77yR44Gr6Kit5a6a44GZ44KLXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyByZXNldChtb2RlbDogQ3ViaXNtTW9kZWwpOiB2b2lkIHtcclxuICAgICAgbGV0IGJlZ2luSW5kZXggPSAwO1xyXG5cclxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9wYXJ0R3JvdXBDb3VudHMuZ2V0U2l6ZSgpOyArK2kpIHtcclxuICAgICAgICBjb25zdCBncm91cENvdW50OiBudW1iZXIgPSB0aGlzLl9wYXJ0R3JvdXBDb3VudHMuYXQoaSk7XHJcblxyXG4gICAgICAgIGZvciAobGV0IGo6IG51bWJlciA9IGJlZ2luSW5kZXg7IGogPCBiZWdpbkluZGV4ICsgZ3JvdXBDb3VudDsgKytqKSB7XHJcbiAgICAgICAgICB0aGlzLl9wYXJ0R3JvdXBzLmF0KGopLmluaXRpYWxpemUobW9kZWwpO1xyXG5cclxuICAgICAgICAgIGNvbnN0IHBhcnRzSW5kZXg6IG51bWJlciA9IHRoaXMuX3BhcnRHcm91cHMuYXQoaikucGFydEluZGV4O1xyXG4gICAgICAgICAgY29uc3QgcGFyYW1JbmRleDogbnVtYmVyID0gdGhpcy5fcGFydEdyb3Vwcy5hdChqKS5wYXJhbWV0ZXJJbmRleDtcclxuXHJcbiAgICAgICAgICBpZiAocGFydHNJbmRleCA8IDApIHtcclxuICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgbW9kZWwuc2V0UGFydE9wYWNpdHlCeUluZGV4KHBhcnRzSW5kZXgsIGogPT0gYmVnaW5JbmRleCA/IDEuMCA6IDAuMCk7XHJcbiAgICAgICAgICBtb2RlbC5zZXRQYXJhbWV0ZXJWYWx1ZUJ5SW5kZXgoXHJcbiAgICAgICAgICAgIHBhcmFtSW5kZXgsXHJcbiAgICAgICAgICAgIGogPT0gYmVnaW5JbmRleCA/IDEuMCA6IDAuMFxyXG4gICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICBmb3IgKGxldCBrID0gMDsgayA8IHRoaXMuX3BhcnRHcm91cHMuYXQoaikubGluay5nZXRTaXplKCk7ICsraykge1xyXG4gICAgICAgICAgICB0aGlzLl9wYXJ0R3JvdXBzXHJcbiAgICAgICAgICAgICAgLmF0KGopXHJcbiAgICAgICAgICAgICAgLmxpbmsuYXQoaylcclxuICAgICAgICAgICAgICAuaW5pdGlhbGl6ZShtb2RlbCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBiZWdpbkluZGV4ICs9IGdyb3VwQ291bnQ7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOODkeODvOODhOOBruS4jemAj+aYjuW6puOCkuOCs+ODlOODvFxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBtb2RlbCDlr77osaHjga7jg6Ljg4fjg6tcclxuICAgICAqL1xyXG4gICAgcHVibGljIGNvcHlQYXJ0T3BhY2l0aWVzKG1vZGVsOiBDdWJpc21Nb2RlbCk6IHZvaWQge1xyXG4gICAgICBmb3IgKFxyXG4gICAgICAgIGxldCBncm91cEluZGV4ID0gMDtcclxuICAgICAgICBncm91cEluZGV4IDwgdGhpcy5fcGFydEdyb3Vwcy5nZXRTaXplKCk7XHJcbiAgICAgICAgKytncm91cEluZGV4XHJcbiAgICAgICkge1xyXG4gICAgICAgIGNvbnN0IHBhcnREYXRhOiBQYXJ0RGF0YSA9IHRoaXMuX3BhcnRHcm91cHMuYXQoZ3JvdXBJbmRleCk7XHJcblxyXG4gICAgICAgIGlmIChwYXJ0RGF0YS5saW5rLmdldFNpemUoKSA9PSAwKSB7XHJcbiAgICAgICAgICBjb250aW51ZTsgLy8g6YCj5YuV44GZ44KL44OR44Op44Oh44O844K/44Gv44Gq44GEXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBwYXJ0SW5kZXg6IG51bWJlciA9IHRoaXMuX3BhcnRHcm91cHMuYXQoZ3JvdXBJbmRleCkucGFydEluZGV4O1xyXG4gICAgICAgIGNvbnN0IG9wYWNpdHk6IG51bWJlciA9IG1vZGVsLmdldFBhcnRPcGFjaXR5QnlJbmRleChwYXJ0SW5kZXgpO1xyXG5cclxuICAgICAgICBmb3IgKFxyXG4gICAgICAgICAgbGV0IGxpbmtJbmRleCA9IDA7XHJcbiAgICAgICAgICBsaW5rSW5kZXggPCBwYXJ0RGF0YS5saW5rLmdldFNpemUoKTtcclxuICAgICAgICAgICsrbGlua0luZGV4XHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICBjb25zdCBsaW5rUGFydDogUGFydERhdGEgPSBwYXJ0RGF0YS5saW5rLmF0KGxpbmtJbmRleCk7XHJcbiAgICAgICAgICBjb25zdCBsaW5rUGFydEluZGV4OiBudW1iZXIgPSBsaW5rUGFydC5wYXJ0SW5kZXg7XHJcblxyXG4gICAgICAgICAgaWYgKGxpbmtQYXJ0SW5kZXggPCAwKSB7XHJcbiAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIG1vZGVsLnNldFBhcnRPcGFjaXR5QnlJbmRleChsaW5rUGFydEluZGV4LCBvcGFjaXR5KTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOODkeODvOODhOOBruODleOCp+ODvOODieaTjeS9nOOCkuihjOOBhuOAglxyXG4gICAgICogQHBhcmFtIG1vZGVsIOWvvuixoeOBruODouODh+ODq1xyXG4gICAgICogQHBhcmFtIGRlbHRhVGltZVNlY29uZHMg44OH44Or44K/5pmC6ZaTW+enkl1cclxuICAgICAqIEBwYXJhbSBiZWdpbkluZGV4IOODleOCp+ODvOODieaTjeS9nOOCkuihjOOBhuODkeODvOODhOOCsOODq+ODvOODl+OBruWFiOmgreOCpOODs+ODh+ODg+OCr+OCuVxyXG4gICAgICogQHBhcmFtIHBhcnRHcm91cENvdW50IOODleOCp+ODvOODieaTjeS9nOOCkuihjOOBhuODkeODvOODhOOCsOODq+ODvOODl+OBruWAi+aVsFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZG9GYWRlKFxyXG4gICAgICBtb2RlbDogQ3ViaXNtTW9kZWwsXHJcbiAgICAgIGRlbHRhVGltZVNlY29uZHM6IG51bWJlcixcclxuICAgICAgYmVnaW5JbmRleDogbnVtYmVyLFxyXG4gICAgICBwYXJ0R3JvdXBDb3VudDogbnVtYmVyXHJcbiAgICApOiB2b2lkIHtcclxuICAgICAgbGV0IHZpc2libGVQYXJ0SW5kZXggPSAtMTtcclxuICAgICAgbGV0IG5ld09wYWNpdHkgPSAxLjA7XHJcblxyXG4gICAgICBjb25zdCBwaGkgPSAwLjU7XHJcbiAgICAgIGNvbnN0IGJhY2tPcGFjaXR5VGhyZXNob2xkID0gMC4xNTtcclxuXHJcbiAgICAgIC8vIOePvuWcqOOAgeihqOekuueKtuaFi+OBq+OBquOBo+OBpuOBhOOCi+ODkeODvOODhOOCkuWPluW+l1xyXG4gICAgICBmb3IgKGxldCBpOiBudW1iZXIgPSBiZWdpbkluZGV4OyBpIDwgYmVnaW5JbmRleCArIHBhcnRHcm91cENvdW50OyArK2kpIHtcclxuICAgICAgICBjb25zdCBwYXJ0SW5kZXg6IG51bWJlciA9IHRoaXMuX3BhcnRHcm91cHMuYXQoaSkucGFydEluZGV4O1xyXG4gICAgICAgIGNvbnN0IHBhcmFtSW5kZXg6IG51bWJlciA9IHRoaXMuX3BhcnRHcm91cHMuYXQoaSkucGFyYW1ldGVySW5kZXg7XHJcblxyXG4gICAgICAgIGlmIChtb2RlbC5nZXRQYXJhbWV0ZXJWYWx1ZUJ5SW5kZXgocGFyYW1JbmRleCkgPiBFcHNpbG9uKSB7XHJcbiAgICAgICAgICBpZiAodmlzaWJsZVBhcnRJbmRleCA+PSAwKSB7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIHZpc2libGVQYXJ0SW5kZXggPSBpO1xyXG4gICAgICAgICAgbmV3T3BhY2l0eSA9IG1vZGVsLmdldFBhcnRPcGFjaXR5QnlJbmRleChwYXJ0SW5kZXgpO1xyXG5cclxuICAgICAgICAgIC8vIOaWsOOBl+OBhOS4jemAj+aYjuW6puOCkuioiOeul1xyXG4gICAgICAgICAgbmV3T3BhY2l0eSArPSBkZWx0YVRpbWVTZWNvbmRzIC8gdGhpcy5fZmFkZVRpbWVTZWNvbmRzO1xyXG5cclxuICAgICAgICAgIGlmIChuZXdPcGFjaXR5ID4gMS4wKSB7XHJcbiAgICAgICAgICAgIG5ld09wYWNpdHkgPSAxLjA7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAodmlzaWJsZVBhcnRJbmRleCA8IDApIHtcclxuICAgICAgICB2aXNpYmxlUGFydEluZGV4ID0gMDtcclxuICAgICAgICBuZXdPcGFjaXR5ID0gMS4wO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyDooajnpLrjg5Hjg7zjg4TjgIHpnZ7ooajnpLrjg5Hjg7zjg4Tjga7kuI3pgI/mmI7luqbjgpLoqK3lrprjgZnjgotcclxuICAgICAgZm9yIChsZXQgaTogbnVtYmVyID0gYmVnaW5JbmRleDsgaSA8IGJlZ2luSW5kZXggKyBwYXJ0R3JvdXBDb3VudDsgKytpKSB7XHJcbiAgICAgICAgY29uc3QgcGFydHNJbmRleDogbnVtYmVyID0gdGhpcy5fcGFydEdyb3Vwcy5hdChpKS5wYXJ0SW5kZXg7XHJcblxyXG4gICAgICAgIC8vIOihqOekuuODkeODvOODhOOBruioreWumlxyXG4gICAgICAgIGlmICh2aXNpYmxlUGFydEluZGV4ID09IGkpIHtcclxuICAgICAgICAgIG1vZGVsLnNldFBhcnRPcGFjaXR5QnlJbmRleChwYXJ0c0luZGV4LCBuZXdPcGFjaXR5KTsgLy8g5YWI44Gr6Kit5a6aXHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIOmdnuihqOekuuODkeODvOODhOOBruioreWumlxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgbGV0IG9wYWNpdHk6IG51bWJlciA9IG1vZGVsLmdldFBhcnRPcGFjaXR5QnlJbmRleChwYXJ0c0luZGV4KTtcclxuICAgICAgICAgIGxldCBhMTogbnVtYmVyOyAvLyDoqIjnrpfjgavjgojjgaPjgabmsYLjgoHjgonjgozjgovkuI3pgI/mmI7luqZcclxuXHJcbiAgICAgICAgICBpZiAobmV3T3BhY2l0eSA8IHBoaSkge1xyXG4gICAgICAgICAgICBhMSA9IChuZXdPcGFjaXR5ICogKHBoaSAtIDEpKSAvIHBoaSArIDEuMDsgLy8gKDAsMSksKHBoaSxwaGkp44KS6YCa44KL55u057ea5byPXHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBhMSA9ICgoMSAtIG5ld09wYWNpdHkpICogcGhpKSAvICgxLjAgLSBwaGkpOyAvLyAoMSwwKSwocGhpLHBoaSnjgpLpgJrjgovnm7Tnt5rlvI9cclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAvLyDog4zmma/jga7opovjgYjjgovlibLlkIjjgpLliLbpmZDjgZnjgovloLTlkIhcclxuICAgICAgICAgIGNvbnN0IGJhY2tPcGFjaXR5OiBudW1iZXIgPSAoMS4wIC0gYTEpICogKDEuMCAtIG5ld09wYWNpdHkpO1xyXG5cclxuICAgICAgICAgIGlmIChiYWNrT3BhY2l0eSA+IGJhY2tPcGFjaXR5VGhyZXNob2xkKSB7XHJcbiAgICAgICAgICAgIGExID0gMS4wIC0gYmFja09wYWNpdHlUaHJlc2hvbGQgLyAoMS4wIC0gbmV3T3BhY2l0eSk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgaWYgKG9wYWNpdHkgPiBhMSkge1xyXG4gICAgICAgICAgICBvcGFjaXR5ID0gYTE7IC8vIOioiOeul+OBruS4jemAj+aYjuW6puOCiOOCiuOCguWkp+OBjeOBkeOCjOOBsO+8iOa/g+OBkeOCjOOBsO+8ieS4jemAj+aYjuW6puOCkuS4iuOBkuOCi1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIG1vZGVsLnNldFBhcnRPcGFjaXR5QnlJbmRleChwYXJ0c0luZGV4LCBvcGFjaXR5KTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOOCs+ODs+OCueODiOODqeOCr+OCv1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgIHRoaXMuX2ZhZGVUaW1lU2Vjb25kcyA9IERlZmF1bHRGYWRlSW5TZWNvbmRzO1xyXG4gICAgICB0aGlzLl9sYXN0TW9kZWwgPSBudWxsO1xyXG4gICAgICB0aGlzLl9wYXJ0R3JvdXBzID0gbmV3IGNzbVZlY3RvcjxQYXJ0RGF0YT4oKTtcclxuICAgICAgdGhpcy5fcGFydEdyb3VwQ291bnRzID0gbmV3IGNzbVZlY3RvcjxudW1iZXI+KCk7XHJcbiAgICB9XHJcblxyXG4gICAgX3BhcnRHcm91cHM6IGNzbVZlY3RvcjxQYXJ0RGF0YT47IC8vIOODkeODvOODhOOCsOODq+ODvOODl1xyXG4gICAgX3BhcnRHcm91cENvdW50czogY3NtVmVjdG9yPG51bWJlcj47IC8vIOOBneOCjOOBnuOCjOOBruODkeODvOODhOOCsOODq+ODvOODl+OBruWAi+aVsFxyXG4gICAgX2ZhZGVUaW1lU2Vjb25kczogbnVtYmVyOyAvLyDjg5Xjgqfjg7zjg4nmmYLplpNb56eSXVxyXG4gICAgX2xhc3RNb2RlbDogQ3ViaXNtTW9kZWw7IC8vIOWJjeWbnuaTjeS9nOOBl+OBn+ODouODh+ODq1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog44OR44O844OE44Gr44G+44Gk44KP44KL44OH44O844K/44KS566h55CGXHJcbiAgICovXHJcbiAgZXhwb3J0IGNsYXNzIFBhcnREYXRhIHtcclxuICAgIC8qKlxyXG4gICAgICog44Kz44Oz44K544OI44Op44Kv44K/XHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKHY/OiBQYXJ0RGF0YSkge1xyXG4gICAgICB0aGlzLnBhcmFtZXRlckluZGV4ID0gMDtcclxuICAgICAgdGhpcy5wYXJ0SW5kZXggPSAwO1xyXG4gICAgICB0aGlzLmxpbmsgPSBuZXcgY3NtVmVjdG9yPFBhcnREYXRhPigpO1xyXG5cclxuICAgICAgaWYgKHYgIT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgdGhpcy5wYXJ0SWQgPSB2LnBhcnRJZDtcclxuXHJcbiAgICAgICAgZm9yIChcclxuICAgICAgICAgIGNvbnN0IGl0ZTogaXRlcmF0b3I8UGFydERhdGE+ID0gdi5saW5rLmJlZ2luKCk7XHJcbiAgICAgICAgICBpdGUubm90RXF1YWwodi5saW5rLmVuZCgpKTtcclxuICAgICAgICAgIGl0ZS5wcmVJbmNyZW1lbnQoKVxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgdGhpcy5saW5rLnB1c2hCYWNrKGl0ZS5wdHIoKS5jbG9uZSgpKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqID3mvJTnrpflrZDjga7jgqrjg7zjg5Djg7zjg63jg7zjg4lcclxuICAgICAqL1xyXG4gICAgcHVibGljIGFzc2lnbm1lbnQodjogUGFydERhdGEpOiBQYXJ0RGF0YSB7XHJcbiAgICAgIHRoaXMucGFydElkID0gdi5wYXJ0SWQ7XHJcblxyXG4gICAgICBmb3IgKFxyXG4gICAgICAgIGNvbnN0IGl0ZTogaXRlcmF0b3I8UGFydERhdGE+ID0gdi5saW5rLmJlZ2luKCk7XHJcbiAgICAgICAgaXRlLm5vdEVxdWFsKHYubGluay5lbmQoKSk7XHJcbiAgICAgICAgaXRlLnByZUluY3JlbWVudCgpXHJcbiAgICAgICkge1xyXG4gICAgICAgIHRoaXMubGluay5wdXNoQmFjayhpdGUucHRyKCkuY2xvbmUoKSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5Yid5pyf5YyWXHJcbiAgICAgKiBAcGFyYW0gbW9kZWwg5Yid5pyf5YyW44Gr5L2/55So44GZ44KL44Oi44OH44OrXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBpbml0aWFsaXplKG1vZGVsOiBDdWJpc21Nb2RlbCk6IHZvaWQge1xyXG4gICAgICB0aGlzLnBhcmFtZXRlckluZGV4ID0gbW9kZWwuZ2V0UGFyYW1ldGVySW5kZXgodGhpcy5wYXJ0SWQpO1xyXG4gICAgICB0aGlzLnBhcnRJbmRleCA9IG1vZGVsLmdldFBhcnRJbmRleCh0aGlzLnBhcnRJZCk7XHJcblxyXG4gICAgICBtb2RlbC5zZXRQYXJhbWV0ZXJWYWx1ZUJ5SW5kZXgodGhpcy5wYXJhbWV0ZXJJbmRleCwgMSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDjgqrjg5bjgrjjgqfjgq/jg4jjga7jgrPjg5Tjg7zjgpLnlJ/miJDjgZnjgotcclxuICAgICAqL1xyXG4gICAgcHVibGljIGNsb25lKCk6IFBhcnREYXRhIHtcclxuICAgICAgY29uc3QgY2xvbmVQYXJ0RGF0YTogUGFydERhdGEgPSBuZXcgUGFydERhdGEoKTtcclxuXHJcbiAgICAgIGNsb25lUGFydERhdGEucGFydElkID0gdGhpcy5wYXJ0SWQ7XHJcbiAgICAgIGNsb25lUGFydERhdGEucGFyYW1ldGVySW5kZXggPSB0aGlzLnBhcmFtZXRlckluZGV4O1xyXG4gICAgICBjbG9uZVBhcnREYXRhLnBhcnRJbmRleCA9IHRoaXMucGFydEluZGV4O1xyXG4gICAgICBjbG9uZVBhcnREYXRhLmxpbmsgPSBuZXcgY3NtVmVjdG9yPFBhcnREYXRhPigpO1xyXG5cclxuICAgICAgZm9yIChcclxuICAgICAgICBsZXQgaXRlOiBpdGVyYXRvcjxQYXJ0RGF0YT4gPSB0aGlzLmxpbmsuYmVnaW4oKTtcclxuICAgICAgICBpdGUubm90RXF1YWwodGhpcy5saW5rLmVuZCgpKTtcclxuICAgICAgICBpdGUuaW5jcmVtZW50KClcclxuICAgICAgKSB7XHJcbiAgICAgICAgY2xvbmVQYXJ0RGF0YS5saW5rLnB1c2hCYWNrKGl0ZS5wdHIoKS5jbG9uZSgpKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIGNsb25lUGFydERhdGE7XHJcbiAgICB9XHJcblxyXG4gICAgcGFydElkOiBDdWJpc21JZEhhbmRsZTsgLy8g44OR44O844OESURcclxuICAgIHBhcmFtZXRlckluZGV4OiBudW1iZXI7IC8vIOODkeODqeODoeODvOOCv+OBruOCpOODs+ODh+ODg+OCr+OCuVxyXG4gICAgcGFydEluZGV4OiBudW1iZXI7IC8vIOODkeODvOODhOOBruOCpOODs+ODh+ODg+OCr+OCuVxyXG4gICAgbGluazogY3NtVmVjdG9yPFBhcnREYXRhPjsgLy8g6YCj5YuV44GZ44KL44OR44Op44Oh44O844K/XHJcbiAgfVxyXG59XHJcbiJdLCJtYXBwaW5ncyI6Ijs7O0FBUUE7QUFFQTtBQUNBO0FBRUE7QUFHQTtBQUNBO0FBR0E7QUFBQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBb1JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWxSQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBR0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBSUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBS0E7QUFFQTtBQUNBO0FBRUE7QUFHQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBT0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFLQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUtBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQVNBO0FBTUE7QUFDQTtBQUVBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFHQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFHQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBZ0JBO0FBQUE7QUEvUkE7QUFvU0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUVBO0FBS0E7QUFDQTtBQUVBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBS0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFLQTtBQUNBO0FBRUE7QUFDQTtBQU1BO0FBQUE7QUE1RUE7QUE2RUE7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./Framework/src/effect/cubismpose.ts\n");

/***/ }),

/***/ "./Framework/src/icubismmodelsetting.ts":
/*!**********************************************!*\
  !*** ./Framework/src/icubismmodelsetting.ts ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Live2DCubismFramework = void 0;\r\nvar Live2DCubismFramework;\r\n(function (Live2DCubismFramework) {\r\n    var ICubismModelSetting = (function () {\r\n        function ICubismModelSetting() {\r\n        }\r\n        return ICubismModelSetting;\r\n    }());\r\n    Live2DCubismFramework.ICubismModelSetting = ICubismModelSetting;\r\n})(Live2DCubismFramework = exports.Live2DCubismFramework || (exports.Live2DCubismFramework = {}));\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9GcmFtZXdvcmsvc3JjL2ljdWJpc21tb2RlbHNldHRpbmcudHMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9saXZlMmQvLi9GcmFtZXdvcmsvc3JjL2ljdWJpc21tb2RlbHNldHRpbmcudHM/NjQxMCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogQ29weXJpZ2h0KGMpIExpdmUyRCBJbmMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbiAqXHJcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IHRoZSBMaXZlMkQgT3BlbiBTb2Z0d2FyZSBsaWNlbnNlXHJcbiAqIHRoYXQgY2FuIGJlIGZvdW5kIGF0IGh0dHBzOi8vd3d3LmxpdmUyZC5jb20vZXVsYS9saXZlMmQtb3Blbi1zb2Z0d2FyZS1saWNlbnNlLWFncmVlbWVudF9lbi5odG1sLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IExpdmUyREN1YmlzbUZyYW1ld29yayBhcyBjdWJpc21pZCB9IGZyb20gJy4vaWQvY3ViaXNtaWQnO1xyXG5pbXBvcnQgeyBMaXZlMkRDdWJpc21GcmFtZXdvcmsgYXMgY3NtbWFwIH0gZnJvbSAnLi90eXBlL2NzbW1hcCc7XHJcbmltcG9ydCBjc21NYXAgPSBjc21tYXAuY3NtTWFwO1xyXG5pbXBvcnQgQ3ViaXNtSWRIYW5kbGUgPSBjdWJpc21pZC5DdWJpc21JZEhhbmRsZTtcclxuXHJcbmV4cG9ydCBuYW1lc3BhY2UgTGl2ZTJEQ3ViaXNtRnJhbWV3b3JrIHtcclxuICAvKipcclxuICAgKiDjg6Ljg4fjg6voqK3lrprmg4XloLHjgpLlj5bjgormibHjgYbplqLmlbDjgpLlrqPoqIDjgZfjgZ/ntJTnsovku67mg7Pjgq/jg6njgrnjgIJcclxuICAgKlxyXG4gICAqIOOBk+OBruOCr+ODqeOCueOCkue2meaJv+OBmeOCi+OBk+OBqOOBp+OAgeODouODh+ODq+ioreWumuaDheWgseOCkuWPluOCiuaJseOBhuOCr+ODqeOCueOBq+OBquOCi+OAglxyXG4gICAqL1xyXG4gIGV4cG9ydCBhYnN0cmFjdCBjbGFzcyBJQ3ViaXNtTW9kZWxTZXR0aW5nIHtcclxuICAgIC8qKlxyXG4gICAgICogTW9j44OV44Kh44Kk44Or44Gu5ZCN5YmN44KS5Y+W5b6X44GZ44KLXHJcbiAgICAgKiBAcmV0dXJuIE1vY+ODleOCoeOCpOODq+OBruWQjeWJjVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgYWJzdHJhY3QgZ2V0TW9kZWxGaWxlTmFtZSgpOiBzdHJpbmc7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDjg6Ljg4fjg6vjgYzkvb/nlKjjgZnjgovjg4bjgq/jgrnjg4Hjg6Pjga7mlbDjgpLlj5blvpfjgZnjgotcclxuICAgICAqIOODhuOCr+OCueODgeODo+OBruaVsFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgYWJzdHJhY3QgZ2V0VGV4dHVyZUNvdW50KCk6IG51bWJlcjtcclxuXHJcbiAgICAvKipcclxuICAgICAqIOODhuOCr+OCueODgeODo+OBjOmFjee9ruOBleOCjOOBn+ODh+OCo+ODrOOCr+ODiOODquOBruWQjeWJjeOCkuWPluW+l+OBmeOCi1xyXG4gICAgICogQHJldHVybiDjg4bjgq/jgrnjg4Hjg6PjgYzphY3nva7jgZXjgozjgZ/jg4fjgqPjg6zjgq/jg4jjg6rjga7lkI3liY1cclxuICAgICAqL1xyXG4gICAgcHVibGljIGFic3RyYWN0IGdldFRleHR1cmVEaXJlY3RvcnkoKTogc3RyaW5nO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICog44Oi44OH44Or44GM5L2/55So44GZ44KL44OG44Kv44K544OB44Oj44Gu5ZCN5YmN44KS5Y+W5b6X44GZ44KLXHJcbiAgICAgKiBAcGFyYW0gaW5kZXgg6YWN5YiX44Gu44Kk44Oz44OH44OD44Kv44K55YCkXHJcbiAgICAgKiBAcmV0dXJuIOODhuOCr+OCueODgeODo+OBruWQjeWJjVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgYWJzdHJhY3QgZ2V0VGV4dHVyZUZpbGVOYW1lKGluZGV4OiBudW1iZXIpOiBzdHJpbmc7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDjg6Ljg4fjg6vjgavoqK3lrprjgZXjgozjgZ/lvZPjgZ/jgorliKTlrprjga7mlbDjgpLlj5blvpfjgZnjgotcclxuICAgICAqIEByZXR1cm4g44Oi44OH44Or44Gr6Kit5a6a44GV44KM44Gf5b2T44Gf44KK5Yik5a6a44Gu5pWwXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBhYnN0cmFjdCBnZXRIaXRBcmVhc0NvdW50KCk6IG51bWJlcjtcclxuXHJcbiAgICAvKipcclxuICAgICAqIOW9k+OBn+OCiuWIpOWumuOBq+ioreWumuOBleOCjOOBn0lE44KS5Y+W5b6X44GZ44KLXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGluZGV4IOmFjeWIl+OBrmluZGV4XHJcbiAgICAgKiBAcmV0dXJuIOW9k+OBn+OCiuWIpOWumuOBq+ioreWumuOBleOCjOOBn0lEXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBhYnN0cmFjdCBnZXRIaXRBcmVhSWQoaW5kZXg6IG51bWJlcik6IEN1YmlzbUlkSGFuZGxlO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICog5b2T44Gf44KK5Yik5a6a44Gr6Kit5a6a44GV44KM44Gf5ZCN5YmN44KS5Y+W5b6X44GZ44KLXHJcbiAgICAgKiBAcGFyYW0gaW5kZXgg6YWN5YiX44Gu44Kk44Oz44OH44OD44Kv44K55YCkXHJcbiAgICAgKiBAcmV0dXJuIOW9k+OBn+OCiuWIpOWumuOBq+ioreWumuOBleOCjOOBn+WQjeWJjVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgYWJzdHJhY3QgZ2V0SGl0QXJlYU5hbWUoaW5kZXg6IG51bWJlcik6IHN0cmluZztcclxuXHJcbiAgICAvKipcclxuICAgICAqIOeJqeeQhua8lOeul+ioreWumuODleOCoeOCpOODq+OBruWQjeWJjeOCkuWPluW+l+OBmeOCi1xyXG4gICAgICogQHJldHVybiDniannkIbmvJTnrpfoqK3lrprjg5XjgqHjgqTjg6vjga7lkI3liY1cclxuICAgICAqL1xyXG4gICAgcHVibGljIGFic3RyYWN0IGdldFBoeXNpY3NGaWxlTmFtZSgpOiBzdHJpbmc7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDjg5Hjg7zjg4TliIfjgormm7/jgYjoqK3lrprjg5XjgqHjgqTjg6vjga7lkI3liY3jgpLlj5blvpfjgZnjgotcclxuICAgICAqIEByZXR1cm4g44OR44O844OE5YiH44KK5pu/44GI6Kit5a6a44OV44Kh44Kk44Or44Gu5ZCN5YmNXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBhYnN0cmFjdCBnZXRQb3NlRmlsZU5hbWUoKTogc3RyaW5nO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICog6KGo5oOF6Kit5a6a44OV44Kh44Kk44Or44Gu5pWw44KS5Y+W5b6X44GZ44KLXHJcbiAgICAgKiBAcmV0dXJuIOihqOaDheioreWumuODleOCoeOCpOODq+OBruaVsFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgYWJzdHJhY3QgZ2V0RXhwcmVzc2lvbkNvdW50KCk6IG51bWJlcjtcclxuXHJcbiAgICAvKipcclxuICAgICAqIOihqOaDheioreWumuODleOCoeOCpOODq+OCkuitmOWIpeOBmeOCi+WQjeWJje+8iOWIpeWQje+8ieOCkuWPluW+l+OBmeOCi1xyXG4gICAgICogQHBhcmFtIGluZGV4IOmFjeWIl+OBruOCpOODs+ODh+ODg+OCr+OCueWApFxyXG4gICAgICogQHJldHVybiDooajmg4Xjga7lkI3liY1cclxuICAgICAqL1xyXG4gICAgcHVibGljIGFic3RyYWN0IGdldEV4cHJlc3Npb25OYW1lKGluZGV4OiBudW1iZXIpOiBzdHJpbmc7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDooajmg4XoqK3lrprjg5XjgqHjgqTjg6vjga7lkI3liY3jgpLlj5blvpfjgZnjgotcclxuICAgICAqIEBwYXJhbSBpbmRleCDphY3liJfjga7jgqTjg7Pjg4fjg4Pjgq/jgrnlgKRcclxuICAgICAqIEByZXR1cm4g6KGo5oOF6Kit5a6a44OV44Kh44Kk44Or44Gu5ZCN5YmNXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBhYnN0cmFjdCBnZXRFeHByZXNzaW9uRmlsZU5hbWUoaW5kZXg6IG51bWJlcik6IHN0cmluZztcclxuXHJcbiAgICAvKipcclxuICAgICAqIOODouODvOOCt+ODp+ODs+OCsOODq+ODvOODl+OBruaVsOOCkuWPluW+l+OBmeOCi1xyXG4gICAgICogQHJldHVybiDjg6Ljg7zjgrfjg6fjg7PjgrDjg6vjg7zjg5fjga7mlbBcclxuICAgICAqL1xyXG4gICAgcHVibGljIGFic3RyYWN0IGdldE1vdGlvbkdyb3VwQ291bnQoKTogbnVtYmVyO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICog44Oi44O844K344On44Oz44Kw44Or44O844OX44Gu5ZCN5YmN44KS5Y+W5b6X44GZ44KLXHJcbiAgICAgKiBAcGFyYW0gaW5kZXgg6YWN5YiX44Gu44Kk44Oz44OH44OD44Kv44K55YCkXHJcbiAgICAgKiBAcmV0dXJuIOODouODvOOCt+ODp+ODs+OCsOODq+ODvOODl+OBruWQjeWJjVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgYWJzdHJhY3QgZ2V0TW90aW9uR3JvdXBOYW1lKGluZGV4OiBudW1iZXIpOiBzdHJpbmc7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDjg6Ljg7zjgrfjg6fjg7PjgrDjg6vjg7zjg5fjgavlkKvjgb7jgozjgovjg6Ljg7zjgrfjg6fjg7Pjga7mlbDjgpLlj5blvpfjgZnjgotcclxuICAgICAqIEBwYXJhbSBncm91cE5hbWUg44Oi44O844K344On44Oz44Kw44Or44O844OX44Gu5ZCN5YmNXHJcbiAgICAgKiBAcmV0dXJuIOODouODvOOCt+ODp+ODs+OCsOODq+ODvOODl+OBruaVsFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgYWJzdHJhY3QgZ2V0TW90aW9uQ291bnQoZ3JvdXBOYW1lOiBzdHJpbmcpOiBudW1iZXI7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDjgrDjg6vjg7zjg5flkI3jgajjgqTjg7Pjg4fjg4Pjgq/jgrnlgKTjgYvjgonjg6Ljg7zjgrfjg6fjg7Pjg5XjgqHjgqTjg6vlkI3jgpLlj5blvpfjgZnjgotcclxuICAgICAqIEBwYXJhbSBncm91cE5hbWUg44Oi44O844K344On44Oz44Kw44Or44O844OX44Gu5ZCN5YmNXHJcbiAgICAgKiBAcGFyYW0gaW5kZXggICAgIOmFjeWIl+OBruOCpOODs+ODh+ODg+OCr+OCueWApFxyXG4gICAgICogQHJldHVybiDjg6Ljg7zjgrfjg6fjg7Pjg5XjgqHjgqTjg6vjga7lkI3liY1cclxuICAgICAqL1xyXG4gICAgcHVibGljIGFic3RyYWN0IGdldE1vdGlvbkZpbGVOYW1lKGdyb3VwTmFtZTogc3RyaW5nLCBpbmRleDogbnVtYmVyKTogc3RyaW5nO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICog44Oi44O844K344On44Oz44Gr5a++5b+c44GZ44KL44K144Km44Oz44OJ44OV44Kh44Kk44Or44Gu5ZCN5YmN44KS5Y+W5b6X44GZ44KLXHJcbiAgICAgKiBAcGFyYW0gZ3JvdXBOYW1lIOODouODvOOCt+ODp+ODs+OCsOODq+ODvOODl+OBruWQjeWJjVxyXG4gICAgICogQHBhcmFtIGluZGV4IOmFjeWIl+OBruOCpOODs+ODh+ODg+OCr+OCueWApFxyXG4gICAgICogQHJldHVybiDjgrXjgqbjg7Pjg4njg5XjgqHjgqTjg6vjga7lkI3liY1cclxuICAgICAqL1xyXG4gICAgcHVibGljIGFic3RyYWN0IGdldE1vdGlvblNvdW5kRmlsZU5hbWUoXHJcbiAgICAgIGdyb3VwTmFtZTogc3RyaW5nLFxyXG4gICAgICBpbmRleDogbnVtYmVyXHJcbiAgICApOiBzdHJpbmc7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDjg6Ljg7zjgrfjg6fjg7Pplovlp4vmmYLjga7jg5Xjgqfjg7zjg4njgqTjg7Plh6bnkIbmmYLplpPjgpLlj5blvpfjgZnjgotcclxuICAgICAqIEBwYXJhbSBncm91cE5hbWUg44Oi44O844K344On44Oz44Kw44Or44O844OX44Gu5ZCN5YmNXHJcbiAgICAgKiBAcGFyYW0gaW5kZXgg6YWN5YiX44Gu44Kk44Oz44OH44OD44Kv44K55YCkXHJcbiAgICAgKiBAcmV0dXJuIOODleOCp+ODvOODieOCpOODs+WHpueQhuaZgumWk1vnp5JdXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBhYnN0cmFjdCBnZXRNb3Rpb25GYWRlSW5UaW1lVmFsdWUoXHJcbiAgICAgIGdyb3VwTmFtZTogc3RyaW5nLFxyXG4gICAgICBpbmRleDogbnVtYmVyXHJcbiAgICApOiBudW1iZXI7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDjg6Ljg7zjgrfjg6fjg7PntYLkuobmmYLjga7jg5Xjgqfjg7zjg4njgqLjgqbjg4jlh6bnkIbmmYLplpPjgpLlj5blvpfjgZnjgotcclxuICAgICAqIEBwYXJhbSBncm91cE5hbWUg44Oi44O844K344On44Oz44Kw44Or44O844OX44Gu5ZCN5YmNXHJcbiAgICAgKiBAcGFyYW0gaW5kZXgg6YWN5YiX44Gu44Kk44Oz44OH44OD44Kv44K55YCkXHJcbiAgICAgKiBAcmV0dXJuIOODleOCp+ODvOODieOCouOCpuODiOWHpueQhuaZgumWk1vnp5JdXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBhYnN0cmFjdCBnZXRNb3Rpb25GYWRlT3V0VGltZVZhbHVlKFxyXG4gICAgICBncm91cE5hbWU6IHN0cmluZyxcclxuICAgICAgaW5kZXg6IG51bWJlclxyXG4gICAgKTogbnVtYmVyO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICog44Om44O844K244O844OH44O844K/44Gu44OV44Kh44Kk44Or5ZCN44KS5Y+W5b6X44GZ44KLXHJcbiAgICAgKiBAcmV0dXJuIOODpuODvOOCtuODvOODh+ODvOOCv+OBruODleOCoeOCpOODq+WQjVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgYWJzdHJhY3QgZ2V0VXNlckRhdGFGaWxlKCk6IHN0cmluZztcclxuXHJcbiAgICAvKipcclxuICAgICAqIOODrOOCpOOCouOCpuODiOaDheWgseOCkuWPluW+l+OBmeOCi1xyXG4gICAgICogQHBhcmFtIG91dExheW91dE1hcCBjc21NYXDjgq/jg6njgrnjga7jgqTjg7Pjgrnjgr/jg7PjgrlcclxuICAgICAqIEByZXR1cm4gdHJ1ZSDjg6zjgqTjgqLjgqbjg4jmg4XloLHjgYzlrZjlnKjjgZnjgotcclxuICAgICAqIEByZXR1cm4gZmFsc2Ug44Os44Kk44Ki44Km44OI5oOF5aCx44GM5a2Y5Zyo44GX44Gq44GEXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBhYnN0cmFjdCBnZXRMYXlvdXRNYXAob3V0TGF5b3V0TWFwOiBjc21NYXA8c3RyaW5nLCBudW1iZXI+KTogYm9vbGVhbjtcclxuXHJcbiAgICAvKipcclxuICAgICAqIOebruODkeODgeOBq+mWoumAo+S7mOOBkeOCieOCjOOBn+ODkeODqeODoeODvOOCv+OBruaVsOOCkuWPluW+l+OBmeOCi1xyXG4gICAgICogQHJldHVybiDnm67jg5Hjg4HjgavplqLpgKPku5jjgZHjgonjgozjgZ/jg5Hjg6njg6Hjg7zjgr/jga7mlbBcclxuICAgICAqL1xyXG4gICAgcHVibGljIGFic3RyYWN0IGdldEV5ZUJsaW5rUGFyYW1ldGVyQ291bnQoKTogbnVtYmVyO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICog55uu44OR44OB44Gr6Zai6YCj5LuY44GR44KJ44KM44Gf44OR44Op44Oh44O844K/44GuSUTjgpLlj5blvpfjgZnjgotcclxuICAgICAqIEBwYXJhbSBpbmRleCDphY3liJfjga7jgqTjg7Pjg4fjg4Pjgq/jgrnlgKRcclxuICAgICAqIEByZXR1cm4g44OR44Op44Oh44O844K/SURcclxuICAgICAqL1xyXG4gICAgcHVibGljIGFic3RyYWN0IGdldEV5ZUJsaW5rUGFyYW1ldGVySWQoaW5kZXg6IG51bWJlcik6IEN1YmlzbUlkSGFuZGxlO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICog44Oq44OD44OX44K344Oz44Kv44Gr6Zai6YCj5LuY44GR44KJ44KM44Gf44OR44Op44Oh44O844K/44Gu5pWw44KS5Y+W5b6X44GZ44KLXHJcbiAgICAgKiBAcmV0dXJuIOODquODg+ODl+OCt+ODs+OCr+OBq+mWoumAo+S7mOOBkeOCieOCjOOBn+ODkeODqeODoeODvOOCv+OBruaVsFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgYWJzdHJhY3QgZ2V0TGlwU3luY1BhcmFtZXRlckNvdW50KCk6IG51bWJlcjtcclxuXHJcbiAgICAvKipcclxuICAgICAqIOODquODg+ODl+OCt+ODs+OCr+OBq+mWoumAo+S7mOOBkeOCieOCjOOBn+ODkeODqeODoeODvOOCv+OBruaVsOOCkuWPluW+l+OBmeOCi1xyXG4gICAgICogQHBhcmFtIGluZGV4IOmFjeWIl+OBruOCpOODs+ODh+ODg+OCr+OCueWApFxyXG4gICAgICogQHJldHVybiDjg5Hjg6njg6Hjg7zjgr9JRFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgYWJzdHJhY3QgZ2V0TGlwU3luY1BhcmFtZXRlcklkKGluZGV4OiBudW1iZXIpOiBDdWJpc21JZEhhbmRsZTtcclxuICB9XHJcbn1cclxuIl0sIm1hcHBpbmdzIjoiOzs7QUFZQTtBQUFBO0FBTUE7QUFBQTtBQW1MQTtBQUFBO0FBQUE7QUFuTEE7QUFvTEE7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./Framework/src/icubismmodelsetting.ts\n");

/***/ }),

/***/ "./Framework/src/id/cubismid.ts":
/*!**************************************!*\
  !*** ./Framework/src/id/cubismid.ts ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Live2DCubismFramework = void 0;\r\nvar csmstring_1 = __webpack_require__(/*! ../type/csmstring */ \"./Framework/src/type/csmstring.ts\");\r\nvar csmString = csmstring_1.Live2DCubismFramework.csmString;\r\nvar Live2DCubismFramework;\r\n(function (Live2DCubismFramework) {\r\n    var CubismId = (function () {\r\n        function CubismId(id) {\r\n            if (typeof id === 'string') {\r\n                this._id = new csmString(id);\r\n                return;\r\n            }\r\n            this._id = id;\r\n        }\r\n        CubismId.prototype.getString = function () {\r\n            return this._id;\r\n        };\r\n        CubismId.prototype.isEqual = function (c) {\r\n            if (typeof c === 'string') {\r\n                return this._id.isEqual(c);\r\n            }\r\n            else if (c instanceof csmString) {\r\n                return this._id.isEqual(c.s);\r\n            }\r\n            else if (c instanceof CubismId) {\r\n                return this._id.isEqual(c._id.s);\r\n            }\r\n            return false;\r\n        };\r\n        CubismId.prototype.isNotEqual = function (c) {\r\n            if (typeof c == 'string') {\r\n                return !this._id.isEqual(c);\r\n            }\r\n            else if (c instanceof csmString) {\r\n                return !this._id.isEqual(c.s);\r\n            }\r\n            else if (c instanceof CubismId) {\r\n                return !this._id.isEqual(c._id.s);\r\n            }\r\n            return false;\r\n        };\r\n        return CubismId;\r\n    }());\r\n    Live2DCubismFramework.CubismId = CubismId;\r\n})(Live2DCubismFramework = exports.Live2DCubismFramework || (exports.Live2DCubismFramework = {}));\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9GcmFtZXdvcmsvc3JjL2lkL2N1YmlzbWlkLnRzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbGl2ZTJkLy4vRnJhbWV3b3JrL3NyYy9pZC9jdWJpc21pZC50cz8xZjE1Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBDb3B5cmlnaHQoYykgTGl2ZTJEIEluYy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuICpcclxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgdGhlIExpdmUyRCBPcGVuIFNvZnR3YXJlIGxpY2Vuc2VcclxuICogdGhhdCBjYW4gYmUgZm91bmQgYXQgaHR0cHM6Ly93d3cubGl2ZTJkLmNvbS9ldWxhL2xpdmUyZC1vcGVuLXNvZnR3YXJlLWxpY2Vuc2UtYWdyZWVtZW50X2VuLmh0bWwuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgTGl2ZTJEQ3ViaXNtRnJhbWV3b3JrIGFzIGNzbXN0cmluZyB9IGZyb20gJy4uL3R5cGUvY3Ntc3RyaW5nJztcclxuaW1wb3J0IGNzbVN0cmluZyA9IGNzbXN0cmluZy5jc21TdHJpbmc7XHJcblxyXG5leHBvcnQgbmFtZXNwYWNlIExpdmUyREN1YmlzbUZyYW1ld29yayB7XHJcbiAgLyoqXHJcbiAgICog44OR44Op44Oh44O844K/5ZCN44O744OR44O844OE5ZCN44O7RHJhd2FibGXlkI3jgpLkv53mjIFcclxuICAgKlxyXG4gICAqIOODkeODqeODoeODvOOCv+WQjeODu+ODkeODvOODhOWQjeODu0RyYXdhYmxl5ZCN44KS5L+d5oyB44GZ44KL44Kv44Op44K544CCXHJcbiAgICovXHJcbiAgZXhwb3J0IGNsYXNzIEN1YmlzbUlkIHtcclxuICAgIC8qKlxyXG4gICAgICogSUTlkI3jgpLlj5blvpfjgZnjgotcclxuICAgICAqL1xyXG4gICAgcHVibGljIGdldFN0cmluZygpOiBjc21TdHJpbmcge1xyXG4gICAgICByZXR1cm4gdGhpcy5faWQ7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDjgrPjg7Pjgrnjg4jjg6njgq/jgr9cclxuICAgICAqL1xyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKGlkOiBzdHJpbmcgfCBjc21TdHJpbmcpIHtcclxuICAgICAgaWYgKHR5cGVvZiBpZCA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICB0aGlzLl9pZCA9IG5ldyBjc21TdHJpbmcoaWQpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgdGhpcy5faWQgPSBpZDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIGlk44KS5q+U6LyDXHJcbiAgICAgKiBAcGFyYW0gYyDmr5TovIPjgZnjgotpZFxyXG4gICAgICogQHJldHVybiDlkIzjgZjjgarjgonjgbB0cnVlLOeVsOOBquOBo+OBpuOBhOOCjOOBsGZhbHNl44KS6L+U44GZXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBpc0VxdWFsKGM6IHN0cmluZyB8IGNzbVN0cmluZyB8IEN1YmlzbUlkKTogYm9vbGVhbiB7XHJcbiAgICAgIGlmICh0eXBlb2YgYyA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5faWQuaXNFcXVhbChjKTtcclxuICAgICAgfSBlbHNlIGlmIChjIGluc3RhbmNlb2YgY3NtU3RyaW5nKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lkLmlzRXF1YWwoYy5zKTtcclxuICAgICAgfSBlbHNlIGlmIChjIGluc3RhbmNlb2YgQ3ViaXNtSWQpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5faWQuaXNFcXVhbChjLl9pZC5zKTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBpZOOCkuavlOi8g1xyXG4gICAgICogQHBhcmFtIGMg5q+U6LyD44GZ44KLaWRcclxuICAgICAqIEByZXR1cm4g5ZCM44GY44Gq44KJ44GwdHJ1ZSznlbDjgarjgaPjgabjgYTjgozjgbBmYWxzZeOCkui/lOOBmVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgaXNOb3RFcXVhbChjOiBzdHJpbmcgfCBjc21TdHJpbmcgfCBDdWJpc21JZCk6IGJvb2xlYW4ge1xyXG4gICAgICBpZiAodHlwZW9mIGMgPT0gJ3N0cmluZycpIHtcclxuICAgICAgICByZXR1cm4gIXRoaXMuX2lkLmlzRXF1YWwoYyk7XHJcbiAgICAgIH0gZWxzZSBpZiAoYyBpbnN0YW5jZW9mIGNzbVN0cmluZykge1xyXG4gICAgICAgIHJldHVybiAhdGhpcy5faWQuaXNFcXVhbChjLnMpO1xyXG4gICAgICB9IGVsc2UgaWYgKGMgaW5zdGFuY2VvZiBDdWJpc21JZCkge1xyXG4gICAgICAgIHJldHVybiAhdGhpcy5faWQuaXNFcXVhbChjLl9pZC5zKTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBfaWQ6IGNzbVN0cmluZzsgLy8gSUTlkI1cclxuICB9XHJcblxyXG4gIGV4cG9ydCBkZWNsYXJlIHR5cGUgQ3ViaXNtSWRIYW5kbGUgPSBDdWJpc21JZDtcclxufVxyXG4iXSwibWFwcGluZ3MiOiI7OztBQU9BO0FBQ0E7QUFFQTtBQUFBO0FBTUE7QUFXQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQWRBO0FBQ0E7QUFDQTtBQW1CQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUFBO0FBckRBO0FBd0RBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./Framework/src/id/cubismid.ts\n");

/***/ }),

/***/ "./Framework/src/id/cubismidmanager.ts":
/*!*********************************************!*\
  !*** ./Framework/src/id/cubismidmanager.ts ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Live2DCubismFramework = void 0;\r\nvar csmvector_1 = __webpack_require__(/*! ../type/csmvector */ \"./Framework/src/type/csmvector.ts\");\r\nvar cubismid_1 = __webpack_require__(/*! ./cubismid */ \"./Framework/src/id/cubismid.ts\");\r\nvar CubismId = cubismid_1.Live2DCubismFramework.CubismId;\r\nvar csmVector = csmvector_1.Live2DCubismFramework.csmVector;\r\nvar Live2DCubismFramework;\r\n(function (Live2DCubismFramework) {\r\n    var CubismIdManager = (function () {\r\n        function CubismIdManager() {\r\n            this._ids = new csmVector();\r\n        }\r\n        CubismIdManager.prototype.release = function () {\r\n            for (var i = 0; i < this._ids.getSize(); ++i) {\r\n                this._ids.set(i, void 0);\r\n            }\r\n            this._ids = null;\r\n        };\r\n        CubismIdManager.prototype.registerIds = function (ids) {\r\n            for (var i = 0; i < ids.length; i++) {\r\n                this.registerId(ids[i]);\r\n            }\r\n        };\r\n        CubismIdManager.prototype.registerId = function (id) {\r\n            var result = null;\r\n            if ('string' == typeof id) {\r\n                if ((result = this.findId(id)) != null) {\r\n                    return result;\r\n                }\r\n                result = new CubismId(id);\r\n                this._ids.pushBack(result);\r\n            }\r\n            else {\r\n                return this.registerId(id.s);\r\n            }\r\n            return result;\r\n        };\r\n        CubismIdManager.prototype.getId = function (id) {\r\n            return this.registerId(id);\r\n        };\r\n        CubismIdManager.prototype.isExist = function (id) {\r\n            if ('string' == typeof id) {\r\n                return this.findId(id) != null;\r\n            }\r\n            return this.isExist(id.s);\r\n        };\r\n        CubismIdManager.prototype.findId = function (id) {\r\n            for (var i = 0; i < this._ids.getSize(); ++i) {\r\n                if (this._ids\r\n                    .at(i)\r\n                    .getString()\r\n                    .isEqual(id)) {\r\n                    return this._ids.at(i);\r\n                }\r\n            }\r\n            return null;\r\n        };\r\n        return CubismIdManager;\r\n    }());\r\n    Live2DCubismFramework.CubismIdManager = CubismIdManager;\r\n})(Live2DCubismFramework = exports.Live2DCubismFramework || (exports.Live2DCubismFramework = {}));\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9GcmFtZXdvcmsvc3JjL2lkL2N1YmlzbWlkbWFuYWdlci50cy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL2xpdmUyZC8uL0ZyYW1ld29yay9zcmMvaWQvY3ViaXNtaWRtYW5hZ2VyLnRzPzZmOWUiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIENvcHlyaWdodChjKSBMaXZlMkQgSW5jLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4gKlxyXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSB0aGUgTGl2ZTJEIE9wZW4gU29mdHdhcmUgbGljZW5zZVxyXG4gKiB0aGF0IGNhbiBiZSBmb3VuZCBhdCBodHRwczovL3d3dy5saXZlMmQuY29tL2V1bGEvbGl2ZTJkLW9wZW4tc29mdHdhcmUtbGljZW5zZS1hZ3JlZW1lbnRfZW4uaHRtbC5cclxuICovXHJcblxyXG5pbXBvcnQgeyBMaXZlMkRDdWJpc21GcmFtZXdvcmsgYXMgY3NtdmVjdG9yIH0gZnJvbSAnLi4vdHlwZS9jc212ZWN0b3InO1xyXG5pbXBvcnQgeyBMaXZlMkRDdWJpc21GcmFtZXdvcmsgYXMgY3ViaXNtaWQgfSBmcm9tICcuL2N1YmlzbWlkJztcclxuaW1wb3J0IHsgTGl2ZTJEQ3ViaXNtRnJhbWV3b3JrIGFzIGNzbXN0cmluZyB9IGZyb20gJy4uL3R5cGUvY3Ntc3RyaW5nJztcclxuaW1wb3J0IGNzbVN0cmluZyA9IGNzbXN0cmluZy5jc21TdHJpbmc7XHJcbmltcG9ydCBDdWJpc21JZCA9IGN1YmlzbWlkLkN1YmlzbUlkO1xyXG5pbXBvcnQgY3NtVmVjdG9yID0gY3NtdmVjdG9yLmNzbVZlY3RvcjtcclxuXHJcbmV4cG9ydCBuYW1lc3BhY2UgTGl2ZTJEQ3ViaXNtRnJhbWV3b3JrIHtcclxuICAvKipcclxuICAgKiBJROWQjeOBrueuoeeQhlxyXG4gICAqXHJcbiAgICogSUTlkI3jgpLnrqHnkIbjgZnjgovjgIJcclxuICAgKi9cclxuICBleHBvcnQgY2xhc3MgQ3ViaXNtSWRNYW5hZ2VyIHtcclxuICAgIC8qKlxyXG4gICAgICog44Kz44Oz44K544OI44Op44Kv44K/XHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgdGhpcy5faWRzID0gbmV3IGNzbVZlY3RvcjxDdWJpc21JZD4oKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOODh+OCueODiOODqeOCr+OCv+ebuOW9k+OBruWHpueQhlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgcmVsZWFzZSgpOiB2b2lkIHtcclxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9pZHMuZ2V0U2l6ZSgpOyArK2kpIHtcclxuICAgICAgICB0aGlzLl9pZHMuc2V0KGksIHZvaWQgMCk7XHJcbiAgICAgIH1cclxuICAgICAgdGhpcy5faWRzID0gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIElE5ZCN44KS44Oq44K544OI44GL44KJ55m76YyyXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGlkcyBJROWQjeODquOCueODiFxyXG4gICAgICogQHBhcmFtIGNvdW50IElE44Gu5YCL5pWwXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyByZWdpc3RlcklkcyhpZHM6IHN0cmluZ1tdIHwgY3NtU3RyaW5nW10pOiB2b2lkIHtcclxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpZHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICB0aGlzLnJlZ2lzdGVySWQoaWRzW2ldKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogSUTlkI3jgpLnmbvpjLJcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gaWQgSUTlkI1cclxuICAgICAqL1xyXG4gICAgcHVibGljIHJlZ2lzdGVySWQoaWQ6IHN0cmluZyB8IGNzbVN0cmluZyk6IEN1YmlzbUlkIHtcclxuICAgICAgbGV0IHJlc3VsdDogQ3ViaXNtSWQgPSBudWxsO1xyXG5cclxuICAgICAgaWYgKCdzdHJpbmcnID09IHR5cGVvZiBpZCkge1xyXG4gICAgICAgIGlmICgocmVzdWx0ID0gdGhpcy5maW5kSWQoaWQpKSAhPSBudWxsKSB7XHJcbiAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmVzdWx0ID0gbmV3IEN1YmlzbUlkKGlkKTtcclxuICAgICAgICB0aGlzLl9pZHMucHVzaEJhY2socmVzdWx0KTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5yZWdpc3RlcklkKGlkLnMpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogSUTlkI3jgYvjgolJROOCkuWPluW+l+OBmeOCi1xyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBpZCBJROWQjVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2V0SWQoaWQ6IGNzbVN0cmluZyB8IHN0cmluZyk6IEN1YmlzbUlkIHtcclxuICAgICAgcmV0dXJuIHRoaXMucmVnaXN0ZXJJZChpZCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBJROWQjeOBi+OCiUlE44Gu56K66KqNXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybiB0cnVlIOWtmOWcqOOBmeOCi1xyXG4gICAgICogQHJldHVybiBmYWxzZSDlrZjlnKjjgZfjgarjgYRcclxuICAgICAqL1xyXG4gICAgcHVibGljIGlzRXhpc3QoaWQ6IGNzbVN0cmluZyB8IHN0cmluZyk6IGJvb2xlYW4ge1xyXG4gICAgICBpZiAoJ3N0cmluZycgPT0gdHlwZW9mIGlkKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZmluZElkKGlkKSAhPSBudWxsO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiB0aGlzLmlzRXhpc3QoaWQucyk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBJROWQjeOBi+OCiUlE44KS5qSc57Si44GZ44KL44CCXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGlkIElE5ZCNXHJcbiAgICAgKiBAcmV0dXJuIOeZu+mMsuOBleOCjOOBpuOBhOOCi0lE44CC44Gq44GR44KM44GwTlVMTOOAglxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGZpbmRJZChpZDogc3RyaW5nKTogQ3ViaXNtSWQge1xyXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX2lkcy5nZXRTaXplKCk7ICsraSkge1xyXG4gICAgICAgIGlmIChcclxuICAgICAgICAgIHRoaXMuX2lkc1xyXG4gICAgICAgICAgICAuYXQoaSlcclxuICAgICAgICAgICAgLmdldFN0cmluZygpXHJcbiAgICAgICAgICAgIC5pc0VxdWFsKGlkKVxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgcmV0dXJuIHRoaXMuX2lkcy5hdChpKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgX2lkczogY3NtVmVjdG9yPEN1YmlzbUlkPjsgLy8g55m76Yyy44GV44KM44Gm44GE44KLSUTjga7jg6rjgrnjg4hcclxuICB9XHJcbn1cclxuIl0sIm1hcHBpbmdzIjoiOzs7QUFPQTtBQUNBO0FBR0E7QUFDQTtBQUVBO0FBQUE7QUFNQTtBQUlBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUdBO0FBQUE7QUFoR0E7QUFpR0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./Framework/src/id/cubismidmanager.ts\n");

/***/ }),

/***/ "./Framework/src/live2dcubismframework.ts":
/*!************************************************!*\
  !*** ./Framework/src/live2dcubismframework.ts ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.LogLevel = exports.Option = exports.Live2DCubismFramework = exports.strtod = void 0;\r\nvar cubismjson_1 = __webpack_require__(/*! ./utils/cubismjson */ \"./Framework/src/utils/cubismjson.ts\");\r\nvar cubismidmanager_1 = __webpack_require__(/*! ./id/cubismidmanager */ \"./Framework/src/id/cubismidmanager.ts\");\r\nvar cubismrenderer_1 = __webpack_require__(/*! ./rendering/cubismrenderer */ \"./Framework/src/rendering/cubismrenderer.ts\");\r\nvar cubismdebug_1 = __webpack_require__(/*! ./utils/cubismdebug */ \"./Framework/src/utils/cubismdebug.ts\");\r\nvar Value = cubismjson_1.Live2DCubismFramework.Value;\r\nvar CubismIdManager = cubismidmanager_1.Live2DCubismFramework.CubismIdManager;\r\nvar CubismRenderer = cubismrenderer_1.Live2DCubismFramework.CubismRenderer;\r\nfunction strtod(s, endPtr) {\r\n    var index = 0;\r\n    for (var i = 1;; i++) {\r\n        var testC = s.slice(i - 1, i);\r\n        if (testC == 'e' || testC == '-' || testC == 'E') {\r\n            continue;\r\n        }\r\n        var test = s.substring(0, i);\r\n        var number = Number(test);\r\n        if (isNaN(number)) {\r\n            break;\r\n        }\r\n        index = i;\r\n    }\r\n    var d = parseFloat(s);\r\n    if (isNaN(d)) {\r\n        d = NaN;\r\n    }\r\n    endPtr[0] = s.slice(index);\r\n    return d;\r\n}\r\nexports.strtod = strtod;\r\nvar Live2DCubismFramework;\r\n(function (Live2DCubismFramework) {\r\n    var s_isStarted = false;\r\n    var s_isInitialized = false;\r\n    var s_option = null;\r\n    var s_cubismIdManager = null;\r\n    var Constant;\r\n    (function (Constant) {\r\n        Constant.vertexOffset = 0;\r\n        Constant.vertexStep = 2;\r\n    })(Constant = Live2DCubismFramework.Constant || (Live2DCubismFramework.Constant = {}));\r\n    function csmDelete(address) {\r\n        if (!address) {\r\n            return;\r\n        }\r\n        address = void 0;\r\n    }\r\n    Live2DCubismFramework.csmDelete = csmDelete;\r\n    var CubismFramework = (function () {\r\n        function CubismFramework() {\r\n        }\r\n        CubismFramework.startUp = function (option) {\r\n            if (option === void 0) { option = null; }\r\n            if (s_isStarted) {\r\n                cubismdebug_1.CubismLogInfo('CubismFramework.startUp() is already done.');\r\n                return s_isStarted;\r\n            }\r\n            s_option = option;\r\n            if (s_option != null) {\r\n                Live2DCubismCore.Logging.csmSetLogFunction(s_option.logFunction);\r\n            }\r\n            s_isStarted = true;\r\n            if (s_isStarted) {\r\n                var version = Live2DCubismCore.Version.csmGetVersion();\r\n                var major = (version & 0xff000000) >> 24;\r\n                var minor = (version & 0x00ff0000) >> 16;\r\n                var patch = version & 0x0000ffff;\r\n                var versionNumber = version;\r\n                cubismdebug_1.CubismLogInfo(\"Live2D Cubism Core version: {0}.{1}.{2} ({3})\", ('00' + major).slice(-2), ('00' + minor).slice(-2), ('0000' + patch).slice(-4), versionNumber);\r\n            }\r\n            cubismdebug_1.CubismLogInfo('CubismFramework.startUp() is complete.');\r\n            return s_isStarted;\r\n        };\r\n        CubismFramework.cleanUp = function () {\r\n            s_isStarted = false;\r\n            s_isInitialized = false;\r\n            s_option = null;\r\n            s_cubismIdManager = null;\r\n        };\r\n        CubismFramework.initialize = function () {\r\n            cubismdebug_1.CSM_ASSERT(s_isStarted);\r\n            if (!s_isStarted) {\r\n                cubismdebug_1.CubismLogWarning('CubismFramework is not started.');\r\n                return;\r\n            }\r\n            if (s_isInitialized) {\r\n                cubismdebug_1.CubismLogWarning('CubismFramework.initialize() skipped, already initialized.');\r\n                return;\r\n            }\r\n            Value.staticInitializeNotForClientCall();\r\n            s_cubismIdManager = new CubismIdManager();\r\n            s_isInitialized = true;\r\n            cubismdebug_1.CubismLogInfo('CubismFramework.initialize() is complete.');\r\n        };\r\n        CubismFramework.dispose = function () {\r\n            cubismdebug_1.CSM_ASSERT(s_isStarted);\r\n            if (!s_isStarted) {\r\n                cubismdebug_1.CubismLogWarning('CubismFramework is not started.');\r\n                return;\r\n            }\r\n            if (!s_isInitialized) {\r\n                cubismdebug_1.CubismLogWarning('CubismFramework.dispose() skipped, not initialized.');\r\n                return;\r\n            }\r\n            Value.staticReleaseNotForClientCall();\r\n            s_cubismIdManager.release();\r\n            s_cubismIdManager = null;\r\n            CubismRenderer.staticRelease();\r\n            s_isInitialized = false;\r\n            cubismdebug_1.CubismLogInfo('CubismFramework.dispose() is complete.');\r\n        };\r\n        CubismFramework.isStarted = function () {\r\n            return s_isStarted;\r\n        };\r\n        CubismFramework.isInitialized = function () {\r\n            return s_isInitialized;\r\n        };\r\n        CubismFramework.coreLogFunction = function (message) {\r\n            if (!Live2DCubismCore.Logging.csmGetLogFunction()) {\r\n                return;\r\n            }\r\n            Live2DCubismCore.Logging.csmGetLogFunction()(message);\r\n        };\r\n        CubismFramework.getLoggingLevel = function () {\r\n            if (s_option != null) {\r\n                return s_option.loggingLevel;\r\n            }\r\n            return LogLevel.LogLevel_Off;\r\n        };\r\n        CubismFramework.getIdManager = function () {\r\n            return s_cubismIdManager;\r\n        };\r\n        return CubismFramework;\r\n    }());\r\n    Live2DCubismFramework.CubismFramework = CubismFramework;\r\n})(Live2DCubismFramework = exports.Live2DCubismFramework || (exports.Live2DCubismFramework = {}));\r\nvar Option = (function () {\r\n    function Option() {\r\n    }\r\n    return Option;\r\n}());\r\nexports.Option = Option;\r\nvar LogLevel;\r\n(function (LogLevel) {\r\n    LogLevel[LogLevel[\"LogLevel_Verbose\"] = 0] = \"LogLevel_Verbose\";\r\n    LogLevel[LogLevel[\"LogLevel_Debug\"] = 1] = \"LogLevel_Debug\";\r\n    LogLevel[LogLevel[\"LogLevel_Info\"] = 2] = \"LogLevel_Info\";\r\n    LogLevel[LogLevel[\"LogLevel_Warning\"] = 3] = \"LogLevel_Warning\";\r\n    LogLevel[LogLevel[\"LogLevel_Error\"] = 4] = \"LogLevel_Error\";\r\n    LogLevel[LogLevel[\"LogLevel_Off\"] = 5] = \"LogLevel_Off\";\r\n})(LogLevel = exports.LogLevel || (exports.LogLevel = {}));\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9GcmFtZXdvcmsvc3JjL2xpdmUyZGN1YmlzbWZyYW1ld29yay50cy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL2xpdmUyZC8uL0ZyYW1ld29yay9zcmMvbGl2ZTJkY3ViaXNtZnJhbWV3b3JrLnRzP2M2NGUiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIENvcHlyaWdodChjKSBMaXZlMkQgSW5jLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4gKlxyXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSB0aGUgTGl2ZTJEIE9wZW4gU29mdHdhcmUgbGljZW5zZVxyXG4gKiB0aGF0IGNhbiBiZSBmb3VuZCBhdCBodHRwczovL3d3dy5saXZlMmQuY29tL2V1bGEvbGl2ZTJkLW9wZW4tc29mdHdhcmUtbGljZW5zZS1hZ3JlZW1lbnRfZW4uaHRtbC5cclxuICovXHJcblxyXG5pbXBvcnQgeyBMaXZlMkRDdWJpc21GcmFtZXdvcmsgYXMgY3ViaXNtanNvbiB9IGZyb20gJy4vdXRpbHMvY3ViaXNtanNvbic7XHJcbmltcG9ydCB7IExpdmUyREN1YmlzbUZyYW1ld29yayBhcyBjdWJpc21pZG1hbmFnZXIgfSBmcm9tICcuL2lkL2N1YmlzbWlkbWFuYWdlcic7XHJcbmltcG9ydCB7IExpdmUyREN1YmlzbUZyYW1ld29yayBhcyBjdWJpc21yZW5kZXJlciB9IGZyb20gJy4vcmVuZGVyaW5nL2N1YmlzbXJlbmRlcmVyJztcclxuaW1wb3J0IHtcclxuICBDdWJpc21Mb2dJbmZvLFxyXG4gIEN1YmlzbUxvZ1dhcm5pbmcsXHJcbiAgQ1NNX0FTU0VSVFxyXG59IGZyb20gJy4vdXRpbHMvY3ViaXNtZGVidWcnO1xyXG5pbXBvcnQgVmFsdWUgPSBjdWJpc21qc29uLlZhbHVlO1xyXG5pbXBvcnQgQ3ViaXNtSWRNYW5hZ2VyID0gY3ViaXNtaWRtYW5hZ2VyLkN1YmlzbUlkTWFuYWdlcjtcclxuaW1wb3J0IEN1YmlzbVJlbmRlcmVyID0gY3ViaXNtcmVuZGVyZXIuQ3ViaXNtUmVuZGVyZXI7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc3RydG9kKHM6IHN0cmluZywgZW5kUHRyOiBzdHJpbmdbXSk6IG51bWJlciB7XHJcbiAgbGV0IGluZGV4ID0gMDtcclxuICBmb3IgKGxldCBpID0gMTsgOyBpKyspIHtcclxuICAgIGNvbnN0IHRlc3RDOiBzdHJpbmcgPSBzLnNsaWNlKGkgLSAxLCBpKTtcclxuXHJcbiAgICAvLyDmjIfmlbDjg7vjg57jgqTjg4rjgrnjga7lj6/og73mgKfjgYzjgYLjgovjga7jgafjgrnjgq3jg4Pjg5fjgZnjgotcclxuICAgIGlmICh0ZXN0QyA9PSAnZScgfHwgdGVzdEMgPT0gJy0nIHx8IHRlc3RDID09ICdFJykge1xyXG4gICAgICBjb250aW51ZTtcclxuICAgIH0gLy8g5paH5a2X5YiX44Gu56+E5Zuy44KS5bqD44GS44Gm44GE44GPXHJcblxyXG4gICAgY29uc3QgdGVzdDogc3RyaW5nID0gcy5zdWJzdHJpbmcoMCwgaSk7XHJcbiAgICBjb25zdCBudW1iZXIgPSBOdW1iZXIodGVzdCk7XHJcbiAgICBpZiAoaXNOYU4obnVtYmVyKSkge1xyXG4gICAgICAvLyDmlbDlgKTjgajjgZfjgaboqo3orZjjgafjgY3jgarjgY/jgarjgaPjgZ/jga7jgafntYLkuoZcclxuICAgICAgYnJlYWs7XHJcbiAgICB9IC8vIOacgOW+jOOBq+aVsOWApOOBqOOBl+OBpuOBp+OBjeOBn2luZGV444KS5qC857SN44GX44Gm44GK44GPXHJcblxyXG4gICAgaW5kZXggPSBpO1xyXG4gIH1cclxuICBsZXQgZCA9IHBhcnNlRmxvYXQocyk7IC8vIOODkeODvOOCueOBl+OBn+aVsOWApFxyXG5cclxuICBpZiAoaXNOYU4oZCkpIHtcclxuICAgIC8vIOaVsOWApOOBqOOBl+OBpuiqjeitmOOBp+OBjeOBquOBj+OBquOBo+OBn+OBruOBp+e1guS6hlxyXG4gICAgZCA9IE5hTjtcclxuICB9XHJcblxyXG4gIGVuZFB0clswXSA9IHMuc2xpY2UoaW5kZXgpOyAvLyDlvozntprjga7mloflrZfliJdcclxuICByZXR1cm4gZDtcclxufVxyXG5cclxuZXhwb3J0IG5hbWVzcGFjZSBMaXZlMkRDdWJpc21GcmFtZXdvcmsge1xyXG4gIC8vIOODleOCoeOCpOODq+OCueOCs+ODvOODl+OBruWkieaVsOOCkuWIneacn+WMllxyXG5cclxuICBsZXQgc19pc1N0YXJ0ZWQgPSBmYWxzZTtcclxuICBsZXQgc19pc0luaXRpYWxpemVkID0gZmFsc2U7XHJcbiAgbGV0IHNfb3B0aW9uOiBPcHRpb24gPSBudWxsO1xyXG4gIGxldCBzX2N1YmlzbUlkTWFuYWdlcjogQ3ViaXNtSWRNYW5hZ2VyID0gbnVsbDtcclxuXHJcbiAgLyoqXHJcbiAgICogRnJhbWV3b3Jr5YaF44Gn5L2/44GG5a6a5pWw44Gu5a6j6KiAXHJcbiAgICovXHJcbiAgZXhwb3J0IG5hbWVzcGFjZSBDb25zdGFudCB7XHJcbiAgICBleHBvcnQgY29uc3QgdmVydGV4T2Zmc2V0ID0gMDsgLy8g44Oh44OD44K344Ol6aCC54K544Gu44Kq44OV44K744OD44OI5YCkXHJcbiAgICBleHBvcnQgY29uc3QgdmVydGV4U3RlcCA9IDI7IC8vIOODoeODg+OCt+ODpemggueCueOBruOCueODhuODg+ODl+WApFxyXG4gIH1cclxuXHJcbiAgZXhwb3J0IGZ1bmN0aW9uIGNzbURlbGV0ZTxUPihhZGRyZXNzOiBUKTogdm9pZCB7XHJcbiAgICBpZiAoIWFkZHJlc3MpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGFkZHJlc3MgPSB2b2lkIDA7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBMaXZlMkQgQ3ViaXNtIFNESyBPcmlnaW5hbCBXb3JrZmxvdyBTREvjga7jgqjjg7Pjg4jjg6rjg53jgqTjg7Pjg4hcclxuICAgKiDliKnnlKjplovlp4vmmYLjga9DdWJpc21GcmFtZXdvcmsuaW5pdGlhbGl6ZSgp44KS5ZG844Gz44CBQ3ViaXNtRnJhbWV3b3JrLmRpc3Bvc2UoKeOBp+e1guS6huOBmeOCi+OAglxyXG4gICAqL1xyXG4gIGV4cG9ydCBjbGFzcyBDdWJpc21GcmFtZXdvcmsge1xyXG4gICAgLyoqXHJcbiAgICAgKiBDdWJpc20gRnJhbWV3b3Jr44GuQVBJ44KS5L2/55So5Y+v6IO944Gr44GZ44KL44CCXHJcbiAgICAgKiAgQVBJ44KS5a6f6KGM44GZ44KL5YmN44Gr5b+F44Ga44GT44Gu6Zai5pWw44KS5a6f6KGM44GZ44KL44GT44Go44CCXHJcbiAgICAgKiAg5LiA5bqm5rqW5YKZ44GM5a6M5LqG44GX44Gm5Lul6ZmN44Gv44CB5YaN44Gz5a6f6KGM44GX44Gm44KC5YaF6YOo5Yem55CG44GM44K544Kt44OD44OX44GV44KM44G+44GZ44CCXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtICAgIG9wdGlvbiAgICAgIE9wdGlvbuOCr+ODqeOCueOBruOCpOODs+OCueOCv+ODs+OCuVxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm4gICDmupblgpnlh6bnkIbjgYzlrozkuobjgZfjgZ/jgol0cnVl44GM6L+U44KK44G+44GZ44CCXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzdGF0aWMgc3RhcnRVcChvcHRpb246IE9wdGlvbiA9IG51bGwpOiBib29sZWFuIHtcclxuICAgICAgaWYgKHNfaXNTdGFydGVkKSB7XHJcbiAgICAgICAgQ3ViaXNtTG9nSW5mbygnQ3ViaXNtRnJhbWV3b3JrLnN0YXJ0VXAoKSBpcyBhbHJlYWR5IGRvbmUuJyk7XHJcbiAgICAgICAgcmV0dXJuIHNfaXNTdGFydGVkO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBzX29wdGlvbiA9IG9wdGlvbjtcclxuXHJcbiAgICAgIGlmIChzX29wdGlvbiAhPSBudWxsKSB7XHJcbiAgICAgICAgTGl2ZTJEQ3ViaXNtQ29yZS5Mb2dnaW5nLmNzbVNldExvZ0Z1bmN0aW9uKHNfb3B0aW9uLmxvZ0Z1bmN0aW9uKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgc19pc1N0YXJ0ZWQgPSB0cnVlO1xyXG5cclxuICAgICAgLy8gTGl2ZTJEIEN1YmlzbSBDb3Jl44OQ44O844K444On44Oz5oOF5aCx44KS6KGo56S6XHJcbiAgICAgIGlmIChzX2lzU3RhcnRlZCkge1xyXG4gICAgICAgIGNvbnN0IHZlcnNpb246IG51bWJlciA9IExpdmUyREN1YmlzbUNvcmUuVmVyc2lvbi5jc21HZXRWZXJzaW9uKCk7XHJcbiAgICAgICAgY29uc3QgbWFqb3I6IG51bWJlciA9ICh2ZXJzaW9uICYgMHhmZjAwMDAwMCkgPj4gMjQ7XHJcbiAgICAgICAgY29uc3QgbWlub3I6IG51bWJlciA9ICh2ZXJzaW9uICYgMHgwMGZmMDAwMCkgPj4gMTY7XHJcbiAgICAgICAgY29uc3QgcGF0Y2g6IG51bWJlciA9IHZlcnNpb24gJiAweDAwMDBmZmZmO1xyXG4gICAgICAgIGNvbnN0IHZlcnNpb25OdW1iZXI6IG51bWJlciA9IHZlcnNpb247XHJcblxyXG4gICAgICAgIEN1YmlzbUxvZ0luZm8oXHJcbiAgICAgICAgICBgTGl2ZTJEIEN1YmlzbSBDb3JlIHZlcnNpb246IHswfS57MX0uezJ9ICh7M30pYCxcclxuICAgICAgICAgICgnMDAnICsgbWFqb3IpLnNsaWNlKC0yKSxcclxuICAgICAgICAgICgnMDAnICsgbWlub3IpLnNsaWNlKC0yKSxcclxuICAgICAgICAgICgnMDAwMCcgKyBwYXRjaCkuc2xpY2UoLTQpLFxyXG4gICAgICAgICAgdmVyc2lvbk51bWJlclxyXG4gICAgICAgICk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIEN1YmlzbUxvZ0luZm8oJ0N1YmlzbUZyYW1ld29yay5zdGFydFVwKCkgaXMgY29tcGxldGUuJyk7XHJcblxyXG4gICAgICByZXR1cm4gc19pc1N0YXJ0ZWQ7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTdGFydFVwKCnjgafliJ3mnJ/ljJbjgZfjgZ9DdWJpc21GcmFtZXdvcmvjga7lkITjg5Hjg6njg6Hjg7zjgr/jgpLjgq/jg6rjgqLjgZfjgb7jgZnjgIJcclxuICAgICAqIERpc3Bvc2UoKeOBl+OBn0N1YmlzbUZyYW1ld29ya+OCkuWGjeWIqeeUqOOBmeOCi+mam+OBq+WIqeeUqOOBl+OBpuOBj+OBoOOBleOBhOOAglxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc3RhdGljIGNsZWFuVXAoKTogdm9pZCB7XHJcbiAgICAgIHNfaXNTdGFydGVkID0gZmFsc2U7XHJcbiAgICAgIHNfaXNJbml0aWFsaXplZCA9IGZhbHNlO1xyXG4gICAgICBzX29wdGlvbiA9IG51bGw7XHJcbiAgICAgIHNfY3ViaXNtSWRNYW5hZ2VyID0gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqICDlsIZDdWJpc20gRnJhbWV3b3Jr5YaF55qE6LWE5rqQ5Yid5aeL5YyW77yM5L2/5qih5Z6L5aSE5LqO5Y+v5pi+56S654q25oCB44CCXHJcbiAgICAgKiAg6KaB5YaN5qyhSW5pdGlhbGl6Ze+8iO+8ie+8jOW/hemhu+WFiOaJp+ihjERpc3Bvc2XvvIjvvInjgIJcclxuICAgICAqL1xyXG4gICAgcHVibGljIHN0YXRpYyBpbml0aWFsaXplKCk6IHZvaWQge1xyXG4gICAgICBDU01fQVNTRVJUKHNfaXNTdGFydGVkKTtcclxuICAgICAgaWYgKCFzX2lzU3RhcnRlZCkge1xyXG4gICAgICAgIEN1YmlzbUxvZ1dhcm5pbmcoJ0N1YmlzbUZyYW1ld29yayBpcyBub3Qgc3RhcnRlZC4nKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIC0tLSBzX2lzSW5pdGlhbGl6ZWTjgavjgojjgovpgKPntprliJ3mnJ/ljJbjgqzjg7zjg4kgLS0tXHJcbiAgICAgIC8vIOmAo+e2muOBl+OBpuODquOCveODvOOCueeiuuS/neOBjOihjOOCj+OCjOOBquOBhOOCiOOBhuOBq+OBmeOCi+OAglxyXG4gICAgICAvLyDlho3luqZJbml0aWFsaXplKCnjgZnjgovjgavjga/lhYjjgatEaXNwb3NlKCnjgpLlrp/ooYzjgZnjgovlv4XopoHjgYzjgYLjgovjgIJcclxuICAgICAgaWYgKHNfaXNJbml0aWFsaXplZCkge1xyXG4gICAgICAgIEN1YmlzbUxvZ1dhcm5pbmcoXHJcbiAgICAgICAgICAnQ3ViaXNtRnJhbWV3b3JrLmluaXRpYWxpemUoKSBza2lwcGVkLCBhbHJlYWR5IGluaXRpYWxpemVkLidcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8tLS0tIHN0YXRpYyDliJ3mnJ/ljJYgLS0tLVxyXG4gICAgICBWYWx1ZS5zdGF0aWNJbml0aWFsaXplTm90Rm9yQ2xpZW50Q2FsbCgpO1xyXG5cclxuICAgICAgc19jdWJpc21JZE1hbmFnZXIgPSBuZXcgQ3ViaXNtSWRNYW5hZ2VyKCk7XHJcblxyXG4gICAgICBzX2lzSW5pdGlhbGl6ZWQgPSB0cnVlO1xyXG5cclxuICAgICAgQ3ViaXNtTG9nSW5mbygnQ3ViaXNtRnJhbWV3b3JrLmluaXRpYWxpemUoKSBpcyBjb21wbGV0ZS4nKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEN1YmlzbSBGcmFtZXdvcmvlhoXjga7lhajjgabjga7jg6rjgr3jg7zjgrnjgpLop6PmlL7jgZfjgb7jgZnjgIJcclxuICAgICAqICAgICAg44Gf44Gg44GX44CB5aSW6YOo44Gn56K65L+d44GV44KM44Gf44Oq44K944O844K544Gr44Gk44GE44Gm44Gv6Kej5pS+44GX44G+44Gb44KT44CCXHJcbiAgICAgKiAgICAgIOWklumDqOOBp+mBqeWIh+OBq+egtOajhOOBmeOCi+W/heimgeOBjOOBguOCiuOBvuOBmeOAglxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc3RhdGljIGRpc3Bvc2UoKTogdm9pZCB7XHJcbiAgICAgIENTTV9BU1NFUlQoc19pc1N0YXJ0ZWQpO1xyXG4gICAgICBpZiAoIXNfaXNTdGFydGVkKSB7XHJcbiAgICAgICAgQ3ViaXNtTG9nV2FybmluZygnQ3ViaXNtRnJhbWV3b3JrIGlzIG5vdCBzdGFydGVkLicpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gLS0tIHNfaXNJbml0aWFsaXplZOOBq+OCiOOCi+acquWIneacn+WMluino+aUvuOCrOODvOODiSAtLS1cclxuICAgICAgLy8gZGlzcG9zZSgp44GZ44KL44Gr44Gv5YWI44GraW5pdGlhbGl6ZSgp44KS5a6f6KGM44GZ44KL5b+F6KaB44GM44GC44KL44CCXHJcbiAgICAgIGlmICghc19pc0luaXRpYWxpemVkKSB7XHJcbiAgICAgICAgLy8gZmFsc2UuLi7jg6rjgr3jg7zjgrnmnKrnorrkv53jga7loLTlkIhcclxuICAgICAgICBDdWJpc21Mb2dXYXJuaW5nKCdDdWJpc21GcmFtZXdvcmsuZGlzcG9zZSgpIHNraXBwZWQsIG5vdCBpbml0aWFsaXplZC4nKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIFZhbHVlLnN0YXRpY1JlbGVhc2VOb3RGb3JDbGllbnRDYWxsKCk7XHJcblxyXG4gICAgICBzX2N1YmlzbUlkTWFuYWdlci5yZWxlYXNlKCk7XHJcbiAgICAgIHNfY3ViaXNtSWRNYW5hZ2VyID0gbnVsbDtcclxuXHJcbiAgICAgIC8vIOODrOODs+ODgOODqeOBrumdmeeahOODquOCveODvOOCue+8iOOCt+OCp+ODvOODgOODl+ODreOCsOODqeODoOS7lu+8ieOCkuino+aUvuOBmeOCi1xyXG4gICAgICBDdWJpc21SZW5kZXJlci5zdGF0aWNSZWxlYXNlKCk7XHJcblxyXG4gICAgICBzX2lzSW5pdGlhbGl6ZWQgPSBmYWxzZTtcclxuXHJcbiAgICAgIEN1YmlzbUxvZ0luZm8oJ0N1YmlzbUZyYW1ld29yay5kaXNwb3NlKCkgaXMgY29tcGxldGUuJyk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDdWJpc20gRnJhbWV3b3Jr44GuQVBJ44KS5L2/55So44GZ44KL5rqW5YKZ44GM5a6M5LqG44GX44Gf44GL44Gp44GG44GLXHJcbiAgICAgKiBAcmV0dXJuIEFQSeOCkuS9v+eUqOOBmeOCi+a6luWCmeOBjOWujOS6huOBl+OBpuOBhOOCjOOBsHRydWXjgYzov5Tjgorjgb7jgZnjgIJcclxuICAgICAqL1xyXG4gICAgcHVibGljIHN0YXRpYyBpc1N0YXJ0ZWQoKTogYm9vbGVhbiB7XHJcbiAgICAgIHJldHVybiBzX2lzU3RhcnRlZDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEN1YmlzbSBGcmFtZXdvcmvjga7jg6rjgr3jg7zjgrnliJ3mnJ/ljJbjgYzjgZnjgafjgavooYzjgo/jgozjgabjgYTjgovjgYvjganjgYbjgYtcclxuICAgICAqIEByZXR1cm4g44Oq44K944O844K556K65L+d44GM5a6M5LqG44GX44Gm44GE44KM44GwdHJ1ZeOBjOi/lOOCiuOBvuOBmVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc3RhdGljIGlzSW5pdGlhbGl6ZWQoKTogYm9vbGVhbiB7XHJcbiAgICAgIHJldHVybiBzX2lzSW5pdGlhbGl6ZWQ7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDb3JlIEFQSeOBq+ODkOOCpOODs+ODieOBl+OBn+ODreOCsOmWouaVsOOCkuWun+ihjOOBmeOCi1xyXG4gICAgICpcclxuICAgICAqIEBwcmFyYW0gbWVzc2FnZSDjg63jgrDjg6Hjg4Pjgrvjg7zjgrhcclxuICAgICAqL1xyXG4gICAgcHVibGljIHN0YXRpYyBjb3JlTG9nRnVuY3Rpb24obWVzc2FnZTogc3RyaW5nKTogdm9pZCB7XHJcbiAgICAgIC8vIFJldHVybiBpZiBsb2dnaW5nIG5vdCBwb3NzaWJsZS5cclxuICAgICAgaWYgKCFMaXZlMkRDdWJpc21Db3JlLkxvZ2dpbmcuY3NtR2V0TG9nRnVuY3Rpb24oKSkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgTGl2ZTJEQ3ViaXNtQ29yZS5Mb2dnaW5nLmNzbUdldExvZ0Z1bmN0aW9uKCkobWVzc2FnZSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDnj77lnKjjga7jg63jgrDlh7rlipvjg6zjg5njg6voqK3lrprjga7lgKTjgpLov5TjgZnjgIJcclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJuICDnj77lnKjjga7jg63jgrDlh7rlipvjg6zjg5njg6voqK3lrprjga7lgKRcclxuICAgICAqL1xyXG4gICAgcHVibGljIHN0YXRpYyBnZXRMb2dnaW5nTGV2ZWwoKTogTG9nTGV2ZWwge1xyXG4gICAgICBpZiAoc19vcHRpb24gIT0gbnVsbCkge1xyXG4gICAgICAgIHJldHVybiBzX29wdGlvbi5sb2dnaW5nTGV2ZWw7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIExvZ0xldmVsLkxvZ0xldmVsX09mZjtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIElE44Oe44ON44O844K444Oj44Gu44Kk44Oz44K544K/44Oz44K544KS5Y+W5b6X44GZ44KLXHJcbiAgICAgKiBAcmV0dXJuIEN1YmlzbU1hbmFnZXLjgq/jg6njgrnjga7jgqTjg7Pjgrnjgr/jg7PjgrlcclxuICAgICAqL1xyXG4gICAgcHVibGljIHN0YXRpYyBnZXRJZE1hbmFnZXIoKTogQ3ViaXNtSWRNYW5hZ2VyIHtcclxuICAgICAgcmV0dXJuIHNfY3ViaXNtSWRNYW5hZ2VyO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog6Z2Z55qE44Kv44Op44K544Go44GX44Gm5L2/55So44GZ44KLXHJcbiAgICAgKiDjgqTjg7Pjgrnjgr/jg7PjgrnljJbjgZXjgZvjgarjgYRcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBjb25zdHJ1Y3RvcigpIHt9XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgT3B0aW9uIHtcclxuICBsb2dGdW5jdGlvbjogTGl2ZTJEQ3ViaXNtQ29yZS5jc21Mb2dGdW5jdGlvbjsgLy8g44Ot44Kw5Ye65Yqb44Gu6Zai5pWw44Kq44OW44K444Kn44Kv44OIXHJcbiAgbG9nZ2luZ0xldmVsOiBMb2dMZXZlbDsgLy8g44Ot44Kw5Ye65Yqb44Os44OZ44Or44Gu6Kit5a6aXHJcbn1cclxuXHJcbi8qKlxyXG4gKiDjg63jgrDlh7rlipvjga7jg6zjg5njg6tcclxuICovXHJcbmV4cG9ydCBlbnVtIExvZ0xldmVsIHtcclxuICBMb2dMZXZlbF9WZXJib3NlID0gMCwgLy8g6Kmz57Sw44Ot44KwXHJcbiAgTG9nTGV2ZWxfRGVidWcsIC8vIOODh+ODkOODg+OCsOODreOCsFxyXG4gIExvZ0xldmVsX0luZm8sIC8vIEluZm/jg63jgrBcclxuICBMb2dMZXZlbF9XYXJuaW5nLCAvLyDorablkYrjg63jgrBcclxuICBMb2dMZXZlbF9FcnJvciwgLy8g44Ko44Op44O844Ot44KwXHJcbiAgTG9nTGV2ZWxfT2ZmIC8vIOODreOCsOWHuuWKm+eEoeWKuVxyXG59XHJcbiJdLCJtYXBwaW5ncyI6Ijs7O0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUE1QkE7QUE4QkE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQU5BO0FBWUE7QUErS0E7QUFBQTtBQXJLQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFPQTtBQUVBO0FBRUE7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFHQTtBQUNBO0FBR0E7QUFFQTtBQUVBO0FBRUE7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBR0E7QUFFQTtBQUVBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFPQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFPQTtBQUFBO0FBaExBO0FBaUxBO0FBRUE7QUFBQTtBQUdBO0FBQUE7QUFBQTtBQUhBO0FBUUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./Framework/src/live2dcubismframework.ts\n");

/***/ }),

/***/ "./Framework/src/math/cubismmath.ts":
/*!******************************************!*\
  !*** ./Framework/src/math/cubismmath.ts ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Live2DCubismFramework = void 0;\r\nvar cubismvector2_1 = __webpack_require__(/*! ./cubismvector2 */ \"./Framework/src/math/cubismvector2.ts\");\r\nvar CubismVector2 = cubismvector2_1.Live2DCubismFramework.CubismVector2;\r\nvar Live2DCubismFramework;\r\n(function (Live2DCubismFramework) {\r\n    var CubismMath = (function () {\r\n        function CubismMath() {\r\n        }\r\n        CubismMath.range = function (value, min, max) {\r\n            if (value < min) {\r\n                value = min;\r\n            }\r\n            else if (value > max) {\r\n                value = max;\r\n            }\r\n            return value;\r\n        };\r\n        CubismMath.sin = function (x) {\r\n            return Math.sin(x);\r\n        };\r\n        CubismMath.cos = function (x) {\r\n            return Math.cos(x);\r\n        };\r\n        CubismMath.abs = function (x) {\r\n            return Math.abs(x);\r\n        };\r\n        CubismMath.sqrt = function (x) {\r\n            return Math.sqrt(x);\r\n        };\r\n        CubismMath.getEasingSine = function (value) {\r\n            if (value < 0.0) {\r\n                return 0.0;\r\n            }\r\n            else if (value > 1.0) {\r\n                return 1.0;\r\n            }\r\n            return 0.5 - 0.5 * this.cos(value * Math.PI);\r\n        };\r\n        CubismMath.max = function (left, right) {\r\n            return left > right ? left : right;\r\n        };\r\n        CubismMath.min = function (left, right) {\r\n            return left > right ? right : left;\r\n        };\r\n        CubismMath.degreesToRadian = function (degrees) {\r\n            return (degrees / 180.0) * Math.PI;\r\n        };\r\n        CubismMath.radianToDegrees = function (radian) {\r\n            return (radian * 180.0) / Math.PI;\r\n        };\r\n        CubismMath.directionToRadian = function (from, to) {\r\n            var q1 = Math.atan2(to.y, to.x);\r\n            var q2 = Math.atan2(from.y, from.x);\r\n            var ret = q1 - q2;\r\n            while (ret < -Math.PI) {\r\n                ret += Math.PI * 2.0;\r\n            }\r\n            while (ret > Math.PI) {\r\n                ret -= Math.PI * 2.0;\r\n            }\r\n            return ret;\r\n        };\r\n        CubismMath.directionToDegrees = function (from, to) {\r\n            var radian = this.directionToRadian(from, to);\r\n            var degree = this.radianToDegrees(radian);\r\n            if (to.x - from.x > 0.0) {\r\n                degree = -degree;\r\n            }\r\n            return degree;\r\n        };\r\n        CubismMath.radianToDirection = function (totalAngle) {\r\n            var ret = new CubismVector2();\r\n            ret.x = this.sin(totalAngle);\r\n            ret.y = this.cos(totalAngle);\r\n            return ret;\r\n        };\r\n        return CubismMath;\r\n    }());\r\n    Live2DCubismFramework.CubismMath = CubismMath;\r\n})(Live2DCubismFramework = exports.Live2DCubismFramework || (exports.Live2DCubismFramework = {}));\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9GcmFtZXdvcmsvc3JjL21hdGgvY3ViaXNtbWF0aC50cy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL2xpdmUyZC8uL0ZyYW1ld29yay9zcmMvbWF0aC9jdWJpc21tYXRoLnRzP2Q0ZDYiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIENvcHlyaWdodChjKSBMaXZlMkQgSW5jLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4gKlxyXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSB0aGUgTGl2ZTJEIE9wZW4gU29mdHdhcmUgbGljZW5zZVxyXG4gKiB0aGF0IGNhbiBiZSBmb3VuZCBhdCBodHRwczovL3d3dy5saXZlMmQuY29tL2V1bGEvbGl2ZTJkLW9wZW4tc29mdHdhcmUtbGljZW5zZS1hZ3JlZW1lbnRfZW4uaHRtbC5cclxuICovXHJcblxyXG5pbXBvcnQgeyBMaXZlMkRDdWJpc21GcmFtZXdvcmsgYXMgY3ViaXNtdmVjdG9yMiB9IGZyb20gJy4vY3ViaXNtdmVjdG9yMic7XHJcbmltcG9ydCBDdWJpc21WZWN0b3IyID0gY3ViaXNtdmVjdG9yMi5DdWJpc21WZWN0b3IyO1xyXG5cclxuZXhwb3J0IG5hbWVzcGFjZSBMaXZlMkRDdWJpc21GcmFtZXdvcmsge1xyXG4gIC8qKlxyXG4gICAqIOaVsOWApOioiOeul+OBquOBqeOBq+S9v+eUqOOBmeOCi+ODpuODvOODhuOCo+ODquODhuOCo+OCr+ODqeOCuVxyXG4gICAqL1xyXG4gIGV4cG9ydCBjbGFzcyBDdWJpc21NYXRoIHtcclxuICAgIC8qKlxyXG4gICAgICog56ys5LiA5byV5pWw44Gu5YCk44KS5pyA5bCP5YCk44Go5pyA5aSn5YCk44Gu56+E5Zuy44Gr5Y+O44KB44Gf5YCk44KS6L+U44GZXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHZhbHVlIOWPjuOCgeOCieOCjOOCi+WApFxyXG4gICAgICogQHBhcmFtIG1pbiAgIOevhOWbsuOBruacgOWwj+WApFxyXG4gICAgICogQHBhcmFtIG1heCAgIOevhOWbsuOBruacgOWkp+WApFxyXG4gICAgICogQHJldHVybiDmnIDlsI/lgKTjgajmnIDlpKflgKTjga7nr4Tlm7Ljgavlj47jgoHjgZ/lgKRcclxuICAgICAqL1xyXG4gICAgc3RhdGljIHJhbmdlKHZhbHVlOiBudW1iZXIsIG1pbjogbnVtYmVyLCBtYXg6IG51bWJlcik6IG51bWJlciB7XHJcbiAgICAgIGlmICh2YWx1ZSA8IG1pbikge1xyXG4gICAgICAgIHZhbHVlID0gbWluO1xyXG4gICAgICB9IGVsc2UgaWYgKHZhbHVlID4gbWF4KSB7XHJcbiAgICAgICAgdmFsdWUgPSBtYXg7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOOCteOCpOODs+mWouaVsOOBruWApOOCkuaxguOCgeOCi1xyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB4IOinkuW6puWApO+8iOODqeOCuOOCouODs++8iVxyXG4gICAgICogQHJldHVybiDjgrXjgqTjg7PplqLmlbBzaW4oeCnjga7lgKRcclxuICAgICAqL1xyXG4gICAgc3RhdGljIHNpbih4OiBudW1iZXIpOiBudW1iZXIge1xyXG4gICAgICByZXR1cm4gTWF0aC5zaW4oeCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDjgrPjgrXjgqTjg7PplqLmlbDjga7lgKTjgpLmsYLjgoHjgotcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0geCDop5LluqblgKQo44Op44K444Ki44OzKVxyXG4gICAgICogQHJldHVybiDjgrPjgrXjgqTjg7PplqLmlbBjb3MoeCnjga7lgKRcclxuICAgICAqL1xyXG4gICAgc3RhdGljIGNvcyh4OiBudW1iZXIpOiBudW1iZXIge1xyXG4gICAgICByZXR1cm4gTWF0aC5jb3MoeCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDlgKTjga7ntbblr77lgKTjgpLmsYLjgoHjgotcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0geCDntbblr77lgKTjgpLmsYLjgoHjgovlgKRcclxuICAgICAqIEByZXR1cm4g5YCk44Gu57W25a++5YCkXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBhYnMoeDogbnVtYmVyKTogbnVtYmVyIHtcclxuICAgICAgcmV0dXJuIE1hdGguYWJzKHgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5bmz5pa55qC5KOODq+ODvOODiCnjgpLmsYLjgoHjgotcclxuICAgICAqIEBwYXJhbSB4IC0+IOW5s+aWueagueOCkuaxguOCgeOCi+WApFxyXG4gICAgICogQHJldHVybiDlgKTjga7lubPmlrnmoLlcclxuICAgICAqL1xyXG4gICAgc3RhdGljIHNxcnQoeDogbnVtYmVyKTogbnVtYmVyIHtcclxuICAgICAgcmV0dXJuIE1hdGguc3FydCh4KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOOCpOODvOOCuOODs+OCsOWHpueQhuOBleOCjOOBn+OCteOCpOODs+OCkuaxguOCgeOCi1xyXG4gICAgICog44OV44Kn44O844OJ44Kk44Oz44O744Ki44Km44OI5pmC44Gu44Kk44O844K444Oz44Kw44Gr5Yip55So44Gn44GN44KLXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHZhbHVlIOOCpOODvOOCuOODs+OCsOOCkuihjOOBhuWApFxyXG4gICAgICogQHJldHVybiDjgqTjg7zjgrjjg7PjgrDlh6bnkIbjgZXjgozjgZ/jgrXjgqTjg7PlgKRcclxuICAgICAqL1xyXG4gICAgc3RhdGljIGdldEVhc2luZ1NpbmUodmFsdWU6IG51bWJlcik6IG51bWJlciB7XHJcbiAgICAgIGlmICh2YWx1ZSA8IDAuMCkge1xyXG4gICAgICAgIHJldHVybiAwLjA7XHJcbiAgICAgIH0gZWxzZSBpZiAodmFsdWUgPiAxLjApIHtcclxuICAgICAgICByZXR1cm4gMS4wO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gMC41IC0gMC41ICogdGhpcy5jb3ModmFsdWUgKiBNYXRoLlBJKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOWkp+OBjeOBhOaWueOBruWApOOCkui/lOOBmVxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBsZWZ0IOW3pui+uuOBruWApFxyXG4gICAgICogQHBhcmFtIHJpZ2h0IOWPs+i+uuOBruWApFxyXG4gICAgICogQHJldHVybiDlpKfjgY3jgYTmlrnjga7lgKRcclxuICAgICAqL1xyXG4gICAgc3RhdGljIG1heChsZWZ0OiBudW1iZXIsIHJpZ2h0OiBudW1iZXIpOiBudW1iZXIge1xyXG4gICAgICByZXR1cm4gbGVmdCA+IHJpZ2h0ID8gbGVmdCA6IHJpZ2h0O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5bCP44GV44GE5pa544Gu5YCk44KS6L+U44GZXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGxlZnQgIOW3pui+uuOBruWApFxyXG4gICAgICogQHBhcmFtIHJpZ2h0IOWPs+i+uuOBruWApFxyXG4gICAgICogQHJldHVybiDlsI/jgZXjgYTmlrnjga7lgKRcclxuICAgICAqL1xyXG4gICAgc3RhdGljIG1pbihsZWZ0OiBudW1iZXIsIHJpZ2h0OiBudW1iZXIpOiBudW1iZXIge1xyXG4gICAgICByZXR1cm4gbGVmdCA+IHJpZ2h0ID8gcmlnaHQgOiBsZWZ0O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog6KeS5bqm5YCk44KS44Op44K444Ki44Oz5YCk44Gr5aSJ5o+b44GZ44KLXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGRlZ3JlZXMgICDop5LluqblgKRcclxuICAgICAqIEByZXR1cm4g6KeS5bqm5YCk44GL44KJ5aSJ5o+b44GX44Gf44Op44K444Ki44Oz5YCkXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBkZWdyZWVzVG9SYWRpYW4oZGVncmVlczogbnVtYmVyKTogbnVtYmVyIHtcclxuICAgICAgcmV0dXJuIChkZWdyZWVzIC8gMTgwLjApICogTWF0aC5QSTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOODqeOCuOOCouODs+WApOOCkuinkuW6puWApOOBq+WkieaPm+OBmeOCi1xyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSByYWRpYW4gICAg44Op44K444Ki44Oz5YCkXHJcbiAgICAgKiBAcmV0dXJuIOODqeOCuOOCouODs+WApOOBi+OCieWkieaPm+OBl+OBn+inkuW6puWApFxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgcmFkaWFuVG9EZWdyZWVzKHJhZGlhbjogbnVtYmVyKTogbnVtYmVyIHtcclxuICAgICAgcmV0dXJuIChyYWRpYW4gKiAxODAuMCkgLyBNYXRoLlBJO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog77yS44Gk44Gu44OZ44Kv44OI44Or44GL44KJ44Op44K444Ki44Oz5YCk44KS5rGC44KB44KLXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGZyb20gIOWni+eCueODmeOCr+ODiOODq1xyXG4gICAgICogQHBhcmFtIHRvICAgIOe1gueCueODmeOCr+ODiOODq1xyXG4gICAgICogQHJldHVybiDjg6njgrjjgqLjg7PlgKTjgYvjgonmsYLjgoHjgZ/mlrnlkJHjg5njgq/jg4jjg6tcclxuICAgICAqL1xyXG4gICAgc3RhdGljIGRpcmVjdGlvblRvUmFkaWFuKGZyb206IEN1YmlzbVZlY3RvcjIsIHRvOiBDdWJpc21WZWN0b3IyKTogbnVtYmVyIHtcclxuICAgICAgY29uc3QgcTE6IG51bWJlciA9IE1hdGguYXRhbjIodG8ueSwgdG8ueCk7XHJcbiAgICAgIGNvbnN0IHEyOiBudW1iZXIgPSBNYXRoLmF0YW4yKGZyb20ueSwgZnJvbS54KTtcclxuXHJcbiAgICAgIGxldCByZXQ6IG51bWJlciA9IHExIC0gcTI7XHJcblxyXG4gICAgICB3aGlsZSAocmV0IDwgLU1hdGguUEkpIHtcclxuICAgICAgICByZXQgKz0gTWF0aC5QSSAqIDIuMDtcclxuICAgICAgfVxyXG5cclxuICAgICAgd2hpbGUgKHJldCA+IE1hdGguUEkpIHtcclxuICAgICAgICByZXQgLT0gTWF0aC5QSSAqIDIuMDtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIHJldDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIO+8kuOBpOOBruODmeOCr+ODiOODq+OBi+OCieinkuW6puWApOOCkuaxguOCgeOCi1xyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBmcm9tICDlp4vngrnjg5njgq/jg4jjg6tcclxuICAgICAqIEBwYXJhbSB0byAgICDntYLngrnjg5njgq/jg4jjg6tcclxuICAgICAqIEByZXR1cm4g6KeS5bqm5YCk44GL44KJ5rGC44KB44Gf5pa55ZCR44OZ44Kv44OI44OrXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBkaXJlY3Rpb25Ub0RlZ3JlZXMoZnJvbTogQ3ViaXNtVmVjdG9yMiwgdG86IEN1YmlzbVZlY3RvcjIpOiBudW1iZXIge1xyXG4gICAgICBjb25zdCByYWRpYW46IG51bWJlciA9IHRoaXMuZGlyZWN0aW9uVG9SYWRpYW4oZnJvbSwgdG8pO1xyXG4gICAgICBsZXQgZGVncmVlOiBudW1iZXIgPSB0aGlzLnJhZGlhblRvRGVncmVlcyhyYWRpYW4pO1xyXG5cclxuICAgICAgaWYgKHRvLnggLSBmcm9tLnggPiAwLjApIHtcclxuICAgICAgICBkZWdyZWUgPSAtZGVncmVlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gZGVncmVlO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog44Op44K444Ki44Oz5YCk44KS5pa55ZCR44OZ44Kv44OI44Or44Gr5aSJ5o+b44GZ44KL44CCXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHRvdGFsQW5nbGUgICAg44Op44K444Ki44Oz5YCkXHJcbiAgICAgKiBAcmV0dXJuIOODqeOCuOOCouODs+WApOOBi+OCieWkieaPm+OBl+OBn+aWueWQkeODmeOCr+ODiOODq1xyXG4gICAgICovXHJcblxyXG4gICAgc3RhdGljIHJhZGlhblRvRGlyZWN0aW9uKHRvdGFsQW5nbGU6IG51bWJlcik6IEN1YmlzbVZlY3RvcjIge1xyXG4gICAgICBjb25zdCByZXQ6IEN1YmlzbVZlY3RvcjIgPSBuZXcgQ3ViaXNtVmVjdG9yMigpO1xyXG5cclxuICAgICAgcmV0LnggPSB0aGlzLnNpbih0b3RhbEFuZ2xlKTtcclxuICAgICAgcmV0LnkgPSB0aGlzLmNvcyh0b3RhbEFuZ2xlKTtcclxuXHJcbiAgICAgIHJldHVybiByZXQ7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDjgrPjg7Pjgrnjg4jjg6njgq/jgr9cclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBjb25zdHJ1Y3RvcigpIHt9XHJcbiAgfVxyXG59XHJcbiJdLCJtYXBwaW5ncyI6Ijs7O0FBT0E7QUFDQTtBQUVBO0FBQUE7QUFJQTtBQWtMQTtBQUFBO0FBektBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQVFBO0FBQ0E7QUFDQTtBQVFBO0FBQ0E7QUFDQTtBQVFBO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQVNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQVNBO0FBQ0E7QUFDQTtBQVNBO0FBQ0E7QUFDQTtBQVFBO0FBQ0E7QUFDQTtBQVFBO0FBQ0E7QUFDQTtBQVNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQVNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFTQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFNQTtBQUFBO0FBbkxBO0FBb0xBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./Framework/src/math/cubismmath.ts\n");

/***/ }),

/***/ "./Framework/src/math/cubismmatrix44.ts":
/*!**********************************************!*\
  !*** ./Framework/src/math/cubismmatrix44.ts ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Live2DCubismFramework = void 0;\r\nvar Live2DCubismFramework;\r\n(function (Live2DCubismFramework) {\r\n    var CubismMatrix44 = (function () {\r\n        function CubismMatrix44() {\r\n            this._tr = new Float32Array(16);\r\n            this.loadIdentity();\r\n        }\r\n        CubismMatrix44.multiply = function (a, b, dst) {\r\n            var c = new Float32Array([\r\n                0.0,\r\n                0.0,\r\n                0.0,\r\n                0.0,\r\n                0.0,\r\n                0.0,\r\n                0.0,\r\n                0.0,\r\n                0.0,\r\n                0.0,\r\n                0.0,\r\n                0.0,\r\n                0.0,\r\n                0.0,\r\n                0.0,\r\n                0.0\r\n            ]);\r\n            var n = 4;\r\n            for (var i = 0; i < n; ++i) {\r\n                for (var j = 0; j < n; ++j) {\r\n                    for (var k = 0; k < n; ++k) {\r\n                        c[j + i * 4] += a[k + i * 4] * b[j + k * 4];\r\n                    }\r\n                }\r\n            }\r\n            for (var i = 0; i < 16; ++i) {\r\n                dst[i] = c[i];\r\n            }\r\n        };\r\n        CubismMatrix44.prototype.loadIdentity = function () {\r\n            var c = new Float32Array([\r\n                1.0,\r\n                0.0,\r\n                0.0,\r\n                0.0,\r\n                0.0,\r\n                1.0,\r\n                0.0,\r\n                0.0,\r\n                0.0,\r\n                0.0,\r\n                1.0,\r\n                0.0,\r\n                0.0,\r\n                0.0,\r\n                0.0,\r\n                1.0\r\n            ]);\r\n            this.setMatrix(c);\r\n        };\r\n        CubismMatrix44.prototype.setMatrix = function (tr) {\r\n            for (var i = 0; i < 16; ++i) {\r\n                this._tr[i] = tr[i];\r\n            }\r\n        };\r\n        CubismMatrix44.prototype.getArray = function () {\r\n            return this._tr;\r\n        };\r\n        CubismMatrix44.prototype.getScaleX = function () {\r\n            return this._tr[0];\r\n        };\r\n        CubismMatrix44.prototype.getScaleY = function () {\r\n            return this._tr[5];\r\n        };\r\n        CubismMatrix44.prototype.getTranslateX = function () {\r\n            return this._tr[12];\r\n        };\r\n        CubismMatrix44.prototype.getTranslateY = function () {\r\n            return this._tr[13];\r\n        };\r\n        CubismMatrix44.prototype.transformX = function (src) {\r\n            return this._tr[0] * src + this._tr[12];\r\n        };\r\n        CubismMatrix44.prototype.transformY = function (src) {\r\n            return this._tr[5] * src + this._tr[13];\r\n        };\r\n        CubismMatrix44.prototype.invertTransformX = function (src) {\r\n            return (src - this._tr[12]) / this._tr[0];\r\n        };\r\n        CubismMatrix44.prototype.invertTransformY = function (src) {\r\n            return (src - this._tr[13]) / this._tr[5];\r\n        };\r\n        CubismMatrix44.prototype.translateRelative = function (x, y) {\r\n            var tr1 = new Float32Array([\r\n                1.0,\r\n                0.0,\r\n                0.0,\r\n                0.0,\r\n                0.0,\r\n                1.0,\r\n                0.0,\r\n                0.0,\r\n                0.0,\r\n                0.0,\r\n                1.0,\r\n                0.0,\r\n                x,\r\n                y,\r\n                0.0,\r\n                1.0\r\n            ]);\r\n            CubismMatrix44.multiply(tr1, this._tr, this._tr);\r\n        };\r\n        CubismMatrix44.prototype.translate = function (x, y) {\r\n            this._tr[12] = x;\r\n            this._tr[13] = y;\r\n        };\r\n        CubismMatrix44.prototype.translateX = function (x) {\r\n            this._tr[12] = x;\r\n        };\r\n        CubismMatrix44.prototype.translateY = function (y) {\r\n            this._tr[13] = y;\r\n        };\r\n        CubismMatrix44.prototype.scaleRelative = function (x, y) {\r\n            var tr1 = new Float32Array([\r\n                x,\r\n                0.0,\r\n                0.0,\r\n                0.0,\r\n                0.0,\r\n                y,\r\n                0.0,\r\n                0.0,\r\n                0.0,\r\n                0.0,\r\n                1.0,\r\n                0.0,\r\n                0.0,\r\n                0.0,\r\n                0.0,\r\n                1.0\r\n            ]);\r\n            CubismMatrix44.multiply(tr1, this._tr, this._tr);\r\n        };\r\n        CubismMatrix44.prototype.scale = function (x, y) {\r\n            this._tr[0] = x;\r\n            this._tr[5] = y;\r\n        };\r\n        CubismMatrix44.prototype.multiplyByMatrix = function (m) {\r\n            CubismMatrix44.multiply(m.getArray(), this._tr, this._tr);\r\n        };\r\n        CubismMatrix44.prototype.clone = function () {\r\n            var cloneMatrix = new CubismMatrix44();\r\n            for (var i = 0; i < this._tr.length; i++) {\r\n                cloneMatrix._tr[i] = this._tr[i];\r\n            }\r\n            return cloneMatrix;\r\n        };\r\n        return CubismMatrix44;\r\n    }());\r\n    Live2DCubismFramework.CubismMatrix44 = CubismMatrix44;\r\n})(Live2DCubismFramework = exports.Live2DCubismFramework || (exports.Live2DCubismFramework = {}));\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9GcmFtZXdvcmsvc3JjL21hdGgvY3ViaXNtbWF0cml4NDQudHMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9saXZlMmQvLi9GcmFtZXdvcmsvc3JjL21hdGgvY3ViaXNtbWF0cml4NDQudHM/YzZiNSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogQ29weXJpZ2h0KGMpIExpdmUyRCBJbmMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbiAqXHJcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IHRoZSBMaXZlMkQgT3BlbiBTb2Z0d2FyZSBsaWNlbnNlXHJcbiAqIHRoYXQgY2FuIGJlIGZvdW5kIGF0IGh0dHBzOi8vd3d3LmxpdmUyZC5jb20vZXVsYS9saXZlMmQtb3Blbi1zb2Z0d2FyZS1saWNlbnNlLWFncmVlbWVudF9lbi5odG1sLlxyXG4gKi9cclxuXHJcbmV4cG9ydCBuYW1lc3BhY2UgTGl2ZTJEQ3ViaXNtRnJhbWV3b3JrIHtcclxuICAvKipcclxuICAgKiA0eDTjga7ooYzliJdcclxuICAgKlxyXG4gICAqIDR4NOihjOWIl+OBruS+v+WIqeOCr+ODqeOCueOAglxyXG4gICAqL1xyXG4gIGV4cG9ydCBjbGFzcyBDdWJpc21NYXRyaXg0NCB7XHJcbiAgICAvKipcclxuICAgICAqIOOCs+ODs+OCueODiOODqeOCr+OCv1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgIHRoaXMuX3RyID0gbmV3IEZsb2F0MzJBcnJheSgxNik7IC8vIDQgKiA044Gu44K144Kk44K6XHJcbiAgICAgIHRoaXMubG9hZElkZW50aXR5KCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDlj5fjgZHlj5bjgaPjgZ/vvJLjgaTjga7ooYzliJfjga7kuZfnrpfjgpLooYzjgYbjgIJcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gYSDooYzliJdhXHJcbiAgICAgKiBAcGFyYW0gYiDooYzliJdiXHJcbiAgICAgKiBAcmV0dXJuIOS5l+eul+e1kOaenOOBruihjOWIl1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc3RhdGljIG11bHRpcGx5KFxyXG4gICAgICBhOiBGbG9hdDMyQXJyYXksXHJcbiAgICAgIGI6IEZsb2F0MzJBcnJheSxcclxuICAgICAgZHN0OiBGbG9hdDMyQXJyYXlcclxuICAgICk6IHZvaWQge1xyXG4gICAgICBjb25zdCBjOiBGbG9hdDMyQXJyYXkgPSBuZXcgRmxvYXQzMkFycmF5KFtcclxuICAgICAgICAwLjAsXHJcbiAgICAgICAgMC4wLFxyXG4gICAgICAgIDAuMCxcclxuICAgICAgICAwLjAsXHJcbiAgICAgICAgMC4wLFxyXG4gICAgICAgIDAuMCxcclxuICAgICAgICAwLjAsXHJcbiAgICAgICAgMC4wLFxyXG4gICAgICAgIDAuMCxcclxuICAgICAgICAwLjAsXHJcbiAgICAgICAgMC4wLFxyXG4gICAgICAgIDAuMCxcclxuICAgICAgICAwLjAsXHJcbiAgICAgICAgMC4wLFxyXG4gICAgICAgIDAuMCxcclxuICAgICAgICAwLjBcclxuICAgICAgXSk7XHJcblxyXG4gICAgICBjb25zdCBuID0gNDtcclxuXHJcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbjsgKytpKSB7XHJcbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBuOyArK2opIHtcclxuICAgICAgICAgIGZvciAobGV0IGsgPSAwOyBrIDwgbjsgKytrKSB7XHJcbiAgICAgICAgICAgIGNbaiArIGkgKiA0XSArPSBhW2sgKyBpICogNF0gKiBiW2ogKyBrICogNF07XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDE2OyArK2kpIHtcclxuICAgICAgICBkc3RbaV0gPSBjW2ldO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDljZjkvY3ooYzliJfjgavliJ3mnJ/ljJbjgZnjgotcclxuICAgICAqL1xyXG4gICAgcHVibGljIGxvYWRJZGVudGl0eSgpOiB2b2lkIHtcclxuICAgICAgY29uc3QgYzogRmxvYXQzMkFycmF5ID0gbmV3IEZsb2F0MzJBcnJheShbXHJcbiAgICAgICAgMS4wLFxyXG4gICAgICAgIDAuMCxcclxuICAgICAgICAwLjAsXHJcbiAgICAgICAgMC4wLFxyXG4gICAgICAgIDAuMCxcclxuICAgICAgICAxLjAsXHJcbiAgICAgICAgMC4wLFxyXG4gICAgICAgIDAuMCxcclxuICAgICAgICAwLjAsXHJcbiAgICAgICAgMC4wLFxyXG4gICAgICAgIDEuMCxcclxuICAgICAgICAwLjAsXHJcbiAgICAgICAgMC4wLFxyXG4gICAgICAgIDAuMCxcclxuICAgICAgICAwLjAsXHJcbiAgICAgICAgMS4wXHJcbiAgICAgIF0pO1xyXG5cclxuICAgICAgdGhpcy5zZXRNYXRyaXgoYyk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDooYzliJfjgpLoqK3lrppcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gdHIgMTblgIvjga7mta7li5XlsI/mlbDngrnmlbDjgafooajjgZXjgozjgos0eDTjga7ooYzliJdcclxuICAgICAqL1xyXG4gICAgcHVibGljIHNldE1hdHJpeCh0cjogRmxvYXQzMkFycmF5KTogdm9pZCB7XHJcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMTY7ICsraSkge1xyXG4gICAgICAgIHRoaXMuX3RyW2ldID0gdHJbaV07XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOihjOWIl+OCkua1ruWLleWwj+aVsOeCueaVsOOBrumFjeWIl+OBp+WPluW+l1xyXG4gICAgICpcclxuICAgICAqIEByZXR1cm4gMTblgIvjga7mta7li5XlsI/mlbDngrnmlbDjgafooajjgZXjgozjgos0eDTjga7ooYzliJdcclxuICAgICAqL1xyXG4gICAgcHVibGljIGdldEFycmF5KCk6IEZsb2F0MzJBcnJheSB7XHJcbiAgICAgIHJldHVybiB0aGlzLl90cjtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFjou7jjga7mi6HlpKfnjofjgpLlj5blvpdcclxuICAgICAqIEByZXR1cm4gWOi7uOOBruaLoeWkp+eOh1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2V0U2NhbGVYKCk6IG51bWJlciB7XHJcbiAgICAgIHJldHVybiB0aGlzLl90clswXTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFnou7jjga7mi6HlpKfnjofjgpLlj5blvpfjgZnjgotcclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJuIFnou7jjga7mi6HlpKfnjodcclxuICAgICAqL1xyXG4gICAgcHVibGljIGdldFNjYWxlWSgpOiBudW1iZXIge1xyXG4gICAgICByZXR1cm4gdGhpcy5fdHJbNV07XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBY6Lu444Gu56e75YuV6YeP44KS5Y+W5b6XXHJcbiAgICAgKiBAcmV0dXJuIFjou7jjga7np7vli5Xph49cclxuICAgICAqL1xyXG4gICAgcHVibGljIGdldFRyYW5zbGF0ZVgoKTogbnVtYmVyIHtcclxuICAgICAgcmV0dXJuIHRoaXMuX3RyWzEyXTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFnou7jjga7np7vli5Xph4/jgpLlj5blvpdcclxuICAgICAqIEByZXR1cm4gWei7uOOBruenu+WLlemHj1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2V0VHJhbnNsYXRlWSgpOiBudW1iZXIge1xyXG4gICAgICByZXR1cm4gdGhpcy5fdHJbMTNdO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogWOi7uOOBruWApOOCkuePvuWcqOOBruihjOWIl+OBp+ioiOeul1xyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBzcmMgWOi7uOOBruWApFxyXG4gICAgICogQHJldHVybiDnj77lnKjjga7ooYzliJfjgafoqIjnrpfjgZXjgozjgZ9Y6Lu444Gu5YCkXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyB0cmFuc2Zvcm1YKHNyYzogbnVtYmVyKTogbnVtYmVyIHtcclxuICAgICAgcmV0dXJuIHRoaXMuX3RyWzBdICogc3JjICsgdGhpcy5fdHJbMTJdO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogWei7uOOBruWApOOCkuePvuWcqOOBruihjOWIl+OBp+ioiOeul1xyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBzcmMgWei7uOOBruWApFxyXG4gICAgICogQHJldHVybiDnj77lnKjjga7ooYzliJfjgafoqIjnrpfjgZXjgozjgZ9Z6Lu444Gu5YCkXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyB0cmFuc2Zvcm1ZKHNyYzogbnVtYmVyKTogbnVtYmVyIHtcclxuICAgICAgcmV0dXJuIHRoaXMuX3RyWzVdICogc3JjICsgdGhpcy5fdHJbMTNdO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogWOi7uOOBruWApOOCkuePvuWcqOOBruihjOWIl+OBp+mAhuioiOeul1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgaW52ZXJ0VHJhbnNmb3JtWChzcmM6IG51bWJlcik6IG51bWJlciB7XHJcbiAgICAgIHJldHVybiAoc3JjIC0gdGhpcy5fdHJbMTJdKSAvIHRoaXMuX3RyWzBdO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogWei7uOOBruWApOOCkuePvuWcqOOBruihjOWIl+OBp+mAhuioiOeul1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgaW52ZXJ0VHJhbnNmb3JtWShzcmM6IG51bWJlcik6IG51bWJlciB7XHJcbiAgICAgIHJldHVybiAoc3JjIC0gdGhpcy5fdHJbMTNdKSAvIHRoaXMuX3RyWzVdO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog54++5Zyo44Gu6KGM5YiX44Gu5L2N572u44KS6LW354K544Gr44GX44Gm56e75YuVXHJcbiAgICAgKlxyXG4gICAgICog54++5Zyo44Gu6KGM5YiX44Gu5L2N572u44KS6LW354K544Gr44GX44Gm55u45a++55qE44Gr56e75YuV44GZ44KL44CCXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHggWOi7uOOBruenu+WLlemHj1xyXG4gICAgICogQHBhcmFtIHkgWei7uOOBruenu+WLlemHj1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgdHJhbnNsYXRlUmVsYXRpdmUoeDogbnVtYmVyLCB5OiBudW1iZXIpOiB2b2lkIHtcclxuICAgICAgY29uc3QgdHIxOiBGbG9hdDMyQXJyYXkgPSBuZXcgRmxvYXQzMkFycmF5KFtcclxuICAgICAgICAxLjAsXHJcbiAgICAgICAgMC4wLFxyXG4gICAgICAgIDAuMCxcclxuICAgICAgICAwLjAsXHJcbiAgICAgICAgMC4wLFxyXG4gICAgICAgIDEuMCxcclxuICAgICAgICAwLjAsXHJcbiAgICAgICAgMC4wLFxyXG4gICAgICAgIDAuMCxcclxuICAgICAgICAwLjAsXHJcbiAgICAgICAgMS4wLFxyXG4gICAgICAgIDAuMCxcclxuICAgICAgICB4LFxyXG4gICAgICAgIHksXHJcbiAgICAgICAgMC4wLFxyXG4gICAgICAgIDEuMFxyXG4gICAgICBdKTtcclxuXHJcbiAgICAgIEN1YmlzbU1hdHJpeDQ0Lm11bHRpcGx5KHRyMSwgdGhpcy5fdHIsIHRoaXMuX3RyKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOePvuWcqOOBruihjOWIl+OBruS9jee9ruOCkuenu+WLlVxyXG4gICAgICpcclxuICAgICAqIOePvuWcqOOBruihjOWIl+OBruS9jee9ruOCkuaMh+WumuOBl+OBn+S9jee9ruOBuOenu+WLleOBmeOCi1xyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB4IFjou7jjga7np7vli5Xph49cclxuICAgICAqIEBwYXJhbSB5IHnou7jjga7np7vli5Xph49cclxuICAgICAqL1xyXG4gICAgcHVibGljIHRyYW5zbGF0ZSh4OiBudW1iZXIsIHk6IG51bWJlcik6IHZvaWQge1xyXG4gICAgICB0aGlzLl90clsxMl0gPSB4O1xyXG4gICAgICB0aGlzLl90clsxM10gPSB5O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog54++5Zyo44Gu6KGM5YiX44GuWOi7uOOBruS9jee9ruOCkuaMh+WumuOBl+OBn+S9jee9ruOBuOenu+WLleOBmeOCi1xyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB4IFjou7jjga7np7vli5Xph49cclxuICAgICAqL1xyXG4gICAgcHVibGljIHRyYW5zbGF0ZVgoeDogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgIHRoaXMuX3RyWzEyXSA9IHg7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDnj77lnKjjga7ooYzliJfjga5Z6Lu444Gu5L2N572u44KS5oyH5a6a44GX44Gf5L2N572u44G456e75YuV44GZ44KLXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHkgWei7uOOBruenu+WLlemHj1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgdHJhbnNsYXRlWSh5OiBudW1iZXIpOiB2b2lkIHtcclxuICAgICAgdGhpcy5fdHJbMTNdID0geTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOePvuWcqOOBruihjOWIl+OBruaLoeWkp+eOh+OCkuebuOWvvueahOOBq+ioreWumuOBmeOCi1xyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB4IFjou7jjga7mi6HlpKfnjodcclxuICAgICAqIEBwYXJhbSB5IFnou7jjga7mi6HlpKfnjodcclxuICAgICAqL1xyXG4gICAgcHVibGljIHNjYWxlUmVsYXRpdmUoeDogbnVtYmVyLCB5OiBudW1iZXIpOiB2b2lkIHtcclxuICAgICAgY29uc3QgdHIxOiBGbG9hdDMyQXJyYXkgPSBuZXcgRmxvYXQzMkFycmF5KFtcclxuICAgICAgICB4LFxyXG4gICAgICAgIDAuMCxcclxuICAgICAgICAwLjAsXHJcbiAgICAgICAgMC4wLFxyXG4gICAgICAgIDAuMCxcclxuICAgICAgICB5LFxyXG4gICAgICAgIDAuMCxcclxuICAgICAgICAwLjAsXHJcbiAgICAgICAgMC4wLFxyXG4gICAgICAgIDAuMCxcclxuICAgICAgICAxLjAsXHJcbiAgICAgICAgMC4wLFxyXG4gICAgICAgIDAuMCxcclxuICAgICAgICAwLjAsXHJcbiAgICAgICAgMC4wLFxyXG4gICAgICAgIDEuMFxyXG4gICAgICBdKTtcclxuXHJcbiAgICAgIEN1YmlzbU1hdHJpeDQ0Lm11bHRpcGx5KHRyMSwgdGhpcy5fdHIsIHRoaXMuX3RyKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOePvuWcqOOBruihjOWIl+OBruaLoeWkp+eOh+OCkuaMh+WumuOBl+OBn+WAjeeOh+OBq+ioreWumuOBmeOCi1xyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB4IFjou7jjga7mi6HlpKfnjodcclxuICAgICAqIEBwYXJhbSB5IFnou7jjga7mi6HlpKfnjodcclxuICAgICAqL1xyXG4gICAgcHVibGljIHNjYWxlKHg6IG51bWJlciwgeTogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgIHRoaXMuX3RyWzBdID0geDtcclxuICAgICAgdGhpcy5fdHJbNV0gPSB5O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog54++5Zyo44Gu6KGM5YiX44Gr6KGM5YiX44KS5LmX566XXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIG0g6KGM5YiXXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBtdWx0aXBseUJ5TWF0cml4KG06IEN1YmlzbU1hdHJpeDQ0KTogdm9pZCB7XHJcbiAgICAgIEN1YmlzbU1hdHJpeDQ0Lm11bHRpcGx5KG0uZ2V0QXJyYXkoKSwgdGhpcy5fdHIsIHRoaXMuX3RyKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOOCquODluOCuOOCp+OCr+ODiOOBruOCs+ODlOODvOOCkueUn+aIkOOBmeOCi1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgY2xvbmUoKTogQ3ViaXNtTWF0cml4NDQge1xyXG4gICAgICBjb25zdCBjbG9uZU1hdHJpeDogQ3ViaXNtTWF0cml4NDQgPSBuZXcgQ3ViaXNtTWF0cml4NDQoKTtcclxuXHJcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5fdHIubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBjbG9uZU1hdHJpeC5fdHJbaV0gPSB0aGlzLl90cltpXTtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIGNsb25lTWF0cml4O1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBfdHI6IEZsb2F0MzJBcnJheTsgLy8gNHg06KGM5YiX44OH44O844K/XHJcbiAgfVxyXG59XHJcbiJdLCJtYXBwaW5ncyI6Ijs7O0FBT0E7QUFBQTtBQU1BO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFTQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFRQTtBQUNBO0FBQ0E7QUFRQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFVQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFVQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFHQTtBQUFBO0FBclNBO0FBc1NBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./Framework/src/math/cubismmatrix44.ts\n");

/***/ }),

/***/ "./Framework/src/math/cubismmodelmatrix.ts":
/*!*************************************************!*\
  !*** ./Framework/src/math/cubismmodelmatrix.ts ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Live2DCubismFramework = void 0;\r\nvar cubismmatrix44_1 = __webpack_require__(/*! ./cubismmatrix44 */ \"./Framework/src/math/cubismmatrix44.ts\");\r\nvar CubismMatrix44 = cubismmatrix44_1.Live2DCubismFramework.CubismMatrix44;\r\nvar Live2DCubismFramework;\r\n(function (Live2DCubismFramework) {\r\n    var CubismModelMatrix = (function (_super) {\r\n        __extends(CubismModelMatrix, _super);\r\n        function CubismModelMatrix(w, h) {\r\n            var _this = _super.call(this) || this;\r\n            _this._width = w !== undefined ? w : 0.0;\r\n            _this._height = h !== undefined ? h : 0.0;\r\n            _this.setHeight(1.0);\r\n            return _this;\r\n        }\r\n        CubismModelMatrix.prototype.setWidth = function (w) {\r\n            var scaleX = w / this._width;\r\n            var scaleY = scaleX;\r\n            this.scale(scaleX * 2.6, scaleY * 2.6);\r\n        };\r\n        CubismModelMatrix.prototype.setHeight = function (h) {\r\n            var scaleX = h / this._height;\r\n            var scaleY = scaleX;\r\n            this.scale(scaleX * 2.6, scaleY * 2.6);\r\n        };\r\n        CubismModelMatrix.prototype.setPosition = function (x, y) {\r\n            this.translate(x, y);\r\n        };\r\n        CubismModelMatrix.prototype.setCenterPosition = function (x, y) {\r\n            this.centerX(x);\r\n            this.centerY(y);\r\n        };\r\n        CubismModelMatrix.prototype.top = function (y) {\r\n            this.setY(y);\r\n        };\r\n        CubismModelMatrix.prototype.bottom = function (y) {\r\n            var h = this._height * this.getScaleY();\r\n            this.translateY(y - h);\r\n        };\r\n        CubismModelMatrix.prototype.left = function (x) {\r\n            this.setX(x);\r\n        };\r\n        CubismModelMatrix.prototype.right = function (x) {\r\n            var w = this._width * this.getScaleX();\r\n            this.translateX(x - w);\r\n        };\r\n        CubismModelMatrix.prototype.centerX = function (x) {\r\n            var w = this._width * this.getScaleX();\r\n            this.translateX(x - w / 2.0);\r\n        };\r\n        CubismModelMatrix.prototype.setX = function (x) {\r\n            this.translateX(x);\r\n        };\r\n        CubismModelMatrix.prototype.centerY = function (y) {\r\n            var h = this._height * this.getScaleY();\r\n            this.translateY(y - h / 2.0);\r\n        };\r\n        CubismModelMatrix.prototype.setY = function (y) {\r\n            this.translateY(y);\r\n        };\r\n        CubismModelMatrix.prototype.setupFromLayout = function (layout) {\r\n            var keyWidth = 'width';\r\n            var keyHeight = 'height';\r\n            var keyX = 'x';\r\n            var keyY = 'y';\r\n            var keyCenterX = 'center_x';\r\n            var keyCenterY = 'center_y';\r\n            var keyTop = 'top';\r\n            var keyBottom = 'bottom';\r\n            var keyLeft = 'left';\r\n            var keyRight = 'right';\r\n            for (var ite = layout.begin(); ite.notEqual(layout.end()); ite.preIncrement()) {\r\n                var key = ite.ptr().first;\r\n                var value = ite.ptr().second;\r\n                if (key == keyWidth) {\r\n                    this.setWidth(value);\r\n                }\r\n                else if (key == keyHeight) {\r\n                    this.setHeight(value);\r\n                }\r\n            }\r\n            for (var ite = layout.begin(); ite.notEqual(layout.end()); ite.preIncrement()) {\r\n                var key = ite.ptr().first;\r\n                var value = ite.ptr().second;\r\n                if (key == keyX) {\r\n                    this.setX(value);\r\n                }\r\n                else if (key == keyY) {\r\n                    this.setY(value);\r\n                }\r\n                else if (key == keyCenterX) {\r\n                    this.centerX(value);\r\n                }\r\n                else if (key == keyCenterY) {\r\n                    this.centerY(value);\r\n                }\r\n                else if (key == keyTop) {\r\n                    this.top(value);\r\n                }\r\n                else if (key == keyBottom) {\r\n                    this.bottom(value);\r\n                }\r\n                else if (key == keyLeft) {\r\n                    this.left(value);\r\n                }\r\n                else if (key == keyRight) {\r\n                    this.right(value);\r\n                }\r\n            }\r\n        };\r\n        return CubismModelMatrix;\r\n    }(CubismMatrix44));\r\n    Live2DCubismFramework.CubismModelMatrix = CubismModelMatrix;\r\n})(Live2DCubismFramework = exports.Live2DCubismFramework || (exports.Live2DCubismFramework = {}));\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9GcmFtZXdvcmsvc3JjL21hdGgvY3ViaXNtbW9kZWxtYXRyaXgudHMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9saXZlMmQvLi9GcmFtZXdvcmsvc3JjL21hdGgvY3ViaXNtbW9kZWxtYXRyaXgudHM/YzA0ZCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogQ29weXJpZ2h0KGMpIExpdmUyRCBJbmMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbiAqXHJcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IHRoZSBMaXZlMkQgT3BlbiBTb2Z0d2FyZSBsaWNlbnNlXHJcbiAqIHRoYXQgY2FuIGJlIGZvdW5kIGF0IGh0dHBzOi8vd3d3LmxpdmUyZC5jb20vZXVsYS9saXZlMmQtb3Blbi1zb2Z0d2FyZS1saWNlbnNlLWFncmVlbWVudF9lbi5odG1sLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IExpdmUyREN1YmlzbUZyYW1ld29yayBhcyBjc21tYXAgfSBmcm9tICcuLi90eXBlL2NzbW1hcCc7XHJcbmltcG9ydCB7IExpdmUyREN1YmlzbUZyYW1ld29yayBhcyBjdWJpc21tYXRyaXg0NCB9IGZyb20gJy4vY3ViaXNtbWF0cml4NDQnO1xyXG5pbXBvcnQgY3NtTWFwID0gY3NtbWFwLmNzbU1hcDtcclxuaW1wb3J0IGl0ZXJhdG9yID0gY3NtbWFwLml0ZXJhdG9yO1xyXG5pbXBvcnQgQ3ViaXNtTWF0cml4NDQgPSBjdWJpc21tYXRyaXg0NC5DdWJpc21NYXRyaXg0NDtcclxuXHJcbmV4cG9ydCBuYW1lc3BhY2UgTGl2ZTJEQ3ViaXNtRnJhbWV3b3JrIHtcclxuICAvKipcclxuICAgKiDjg6Ljg4fjg6vluqfmqJnoqK3lrprnlKjjga40eDTooYzliJdcclxuICAgKlxyXG4gICAqIOODouODh+ODq+W6p+aomeioreWumueUqOOBrjR4NOihjOWIl+OCr+ODqeOCuVxyXG4gICAqL1xyXG4gIGV4cG9ydCBjbGFzcyBDdWJpc21Nb2RlbE1hdHJpeCBleHRlbmRzIEN1YmlzbU1hdHJpeDQ0IHtcclxuICAgIC8qKlxyXG4gICAgICog44Kz44Oz44K544OI44Op44Kv44K/XHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHcg5qiq5bmFXHJcbiAgICAgKiBAcGFyYW0gaCDnuKbluYVcclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3Iodz86IG51bWJlciwgaD86IG51bWJlcikge1xyXG4gICAgICBzdXBlcigpO1xyXG5cclxuICAgICAgdGhpcy5fd2lkdGggPSB3ICE9PSB1bmRlZmluZWQgPyB3IDogMC4wO1xyXG4gICAgICB0aGlzLl9oZWlnaHQgPSBoICE9PSB1bmRlZmluZWQgPyBoIDogMC4wO1xyXG5cclxuICAgICAgdGhpcy5zZXRIZWlnaHQoMS4wKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOaoquW5heOCkuioreWumlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB3IOaoquW5hVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc2V0V2lkdGgodzogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgIGNvbnN0IHNjYWxlWDogbnVtYmVyID0gdyAvIHRoaXMuX3dpZHRoO1xyXG4gICAgICBjb25zdCBzY2FsZVk6IG51bWJlciA9IHNjYWxlWDtcclxuICAgICAgdGhpcy5zY2FsZShzY2FsZVgqMi42LCBzY2FsZVkqMi42KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOe4puW5heOCkuioreWumlxyXG4gICAgICogQHBhcmFtIGgg57im5bmFXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzZXRIZWlnaHQoaDogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgIGNvbnN0IHNjYWxlWDogbnVtYmVyID0gaCAvIHRoaXMuX2hlaWdodDtcclxuICAgICAgY29uc3Qgc2NhbGVZOiBudW1iZXIgPSBzY2FsZVg7XHJcbiAgICAgIHRoaXMuc2NhbGUoc2NhbGVYKjIuNiwgc2NhbGVZKjIuNik7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDkvY3nva7jgpLoqK3lrppcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0geCBY6Lu444Gu5L2N572uXHJcbiAgICAgKiBAcGFyYW0geSBZ6Lu444Gu5L2N572uXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzZXRQb3NpdGlvbih4OiBudW1iZXIsIHk6IG51bWJlcik6IHZvaWQge1xyXG4gICAgICB0aGlzLnRyYW5zbGF0ZSh4LCB5KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOS4reW/g+S9jee9ruOCkuioreWumlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB4IFjou7jjga7kuK3lv4PkvY3nva5cclxuICAgICAqIEBwYXJhbSB5IFnou7jjga7kuK3lv4PkvY3nva5cclxuICAgICAqXHJcbiAgICAgKiBAbm90ZSB3aWR0aOOBi2hlaWdodOOCkuioreWumuOBl+OBn+OBguOBqOOBp+OBquOBhOOBqOOAgeaLoeWkp+eOh+OBjOato+OBl+OBj+WPluW+l+OBp+OBjeOBquOBhOOBn+OCgeOBmuOCjOOCi+OAglxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc2V0Q2VudGVyUG9zaXRpb24oeDogbnVtYmVyLCB5OiBudW1iZXIpIHtcclxuICAgICAgdGhpcy5jZW50ZXJYKHgpO1xyXG4gICAgICB0aGlzLmNlbnRlclkoeSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDkuIrovrrjga7kvY3nva7jgpLoqK3lrprjgZnjgotcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0geSDkuIrovrrjga5Z6Lu45L2N572uXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyB0b3AoeTogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgIHRoaXMuc2V0WSh5KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOS4i+i+uuOBruS9jee9ruOCkuioreWumuOBmeOCi1xyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB5IOS4i+i+uuOBrlnou7jkvY3nva5cclxuICAgICAqL1xyXG4gICAgcHVibGljIGJvdHRvbSh5OiBudW1iZXIpIHtcclxuICAgICAgY29uc3QgaDogbnVtYmVyID0gdGhpcy5faGVpZ2h0ICogdGhpcy5nZXRTY2FsZVkoKTtcclxuXHJcbiAgICAgIHRoaXMudHJhbnNsYXRlWSh5IC0gaCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDlt6bovrrjga7kvY3nva7jgpLoqK3lrppcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0geCDlt6bovrrjga5Y6Lu45L2N572uXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBsZWZ0KHg6IG51bWJlcik6IHZvaWQge1xyXG4gICAgICB0aGlzLnNldFgoeCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDlj7Povrrjga7kvY3nva7jgpLoqK3lrppcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0geCDlj7Povrrjga5Y6Lu45L2N572uXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyByaWdodCh4OiBudW1iZXIpOiB2b2lkIHtcclxuICAgICAgY29uc3QgdyA9IHRoaXMuX3dpZHRoICogdGhpcy5nZXRTY2FsZVgoKTtcclxuXHJcbiAgICAgIHRoaXMudHJhbnNsYXRlWCh4IC0gdyk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBY6Lu444Gu5Lit5b+D5L2N572u44KS6Kit5a6aXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHggWOi7uOOBruS4reW/g+S9jee9rlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgY2VudGVyWCh4OiBudW1iZXIpOiB2b2lkIHtcclxuICAgICAgY29uc3QgdyA9IHRoaXMuX3dpZHRoICogdGhpcy5nZXRTY2FsZVgoKTtcclxuXHJcbiAgICAgIHRoaXMudHJhbnNsYXRlWCh4IC0gdyAvIDIuMCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBY6Lu444Gu5L2N572u44KS6Kit5a6aXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHggWOi7uOOBruS9jee9rlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc2V0WCh4OiBudW1iZXIpOiB2b2lkIHtcclxuICAgICAgdGhpcy50cmFuc2xhdGVYKHgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogWei7uOOBruS4reW/g+S9jee9ruOCkuioreWumlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB5IFnou7jjga7kuK3lv4PkvY3nva5cclxuICAgICAqL1xyXG4gICAgcHVibGljIGNlbnRlclkoeTogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgIGNvbnN0IGg6IG51bWJlciA9IHRoaXMuX2hlaWdodCAqIHRoaXMuZ2V0U2NhbGVZKCk7XHJcblxyXG4gICAgICB0aGlzLnRyYW5zbGF0ZVkoeSAtIGggLyAyLjApO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogWei7uOOBruS9jee9ruOCkuioreWumuOBmeOCi1xyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB5IFnou7jjga7kvY3nva5cclxuICAgICAqL1xyXG4gICAgcHVibGljIHNldFkoeTogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgIHRoaXMudHJhbnNsYXRlWSh5KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOODrOOCpOOCouOCpuODiOaDheWgseOBi+OCieS9jee9ruOCkuioreWumlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBsYXlvdXQg44Os44Kk44Ki44Km44OI5oOF5aCxXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzZXR1cEZyb21MYXlvdXQobGF5b3V0OiBjc21NYXA8c3RyaW5nLCBudW1iZXI+KTogdm9pZCB7XHJcbiAgICAgIGNvbnN0IGtleVdpZHRoID0gJ3dpZHRoJztcclxuICAgICAgY29uc3Qga2V5SGVpZ2h0ID0gJ2hlaWdodCc7XHJcbiAgICAgIGNvbnN0IGtleVggPSAneCc7XHJcbiAgICAgIGNvbnN0IGtleVkgPSAneSc7XHJcbiAgICAgIGNvbnN0IGtleUNlbnRlclggPSAnY2VudGVyX3gnO1xyXG4gICAgICBjb25zdCBrZXlDZW50ZXJZID0gJ2NlbnRlcl95JztcclxuICAgICAgY29uc3Qga2V5VG9wID0gJ3RvcCc7XHJcbiAgICAgIGNvbnN0IGtleUJvdHRvbSA9ICdib3R0b20nO1xyXG4gICAgICBjb25zdCBrZXlMZWZ0ID0gJ2xlZnQnO1xyXG4gICAgICBjb25zdCBrZXlSaWdodCA9ICdyaWdodCc7XHJcblxyXG4gICAgICBmb3IgKFxyXG4gICAgICAgIGNvbnN0IGl0ZTogaXRlcmF0b3I8c3RyaW5nLCBudW1iZXI+ID0gbGF5b3V0LmJlZ2luKCk7XHJcbiAgICAgICAgaXRlLm5vdEVxdWFsKGxheW91dC5lbmQoKSk7XHJcbiAgICAgICAgaXRlLnByZUluY3JlbWVudCgpXHJcbiAgICAgICkge1xyXG4gICAgICAgIGNvbnN0IGtleTogc3RyaW5nID0gaXRlLnB0cigpLmZpcnN0O1xyXG4gICAgICAgIGNvbnN0IHZhbHVlOiBudW1iZXIgPSBpdGUucHRyKCkuc2Vjb25kO1xyXG5cclxuICAgICAgICBpZiAoa2V5ID09IGtleVdpZHRoKSB7XHJcbiAgICAgICAgICB0aGlzLnNldFdpZHRoKHZhbHVlKTtcclxuICAgICAgICB9IGVsc2UgaWYgKGtleSA9PSBrZXlIZWlnaHQpIHtcclxuICAgICAgICAgIHRoaXMuc2V0SGVpZ2h0KHZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGZvciAoXHJcbiAgICAgICAgY29uc3QgaXRlOiBpdGVyYXRvcjxzdHJpbmcsIG51bWJlcj4gPSBsYXlvdXQuYmVnaW4oKTtcclxuICAgICAgICBpdGUubm90RXF1YWwobGF5b3V0LmVuZCgpKTtcclxuICAgICAgICBpdGUucHJlSW5jcmVtZW50KClcclxuICAgICAgKSB7XHJcbiAgICAgICAgY29uc3Qga2V5OiBzdHJpbmcgPSBpdGUucHRyKCkuZmlyc3Q7XHJcbiAgICAgICAgY29uc3QgdmFsdWU6IG51bWJlciA9IGl0ZS5wdHIoKS5zZWNvbmQ7XHJcblxyXG4gICAgICAgIGlmIChrZXkgPT0ga2V5WCkge1xyXG4gICAgICAgICAgdGhpcy5zZXRYKHZhbHVlKTtcclxuICAgICAgICB9IGVsc2UgaWYgKGtleSA9PSBrZXlZKSB7XHJcbiAgICAgICAgICB0aGlzLnNldFkodmFsdWUpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoa2V5ID09IGtleUNlbnRlclgpIHtcclxuICAgICAgICAgIHRoaXMuY2VudGVyWCh2YWx1ZSk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChrZXkgPT0ga2V5Q2VudGVyWSkge1xyXG4gICAgICAgICAgdGhpcy5jZW50ZXJZKHZhbHVlKTtcclxuICAgICAgICB9IGVsc2UgaWYgKGtleSA9PSBrZXlUb3ApIHtcclxuICAgICAgICAgIHRoaXMudG9wKHZhbHVlKTtcclxuICAgICAgICB9IGVsc2UgaWYgKGtleSA9PSBrZXlCb3R0b20pIHtcclxuICAgICAgICAgIHRoaXMuYm90dG9tKHZhbHVlKTtcclxuICAgICAgICB9IGVsc2UgaWYgKGtleSA9PSBrZXlMZWZ0KSB7XHJcbiAgICAgICAgICB0aGlzLmxlZnQodmFsdWUpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoa2V5ID09IGtleVJpZ2h0KSB7XHJcbiAgICAgICAgICB0aGlzLnJpZ2h0KHZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIF93aWR0aDogbnVtYmVyOyAvLyDmqKrluYVcclxuICAgIHByaXZhdGUgX2hlaWdodDogbnVtYmVyOyAvLyDnuKbluYVcclxuICB9XHJcbn1cclxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBUUE7QUFHQTtBQUVBO0FBQUE7QUFNQTtBQUFBO0FBT0E7QUFBQTtBQUdBO0FBQ0E7QUFFQTs7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUUE7QUFDQTtBQUNBO0FBVUE7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBRUE7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFFQTtBQUNBO0FBT0E7QUFDQTtBQUVBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBRUE7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUtBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBS0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUFBO0FBMU1BO0FBMk1BOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./Framework/src/math/cubismmodelmatrix.ts\n");

/***/ }),

/***/ "./Framework/src/math/cubismtargetpoint.ts":
/*!*************************************************!*\
  !*** ./Framework/src/math/cubismtargetpoint.ts ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Live2DCubismFramework = void 0;\r\nvar cubismmath_1 = __webpack_require__(/*! ./cubismmath */ \"./Framework/src/math/cubismmath.ts\");\r\nvar CubismMath = cubismmath_1.Live2DCubismFramework.CubismMath;\r\nvar Live2DCubismFramework;\r\n(function (Live2DCubismFramework) {\r\n    var FrameRate = 30;\r\n    var Epsilon = 0.01;\r\n    var CubismTargetPoint = (function () {\r\n        function CubismTargetPoint() {\r\n            this._faceTargetX = 0.0;\r\n            this._faceTargetY = 0.0;\r\n            this._faceX = 0.0;\r\n            this._faceY = 0.0;\r\n            this._faceVX = 0.0;\r\n            this._faceVY = 0.0;\r\n            this._lastTimeSeconds = 0.0;\r\n            this._userTimeSeconds = 0.0;\r\n        }\r\n        CubismTargetPoint.prototype.update = function (deltaTimeSeconds) {\r\n            this._userTimeSeconds += deltaTimeSeconds;\r\n            var faceParamMaxV = 40.0 / 10.0;\r\n            var maxV = (faceParamMaxV * 1.0) / FrameRate;\r\n            if (this._lastTimeSeconds == 0.0) {\r\n                this._lastTimeSeconds = this._userTimeSeconds;\r\n                return;\r\n            }\r\n            var deltaTimeWeight = (this._userTimeSeconds - this._lastTimeSeconds) * FrameRate;\r\n            this._lastTimeSeconds = this._userTimeSeconds;\r\n            var timeToMaxSpeed = 0.15;\r\n            var frameToMaxSpeed = timeToMaxSpeed * FrameRate;\r\n            var maxA = (deltaTimeWeight * maxV) / frameToMaxSpeed;\r\n            var dx = this._faceTargetX - this._faceX;\r\n            var dy = this._faceTargetY - this._faceY;\r\n            if (CubismMath.abs(dx) <= Epsilon && CubismMath.abs(dy) <= Epsilon) {\r\n                return;\r\n            }\r\n            var d = CubismMath.sqrt(dx * dx + dy * dy);\r\n            var vx = (maxV * dx) / d;\r\n            var vy = (maxV * dy) / d;\r\n            var ax = vx - this._faceVX;\r\n            var ay = vy - this._faceVY;\r\n            var a = CubismMath.sqrt(ax * ax + ay * ay);\r\n            if (a < -maxA || a > maxA) {\r\n                ax *= maxA / a;\r\n                ay *= maxA / a;\r\n            }\r\n            this._faceVX += ax;\r\n            this._faceVY += ay;\r\n            {\r\n                var maxV_1 = 0.5 *\r\n                    (CubismMath.sqrt(maxA * maxA + 16.0 * maxA * d - 8.0 * maxA * d) -\r\n                        maxA);\r\n                var curV = CubismMath.sqrt(this._faceVX * this._faceVX + this._faceVY * this._faceVY);\r\n                if (curV > maxV_1) {\r\n                    this._faceVX *= maxV_1 / curV;\r\n                    this._faceVY *= maxV_1 / curV;\r\n                }\r\n            }\r\n            this._faceX += this._faceVX;\r\n            this._faceY += this._faceVY;\r\n        };\r\n        CubismTargetPoint.prototype.getX = function () {\r\n            return this._faceX;\r\n        };\r\n        CubismTargetPoint.prototype.getY = function () {\r\n            return this._faceY;\r\n        };\r\n        CubismTargetPoint.prototype.set = function (x, y) {\r\n            this._faceTargetX = x;\r\n            this._faceTargetY = y;\r\n        };\r\n        return CubismTargetPoint;\r\n    }());\r\n    Live2DCubismFramework.CubismTargetPoint = CubismTargetPoint;\r\n})(Live2DCubismFramework = exports.Live2DCubismFramework || (exports.Live2DCubismFramework = {}));\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9GcmFtZXdvcmsvc3JjL21hdGgvY3ViaXNtdGFyZ2V0cG9pbnQudHMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9saXZlMmQvLi9GcmFtZXdvcmsvc3JjL21hdGgvY3ViaXNtdGFyZ2V0cG9pbnQudHM/NzBiNyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogQ29weXJpZ2h0KGMpIExpdmUyRCBJbmMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbiAqXHJcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IHRoZSBMaXZlMkQgT3BlbiBTb2Z0d2FyZSBsaWNlbnNlXHJcbiAqIHRoYXQgY2FuIGJlIGZvdW5kIGF0IGh0dHBzOi8vd3d3LmxpdmUyZC5jb20vZXVsYS9saXZlMmQtb3Blbi1zb2Z0d2FyZS1saWNlbnNlLWFncmVlbWVudF9lbi5odG1sLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IExpdmUyREN1YmlzbUZyYW1ld29yayBhcyBjdWJpc21tYXRoIH0gZnJvbSAnLi9jdWJpc21tYXRoJztcclxuaW1wb3J0IEN1YmlzbU1hdGggPSBjdWJpc21tYXRoLkN1YmlzbU1hdGg7XHJcblxyXG5leHBvcnQgbmFtZXNwYWNlIExpdmUyREN1YmlzbUZyYW1ld29yayB7XHJcbiAgY29uc3QgRnJhbWVSYXRlID0gMzA7XHJcbiAgY29uc3QgRXBzaWxvbiA9IDAuMDE7XHJcblxyXG4gIC8qKlxyXG4gICAqIOmhlOOBruWQkeOBjeOBruWItuW+oeapn+iDvVxyXG4gICAqXHJcbiAgICog6aGU44Gu5ZCR44GN44Gu5Yi25b6h5qmf6IO944KS5o+Q5L6b44GZ44KL44Kv44Op44K544CCXHJcbiAgICovXHJcbiAgZXhwb3J0IGNsYXNzIEN1YmlzbVRhcmdldFBvaW50IHtcclxuICAgIC8qKlxyXG4gICAgICog44Kz44Oz44K544OI44Op44Kv44K/XHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgdGhpcy5fZmFjZVRhcmdldFggPSAwLjA7XHJcbiAgICAgIHRoaXMuX2ZhY2VUYXJnZXRZID0gMC4wO1xyXG4gICAgICB0aGlzLl9mYWNlWCA9IDAuMDtcclxuICAgICAgdGhpcy5fZmFjZVkgPSAwLjA7XHJcbiAgICAgIHRoaXMuX2ZhY2VWWCA9IDAuMDtcclxuICAgICAgdGhpcy5fZmFjZVZZID0gMC4wO1xyXG4gICAgICB0aGlzLl9sYXN0VGltZVNlY29uZHMgPSAwLjA7XHJcbiAgICAgIHRoaXMuX3VzZXJUaW1lU2Vjb25kcyA9IDAuMDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOabtOaWsOWHpueQhlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgdXBkYXRlKGRlbHRhVGltZVNlY29uZHM6IG51bWJlcik6IHZvaWQge1xyXG4gICAgICAvLyDjg4fjg6vjgr/mmYLplpPjgpLliqDnrpfjgZnjgotcclxuICAgICAgdGhpcy5fdXNlclRpbWVTZWNvbmRzICs9IGRlbHRhVGltZVNlY29uZHM7XHJcblxyXG4gICAgICAvLyDpppbjgpLkuK3lpK7jgYvjgonlt6blj7PjgavmjK/jgovjgajjgY3jga7lubPlnYfnmoTjgarpgJ/jgZXjga8g56eS6YCf5bqm44CC5Yqg6YCf44O75rib6YCf44KS6ICD5oWu44GX44Gm44CB44Gd44Gu77yS5YCN44KS5pyA6auY6YCf5bqm44Go44GZ44KLXHJcbiAgICAgIC8vIOmhlOOBruaMr+OCiuWFt+WQiOOCkuOAgeS4reWkru+8iDAuMO+8ieOBi+OCieOAgeW3puWPs+OBr++8iCstMS4w77yJ44Go44GZ44KLXHJcbiAgICAgIGNvbnN0IGZhY2VQYXJhbU1heFY6IG51bWJlciA9IDQwLjAgLyAxMC4wOyAvLyA3LjXnp5LplpPjgas0MOWIhuenu+WLlSg1LjMvc2MpXHJcbiAgICAgIGNvbnN0IG1heFY6IG51bWJlciA9IChmYWNlUGFyYW1NYXhWICogMS4wKSAvIEZyYW1lUmF0ZTsgLy8gMWZyYW1l44GC44Gf44KK44Gr5aSJ5YyW44Gn44GN44KL6YCf5bqm44Gu5LiK6ZmQXHJcblxyXG4gICAgICBpZiAodGhpcy5fbGFzdFRpbWVTZWNvbmRzID09IDAuMCkge1xyXG4gICAgICAgIHRoaXMuX2xhc3RUaW1lU2Vjb25kcyA9IHRoaXMuX3VzZXJUaW1lU2Vjb25kcztcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IGRlbHRhVGltZVdlaWdodDogbnVtYmVyID1cclxuICAgICAgICAodGhpcy5fdXNlclRpbWVTZWNvbmRzIC0gdGhpcy5fbGFzdFRpbWVTZWNvbmRzKSAqIEZyYW1lUmF0ZTtcclxuICAgICAgdGhpcy5fbGFzdFRpbWVTZWNvbmRzID0gdGhpcy5fdXNlclRpbWVTZWNvbmRzO1xyXG5cclxuICAgICAgLy8g5pyA6auY6YCf5bqm44Gr44Gq44KL44G+44Gn44Gu5pmC6ZaT44KSXHJcbiAgICAgIGNvbnN0IHRpbWVUb01heFNwZWVkID0gMC4xNTtcclxuICAgICAgY29uc3QgZnJhbWVUb01heFNwZWVkOiBudW1iZXIgPSB0aW1lVG9NYXhTcGVlZCAqIEZyYW1lUmF0ZTsgLy8gc2VjICogZnJhbWUvc2VjXHJcbiAgICAgIGNvbnN0IG1heEE6IG51bWJlciA9IChkZWx0YVRpbWVXZWlnaHQgKiBtYXhWKSAvIGZyYW1lVG9NYXhTcGVlZDsgLy8gMWZyYW1l44GC44Gf44KK44Gu5Yqg6YCf5bqmXHJcblxyXG4gICAgICAvLyDnm67mjIfjgZnlkJHjgY3jga/jgIHvvIhkeCwgZHnvvInmlrnlkJHjga7jg5njgq/jg4jjg6vjgajjgarjgotcclxuICAgICAgY29uc3QgZHg6IG51bWJlciA9IHRoaXMuX2ZhY2VUYXJnZXRYIC0gdGhpcy5fZmFjZVg7XHJcbiAgICAgIGNvbnN0IGR5OiBudW1iZXIgPSB0aGlzLl9mYWNlVGFyZ2V0WSAtIHRoaXMuX2ZhY2VZO1xyXG5cclxuICAgICAgaWYgKEN1YmlzbU1hdGguYWJzKGR4KSA8PSBFcHNpbG9uICYmIEN1YmlzbU1hdGguYWJzKGR5KSA8PSBFcHNpbG9uKSB7XHJcbiAgICAgICAgcmV0dXJuOyAvLyDlpInljJbjgarjgZdcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8g6YCf5bqm44Gu5pyA5aSn44KI44KK44KC5aSn44GN44GE5aC05ZCI44Gv44CB6YCf5bqm44KS6JC944Go44GZXHJcbiAgICAgIGNvbnN0IGQ6IG51bWJlciA9IEN1YmlzbU1hdGguc3FydChkeCAqIGR4ICsgZHkgKiBkeSk7XHJcblxyXG4gICAgICAvLyDpgLLooYzmlrnlkJHjga7mnIDlpKfpgJ/luqbjg5njgq/jg4jjg6tcclxuICAgICAgY29uc3Qgdng6IG51bWJlciA9IChtYXhWICogZHgpIC8gZDtcclxuICAgICAgY29uc3Qgdnk6IG51bWJlciA9IChtYXhWICogZHkpIC8gZDtcclxuXHJcbiAgICAgIC8vIOePvuWcqOOBrumAn+W6puOBi+OCieOAgeaWsOimj+mAn+W6puOBuOOBruWkieWMlu+8iOWKoOmAn+W6pu+8ieOCkuaxguOCgeOCi1xyXG4gICAgICBsZXQgYXg6IG51bWJlciA9IHZ4IC0gdGhpcy5fZmFjZVZYO1xyXG4gICAgICBsZXQgYXk6IG51bWJlciA9IHZ5IC0gdGhpcy5fZmFjZVZZO1xyXG5cclxuICAgICAgY29uc3QgYTogbnVtYmVyID0gQ3ViaXNtTWF0aC5zcXJ0KGF4ICogYXggKyBheSAqIGF5KTtcclxuXHJcbiAgICAgIC8vIOWKoOmAn+OBruOBqOOBjVxyXG4gICAgICBpZiAoYSA8IC1tYXhBIHx8IGEgPiBtYXhBKSB7XHJcbiAgICAgICAgYXggKj0gbWF4QSAvIGE7XHJcbiAgICAgICAgYXkgKj0gbWF4QSAvIGE7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIOWKoOmAn+W6puOCkuWFg+OBrumAn+W6puOBq+i2s+OBl+OBpuOAgeaWsOmAn+W6puOBqOOBmeOCi1xyXG4gICAgICB0aGlzLl9mYWNlVlggKz0gYXg7XHJcbiAgICAgIHRoaXMuX2ZhY2VWWSArPSBheTtcclxuXHJcbiAgICAgIC8vIOebrueahOOBruaWueWQkeOBq+i/keOBpeOBhOOBn+OBqOOBjeOAgea7keOCieOBi+OBq+a4m+mAn+OBmeOCi+OBn+OCgeOBruWHpueQhlxyXG4gICAgICAvLyDoqK3lrprjgZXjgozjgZ/liqDpgJ/luqbjgafmraLjgb7jgovkuovjga7lh7rmnaXjgovot53pm6LjgajpgJ/luqbjga7plqLkv4LjgYvjgolcclxuICAgICAgLy8g54++5Zyo44Go44KK44GG44KL5pyA6auY6YCf5bqm44KS6KiI566X44GX44CB44Gd44KM5Lul5LiK44Gu5pmC44Gv6YCf5bqm44KS6JC944Go44GZXHJcbiAgICAgIC8vIOKAu+acrOadpeOAgeS6uumWk+OBr+eti+WKm+OBp+WKm++8iOWKoOmAn+W6pu+8ieOCkuiqv+aVtOOBp+OBjeOCi+OBn+OCgeOAgeOCiOOCiuiHqueUseW6puOBjOmrmOOBhOOBjOOAgeewoeWNmOOBquWHpueQhuOBp+a4iOOBvuOBm+OBpuOBhOOCi1xyXG4gICAgICB7XHJcbiAgICAgICAgLy8g5Yqg6YCf5bqm44CB6YCf5bqm44CB6Led6Zui44Gu6Zai5L+C5byP44CCXHJcbiAgICAgICAgLy8gICAgICAgICAgICAyICA2ICAgICAgICAgICAyICAgICAgICAgICAgICAgM1xyXG4gICAgICAgIC8vICAgICAgc3FydChhICB0ICArIDE2IGEgaCB0ICAtIDggYSBoKSAtIGEgdFxyXG4gICAgICAgIC8vIHYgPSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAyXHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgIDQgdCAgLSAyXHJcbiAgICAgICAgLy8gKHQ9MSlcclxuICAgICAgICAvLyBcdOaZguWIu3Tjga/jgIHjgYLjgonjgYvjgZjjgoHliqDpgJ/luqbjgIHpgJ/luqbjgpIxLzYwKOODleODrOODvOODoOODrOODvOODiOOAgeWNmOS9jeOBquOBlynjgadcclxuICAgICAgICAvLyBcdOiAg+OBiOOBpuOBhOOCi+OBruOBp+OAgXTvvJ3vvJHjgajjgZfjgabmtojjgZfjgabjgojjgYTvvIjigLvmnKrmpJzoqLzvvIlcclxuXHJcbiAgICAgICAgY29uc3QgbWF4VjogbnVtYmVyID1cclxuICAgICAgICAgIDAuNSAqXHJcbiAgICAgICAgICAoQ3ViaXNtTWF0aC5zcXJ0KG1heEEgKiBtYXhBICsgMTYuMCAqIG1heEEgKiBkIC0gOC4wICogbWF4QSAqIGQpIC1cclxuICAgICAgICAgICAgbWF4QSk7XHJcbiAgICAgICAgY29uc3QgY3VyVjogbnVtYmVyID0gQ3ViaXNtTWF0aC5zcXJ0KFxyXG4gICAgICAgICAgdGhpcy5fZmFjZVZYICogdGhpcy5fZmFjZVZYICsgdGhpcy5fZmFjZVZZICogdGhpcy5fZmFjZVZZXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgaWYgKGN1clYgPiBtYXhWKSB7XHJcbiAgICAgICAgICAvLyDnj77lnKjjga7pgJ/luqYgPiDmnIDpq5jpgJ/luqbjga7jgajjgY3jgIHmnIDpq5jpgJ/luqbjgb7jgafmuJvpgJ9cclxuICAgICAgICAgIHRoaXMuX2ZhY2VWWCAqPSBtYXhWIC8gY3VyVjtcclxuICAgICAgICAgIHRoaXMuX2ZhY2VWWSAqPSBtYXhWIC8gY3VyVjtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHRoaXMuX2ZhY2VYICs9IHRoaXMuX2ZhY2VWWDtcclxuICAgICAgdGhpcy5fZmFjZVkgKz0gdGhpcy5fZmFjZVZZO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogWOi7uOOBrumhlOOBruWQkeOBjeOBruWApOOCkuWPluW+l1xyXG4gICAgICpcclxuICAgICAqIEByZXR1cm4gWOi7uOOBrumhlOOBruWQkeOBjeOBruWApO+8iC0xLjAgfiAxLjDvvIlcclxuICAgICAqL1xyXG4gICAgcHVibGljIGdldFgoKTogbnVtYmVyIHtcclxuICAgICAgcmV0dXJuIHRoaXMuX2ZhY2VYO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogWei7uOOBrumhlOOBruWQkeOBjeOBruWApOOCkuWPluW+l1xyXG4gICAgICpcclxuICAgICAqIEByZXR1cm4gWei7uOOBrumhlOOBruWQkeOBjeOBruWApO+8iC0xLjAgfiAxLjDvvIlcclxuICAgICAqL1xyXG4gICAgcHVibGljIGdldFkoKTogbnVtYmVyIHtcclxuICAgICAgcmV0dXJuIHRoaXMuX2ZhY2VZO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog6aGU44Gu5ZCR44GN44Gu55uu5qiZ5YCk44KS6Kit5a6aXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHggWOi7uOOBrumhlOOBruWQkeOBjeOBruWApO+8iC0xLjAgfiAxLjDvvIlcclxuICAgICAqIEBwYXJhbSB5IFnou7jjga7poZTjga7lkJHjgY3jga7lgKTvvIgtMS4wIH4gMS4w77yJXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzZXQoeDogbnVtYmVyLCB5OiBudW1iZXIpOiB2b2lkIHtcclxuICAgICAgdGhpcy5fZmFjZVRhcmdldFggPSB4O1xyXG4gICAgICB0aGlzLl9mYWNlVGFyZ2V0WSA9IHk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBfZmFjZVRhcmdldFg6IG51bWJlcjsgLy8g6aGU44Gu5ZCR44GN44GuWOebruaomeWApO+8iOOBk+OBruWApOOBq+i/keOBpeOBhOOBpuOBhOOBj++8iVxyXG4gICAgcHJpdmF0ZSBfZmFjZVRhcmdldFk6IG51bWJlcjsgLy8g6aGU44Gu5ZCR44GN44GuWeebruaomeWApO+8iOOBk+OBruWApOOBq+i/keOBpeOBhOOBpuOBhOOBj++8iVxyXG4gICAgcHJpdmF0ZSBfZmFjZVg6IG51bWJlcjsgLy8g6aGU44Gu5ZCR44GNWO+8iC0xLjAgfiAxLjDvvIlcclxuICAgIHByaXZhdGUgX2ZhY2VZOiBudW1iZXI7IC8vIOmhlOOBruWQkeOBjVnvvIgtMS4wIH4gMS4w77yJXHJcbiAgICBwcml2YXRlIF9mYWNlVlg6IG51bWJlcjsgLy8g6aGU44Gu5ZCR44GN44Gu5aSJ5YyW6YCf5bqmWFxyXG4gICAgcHJpdmF0ZSBfZmFjZVZZOiBudW1iZXI7IC8vIOmhlOOBruWQkeOBjeOBruWkieWMlumAn+W6pllcclxuICAgIHByaXZhdGUgX2xhc3RUaW1lU2Vjb25kczogbnVtYmVyOyAvLyDmnIDlvozjga7lrp/ooYzmmYLplpNb56eSXVxyXG4gICAgcHJpdmF0ZSBfdXNlclRpbWVTZWNvbmRzOiBudW1iZXI7IC8vIOODh+ODq+OCv+aZgumWk+OBruepjeeul+WApFvnp5JdXHJcbiAgfVxyXG59XHJcbiJdLCJtYXBwaW5ncyI6Ijs7O0FBT0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBT0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBRUE7QUFJQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBR0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUdBO0FBR0E7QUFDQTtBQUdBO0FBQ0E7QUFFQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQU1BO0FBV0E7QUFFQTtBQUNBO0FBQ0E7QUFJQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFVQTtBQUFBO0FBL0lBO0FBZ0pBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./Framework/src/math/cubismtargetpoint.ts\n");

/***/ }),

/***/ "./Framework/src/math/cubismvector2.ts":
/*!*********************************************!*\
  !*** ./Framework/src/math/cubismvector2.ts ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Live2DCubismFramework = void 0;\r\nvar Live2DCubismFramework;\r\n(function (Live2DCubismFramework) {\r\n    var CubismVector2 = (function () {\r\n        function CubismVector2(x, y) {\r\n            this.x = x;\r\n            this.y = y;\r\n            this.x = x == undefined ? 0.0 : x;\r\n            this.y = y == undefined ? 0.0 : y;\r\n        }\r\n        CubismVector2.prototype.add = function (vector2) {\r\n            var ret = new CubismVector2(0.0, 0.0);\r\n            ret.x = this.x + vector2.x;\r\n            ret.y = this.y + vector2.y;\r\n            return ret;\r\n        };\r\n        CubismVector2.prototype.substract = function (vector2) {\r\n            var ret = new CubismVector2(0.0, 0.0);\r\n            ret.x = this.x - vector2.x;\r\n            ret.y = this.y - vector2.y;\r\n            return ret;\r\n        };\r\n        CubismVector2.prototype.multiply = function (vector2) {\r\n            var ret = new CubismVector2(0.0, 0.0);\r\n            ret.x = this.x * vector2.x;\r\n            ret.y = this.y * vector2.y;\r\n            return ret;\r\n        };\r\n        CubismVector2.prototype.multiplyByScaler = function (scalar) {\r\n            return this.multiply(new CubismVector2(scalar, scalar));\r\n        };\r\n        CubismVector2.prototype.division = function (vector2) {\r\n            var ret = new CubismVector2(0.0, 0.0);\r\n            ret.x = this.x / vector2.x;\r\n            ret.y = this.y / vector2.y;\r\n            return ret;\r\n        };\r\n        CubismVector2.prototype.divisionByScalar = function (scalar) {\r\n            return this.division(new CubismVector2(scalar, scalar));\r\n        };\r\n        CubismVector2.prototype.getLength = function () {\r\n            return Math.sqrt(this.x * this.x + this.y * this.y);\r\n        };\r\n        CubismVector2.prototype.getDistanceWith = function (a) {\r\n            return Math.sqrt((this.x - a.x) * (this.x - a.x) + (this.y - a.y) * (this.y - a.y));\r\n        };\r\n        CubismVector2.prototype.dot = function (a) {\r\n            return this.x * a.x + this.y * a.y;\r\n        };\r\n        CubismVector2.prototype.normalize = function () {\r\n            var length = Math.pow(this.x * this.x + this.y * this.y, 0.5);\r\n            this.x = this.x / length;\r\n            this.y = this.y / length;\r\n        };\r\n        CubismVector2.prototype.isEqual = function (rhs) {\r\n            return this.x == rhs.x && this.y == rhs.y;\r\n        };\r\n        CubismVector2.prototype.isNotEqual = function (rhs) {\r\n            return !this.isEqual(rhs);\r\n        };\r\n        return CubismVector2;\r\n    }());\r\n    Live2DCubismFramework.CubismVector2 = CubismVector2;\r\n})(Live2DCubismFramework = exports.Live2DCubismFramework || (exports.Live2DCubismFramework = {}));\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9GcmFtZXdvcmsvc3JjL21hdGgvY3ViaXNtdmVjdG9yMi50cy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL2xpdmUyZC8uL0ZyYW1ld29yay9zcmMvbWF0aC9jdWJpc212ZWN0b3IyLnRzP2RiMDgiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIENvcHlyaWdodChjKSBMaXZlMkQgSW5jLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4gKlxyXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSB0aGUgTGl2ZTJEIE9wZW4gU29mdHdhcmUgbGljZW5zZVxyXG4gKiB0aGF0IGNhbiBiZSBmb3VuZCBhdCBodHRwczovL3d3dy5saXZlMmQuY29tL2V1bGEvbGl2ZTJkLW9wZW4tc29mdHdhcmUtbGljZW5zZS1hZ3JlZW1lbnRfZW4uaHRtbC5cclxuICovXHJcblxyXG5leHBvcnQgbmFtZXNwYWNlIExpdmUyREN1YmlzbUZyYW1ld29yayB7XHJcbiAgLyoqXHJcbiAgICogMuasoeWFg+ODmeOCr+ODiOODq+Wei1xyXG4gICAqXHJcbiAgICogMuasoeWFg+ODmeOCr+ODiOODq+Wei+OBruapn+iDveOCkuaPkOS+m+OBmeOCi+OAglxyXG4gICAqL1xyXG4gIGV4cG9ydCBjbGFzcyBDdWJpc21WZWN0b3IyIHtcclxuICAgIC8qKlxyXG4gICAgICog44Kz44Oz44K544OI44Op44Kv44K/XHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcihwdWJsaWMgeD86IG51bWJlciwgcHVibGljIHk/OiBudW1iZXIpIHtcclxuICAgICAgdGhpcy54ID0geCA9PSB1bmRlZmluZWQgPyAwLjAgOiB4O1xyXG5cclxuICAgICAgdGhpcy55ID0geSA9PSB1bmRlZmluZWQgPyAwLjAgOiB5O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog44OZ44Kv44OI44Or44Gu5Yqg566XXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHZlY3RvcjIg5Yqg566X44GZ44KL44OZ44Kv44OI44Or5YCkXHJcbiAgICAgKiBAcmV0dXJuIOWKoOeul+e1kOaenCDjg5njgq/jg4jjg6vlgKRcclxuICAgICAqL1xyXG4gICAgcHVibGljIGFkZCh2ZWN0b3IyOiBDdWJpc21WZWN0b3IyKTogQ3ViaXNtVmVjdG9yMiB7XHJcbiAgICAgIGNvbnN0IHJldDogQ3ViaXNtVmVjdG9yMiA9IG5ldyBDdWJpc21WZWN0b3IyKDAuMCwgMC4wKTtcclxuICAgICAgcmV0LnggPSB0aGlzLnggKyB2ZWN0b3IyLng7XHJcbiAgICAgIHJldC55ID0gdGhpcy55ICsgdmVjdG9yMi55O1xyXG4gICAgICByZXR1cm4gcmV0O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog44OZ44Kv44OI44Or44Gu5rib566XXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHZlY3RvcjIg5rib566X44GZ44KL44OZ44Kv44OI44Or5YCkXHJcbiAgICAgKiBAcmV0dXJuIOa4m+eul+e1kOaenCDjg5njgq/jg4jjg6vlgKRcclxuICAgICAqL1xyXG4gICAgcHVibGljIHN1YnN0cmFjdCh2ZWN0b3IyOiBDdWJpc21WZWN0b3IyKTogQ3ViaXNtVmVjdG9yMiB7XHJcbiAgICAgIGNvbnN0IHJldDogQ3ViaXNtVmVjdG9yMiA9IG5ldyBDdWJpc21WZWN0b3IyKDAuMCwgMC4wKTtcclxuICAgICAgcmV0LnggPSB0aGlzLnggLSB2ZWN0b3IyLng7XHJcbiAgICAgIHJldC55ID0gdGhpcy55IC0gdmVjdG9yMi55O1xyXG4gICAgICByZXR1cm4gcmV0O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog44OZ44Kv44OI44Or44Gu5LmX566XXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHZlY3RvcjIg5LmX566X44GZ44KL44OZ44Kv44OI44Or5YCkXHJcbiAgICAgKiBAcmV0dXJuIOS5l+eul+e1kOaenCDjg5njgq/jg4jjg6vlgKRcclxuICAgICAqL1xyXG4gICAgcHVibGljIG11bHRpcGx5KHZlY3RvcjI6IEN1YmlzbVZlY3RvcjIpOiBDdWJpc21WZWN0b3IyIHtcclxuICAgICAgY29uc3QgcmV0OiBDdWJpc21WZWN0b3IyID0gbmV3IEN1YmlzbVZlY3RvcjIoMC4wLCAwLjApO1xyXG4gICAgICByZXQueCA9IHRoaXMueCAqIHZlY3RvcjIueDtcclxuICAgICAgcmV0LnkgPSB0aGlzLnkgKiB2ZWN0b3IyLnk7XHJcbiAgICAgIHJldHVybiByZXQ7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDjg5njgq/jg4jjg6vjga7kuZfnrpco44K544Kr44Op44O8KVxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBzY2FsYXIg5LmX566X44GZ44KL44K544Kr44Op44O85YCkXHJcbiAgICAgKiBAcmV0dXJuIOS5l+eul+e1kOaenCDjg5njgq/jg4jjg6vlgKRcclxuICAgICAqL1xyXG4gICAgcHVibGljIG11bHRpcGx5QnlTY2FsZXIoc2NhbGFyOiBudW1iZXIpOiBDdWJpc21WZWN0b3IyIHtcclxuICAgICAgcmV0dXJuIHRoaXMubXVsdGlwbHkobmV3IEN1YmlzbVZlY3RvcjIoc2NhbGFyLCBzY2FsYXIpKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOODmeOCr+ODiOODq+OBrumZpOeul1xyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB2ZWN0b3IyIOmZpOeul+OBmeOCi+ODmeOCr+ODiOODq+WApFxyXG4gICAgICogQHJldHVybiDpmaTnrpfntZDmnpwg44OZ44Kv44OI44Or5YCkXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBkaXZpc2lvbih2ZWN0b3IyOiBDdWJpc21WZWN0b3IyKTogQ3ViaXNtVmVjdG9yMiB7XHJcbiAgICAgIGNvbnN0IHJldDogQ3ViaXNtVmVjdG9yMiA9IG5ldyBDdWJpc21WZWN0b3IyKDAuMCwgMC4wKTtcclxuICAgICAgcmV0LnggPSB0aGlzLnggLyB2ZWN0b3IyLng7XHJcbiAgICAgIHJldC55ID0gdGhpcy55IC8gdmVjdG9yMi55O1xyXG4gICAgICByZXR1cm4gcmV0O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog44OZ44Kv44OI44Or44Gu6Zmk566XKOOCueOCq+ODqeODvClcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gc2NhbGFyIOmZpOeul+OBmeOCi+OCueOCq+ODqeODvOWApFxyXG4gICAgICogQHJldHVybiDpmaTnrpfntZDmnpwg44OZ44Kv44OI44Or5YCkXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBkaXZpc2lvbkJ5U2NhbGFyKHNjYWxhcjogbnVtYmVyKTogQ3ViaXNtVmVjdG9yMiB7XHJcbiAgICAgIHJldHVybiB0aGlzLmRpdmlzaW9uKG5ldyBDdWJpc21WZWN0b3IyKHNjYWxhciwgc2NhbGFyKSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDjg5njgq/jg4jjg6vjga7plbfjgZXjgpLlj5blvpfjgZnjgotcclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJuIOODmeOCr+ODiOODq+OBrumVt+OBlVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2V0TGVuZ3RoKCk6IG51bWJlciB7XHJcbiAgICAgIHJldHVybiBNYXRoLnNxcnQodGhpcy54ICogdGhpcy54ICsgdGhpcy55ICogdGhpcy55KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOODmeOCr+ODiOODq+OBrui3nembouOBruWPluW+l1xyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBhIOeCuVxyXG4gICAgICogQHJldHVybiDjg5njgq/jg4jjg6vjga7ot53pm6JcclxuICAgICAqL1xyXG4gICAgcHVibGljIGdldERpc3RhbmNlV2l0aChhOiBDdWJpc21WZWN0b3IyKTogbnVtYmVyIHtcclxuICAgICAgcmV0dXJuIE1hdGguc3FydChcclxuICAgICAgICAodGhpcy54IC0gYS54KSAqICh0aGlzLnggLSBhLngpICsgKHRoaXMueSAtIGEueSkgKiAodGhpcy55IC0gYS55KVxyXG4gICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog44OJ44OD44OI56mN44Gu6KiI566XXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGEg5YCkXHJcbiAgICAgKiBAcmV0dXJuIOe1kOaenFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZG90KGE6IEN1YmlzbVZlY3RvcjIpOiBudW1iZXIge1xyXG4gICAgICByZXR1cm4gdGhpcy54ICogYS54ICsgdGhpcy55ICogYS55O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5q2j6KaP5YyW44Gu6YGp55SoXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBub3JtYWxpemUoKTogdm9pZCB7XHJcbiAgICAgIGNvbnN0IGxlbmd0aDogbnVtYmVyID0gTWF0aC5wb3codGhpcy54ICogdGhpcy54ICsgdGhpcy55ICogdGhpcy55LCAwLjUpO1xyXG5cclxuICAgICAgdGhpcy54ID0gdGhpcy54IC8gbGVuZ3RoO1xyXG4gICAgICB0aGlzLnkgPSB0aGlzLnkgLyBsZW5ndGg7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDnrYnjgZfjgZXjga7norroqo3vvIjnrYnjgZfjgYTjgYvvvJ/vvIlcclxuICAgICAqXHJcbiAgICAgKiDlgKTjgYznrYnjgZfjgYTjgYvvvJ9cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gcmhzIOeiuuiqjeOBmeOCi+WApFxyXG4gICAgICogQHJldHVybiB0cnVlIOWApOOBr+etieOBl+OBhFxyXG4gICAgICogQHJldHVybiBmYWxzZSDlgKTjga/nrYnjgZfjgY/jgarjgYRcclxuICAgICAqL1xyXG4gICAgcHVibGljIGlzRXF1YWwocmhzOiBDdWJpc21WZWN0b3IyKTogYm9vbGVhbiB7XHJcbiAgICAgIHJldHVybiB0aGlzLnggPT0gcmhzLnggJiYgdGhpcy55ID09IHJocy55O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog562J44GX44GV44Gu56K66KqN77yI562J44GX44GP44Gq44GE44GL77yf77yJXHJcbiAgICAgKlxyXG4gICAgICog5YCk44GM562J44GX44GP44Gq44GE44GL77yfXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHJocyDnorroqo3jgZnjgovlgKRcclxuICAgICAqIEByZXR1cm4gdHJ1ZSDlgKTjga/nrYnjgZfjgY/jgarjgYRcclxuICAgICAqIEByZXR1cm4gZmFsc2Ug5YCk44Gv562J44GX44GEXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBpc05vdEVxdWFsKHJoczogQ3ViaXNtVmVjdG9yMik6IGJvb2xlYW4ge1xyXG4gICAgICByZXR1cm4gIXRoaXMuaXNFcXVhbChyaHMpO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iXSwibWFwcGluZ3MiOiI7OztBQU9BO0FBQUE7QUFNQTtBQUlBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVFBO0FBQ0E7QUFDQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVFBO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQVFBO0FBQ0E7QUFHQTtBQVFBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFXQTtBQUNBO0FBQ0E7QUFXQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBcEpBO0FBcUpBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./Framework/src/math/cubismvector2.ts\n");

/***/ }),

/***/ "./Framework/src/math/cubismviewmatrix.ts":
/*!************************************************!*\
  !*** ./Framework/src/math/cubismviewmatrix.ts ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Live2DCubismFramework = void 0;\r\nvar cubismmatrix44_1 = __webpack_require__(/*! ./cubismmatrix44 */ \"./Framework/src/math/cubismmatrix44.ts\");\r\nvar CubismMatrix44 = cubismmatrix44_1.Live2DCubismFramework.CubismMatrix44;\r\nvar Live2DCubismFramework;\r\n(function (Live2DCubismFramework) {\r\n    var CubismViewMatrix = (function (_super) {\r\n        __extends(CubismViewMatrix, _super);\r\n        function CubismViewMatrix() {\r\n            var _this = _super.call(this) || this;\r\n            _this._screenLeft = 0.0;\r\n            _this._screenRight = 0.0;\r\n            _this._screenTop = 0.0;\r\n            _this._screenBottom = 0.0;\r\n            _this._maxLeft = 0.0;\r\n            _this._maxRight = 0.0;\r\n            _this._maxTop = 0.0;\r\n            _this._maxBottom = 0.0;\r\n            _this._maxScale = 0.0;\r\n            _this._minScale = 0.0;\r\n            return _this;\r\n        }\r\n        CubismViewMatrix.prototype.adjustTranslate = function (x, y) {\r\n            if (this._tr[0] * this._maxLeft + (this._tr[12] + x) > this._screenLeft) {\r\n                x = this._screenLeft - this._tr[0] * this._maxLeft - this._tr[12];\r\n            }\r\n            if (this._tr[0] * this._maxRight + (this._tr[12] + x) <\r\n                this._screenRight) {\r\n                x = this._screenRight - this._tr[0] * this._maxRight - this._tr[12];\r\n            }\r\n            if (this._tr[5] * this._maxTop + (this._tr[13] + y) < this._screenTop) {\r\n                y = this._screenTop - this._tr[5] * this._maxTop - this._tr[13];\r\n            }\r\n            if (this._tr[5] * this._maxBottom + (this._tr[13] + y) >\r\n                this._screenBottom) {\r\n                y = this._screenBottom - this._tr[5] * this._maxBottom - this._tr[13];\r\n            }\r\n            var tr1 = new Float32Array([\r\n                1.0,\r\n                0.0,\r\n                0.0,\r\n                0.0,\r\n                0.0,\r\n                1.0,\r\n                0.0,\r\n                0.0,\r\n                0.0,\r\n                0.0,\r\n                1.0,\r\n                0.0,\r\n                x,\r\n                y,\r\n                0.0,\r\n                1.0\r\n            ]);\r\n            CubismMatrix44.multiply(tr1, this._tr, this._tr);\r\n        };\r\n        CubismViewMatrix.prototype.adjustScale = function (cx, cy, scale) {\r\n            var maxScale = this.getMaxScale();\r\n            var minScale = this.getMinScale();\r\n            var targetScale = scale * this._tr[0];\r\n            if (targetScale < minScale) {\r\n                if (this._tr[0] > 0.0) {\r\n                    scale = minScale / this._tr[0];\r\n                }\r\n            }\r\n            else if (targetScale > maxScale) {\r\n                if (this._tr[0] > 0.0) {\r\n                    scale = maxScale / this._tr[0];\r\n                }\r\n            }\r\n            var tr1 = new Float32Array([\r\n                1.0,\r\n                0.0,\r\n                0.0,\r\n                0.0,\r\n                0.0,\r\n                1.0,\r\n                0.0,\r\n                0.0,\r\n                0.0,\r\n                0.0,\r\n                1.0,\r\n                0.0,\r\n                cx,\r\n                cy,\r\n                0.0,\r\n                1.0\r\n            ]);\r\n            var tr2 = new Float32Array([\r\n                scale,\r\n                0.0,\r\n                0.0,\r\n                0.0,\r\n                0.0,\r\n                scale,\r\n                0.0,\r\n                0.0,\r\n                0.0,\r\n                0.0,\r\n                1.0,\r\n                0.0,\r\n                0.0,\r\n                0.0,\r\n                0.0,\r\n                1.0\r\n            ]);\r\n            var tr3 = new Float32Array([\r\n                1.0,\r\n                0.0,\r\n                0.0,\r\n                0.0,\r\n                0.0,\r\n                1.0,\r\n                0.0,\r\n                0.0,\r\n                0.0,\r\n                0.0,\r\n                1.0,\r\n                0.0,\r\n                -cx,\r\n                -cy,\r\n                0.0,\r\n                1.0\r\n            ]);\r\n            CubismMatrix44.multiply(tr3, this._tr, this._tr);\r\n            CubismMatrix44.multiply(tr2, this._tr, this._tr);\r\n            CubismMatrix44.multiply(tr1, this._tr, this._tr);\r\n        };\r\n        CubismViewMatrix.prototype.setScreenRect = function (left, right, bottom, top) {\r\n            this._screenLeft = left;\r\n            this._screenRight = right;\r\n            this._screenBottom = bottom;\r\n            this._screenTop = top;\r\n        };\r\n        CubismViewMatrix.prototype.setMaxScreenRect = function (left, right, bottom, top) {\r\n            this._maxLeft = left;\r\n            this._maxRight = right;\r\n            this._maxTop = top;\r\n            this._maxBottom = bottom;\r\n        };\r\n        CubismViewMatrix.prototype.setMaxScale = function (maxScale) {\r\n            this._maxScale = maxScale;\r\n        };\r\n        CubismViewMatrix.prototype.setMinScale = function (minScale) {\r\n            this._minScale = minScale;\r\n        };\r\n        CubismViewMatrix.prototype.getMaxScale = function () {\r\n            return this._maxScale;\r\n        };\r\n        CubismViewMatrix.prototype.getMinScale = function () {\r\n            return this._minScale;\r\n        };\r\n        CubismViewMatrix.prototype.isMaxScale = function () {\r\n            return this.getScaleX() >= this._maxScale;\r\n        };\r\n        CubismViewMatrix.prototype.isMinScale = function () {\r\n            return this.getScaleX() <= this._minScale;\r\n        };\r\n        CubismViewMatrix.prototype.getScreenLeft = function () {\r\n            return this._screenLeft;\r\n        };\r\n        CubismViewMatrix.prototype.getScreenRight = function () {\r\n            return this._screenRight;\r\n        };\r\n        CubismViewMatrix.prototype.getScreenBottom = function () {\r\n            return this._screenBottom;\r\n        };\r\n        CubismViewMatrix.prototype.getScreenTop = function () {\r\n            return this._screenTop;\r\n        };\r\n        CubismViewMatrix.prototype.getMaxLeft = function () {\r\n            return this._maxLeft;\r\n        };\r\n        CubismViewMatrix.prototype.getMaxRight = function () {\r\n            return this._maxRight;\r\n        };\r\n        CubismViewMatrix.prototype.getMaxBottom = function () {\r\n            return this._maxBottom;\r\n        };\r\n        CubismViewMatrix.prototype.getMaxTop = function () {\r\n            return this._maxTop;\r\n        };\r\n        return CubismViewMatrix;\r\n    }(CubismMatrix44));\r\n    Live2DCubismFramework.CubismViewMatrix = CubismViewMatrix;\r\n})(Live2DCubismFramework = exports.Live2DCubismFramework || (exports.Live2DCubismFramework = {}));\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9GcmFtZXdvcmsvc3JjL21hdGgvY3ViaXNtdmlld21hdHJpeC50cy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL2xpdmUyZC8uL0ZyYW1ld29yay9zcmMvbWF0aC9jdWJpc212aWV3bWF0cml4LnRzP2UwMGUiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIENvcHlyaWdodChjKSBMaXZlMkQgSW5jLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4gKlxyXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSB0aGUgTGl2ZTJEIE9wZW4gU29mdHdhcmUgbGljZW5zZVxyXG4gKiB0aGF0IGNhbiBiZSBmb3VuZCBhdCBodHRwczovL3d3dy5saXZlMmQuY29tL2V1bGEvbGl2ZTJkLW9wZW4tc29mdHdhcmUtbGljZW5zZS1hZ3JlZW1lbnRfZW4uaHRtbC5cclxuICovXHJcblxyXG5pbXBvcnQgeyBMaXZlMkRDdWJpc21GcmFtZXdvcmsgYXMgY3ViaXNtbWF0cml4NDQgfSBmcm9tICcuL2N1YmlzbW1hdHJpeDQ0JztcclxuaW1wb3J0IEN1YmlzbU1hdHJpeDQ0ID0gY3ViaXNtbWF0cml4NDQuQ3ViaXNtTWF0cml4NDQ7XHJcblxyXG5leHBvcnQgbmFtZXNwYWNlIExpdmUyREN1YmlzbUZyYW1ld29yayB7XHJcbiAgLyoqXHJcbiAgICog44Kr44Oh44Op44Gu5L2N572u5aSJ5pu044Gr5L2/44GG44Go5L6/5Yip44GqNHg06KGM5YiXXHJcbiAgICpcclxuICAgKiDjgqvjg6Hjg6njga7kvY3nva7lpInmm7Tjgavkvb/jgYbjgajkvr/liKnjgao0eDTooYzliJfjga7jgq/jg6njgrnjgIJcclxuICAgKi9cclxuICBleHBvcnQgY2xhc3MgQ3ViaXNtVmlld01hdHJpeCBleHRlbmRzIEN1YmlzbU1hdHJpeDQ0IHtcclxuICAgIC8qKlxyXG4gICAgICog44Kz44Oz44K544OI44Op44Kv44K/XHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgc3VwZXIoKTtcclxuICAgICAgdGhpcy5fc2NyZWVuTGVmdCA9IDAuMDtcclxuICAgICAgdGhpcy5fc2NyZWVuUmlnaHQgPSAwLjA7XHJcbiAgICAgIHRoaXMuX3NjcmVlblRvcCA9IDAuMDtcclxuICAgICAgdGhpcy5fc2NyZWVuQm90dG9tID0gMC4wO1xyXG4gICAgICB0aGlzLl9tYXhMZWZ0ID0gMC4wO1xyXG4gICAgICB0aGlzLl9tYXhSaWdodCA9IDAuMDtcclxuICAgICAgdGhpcy5fbWF4VG9wID0gMC4wO1xyXG4gICAgICB0aGlzLl9tYXhCb3R0b20gPSAwLjA7XHJcbiAgICAgIHRoaXMuX21heFNjYWxlID0gMC4wO1xyXG4gICAgICB0aGlzLl9taW5TY2FsZSA9IDAuMDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOenu+WLleOCkuiqv+aVtFxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB4IFjou7jjga7np7vli5Xph49cclxuICAgICAqIEBwYXJhbSB5IFnou7jjga7np7vli5Xph49cclxuICAgICAqL1xyXG4gICAgcHVibGljIGFkanVzdFRyYW5zbGF0ZSh4OiBudW1iZXIsIHk6IG51bWJlcik6IHZvaWQge1xyXG4gICAgICBpZiAodGhpcy5fdHJbMF0gKiB0aGlzLl9tYXhMZWZ0ICsgKHRoaXMuX3RyWzEyXSArIHgpID4gdGhpcy5fc2NyZWVuTGVmdCkge1xyXG4gICAgICAgIHggPSB0aGlzLl9zY3JlZW5MZWZ0IC0gdGhpcy5fdHJbMF0gKiB0aGlzLl9tYXhMZWZ0IC0gdGhpcy5fdHJbMTJdO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoXHJcbiAgICAgICAgdGhpcy5fdHJbMF0gKiB0aGlzLl9tYXhSaWdodCArICh0aGlzLl90clsxMl0gKyB4KSA8XHJcbiAgICAgICAgdGhpcy5fc2NyZWVuUmlnaHRcclxuICAgICAgKSB7XHJcbiAgICAgICAgeCA9IHRoaXMuX3NjcmVlblJpZ2h0IC0gdGhpcy5fdHJbMF0gKiB0aGlzLl9tYXhSaWdodCAtIHRoaXMuX3RyWzEyXTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKHRoaXMuX3RyWzVdICogdGhpcy5fbWF4VG9wICsgKHRoaXMuX3RyWzEzXSArIHkpIDwgdGhpcy5fc2NyZWVuVG9wKSB7XHJcbiAgICAgICAgeSA9IHRoaXMuX3NjcmVlblRvcCAtIHRoaXMuX3RyWzVdICogdGhpcy5fbWF4VG9wIC0gdGhpcy5fdHJbMTNdO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoXHJcbiAgICAgICAgdGhpcy5fdHJbNV0gKiB0aGlzLl9tYXhCb3R0b20gKyAodGhpcy5fdHJbMTNdICsgeSkgPlxyXG4gICAgICAgIHRoaXMuX3NjcmVlbkJvdHRvbVxyXG4gICAgICApIHtcclxuICAgICAgICB5ID0gdGhpcy5fc2NyZWVuQm90dG9tIC0gdGhpcy5fdHJbNV0gKiB0aGlzLl9tYXhCb3R0b20gLSB0aGlzLl90clsxM107XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IHRyMTogRmxvYXQzMkFycmF5ID0gbmV3IEZsb2F0MzJBcnJheShbXHJcbiAgICAgICAgMS4wLFxyXG4gICAgICAgIDAuMCxcclxuICAgICAgICAwLjAsXHJcbiAgICAgICAgMC4wLFxyXG4gICAgICAgIDAuMCxcclxuICAgICAgICAxLjAsXHJcbiAgICAgICAgMC4wLFxyXG4gICAgICAgIDAuMCxcclxuICAgICAgICAwLjAsXHJcbiAgICAgICAgMC4wLFxyXG4gICAgICAgIDEuMCxcclxuICAgICAgICAwLjAsXHJcbiAgICAgICAgeCxcclxuICAgICAgICB5LFxyXG4gICAgICAgIDAuMCxcclxuICAgICAgICAxLjBcclxuICAgICAgXSk7XHJcblxyXG4gICAgICBDdWJpc21NYXRyaXg0NC5tdWx0aXBseSh0cjEsIHRoaXMuX3RyLCB0aGlzLl90cik7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDmi6HlpKfnjofjgpLoqr/mlbRcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gY3gg5ouh5aSn44KS6KGM44GGWOi7uOOBruS4reW/g+S9jee9rlxyXG4gICAgICogQHBhcmFtIGN5IOaLoeWkp+OCkuihjOOBhlnou7jjga7kuK3lv4PkvY3nva5cclxuICAgICAqIEBwYXJhbSBzY2FsZSDmi6HlpKfnjodcclxuICAgICAqL1xyXG4gICAgcHVibGljIGFkanVzdFNjYWxlKGN4OiBudW1iZXIsIGN5OiBudW1iZXIsIHNjYWxlOiBudW1iZXIpOiB2b2lkIHtcclxuICAgICAgY29uc3QgbWF4U2NhbGU6IG51bWJlciA9IHRoaXMuZ2V0TWF4U2NhbGUoKTtcclxuICAgICAgY29uc3QgbWluU2NhbGU6IG51bWJlciA9IHRoaXMuZ2V0TWluU2NhbGUoKTtcclxuXHJcbiAgICAgIGNvbnN0IHRhcmdldFNjYWxlID0gc2NhbGUgKiB0aGlzLl90clswXTtcclxuXHJcbiAgICAgIGlmICh0YXJnZXRTY2FsZSA8IG1pblNjYWxlKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX3RyWzBdID4gMC4wKSB7XHJcbiAgICAgICAgICBzY2FsZSA9IG1pblNjYWxlIC8gdGhpcy5fdHJbMF07XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2UgaWYgKHRhcmdldFNjYWxlID4gbWF4U2NhbGUpIHtcclxuICAgICAgICBpZiAodGhpcy5fdHJbMF0gPiAwLjApIHtcclxuICAgICAgICAgIHNjYWxlID0gbWF4U2NhbGUgLyB0aGlzLl90clswXTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IHRyMTogRmxvYXQzMkFycmF5ID0gbmV3IEZsb2F0MzJBcnJheShbXHJcbiAgICAgICAgMS4wLFxyXG4gICAgICAgIDAuMCxcclxuICAgICAgICAwLjAsXHJcbiAgICAgICAgMC4wLFxyXG4gICAgICAgIDAuMCxcclxuICAgICAgICAxLjAsXHJcbiAgICAgICAgMC4wLFxyXG4gICAgICAgIDAuMCxcclxuICAgICAgICAwLjAsXHJcbiAgICAgICAgMC4wLFxyXG4gICAgICAgIDEuMCxcclxuICAgICAgICAwLjAsXHJcbiAgICAgICAgY3gsXHJcbiAgICAgICAgY3ksXHJcbiAgICAgICAgMC4wLFxyXG4gICAgICAgIDEuMFxyXG4gICAgICBdKTtcclxuXHJcbiAgICAgIGNvbnN0IHRyMjogRmxvYXQzMkFycmF5ID0gbmV3IEZsb2F0MzJBcnJheShbXHJcbiAgICAgICAgc2NhbGUsXHJcbiAgICAgICAgMC4wLFxyXG4gICAgICAgIDAuMCxcclxuICAgICAgICAwLjAsXHJcbiAgICAgICAgMC4wLFxyXG4gICAgICAgIHNjYWxlLFxyXG4gICAgICAgIDAuMCxcclxuICAgICAgICAwLjAsXHJcbiAgICAgICAgMC4wLFxyXG4gICAgICAgIDAuMCxcclxuICAgICAgICAxLjAsXHJcbiAgICAgICAgMC4wLFxyXG4gICAgICAgIDAuMCxcclxuICAgICAgICAwLjAsXHJcbiAgICAgICAgMC4wLFxyXG4gICAgICAgIDEuMFxyXG4gICAgICBdKTtcclxuXHJcbiAgICAgIGNvbnN0IHRyMzogRmxvYXQzMkFycmF5ID0gbmV3IEZsb2F0MzJBcnJheShbXHJcbiAgICAgICAgMS4wLFxyXG4gICAgICAgIDAuMCxcclxuICAgICAgICAwLjAsXHJcbiAgICAgICAgMC4wLFxyXG4gICAgICAgIDAuMCxcclxuICAgICAgICAxLjAsXHJcbiAgICAgICAgMC4wLFxyXG4gICAgICAgIDAuMCxcclxuICAgICAgICAwLjAsXHJcbiAgICAgICAgMC4wLFxyXG4gICAgICAgIDEuMCxcclxuICAgICAgICAwLjAsXHJcbiAgICAgICAgLWN4LFxyXG4gICAgICAgIC1jeSxcclxuICAgICAgICAwLjAsXHJcbiAgICAgICAgMS4wXHJcbiAgICAgIF0pO1xyXG5cclxuICAgICAgQ3ViaXNtTWF0cml4NDQubXVsdGlwbHkodHIzLCB0aGlzLl90ciwgdGhpcy5fdHIpO1xyXG4gICAgICBDdWJpc21NYXRyaXg0NC5tdWx0aXBseSh0cjIsIHRoaXMuX3RyLCB0aGlzLl90cik7XHJcbiAgICAgIEN1YmlzbU1hdHJpeDQ0Lm11bHRpcGx5KHRyMSwgdGhpcy5fdHIsIHRoaXMuX3RyKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOODh+ODkOOCpOOCueOBq+WvvuW/nOOBmeOCi+irlueQhuW6p+mkiueUn+OBruevhOWbsuOBruioreWumlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBsZWZ0ICAgICAg5bem6L6644GuWOi7uOOBruS9jee9rlxyXG4gICAgICogQHBhcmFtIHJpZ2h0ICAgICDlj7Povrrjga5Y6Lu444Gu5L2N572uXHJcbiAgICAgKiBAcGFyYW0gYm90dG9tICAgIOS4i+i+uuOBrlnou7jjga7kvY3nva5cclxuICAgICAqIEBwYXJhbSB0b3AgICAgICAg5LiK6L6644GuWei7uOOBruS9jee9rlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc2V0U2NyZWVuUmVjdChcclxuICAgICAgbGVmdDogbnVtYmVyLFxyXG4gICAgICByaWdodDogbnVtYmVyLFxyXG4gICAgICBib3R0b206IG51bWJlcixcclxuICAgICAgdG9wOiBudW1iZXJcclxuICAgICk6IHZvaWQge1xyXG4gICAgICB0aGlzLl9zY3JlZW5MZWZ0ID0gbGVmdDtcclxuICAgICAgdGhpcy5fc2NyZWVuUmlnaHQgPSByaWdodDtcclxuICAgICAgdGhpcy5fc2NyZWVuQm90dG9tID0gYm90dG9tO1xyXG4gICAgICB0aGlzLl9zY3JlZW5Ub3AgPSB0b3A7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDjg4fjg5DjgqTjgrnjgavlr77lv5zjgZnjgovoq5bnkIbluqfmqJnkuIrjga7np7vli5Xlj6/og73nr4Tlm7Ljga7oqK3lrppcclxuICAgICAqIEBwYXJhbSBsZWZ0ICAgICAg5bem6L6644GuWOi7uOOBruS9jee9rlxyXG4gICAgICogQHBhcmFtIHJpZ2h0ICAgICDlj7Povrrjga5Y6Lu444Gu5L2N572uXHJcbiAgICAgKiBAcGFyYW0gYm90dG9tICAgIOS4i+i+uuOBrlnou7jjga7kvY3nva5cclxuICAgICAqIEBwYXJhbSB0b3AgICAgICAg5LiK6L6644GuWei7uOOBruS9jee9rlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc2V0TWF4U2NyZWVuUmVjdChcclxuICAgICAgbGVmdDogbnVtYmVyLFxyXG4gICAgICByaWdodDogbnVtYmVyLFxyXG4gICAgICBib3R0b206IG51bWJlcixcclxuICAgICAgdG9wOiBudW1iZXJcclxuICAgICk6IHZvaWQge1xyXG4gICAgICB0aGlzLl9tYXhMZWZ0ID0gbGVmdDtcclxuICAgICAgdGhpcy5fbWF4UmlnaHQgPSByaWdodDtcclxuICAgICAgdGhpcy5fbWF4VG9wID0gdG9wO1xyXG4gICAgICB0aGlzLl9tYXhCb3R0b20gPSBib3R0b207XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDmnIDlpKfmi6HlpKfnjofjga7oqK3lrppcclxuICAgICAqIEBwYXJhbSBtYXhTY2FsZSDmnIDlpKfmi6HlpKfnjodcclxuICAgICAqL1xyXG4gICAgcHVibGljIHNldE1heFNjYWxlKG1heFNjYWxlOiBudW1iZXIpOiB2b2lkIHtcclxuICAgICAgdGhpcy5fbWF4U2NhbGUgPSBtYXhTY2FsZTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOacgOWwj+aLoeWkp+eOh+OBruioreWumlxyXG4gICAgICogQHBhcmFtIG1pblNjYWxlIOacgOWwj+aLoeWkp+eOh1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc2V0TWluU2NhbGUobWluU2NhbGU6IG51bWJlcik6IHZvaWQge1xyXG4gICAgICB0aGlzLl9taW5TY2FsZSA9IG1pblNjYWxlO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5pyA5aSn5ouh5aSn546H44Gu5Y+W5b6XXHJcbiAgICAgKiBAcmV0dXJuIOacgOWkp+aLoeWkp+eOh1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2V0TWF4U2NhbGUoKTogbnVtYmVyIHtcclxuICAgICAgcmV0dXJuIHRoaXMuX21heFNjYWxlO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5pyA5bCP5ouh5aSn546H44Gu5Y+W5b6XXHJcbiAgICAgKiBAcmV0dXJuIOacgOWwj+aLoeWkp+eOh1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2V0TWluU2NhbGUoKTogbnVtYmVyIHtcclxuICAgICAgcmV0dXJuIHRoaXMuX21pblNjYWxlO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5ouh5aSn546H44GM5pyA5aSn44Gr44Gq44Gj44Gm44GE44KL44GL44KS56K66KqN44GZ44KLXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybiB0cnVlIOaLoeWkp+eOh+OBr+acgOWkp1xyXG4gICAgICogQHJldHVybiBmYWxzZSDmi6HlpKfnjofjga/mnIDlpKfjgafjga/jgarjgYRcclxuICAgICAqL1xyXG4gICAgcHVibGljIGlzTWF4U2NhbGUoKTogYm9vbGVhbiB7XHJcbiAgICAgIHJldHVybiB0aGlzLmdldFNjYWxlWCgpID49IHRoaXMuX21heFNjYWxlO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5ouh5aSn546H44GM5pyA5bCP44Gr44Gq44Gj44Gm44GE44KL44GL44KS56K66KqN44GZ44KLXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybiB0cnVlIOaLoeWkp+eOh+OBr+acgOWwj1xyXG4gICAgICogQHJldHVybiBmYWxzZSDmi6HlpKfnjofjga/mnIDlsI/jgafjga/jgarjgYRcclxuICAgICAqL1xyXG4gICAgcHVibGljIGlzTWluU2NhbGUoKTogYm9vbGVhbiB7XHJcbiAgICAgIHJldHVybiB0aGlzLmdldFNjYWxlWCgpIDw9IHRoaXMuX21pblNjYWxlO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog44OH44OQ44Kk44K544Gr5a++5b+c44GZ44KL6KuW55CG5bqn5qiZ44Gu5bem6L6644Gu77y46Lu45L2N572u44KS5Y+W5b6X44GZ44KLXHJcbiAgICAgKiBAcmV0dXJuIOODh+ODkOOCpOOCueOBq+WvvuW/nOOBmeOCi+irlueQhuW6p+aomeOBruW3pui+uuOBrljou7jkvY3nva5cclxuICAgICAqL1xyXG4gICAgcHVibGljIGdldFNjcmVlbkxlZnQoKTogbnVtYmVyIHtcclxuICAgICAgcmV0dXJuIHRoaXMuX3NjcmVlbkxlZnQ7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDjg4fjg5DjgqTjgrnjgavlr77lv5zjgZnjgovoq5bnkIbluqfmqJnjga7lj7Povrrjga7vvLjou7jkvY3nva7jgpLlj5blvpfjgZnjgotcclxuICAgICAqIEByZXR1cm4g44OH44OQ44Kk44K544Gr5a++5b+c44GZ44KL6KuW55CG5bqn5qiZ44Gu5Y+z6L6644GuWOi7uOS9jee9rlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2V0U2NyZWVuUmlnaHQoKTogbnVtYmVyIHtcclxuICAgICAgcmV0dXJuIHRoaXMuX3NjcmVlblJpZ2h0O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog44OH44OQ44Kk44K544Gr5a++5b+c44GZ44KL6KuW55CG5bqn5qiZ44Gu5LiL6L6644GuWei7uOS9jee9ruOCkuWPluW+l+OBmeOCi1xyXG4gICAgICogQHJldHVybiDjg4fjg5DjgqTjgrnjgavlr77lv5zjgZnjgovoq5bnkIbluqfmqJnjga7kuIvovrrjga5Z6Lu45L2N572uXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXRTY3JlZW5Cb3R0b20oKTogbnVtYmVyIHtcclxuICAgICAgcmV0dXJuIHRoaXMuX3NjcmVlbkJvdHRvbTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOODh+ODkOOCpOOCueOBq+WvvuW/nOOBmeOCi+irlueQhuW6p+aomeOBruS4iui+uuOBrlnou7jkvY3nva7jgpLlj5blvpfjgZnjgotcclxuICAgICAqIEByZXR1cm4g44OH44OQ44Kk44K544Gr5a++5b+c44GZ44KL6KuW55CG5bqn5qiZ44Gu5LiK6L6644GuWei7uOS9jee9rlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2V0U2NyZWVuVG9wKCk6IG51bWJlciB7XHJcbiAgICAgIHJldHVybiB0aGlzLl9zY3JlZW5Ub3A7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDlt6bovrrjga5Y6Lu45L2N572u44Gu5pyA5aSn5YCk44Gu5Y+W5b6XXHJcbiAgICAgKiBAcmV0dXJuIOW3pui+uuOBrljou7jkvY3nva7jga7mnIDlpKflgKRcclxuICAgICAqL1xyXG4gICAgcHVibGljIGdldE1heExlZnQoKTogbnVtYmVyIHtcclxuICAgICAgcmV0dXJuIHRoaXMuX21heExlZnQ7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDlj7Povrrjga5Y6Lu45L2N572u44Gu5pyA5aSn5YCk44Gu5Y+W5b6XXHJcbiAgICAgKiBAcmV0dXJuIOWPs+i+uuOBrljou7jkvY3nva7jga7mnIDlpKflgKRcclxuICAgICAqL1xyXG4gICAgcHVibGljIGdldE1heFJpZ2h0KCk6IG51bWJlciB7XHJcbiAgICAgIHJldHVybiB0aGlzLl9tYXhSaWdodDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOS4i+i+uuOBrlnou7jkvY3nva7jga7mnIDlpKflgKTjga7lj5blvpdcclxuICAgICAqIEByZXR1cm4g5LiL6L6644GuWei7uOS9jee9ruOBruacgOWkp+WApFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2V0TWF4Qm90dG9tKCk6IG51bWJlciB7XHJcbiAgICAgIHJldHVybiB0aGlzLl9tYXhCb3R0b207XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDkuIrovrrjga5Z6Lu45L2N572u44Gu5pyA5aSn5YCk44Gu5Y+W5b6XXHJcbiAgICAgKiBAcmV0dXJuIOS4iui+uuOBrlnou7jkvY3nva7jga7mnIDlpKflgKRcclxuICAgICAqL1xyXG4gICAgcHVibGljIGdldE1heFRvcCgpOiBudW1iZXIge1xyXG4gICAgICByZXR1cm4gdGhpcy5fbWF4VG9wO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgX3NjcmVlbkxlZnQ6IG51bWJlcjsgLy8g44OH44OQ44Kk44K544Gr5a++5b+c44GZ44KL6KuW55CG5bqn5qiZ5LiK44Gu56+E5Zuy77yI5bem6L66WOi7uOS9jee9ru+8iVxyXG4gICAgcHJpdmF0ZSBfc2NyZWVuUmlnaHQ6IG51bWJlcjsgLy8g44OH44OQ44Kk44K544Gr5a++5b+c44GZ44KL6KuW55CG5bqn5qiZ5LiK44Gu56+E5Zuy77yI5Y+z6L66WOi7uOS9jee9ru+8iVxyXG4gICAgcHJpdmF0ZSBfc2NyZWVuVG9wOiBudW1iZXI7IC8vIOODh+ODkOOCpOOCueOBq+WvvuW/nOOBmeOCi+irlueQhuW6p+aomeS4iuOBruevhOWbsu+8iOS4iui+ulnou7jkvY3nva7vvIlcclxuICAgIHByaXZhdGUgX3NjcmVlbkJvdHRvbTogbnVtYmVyOyAvLyDjg4fjg5DjgqTjgrnjgavlr77lv5zjgZnjgovoq5bnkIbluqfmqJnkuIrjga7nr4Tlm7LvvIjkuIvovrpZ6Lu45L2N572u77yJXHJcbiAgICBwcml2YXRlIF9tYXhMZWZ0OiBudW1iZXI7IC8vIOirlueQhuW6p+aomeS4iuOBruenu+WLleWPr+iDveevhOWbsu+8iOW3pui+uljou7jkvY3nva7vvIlcclxuICAgIHByaXZhdGUgX21heFJpZ2h0OiBudW1iZXI7IC8vIOirlueQhuW6p+aomeS4iuOBruenu+WLleWPr+iDveevhOWbsu+8iOWPs+i+uljou7jkvY3nva7vvIlcclxuICAgIHByaXZhdGUgX21heFRvcDogbnVtYmVyOyAvLyDoq5bnkIbluqfmqJnkuIrjga7np7vli5Xlj6/og73nr4Tlm7LvvIjkuIrovrpZ6Lu45L2N572u77yJXHJcbiAgICBwcml2YXRlIF9tYXhCb3R0b206IG51bWJlcjsgLy8g6KuW55CG5bqn5qiZ5LiK44Gu56e75YuV5Y+v6IO956+E5Zuy77yI5LiL6L66Wei7uOS9jee9ru+8iVxyXG4gICAgcHJpdmF0ZSBfbWF4U2NhbGU6IG51bWJlcjsgLy8g5ouh5aSn546H44Gu5pyA5aSn5YCkXHJcbiAgICBwcml2YXRlIF9taW5TY2FsZTogbnVtYmVyOyAvLyDmi6HlpKfnjofjga7mnIDlsI/lgKRcclxuICB9XHJcbn1cclxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBT0E7QUFDQTtBQUVBO0FBQUE7QUFNQTtBQUFBO0FBSUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQVNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQVVBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQVFBO0FBQ0E7QUFDQTtBQVFBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQVlBO0FBQUE7QUEvVEE7QUFnVUE7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./Framework/src/math/cubismviewmatrix.ts\n");

/***/ }),

/***/ "./Framework/src/model/cubismmoc.ts":
/*!******************************************!*\
  !*** ./Framework/src/model/cubismmoc.ts ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Live2DCubismFramework = void 0;\r\nvar cubismmodel_1 = __webpack_require__(/*! ./cubismmodel */ \"./Framework/src/model/cubismmodel.ts\");\r\nvar CubismModel = cubismmodel_1.Live2DCubismFramework.CubismModel;\r\nvar cubismdebug_1 = __webpack_require__(/*! ../utils/cubismdebug */ \"./Framework/src/utils/cubismdebug.ts\");\r\nvar Live2DCubismFramework;\r\n(function (Live2DCubismFramework) {\r\n    var CubismMoc = (function () {\r\n        function CubismMoc(moc) {\r\n            this._moc = moc;\r\n            this._modelCount = 0;\r\n        }\r\n        CubismMoc.create = function (mocBytes) {\r\n            var cubismMoc = null;\r\n            var moc = Live2DCubismCore.Moc.fromArrayBuffer(mocBytes);\r\n            if (moc) {\r\n                cubismMoc = new CubismMoc(moc);\r\n            }\r\n            return cubismMoc;\r\n        };\r\n        CubismMoc.delete = function (moc) {\r\n            moc._moc._release();\r\n            moc._moc = null;\r\n            moc = null;\r\n        };\r\n        CubismMoc.prototype.createModel = function () {\r\n            var cubismModel = null;\r\n            var model = Live2DCubismCore.Model.fromMoc(this._moc);\r\n            if (model) {\r\n                cubismModel = new CubismModel(model);\r\n                cubismModel.initialize();\r\n                ++this._modelCount;\r\n            }\r\n            return cubismModel;\r\n        };\r\n        CubismMoc.prototype.deleteModel = function (model) {\r\n            if (model != null) {\r\n                model.release();\r\n                model = null;\r\n                --this._modelCount;\r\n            }\r\n        };\r\n        CubismMoc.prototype.release = function () {\r\n            cubismdebug_1.CSM_ASSERT(this._modelCount == 0);\r\n            this._moc._release();\r\n            this._moc = null;\r\n        };\r\n        return CubismMoc;\r\n    }());\r\n    Live2DCubismFramework.CubismMoc = CubismMoc;\r\n})(Live2DCubismFramework = exports.Live2DCubismFramework || (exports.Live2DCubismFramework = {}));\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9GcmFtZXdvcmsvc3JjL21vZGVsL2N1YmlzbW1vYy50cy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL2xpdmUyZC8uL0ZyYW1ld29yay9zcmMvbW9kZWwvY3ViaXNtbW9jLnRzPzdlNDYiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIENvcHlyaWdodChjKSBMaXZlMkQgSW5jLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4gKlxyXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSB0aGUgTGl2ZTJEIE9wZW4gU29mdHdhcmUgbGljZW5zZVxyXG4gKiB0aGF0IGNhbiBiZSBmb3VuZCBhdCBodHRwczovL3d3dy5saXZlMmQuY29tL2V1bGEvbGl2ZTJkLW9wZW4tc29mdHdhcmUtbGljZW5zZS1hZ3JlZW1lbnRfZW4uaHRtbC5cclxuICovXHJcblxyXG5pbXBvcnQgeyBMaXZlMkRDdWJpc21GcmFtZXdvcmsgYXMgY3ViaXNtbW9kZWwgfSBmcm9tICcuL2N1YmlzbW1vZGVsJztcclxuaW1wb3J0IEN1YmlzbU1vZGVsID0gY3ViaXNtbW9kZWwuQ3ViaXNtTW9kZWw7XHJcbmltcG9ydCB7IENTTV9BU1NFUlQgfSBmcm9tICcuLi91dGlscy9jdWJpc21kZWJ1Zyc7XHJcblxyXG5leHBvcnQgbmFtZXNwYWNlIExpdmUyREN1YmlzbUZyYW1ld29yayB7XHJcbiAgLyoqXHJcbiAgICogTW9j44OH44O844K/44Gu566h55CGXHJcbiAgICpcclxuICAgKiBNb2Pjg4fjg7zjgr/jga7nrqHnkIbjgpLooYzjgYbjgq/jg6njgrnjgIJcclxuICAgKi9cclxuICBleHBvcnQgY2xhc3MgQ3ViaXNtTW9jIHtcclxuICAgIC8qKlxyXG4gICAgICogTW9j44OH44O844K/44Gu5L2c5oiQXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKG1vY0J5dGVzOiBBcnJheUJ1ZmZlcik6IEN1YmlzbU1vYyB7XHJcbiAgICAgIGxldCBjdWJpc21Nb2M6IEN1YmlzbU1vYyA9IG51bGw7XHJcbiAgICAgIGNvbnN0IG1vYzogTGl2ZTJEQ3ViaXNtQ29yZS5Nb2MgPSBMaXZlMkRDdWJpc21Db3JlLk1vYy5mcm9tQXJyYXlCdWZmZXIoXHJcbiAgICAgICAgbW9jQnl0ZXNcclxuICAgICAgKTtcclxuXHJcbiAgICAgIGlmIChtb2MpIHtcclxuICAgICAgICBjdWJpc21Nb2MgPSBuZXcgQ3ViaXNtTW9jKG1vYyk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiBjdWJpc21Nb2M7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBNb2Pjg4fjg7zjgr/jgpLliYrpmaRcclxuICAgICAqXHJcbiAgICAgKiBNb2Pjg4fjg7zjgr/jgpLliYrpmaTjgZnjgotcclxuICAgICAqL1xyXG4gICAgcHVibGljIHN0YXRpYyBkZWxldGUobW9jOiBDdWJpc21Nb2MpOiB2b2lkIHtcclxuICAgICAgbW9jLl9tb2MuX3JlbGVhc2UoKTtcclxuICAgICAgbW9jLl9tb2MgPSBudWxsO1xyXG4gICAgICBtb2MgPSBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog44Oi44OH44Or44KS5L2c5oiQ44GZ44KLXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybiBNb2Pjg4fjg7zjgr/jgYvjgonkvZzmiJDjgZXjgozjgZ/jg6Ljg4fjg6tcclxuICAgICAqL1xyXG4gICAgY3JlYXRlTW9kZWwoKTogQ3ViaXNtTW9kZWwge1xyXG4gICAgICBsZXQgY3ViaXNtTW9kZWw6IEN1YmlzbU1vZGVsID0gbnVsbDtcclxuXHJcbiAgICAgIGNvbnN0IG1vZGVsOiBMaXZlMkRDdWJpc21Db3JlLk1vZGVsID0gTGl2ZTJEQ3ViaXNtQ29yZS5Nb2RlbC5mcm9tTW9jKFxyXG4gICAgICAgIHRoaXMuX21vY1xyXG4gICAgICApO1xyXG5cclxuICAgICAgaWYgKG1vZGVsKSB7XHJcbiAgICAgICAgY3ViaXNtTW9kZWwgPSBuZXcgQ3ViaXNtTW9kZWwobW9kZWwpO1xyXG4gICAgICAgIGN1YmlzbU1vZGVsLmluaXRpYWxpemUoKTtcclxuXHJcbiAgICAgICAgKyt0aGlzLl9tb2RlbENvdW50O1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gY3ViaXNtTW9kZWw7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDjg6Ljg4fjg6vjgpLliYrpmaTjgZnjgotcclxuICAgICAqL1xyXG4gICAgZGVsZXRlTW9kZWwobW9kZWw6IEN1YmlzbU1vZGVsKTogdm9pZCB7XHJcbiAgICAgIGlmIChtb2RlbCAhPSBudWxsKSB7XHJcbiAgICAgICAgbW9kZWwucmVsZWFzZSgpO1xyXG4gICAgICAgIG1vZGVsID0gbnVsbDtcclxuICAgICAgICAtLXRoaXMuX21vZGVsQ291bnQ7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOOCs+ODs+OCueODiOODqeOCr+OCv1xyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGNvbnN0cnVjdG9yKG1vYzogTGl2ZTJEQ3ViaXNtQ29yZS5Nb2MpIHtcclxuICAgICAgdGhpcy5fbW9jID0gbW9jO1xyXG4gICAgICB0aGlzLl9tb2RlbENvdW50ID0gMDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOODh+OCueODiOODqeOCr+OCv+ebuOW9k+OBruWHpueQhlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgcmVsZWFzZSgpOiB2b2lkIHtcclxuICAgICAgQ1NNX0FTU0VSVCh0aGlzLl9tb2RlbENvdW50ID09IDApO1xyXG5cclxuICAgICAgdGhpcy5fbW9jLl9yZWxlYXNlKCk7XHJcbiAgICAgIHRoaXMuX21vYyA9IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgX21vYzogTGl2ZTJEQ3ViaXNtQ29yZS5Nb2M7IC8vIE1vY+ODh+ODvOOCv1xyXG4gICAgX21vZGVsQ291bnQ6IG51bWJlcjsgLy8gTW9j44OH44O844K/44GL44KJ5L2c44KJ44KM44Gf44Oi44OH44Or44Gu5YCL5pWwXHJcbiAgfVxyXG59XHJcbiJdLCJtYXBwaW5ncyI6Ijs7O0FBT0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQU1BO0FBZ0VBO0FBQ0E7QUFDQTtBQUNBO0FBL0RBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBT0E7QUFDQTtBQUVBO0FBSUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFJQTtBQUFBO0FBakZBO0FBa0ZBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./Framework/src/model/cubismmoc.ts\n");

/***/ }),

/***/ "./Framework/src/model/cubismmodel.ts":
/*!********************************************!*\
  !*** ./Framework/src/model/cubismmodel.ts ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Live2DCubismFramework = void 0;\r\nvar cubismrenderer_1 = __webpack_require__(/*! ../rendering/cubismrenderer */ \"./Framework/src/rendering/cubismrenderer.ts\");\r\nvar live2dcubismframework_1 = __webpack_require__(/*! ../live2dcubismframework */ \"./Framework/src/live2dcubismframework.ts\");\r\nvar csmmap_1 = __webpack_require__(/*! ../type/csmmap */ \"./Framework/src/type/csmmap.ts\");\r\nvar csmvector_1 = __webpack_require__(/*! ../type/csmvector */ \"./Framework/src/type/csmvector.ts\");\r\nvar cubismdebug_1 = __webpack_require__(/*! ../utils/cubismdebug */ \"./Framework/src/utils/cubismdebug.ts\");\r\nvar CubismFramework = live2dcubismframework_1.Live2DCubismFramework.CubismFramework;\r\nvar CubismBlendMode = cubismrenderer_1.Live2DCubismFramework.CubismBlendMode;\r\nvar csmVector = csmvector_1.Live2DCubismFramework.csmVector;\r\nvar csmMap = csmmap_1.Live2DCubismFramework.csmMap;\r\nvar Live2DCubismFramework;\r\n(function (Live2DCubismFramework) {\r\n    var CubismModel = (function () {\r\n        function CubismModel(model) {\r\n            this._model = model;\r\n            this._parameterValues = null;\r\n            this._parameterMaximumValues = null;\r\n            this._parameterMinimumValues = null;\r\n            this._partOpacities = null;\r\n            this._savedParameters = new csmVector();\r\n            this._parameterIds = new csmVector();\r\n            this._drawableIds = new csmVector();\r\n            this._partIds = new csmVector();\r\n            this._notExistPartId = new csmMap();\r\n            this._notExistParameterId = new csmMap();\r\n            this._notExistParameterValues = new csmMap();\r\n            this._notExistPartOpacities = new csmMap();\r\n        }\r\n        CubismModel.prototype.update = function () {\r\n            this._model.update();\r\n            this._model.drawables.resetDynamicFlags();\r\n        };\r\n        CubismModel.prototype.getCanvasWidth = function () {\r\n            if (this._model == null) {\r\n                return 0.0;\r\n            }\r\n            return (this._model.canvasinfo.CanvasWidth /\r\n                this._model.canvasinfo.PixelsPerUnit);\r\n        };\r\n        CubismModel.prototype.getCanvasHeight = function () {\r\n            if (this._model == null) {\r\n                return 0.0;\r\n            }\r\n            return (this._model.canvasinfo.CanvasHeight /\r\n                this._model.canvasinfo.PixelsPerUnit);\r\n        };\r\n        CubismModel.prototype.saveParameters = function () {\r\n            var parameterCount = this._model.parameters.count;\r\n            var savedParameterCount = this._savedParameters.getSize();\r\n            for (var i = 0; i < parameterCount; ++i) {\r\n                if (i < savedParameterCount) {\r\n                    this._savedParameters.set(i, this._parameterValues[i]);\r\n                }\r\n                else {\r\n                    this._savedParameters.pushBack(this._parameterValues[i]);\r\n                }\r\n            }\r\n        };\r\n        CubismModel.prototype.getModel = function () {\r\n            return this._model;\r\n        };\r\n        CubismModel.prototype.getPartIndex = function (partId) {\r\n            var partIndex;\r\n            var partCount = this._model.parts.count;\r\n            for (partIndex = 0; partIndex < partCount; ++partIndex) {\r\n                if (partId == this._partIds.at(partIndex)) {\r\n                    return partIndex;\r\n                }\r\n            }\r\n            if (this._notExistPartId.isExist(partId)) {\r\n                return this._notExistPartId.getValue(partId);\r\n            }\r\n            partIndex = partCount + this._notExistPartId.getSize();\r\n            this._notExistPartId.setValue(partId, partIndex);\r\n            this._notExistPartOpacities.appendKey(partIndex);\r\n            return partIndex;\r\n        };\r\n        CubismModel.prototype.getPartCount = function () {\r\n            var partCount = this._model.parts.count;\r\n            return partCount;\r\n        };\r\n        CubismModel.prototype.setPartOpacityByIndex = function (partIndex, opacity) {\r\n            if (this._notExistPartOpacities.isExist(partIndex)) {\r\n                this._notExistPartOpacities.setValue(partIndex, opacity);\r\n                return;\r\n            }\r\n            cubismdebug_1.CSM_ASSERT(0 <= partIndex && partIndex < this.getPartCount());\r\n            this._partOpacities[partIndex] = opacity;\r\n        };\r\n        CubismModel.prototype.setPartOpacityById = function (partId, opacity) {\r\n            var index = this.getPartIndex(partId);\r\n            if (index < 0) {\r\n                return;\r\n            }\r\n            this.setPartOpacityByIndex(index, opacity);\r\n        };\r\n        CubismModel.prototype.getPartOpacityByIndex = function (partIndex) {\r\n            if (this._notExistPartOpacities.isExist(partIndex)) {\r\n                return this._notExistPartOpacities.getValue(partIndex);\r\n            }\r\n            cubismdebug_1.CSM_ASSERT(0 <= partIndex && partIndex < this.getPartCount());\r\n            return this._partOpacities[partIndex];\r\n        };\r\n        CubismModel.prototype.getPartOpacityById = function (partId) {\r\n            var index = this.getPartIndex(partId);\r\n            if (index < 0) {\r\n                return 0;\r\n            }\r\n            return this.getPartOpacityByIndex(index);\r\n        };\r\n        CubismModel.prototype.getParameterIndex = function (parameterId) {\r\n            var parameterIndex;\r\n            var idCount = this._model.parameters.count;\r\n            for (parameterIndex = 0; parameterIndex < idCount; ++parameterIndex) {\r\n                if (parameterId != this._parameterIds.at(parameterIndex)) {\r\n                    continue;\r\n                }\r\n                return parameterIndex;\r\n            }\r\n            if (this._notExistParameterId.isExist(parameterId)) {\r\n                return this._notExistParameterId.getValue(parameterId);\r\n            }\r\n            parameterIndex =\r\n                this._model.parameters.count + this._notExistParameterId.getSize();\r\n            this._notExistParameterId.setValue(parameterId, parameterIndex);\r\n            this._notExistParameterValues.appendKey(parameterIndex);\r\n            return parameterIndex;\r\n        };\r\n        CubismModel.prototype.getParameterCount = function () {\r\n            return this._model.parameters.count;\r\n        };\r\n        CubismModel.prototype.getParameterMaximumValue = function (parameterIndex) {\r\n            return this._model.parameters.maximumValues[parameterIndex];\r\n        };\r\n        CubismModel.prototype.getParameterMinimumValue = function (parameterIndex) {\r\n            return this._model.parameters.minimumValues[parameterIndex];\r\n        };\r\n        CubismModel.prototype.getParameterDefaultValue = function (parameterIndex) {\r\n            return this._model.parameters.defaultValues[parameterIndex];\r\n        };\r\n        CubismModel.prototype.getParameterValueByIndex = function (parameterIndex) {\r\n            if (this._notExistParameterValues.isExist(parameterIndex)) {\r\n                return this._notExistParameterValues.getValue(parameterIndex);\r\n            }\r\n            cubismdebug_1.CSM_ASSERT(0 <= parameterIndex && parameterIndex < this.getParameterCount());\r\n            return this._parameterValues[parameterIndex];\r\n        };\r\n        CubismModel.prototype.getParameterValueById = function (parameterId) {\r\n            var parameterIndex = this.getParameterIndex(parameterId);\r\n            return this.getParameterValueByIndex(parameterIndex);\r\n        };\r\n        CubismModel.prototype.setParameterValueByIndex = function (parameterIndex, value, weight) {\r\n            if (weight === void 0) { weight = 1.0; }\r\n            if (this._notExistParameterValues.isExist(parameterIndex)) {\r\n                this._notExistParameterValues.setValue(parameterIndex, weight == 1\r\n                    ? value\r\n                    : this._notExistParameterValues.getValue(parameterIndex) *\r\n                        (1 - weight) +\r\n                        value * weight);\r\n                return;\r\n            }\r\n            cubismdebug_1.CSM_ASSERT(0 <= parameterIndex && parameterIndex < this.getParameterCount());\r\n            if (this._model.parameters.maximumValues[parameterIndex] < value) {\r\n                value = this._model.parameters.maximumValues[parameterIndex];\r\n            }\r\n            if (this._model.parameters.minimumValues[parameterIndex] > value) {\r\n                value = this._model.parameters.minimumValues[parameterIndex];\r\n            }\r\n            this._parameterValues[parameterIndex] =\r\n                weight == 1\r\n                    ? value\r\n                    : (this._parameterValues[parameterIndex] =\r\n                        this._parameterValues[parameterIndex] * (1 - weight) +\r\n                            value * weight);\r\n        };\r\n        CubismModel.prototype.setParameterValueById = function (parameterId, value, weight) {\r\n            if (weight === void 0) { weight = 1.0; }\r\n            var index = this.getParameterIndex(parameterId);\r\n            this.setParameterValueByIndex(index, value, weight);\r\n        };\r\n        CubismModel.prototype.addParameterValueByIndex = function (parameterIndex, value, weight) {\r\n            if (weight === void 0) { weight = 1.0; }\r\n            this.setParameterValueByIndex(parameterIndex, this.getParameterValueByIndex(parameterIndex) + value * weight);\r\n        };\r\n        CubismModel.prototype.addParameterValueById = function (parameterId, value, weight) {\r\n            if (weight === void 0) { weight = 1.0; }\r\n            var index = this.getParameterIndex(parameterId);\r\n            this.addParameterValueByIndex(index, value, weight);\r\n        };\r\n        CubismModel.prototype.multiplyParameterValueById = function (parameterId, value, weight) {\r\n            if (weight === void 0) { weight = 1.0; }\r\n            var index = this.getParameterIndex(parameterId);\r\n            this.multiplyParameterValueByIndex(index, value, weight);\r\n        };\r\n        CubismModel.prototype.multiplyParameterValueByIndex = function (parameterIndex, value, weight) {\r\n            if (weight === void 0) { weight = 1.0; }\r\n            this.setParameterValueByIndex(parameterIndex, this.getParameterValueByIndex(parameterIndex) *\r\n                (1.0 + (value - 1.0) * weight));\r\n        };\r\n        CubismModel.prototype.getDrawableIndex = function (drawableId) {\r\n            var drawableCount = this._model.drawables.count;\r\n            for (var drawableIndex = 0; drawableIndex < drawableCount; ++drawableIndex) {\r\n                if (this._drawableIds.at(drawableIndex) == drawableId) {\r\n                    return drawableIndex;\r\n                }\r\n            }\r\n            return -1;\r\n        };\r\n        CubismModel.prototype.getDrawableCount = function () {\r\n            var drawableCount = this._model.drawables.count;\r\n            return drawableCount;\r\n        };\r\n        CubismModel.prototype.getDrawableId = function (drawableIndex) {\r\n            var parameterIds = this._model.drawables.ids;\r\n            return CubismFramework.getIdManager().getId(parameterIds[drawableIndex]);\r\n        };\r\n        CubismModel.prototype.getDrawableRenderOrders = function () {\r\n            var renderOrders = this._model.drawables.renderOrders;\r\n            return renderOrders;\r\n        };\r\n        CubismModel.prototype.getDrawableTextureIndices = function (drawableIndex) {\r\n            var textureIndices = this._model.drawables.textureIndices;\r\n            return textureIndices[drawableIndex];\r\n        };\r\n        CubismModel.prototype.getDrawableDynamicFlagVertexPositionsDidChange = function (drawableIndex) {\r\n            var dynamicFlags = this._model.drawables.dynamicFlags;\r\n            return Live2DCubismCore.Utils.hasVertexPositionsDidChangeBit(dynamicFlags[drawableIndex]);\r\n        };\r\n        CubismModel.prototype.getDrawableVertexIndexCount = function (drawableIndex) {\r\n            var indexCounts = this._model.drawables.indexCounts;\r\n            return indexCounts[drawableIndex];\r\n        };\r\n        CubismModel.prototype.getDrawableVertexCount = function (drawableIndex) {\r\n            var vertexCounts = this._model.drawables.vertexCounts;\r\n            return vertexCounts[drawableIndex];\r\n        };\r\n        CubismModel.prototype.getDrawableVertices = function (drawableIndex) {\r\n            return this.getDrawableVertexPositions(drawableIndex);\r\n        };\r\n        CubismModel.prototype.getDrawableVertexIndices = function (drawableIndex) {\r\n            var indicesArray = this._model.drawables.indices;\r\n            return indicesArray[drawableIndex];\r\n        };\r\n        CubismModel.prototype.getDrawableVertexPositions = function (drawableIndex) {\r\n            var verticesArray = this._model.drawables\r\n                .vertexPositions;\r\n            return verticesArray[drawableIndex];\r\n        };\r\n        CubismModel.prototype.getDrawableVertexUvs = function (drawableIndex) {\r\n            var uvsArray = this._model.drawables.vertexUvs;\r\n            return uvsArray[drawableIndex];\r\n        };\r\n        CubismModel.prototype.getDrawableOpacity = function (drawableIndex) {\r\n            var opacities = this._model.drawables.opacities;\r\n            return opacities[drawableIndex];\r\n        };\r\n        CubismModel.prototype.getDrawableCulling = function (drawableIndex) {\r\n            var constantFlags = this._model.drawables.constantFlags;\r\n            return !Live2DCubismCore.Utils.hasIsDoubleSidedBit(constantFlags[drawableIndex]);\r\n        };\r\n        CubismModel.prototype.getDrawableBlendMode = function (drawableIndex) {\r\n            var constantFlags = this._model.drawables.constantFlags;\r\n            return Live2DCubismCore.Utils.hasBlendAdditiveBit(constantFlags[drawableIndex])\r\n                ? CubismBlendMode.CubismBlendMode_Additive\r\n                : Live2DCubismCore.Utils.hasBlendMultiplicativeBit(constantFlags[drawableIndex])\r\n                    ? CubismBlendMode.CubismBlendMode_Multiplicative\r\n                    : CubismBlendMode.CubismBlendMode_Normal;\r\n        };\r\n        CubismModel.prototype.getDrawableInvertedMaskBit = function (drawableIndex) {\r\n            var constantFlags = this._model.drawables.constantFlags;\r\n            return Live2DCubismCore.Utils.hasIsInvertedMaskBit(constantFlags[drawableIndex]);\r\n        };\r\n        CubismModel.prototype.getDrawableMasks = function () {\r\n            var masks = this._model.drawables.masks;\r\n            return masks;\r\n        };\r\n        CubismModel.prototype.getDrawableMaskCounts = function () {\r\n            var maskCounts = this._model.drawables.maskCounts;\r\n            return maskCounts;\r\n        };\r\n        CubismModel.prototype.isUsingMasking = function () {\r\n            for (var d = 0; d < this._model.drawables.count; ++d) {\r\n                if (this._model.drawables.maskCounts[d] <= 0) {\r\n                    continue;\r\n                }\r\n                return true;\r\n            }\r\n            return false;\r\n        };\r\n        CubismModel.prototype.getDrawableDynamicFlagIsVisible = function (drawableIndex) {\r\n            var dynamicFlags = this._model.drawables.dynamicFlags;\r\n            return Live2DCubismCore.Utils.hasIsVisibleBit(dynamicFlags[drawableIndex]);\r\n        };\r\n        CubismModel.prototype.getDrawableDynamicFlagVisibilityDidChange = function (drawableIndex) {\r\n            var dynamicFlags = this._model.drawables.dynamicFlags;\r\n            return Live2DCubismCore.Utils.hasVisibilityDidChangeBit(dynamicFlags[drawableIndex]);\r\n        };\r\n        CubismModel.prototype.getDrawableDynamicFlagOpacityDidChange = function (drawableIndex) {\r\n            var dynamicFlags = this._model.drawables.dynamicFlags;\r\n            return Live2DCubismCore.Utils.hasOpacityDidChangeBit(dynamicFlags[drawableIndex]);\r\n        };\r\n        CubismModel.prototype.getDrawableDynamicFlagRenderOrderDidChange = function (drawableIndex) {\r\n            var dynamicFlags = this._model.drawables.dynamicFlags;\r\n            return Live2DCubismCore.Utils.hasRenderOrderDidChangeBit(dynamicFlags[drawableIndex]);\r\n        };\r\n        CubismModel.prototype.loadParameters = function () {\r\n            var parameterCount = this._model.parameters.count;\r\n            var savedParameterCount = this._savedParameters.getSize();\r\n            if (parameterCount > savedParameterCount) {\r\n                parameterCount = savedParameterCount;\r\n            }\r\n            for (var i = 0; i < parameterCount; ++i) {\r\n                this._parameterValues[i] = this._savedParameters.at(i);\r\n            }\r\n        };\r\n        CubismModel.prototype.initialize = function () {\r\n            cubismdebug_1.CSM_ASSERT(this._model);\r\n            this._parameterValues = this._model.parameters.values;\r\n            this._partOpacities = this._model.parts.opacities;\r\n            this._parameterMaximumValues = this._model.parameters.maximumValues;\r\n            this._parameterMinimumValues = this._model.parameters.minimumValues;\r\n            {\r\n                var parameterIds = this._model.parameters.ids;\r\n                var parameterCount = this._model.parameters.count;\r\n                this._parameterIds.prepareCapacity(parameterCount);\r\n                for (var i = 0; i < parameterCount; ++i) {\r\n                    this._parameterIds.pushBack(CubismFramework.getIdManager().getId(parameterIds[i]));\r\n                }\r\n            }\r\n            {\r\n                var partIds = this._model.parts.ids;\r\n                var partCount = this._model.parts.count;\r\n                this._partIds.prepareCapacity(partCount);\r\n                for (var i = 0; i < partCount; ++i) {\r\n                    this._partIds.pushBack(CubismFramework.getIdManager().getId(partIds[i]));\r\n                }\r\n            }\r\n            {\r\n                var drawableIds = this._model.drawables.ids;\r\n                var drawableCount = this._model.drawables.count;\r\n                this._drawableIds.prepareCapacity(drawableCount);\r\n                for (var i = 0; i < drawableCount; ++i) {\r\n                    this._drawableIds.pushBack(CubismFramework.getIdManager().getId(drawableIds[i]));\r\n                }\r\n            }\r\n        };\r\n        CubismModel.prototype.release = function () {\r\n            this._model.release();\r\n            this._model = null;\r\n        };\r\n        return CubismModel;\r\n    }());\r\n    Live2DCubismFramework.CubismModel = CubismModel;\r\n})(Live2DCubismFramework = exports.Live2DCubismFramework || (exports.Live2DCubismFramework = {}));\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9GcmFtZXdvcmsvc3JjL21vZGVsL2N1YmlzbW1vZGVsLnRzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbGl2ZTJkLy4vRnJhbWV3b3JrL3NyYy9tb2RlbC9jdWJpc21tb2RlbC50cz85MzU0Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBDb3B5cmlnaHQoYykgTGl2ZTJEIEluYy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuICpcclxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgdGhlIExpdmUyRCBPcGVuIFNvZnR3YXJlIGxpY2Vuc2VcclxuICogdGhhdCBjYW4gYmUgZm91bmQgYXQgaHR0cHM6Ly93d3cubGl2ZTJkLmNvbS9ldWxhL2xpdmUyZC1vcGVuLXNvZnR3YXJlLWxpY2Vuc2UtYWdyZWVtZW50X2VuLmh0bWwuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgTGl2ZTJEQ3ViaXNtRnJhbWV3b3JrIGFzIGN1YmlzbXJlbmRlcmVyIH0gZnJvbSAnLi4vcmVuZGVyaW5nL2N1YmlzbXJlbmRlcmVyJztcclxuaW1wb3J0IHsgTGl2ZTJEQ3ViaXNtRnJhbWV3b3JrIGFzIGN1YmlzbWlkIH0gZnJvbSAnLi4vaWQvY3ViaXNtaWQnO1xyXG5pbXBvcnQgeyBMaXZlMkRDdWJpc21GcmFtZXdvcmsgYXMgY3ViaXNtZnJhbWV3b3JrIH0gZnJvbSAnLi4vbGl2ZTJkY3ViaXNtZnJhbWV3b3JrJztcclxuaW1wb3J0IHsgTGl2ZTJEQ3ViaXNtRnJhbWV3b3JrIGFzIGNzbW1hcCB9IGZyb20gJy4uL3R5cGUvY3NtbWFwJztcclxuaW1wb3J0IHsgTGl2ZTJEQ3ViaXNtRnJhbWV3b3JrIGFzIGNzbXZlY3RvciB9IGZyb20gJy4uL3R5cGUvY3NtdmVjdG9yJztcclxuaW1wb3J0IHsgQ1NNX0FTU0VSVCB9IGZyb20gJy4uL3V0aWxzL2N1YmlzbWRlYnVnJztcclxuaW1wb3J0IEN1YmlzbUZyYW1ld29yayA9IGN1YmlzbWZyYW1ld29yay5DdWJpc21GcmFtZXdvcms7XHJcbmltcG9ydCBDdWJpc21CbGVuZE1vZGUgPSBjdWJpc21yZW5kZXJlci5DdWJpc21CbGVuZE1vZGU7XHJcbmltcG9ydCBjc21WZWN0b3IgPSBjc212ZWN0b3IuY3NtVmVjdG9yO1xyXG5pbXBvcnQgY3NtTWFwID0gY3NtbWFwLmNzbU1hcDtcclxuaW1wb3J0IEN1YmlzbUlkSGFuZGxlID0gY3ViaXNtaWQuQ3ViaXNtSWRIYW5kbGU7XHJcblxyXG5leHBvcnQgbmFtZXNwYWNlIExpdmUyREN1YmlzbUZyYW1ld29yayB7XHJcbiAgLyoqXHJcbiAgICog44Oi44OH44OrXHJcbiAgICpcclxuICAgKiBNb2Pjg4fjg7zjgr/jgYvjgonnlJ/miJDjgZXjgozjgovjg6Ljg4fjg6vjga7jgq/jg6njgrnjgIJcclxuICAgKi9cclxuICBleHBvcnQgY2xhc3MgQ3ViaXNtTW9kZWwge1xyXG4gICAgLyoqXHJcbiAgICAgKiDjg6Ljg4fjg6vjga7jg5Hjg6njg6Hjg7zjgr/jga7mm7TmlrBcclxuICAgICAqL1xyXG4gICAgcHVibGljIHVwZGF0ZSgpOiB2b2lkIHtcclxuICAgICAgLy8gVXBkYXRlIG1vZGVsXHJcbiAgICAgIHRoaXMuX21vZGVsLnVwZGF0ZSgpO1xyXG5cclxuICAgICAgdGhpcy5fbW9kZWwuZHJhd2FibGVzLnJlc2V0RHluYW1pY0ZsYWdzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDjgq3jg6Pjg7Pjg5Djgrnjga7luYXjgpLlj5blvpfjgZnjgotcclxuICAgICAqL1xyXG4gICAgcHVibGljIGdldENhbnZhc1dpZHRoKCk6IG51bWJlciB7XHJcbiAgICAgIGlmICh0aGlzLl9tb2RlbCA9PSBudWxsKSB7XHJcbiAgICAgICAgcmV0dXJuIDAuMDtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIChcclxuICAgICAgICB0aGlzLl9tb2RlbC5jYW52YXNpbmZvLkNhbnZhc1dpZHRoIC9cclxuICAgICAgICB0aGlzLl9tb2RlbC5jYW52YXNpbmZvLlBpeGVsc1BlclVuaXRcclxuICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOOCreODo+ODs+ODkOOCueOBrumrmOOBleOCkuWPluW+l+OBmeOCi1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2V0Q2FudmFzSGVpZ2h0KCk6IG51bWJlciB7XHJcbiAgICAgIGlmICh0aGlzLl9tb2RlbCA9PSBudWxsKSB7XHJcbiAgICAgICAgcmV0dXJuIDAuMDtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIChcclxuICAgICAgICB0aGlzLl9tb2RlbC5jYW52YXNpbmZvLkNhbnZhc0hlaWdodCAvXHJcbiAgICAgICAgdGhpcy5fbW9kZWwuY2FudmFzaW5mby5QaXhlbHNQZXJVbml0XHJcbiAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDjg5Hjg6njg6Hjg7zjgr/jgpLkv53lrZjjgZnjgotcclxuICAgICAqL1xyXG4gICAgcHVibGljIHNhdmVQYXJhbWV0ZXJzKCk6IHZvaWQge1xyXG4gICAgICBjb25zdCBwYXJhbWV0ZXJDb3VudDogbnVtYmVyID0gdGhpcy5fbW9kZWwucGFyYW1ldGVycy5jb3VudDtcclxuICAgICAgY29uc3Qgc2F2ZWRQYXJhbWV0ZXJDb3VudDogbnVtYmVyID0gdGhpcy5fc2F2ZWRQYXJhbWV0ZXJzLmdldFNpemUoKTtcclxuXHJcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGFyYW1ldGVyQ291bnQ7ICsraSkge1xyXG4gICAgICAgIGlmIChpIDwgc2F2ZWRQYXJhbWV0ZXJDb3VudCkge1xyXG4gICAgICAgICAgdGhpcy5fc2F2ZWRQYXJhbWV0ZXJzLnNldChpLCB0aGlzLl9wYXJhbWV0ZXJWYWx1ZXNbaV0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB0aGlzLl9zYXZlZFBhcmFtZXRlcnMucHVzaEJhY2sodGhpcy5fcGFyYW1ldGVyVmFsdWVzW2ldKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOODouODh+ODq+OCkuWPluW+l1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2V0TW9kZWwoKTogTGl2ZTJEQ3ViaXNtQ29yZS5Nb2RlbCB7XHJcbiAgICAgIHJldHVybiB0aGlzLl9tb2RlbDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOODkeODvOODhOOBruOCpOODs+ODh+ODg+OCr+OCueOCkuWPluW+l1xyXG4gICAgICogQHBhcmFtIHBhcnRJZCDjg5Hjg7zjg4Tjga5JRFxyXG4gICAgICogQHJldHVybiDjg5Hjg7zjg4Tjga7jgqTjg7Pjg4fjg4Pjgq/jgrlcclxuICAgICAqL1xyXG4gICAgcHVibGljIGdldFBhcnRJbmRleChwYXJ0SWQ6IEN1YmlzbUlkSGFuZGxlKTogbnVtYmVyIHtcclxuICAgICAgbGV0IHBhcnRJbmRleDogbnVtYmVyO1xyXG4gICAgICBjb25zdCBwYXJ0Q291bnQ6IG51bWJlciA9IHRoaXMuX21vZGVsLnBhcnRzLmNvdW50O1xyXG5cclxuICAgICAgZm9yIChwYXJ0SW5kZXggPSAwOyBwYXJ0SW5kZXggPCBwYXJ0Q291bnQ7ICsrcGFydEluZGV4KSB7XHJcbiAgICAgICAgaWYgKHBhcnRJZCA9PSB0aGlzLl9wYXJ0SWRzLmF0KHBhcnRJbmRleCkpIHtcclxuICAgICAgICAgIHJldHVybiBwYXJ0SW5kZXg7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyDjg6Ljg4fjg6vjgavlrZjlnKjjgZfjgabjgYTjgarjgYTloLTlkIjjgIHpnZ7lrZjlnKjjg5Hjg7zjg4RJROODquOCueODiOWGheOBq+OBguOCi+OBi+OCkuaknOe0ouOBl+OAgeOBneOBruOCpOODs+ODh+ODg+OCr+OCueOCkui/lOOBmVxyXG4gICAgICBpZiAodGhpcy5fbm90RXhpc3RQYXJ0SWQuaXNFeGlzdChwYXJ0SWQpKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX25vdEV4aXN0UGFydElkLmdldFZhbHVlKHBhcnRJZCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIOmdnuWtmOWcqOODkeODvOODhElE44Oq44K544OI44Gr44Gq44GE5aC05ZCI44CB5paw44GX44GP6KaB57Sg44KS6L+95Yqg44GZ44KLXHJcbiAgICAgIHBhcnRJbmRleCA9IHBhcnRDb3VudCArIHRoaXMuX25vdEV4aXN0UGFydElkLmdldFNpemUoKTtcclxuICAgICAgdGhpcy5fbm90RXhpc3RQYXJ0SWQuc2V0VmFsdWUocGFydElkLCBwYXJ0SW5kZXgpO1xyXG4gICAgICB0aGlzLl9ub3RFeGlzdFBhcnRPcGFjaXRpZXMuYXBwZW5kS2V5KHBhcnRJbmRleCk7XHJcblxyXG4gICAgICByZXR1cm4gcGFydEluZGV4O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog44OR44O844OE44Gu5YCL5pWw44Gu5Y+W5b6XXHJcbiAgICAgKiBAcmV0dXJuIOODkeODvOODhOOBruWAi+aVsFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2V0UGFydENvdW50KCk6IG51bWJlciB7XHJcbiAgICAgIGNvbnN0IHBhcnRDb3VudDogbnVtYmVyID0gdGhpcy5fbW9kZWwucGFydHMuY291bnQ7XHJcbiAgICAgIHJldHVybiBwYXJ0Q291bnQ7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDjg5Hjg7zjg4Tjga7kuI3pgI/mmI7luqbjga7oqK3lrpooSW5kZXgpXHJcbiAgICAgKiBAcGFyYW0gcGFydEluZGV4IOODkeODvOODhOOBruOCpOODs+ODh+ODg+OCr+OCuVxyXG4gICAgICogQHBhcmFtIG9wYWNpdHkg5LiN6YCP5piO5bqmXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzZXRQYXJ0T3BhY2l0eUJ5SW5kZXgocGFydEluZGV4OiBudW1iZXIsIG9wYWNpdHk6IG51bWJlcik6IHZvaWQge1xyXG4gICAgICBpZiAodGhpcy5fbm90RXhpc3RQYXJ0T3BhY2l0aWVzLmlzRXhpc3QocGFydEluZGV4KSkge1xyXG4gICAgICAgIHRoaXMuX25vdEV4aXN0UGFydE9wYWNpdGllcy5zZXRWYWx1ZShwYXJ0SW5kZXgsIG9wYWNpdHkpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8g44Kk44Oz44OH44OD44Kv44K544Gu56+E5Zuy5YaF5qSc55+lXHJcbiAgICAgIENTTV9BU1NFUlQoMCA8PSBwYXJ0SW5kZXggJiYgcGFydEluZGV4IDwgdGhpcy5nZXRQYXJ0Q291bnQoKSk7XHJcblxyXG4gICAgICB0aGlzLl9wYXJ0T3BhY2l0aWVzW3BhcnRJbmRleF0gPSBvcGFjaXR5O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog44OR44O844OE44Gu5LiN6YCP5piO5bqm44Gu6Kit5a6aKElkKVxyXG4gICAgICogQHBhcmFtIHBhcnRJZCDjg5Hjg7zjg4Tjga5JRFxyXG4gICAgICogQHBhcmFtIG9wYWNpdHkg44OR44O844OE44Gu5LiN6YCP5piO5bqmXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzZXRQYXJ0T3BhY2l0eUJ5SWQocGFydElkOiBDdWJpc21JZEhhbmRsZSwgb3BhY2l0eTogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgIC8vIOmrmOmAn+WMluOBruOBn+OCgeOBq1BhcnRJbmRleOOCkuWPluW+l+OBp+OBjeOCi+apn+ani+OBq+OBquOBo+OBpuOBhOOCi+OBjOOAgeWklumDqOOBi+OCieOBruioreWumuOBruaZguOBr+WRvOOBs+WHuuOBl+mgu+W6puOBjOS9juOBhOOBn+OCgeS4jeimgVxyXG4gICAgICBjb25zdCBpbmRleDogbnVtYmVyID0gdGhpcy5nZXRQYXJ0SW5kZXgocGFydElkKTtcclxuXHJcbiAgICAgIGlmIChpbmRleCA8IDApIHtcclxuICAgICAgICByZXR1cm47IC8vIOODkeODvOODhOOBjOOBquOBhOOBruOBp+OCueOCreODg+ODl1xyXG4gICAgICB9XHJcblxyXG4gICAgICB0aGlzLnNldFBhcnRPcGFjaXR5QnlJbmRleChpbmRleCwgb3BhY2l0eSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDjg5Hjg7zjg4Tjga7kuI3pgI/mmI7luqbjga7lj5blvpcoaW5kZXgpXHJcbiAgICAgKiBAcGFyYW0gcGFydEluZGV4IOODkeODvOODhOOBruOCpOODs+ODh+ODg+OCr+OCuVxyXG4gICAgICogQHJldHVybiDjg5Hjg7zjg4Tjga7kuI3pgI/mmI7luqZcclxuICAgICAqL1xyXG4gICAgcHVibGljIGdldFBhcnRPcGFjaXR5QnlJbmRleChwYXJ0SW5kZXg6IG51bWJlcik6IG51bWJlciB7XHJcbiAgICAgIGlmICh0aGlzLl9ub3RFeGlzdFBhcnRPcGFjaXRpZXMuaXNFeGlzdChwYXJ0SW5kZXgpKSB7XHJcbiAgICAgICAgLy8g44Oi44OH44Or44Gr5a2Y5Zyo44GX44Gq44GE44OR44O844OESUTjga7loLTlkIjjgIHpnZ7lrZjlnKjjg5Hjg7zjg4Tjg6rjgrnjg4jjgYvjgonkuI3pgI/mmI7luqbjgpLov5TjgZnjgIJcclxuICAgICAgICByZXR1cm4gdGhpcy5fbm90RXhpc3RQYXJ0T3BhY2l0aWVzLmdldFZhbHVlKHBhcnRJbmRleCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIOOCpOODs+ODh+ODg+OCr+OCueOBruevhOWbsuWGheaknOefpVxyXG4gICAgICBDU01fQVNTRVJUKDAgPD0gcGFydEluZGV4ICYmIHBhcnRJbmRleCA8IHRoaXMuZ2V0UGFydENvdW50KCkpO1xyXG5cclxuICAgICAgcmV0dXJuIHRoaXMuX3BhcnRPcGFjaXRpZXNbcGFydEluZGV4XTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOODkeODvOODhOOBruS4jemAj+aYjuW6puOBruWPluW+lyhpZClcclxuICAgICAqIEBwYXJhbSBwYXJ0SWQg44OR44O844OE44Gu77yp772EXHJcbiAgICAgKiBAcmV0dXJuIOODkeODvOODhOOBruS4jemAj+aYjuW6plxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2V0UGFydE9wYWNpdHlCeUlkKHBhcnRJZDogQ3ViaXNtSWRIYW5kbGUpOiBudW1iZXIge1xyXG4gICAgICAvLyDpq5jpgJ/ljJbjga7jgZ/jgoHjgatQYXJ0SW5kZXjjgpLlj5blvpfjgafjgY3jgovmqZ/mp4vjgavjgarjgaPjgabjgYTjgovjgYzjgIHlpJbpg6jjgYvjgonjga7oqK3lrprjga7mmYLjga/lkbzjgbPlh7rjgZfpoLvluqbjgYzkvY7jgYTjgZ/jgoHkuI3opoFcclxuICAgICAgY29uc3QgaW5kZXg6IG51bWJlciA9IHRoaXMuZ2V0UGFydEluZGV4KHBhcnRJZCk7XHJcblxyXG4gICAgICBpZiAoaW5kZXggPCAwKSB7XHJcbiAgICAgICAgcmV0dXJuIDA7IC8vIOODkeODvOODhOOBjOeEoeOBhOOBruOBp+OCueOCreODg+ODl1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gdGhpcy5nZXRQYXJ0T3BhY2l0eUJ5SW5kZXgoaW5kZXgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog44OR44Op44Oh44O844K/44Gu44Kk44Oz44OH44OD44Kv44K544Gu5Y+W5b6XXHJcbiAgICAgKiBAcGFyYW0g44OR44Op44Oh44O844K/SURcclxuICAgICAqIEByZXR1cm4g44OR44Op44Oh44O844K/44Gu44Kk44Oz44OH44OD44Kv44K5XHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXRQYXJhbWV0ZXJJbmRleChwYXJhbWV0ZXJJZDogQ3ViaXNtSWRIYW5kbGUpOiBudW1iZXIge1xyXG4gICAgICBsZXQgcGFyYW1ldGVySW5kZXg6IG51bWJlcjtcclxuICAgICAgY29uc3QgaWRDb3VudDogbnVtYmVyID0gdGhpcy5fbW9kZWwucGFyYW1ldGVycy5jb3VudDtcclxuXHJcbiAgICAgIGZvciAocGFyYW1ldGVySW5kZXggPSAwOyBwYXJhbWV0ZXJJbmRleCA8IGlkQ291bnQ7ICsrcGFyYW1ldGVySW5kZXgpIHtcclxuICAgICAgICBpZiAocGFyYW1ldGVySWQgIT0gdGhpcy5fcGFyYW1ldGVySWRzLmF0KHBhcmFtZXRlckluZGV4KSkge1xyXG4gICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gcGFyYW1ldGVySW5kZXg7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIOODouODh+ODq+OBq+WtmOWcqOOBl+OBpuOBhOOBquOBhOWgtOWQiOOAgemdnuWtmOWcqOODkeODqeODoeODvOOCv0lE44Oq44K544OI5YaF44KS5qSc57Si44GX44CB44Gd44Gu44Kk44Oz44OH44OD44Kv44K544KS6L+U44GZXHJcbiAgICAgIGlmICh0aGlzLl9ub3RFeGlzdFBhcmFtZXRlcklkLmlzRXhpc3QocGFyYW1ldGVySWQpKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX25vdEV4aXN0UGFyYW1ldGVySWQuZ2V0VmFsdWUocGFyYW1ldGVySWQpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyDpnZ7lrZjlnKjjg5Hjg6njg6Hjg7zjgr9JROODquOCueODiOOBq+OBquOBhOWgtOWQiOaWsOOBl+OBj+imgee0oOOCkui/veWKoOOBmeOCi1xyXG4gICAgICBwYXJhbWV0ZXJJbmRleCA9XHJcbiAgICAgICAgdGhpcy5fbW9kZWwucGFyYW1ldGVycy5jb3VudCArIHRoaXMuX25vdEV4aXN0UGFyYW1ldGVySWQuZ2V0U2l6ZSgpO1xyXG5cclxuICAgICAgdGhpcy5fbm90RXhpc3RQYXJhbWV0ZXJJZC5zZXRWYWx1ZShwYXJhbWV0ZXJJZCwgcGFyYW1ldGVySW5kZXgpO1xyXG4gICAgICB0aGlzLl9ub3RFeGlzdFBhcmFtZXRlclZhbHVlcy5hcHBlbmRLZXkocGFyYW1ldGVySW5kZXgpO1xyXG5cclxuICAgICAgcmV0dXJuIHBhcmFtZXRlckluZGV4O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog44OR44Op44Oh44O844K/44Gu5YCL5pWw44Gu5Y+W5b6XXHJcbiAgICAgKiBAcmV0dXJuIOODkeODqeODoeODvOOCv+OBruWAi+aVsFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2V0UGFyYW1ldGVyQ291bnQoKTogbnVtYmVyIHtcclxuICAgICAgcmV0dXJuIHRoaXMuX21vZGVsLnBhcmFtZXRlcnMuY291bnQ7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDjg5Hjg6njg6Hjg7zjgr/jga7mnIDlpKflgKTjga7lj5blvpdcclxuICAgICAqIEBwYXJhbSBwYXJhbWV0ZXJJbmRleCDjg5Hjg6njg6Hjg7zjgr/jga7jgqTjg7Pjg4fjg4Pjgq/jgrlcclxuICAgICAqIEByZXR1cm4g44OR44Op44Oh44O844K/44Gu5pyA5aSn5YCkXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXRQYXJhbWV0ZXJNYXhpbXVtVmFsdWUocGFyYW1ldGVySW5kZXg6IG51bWJlcik6IG51bWJlciB7XHJcbiAgICAgIHJldHVybiB0aGlzLl9tb2RlbC5wYXJhbWV0ZXJzLm1heGltdW1WYWx1ZXNbcGFyYW1ldGVySW5kZXhdO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog44OR44Op44Oh44O844K/44Gu5pyA5bCP5YCk44Gu5Y+W5b6XXHJcbiAgICAgKiBAcGFyYW0gcGFyYW1ldGVySW5kZXgg44OR44Op44Oh44O844K/44Gu44Kk44Oz44OH44OD44Kv44K5XHJcbiAgICAgKiBAcmV0dXJuIOODkeODqeODoeODvOOCv+OBruacgOWwj+WApFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2V0UGFyYW1ldGVyTWluaW11bVZhbHVlKHBhcmFtZXRlckluZGV4OiBudW1iZXIpOiBudW1iZXIge1xyXG4gICAgICByZXR1cm4gdGhpcy5fbW9kZWwucGFyYW1ldGVycy5taW5pbXVtVmFsdWVzW3BhcmFtZXRlckluZGV4XTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOODkeODqeODoeODvOOCv+OBruODh+ODleOCqeODq+ODiOWApOOBruWPluW+l1xyXG4gICAgICogQHBhcmFtIHBhcmFtZXRlckluZGV4IOODkeODqeODoeODvOOCv+OBruOCpOODs+ODh+ODg+OCr+OCuVxyXG4gICAgICogQHJldHVybiDjg5Hjg6njg6Hjg7zjgr/jga7jg4fjg5Xjgqnjg6vjg4jlgKRcclxuICAgICAqL1xyXG4gICAgcHVibGljIGdldFBhcmFtZXRlckRlZmF1bHRWYWx1ZShwYXJhbWV0ZXJJbmRleDogbnVtYmVyKTogbnVtYmVyIHtcclxuICAgICAgcmV0dXJuIHRoaXMuX21vZGVsLnBhcmFtZXRlcnMuZGVmYXVsdFZhbHVlc1twYXJhbWV0ZXJJbmRleF07XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDjg5Hjg6njg6Hjg7zjgr/jga7lgKTjga7lj5blvpdcclxuICAgICAqIEBwYXJhbSBwYXJhbWV0ZXJJbmRleCAgICDjg5Hjg6njg6Hjg7zjgr/jga7jgqTjg7Pjg4fjg4Pjgq/jgrlcclxuICAgICAqIEByZXR1cm4g44OR44Op44Oh44O844K/44Gu5YCkXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXRQYXJhbWV0ZXJWYWx1ZUJ5SW5kZXgocGFyYW1ldGVySW5kZXg6IG51bWJlcik6IG51bWJlciB7XHJcbiAgICAgIGlmICh0aGlzLl9ub3RFeGlzdFBhcmFtZXRlclZhbHVlcy5pc0V4aXN0KHBhcmFtZXRlckluZGV4KSkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9ub3RFeGlzdFBhcmFtZXRlclZhbHVlcy5nZXRWYWx1ZShwYXJhbWV0ZXJJbmRleCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIOOCpOODs+ODh+ODg+OCr+OCueOBruevhOWbsuWGheaknOefpVxyXG4gICAgICBDU01fQVNTRVJUKFxyXG4gICAgICAgIDAgPD0gcGFyYW1ldGVySW5kZXggJiYgcGFyYW1ldGVySW5kZXggPCB0aGlzLmdldFBhcmFtZXRlckNvdW50KClcclxuICAgICAgKTtcclxuXHJcbiAgICAgIHJldHVybiB0aGlzLl9wYXJhbWV0ZXJWYWx1ZXNbcGFyYW1ldGVySW5kZXhdO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog44OR44Op44Oh44O844K/44Gu5YCk44Gu5Y+W5b6XXHJcbiAgICAgKiBAcGFyYW0gcGFyYW1ldGVySWQgICAg44OR44Op44Oh44O844K/44GuSURcclxuICAgICAqIEByZXR1cm4g44OR44Op44Oh44O844K/44Gu5YCkXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXRQYXJhbWV0ZXJWYWx1ZUJ5SWQocGFyYW1ldGVySWQ6IEN1YmlzbUlkSGFuZGxlKTogbnVtYmVyIHtcclxuICAgICAgLy8g6auY6YCf5YyW44Gu44Gf44KB44GrcGFyYW1ldGVySW5kZXjjgpLlj5blvpfjgafjgY3jgovmqZ/mp4vjgavjgarjgaPjgabjgYTjgovjgYzjgIHlpJbpg6jjgYvjgonjga7oqK3lrprjga7mmYLjga/lkbzjgbPlh7rjgZfpoLvluqbjgYzkvY7jgYTjgZ/jgoHkuI3opoFcclxuICAgICAgY29uc3QgcGFyYW1ldGVySW5kZXg6IG51bWJlciA9IHRoaXMuZ2V0UGFyYW1ldGVySW5kZXgocGFyYW1ldGVySWQpO1xyXG4gICAgICByZXR1cm4gdGhpcy5nZXRQYXJhbWV0ZXJWYWx1ZUJ5SW5kZXgocGFyYW1ldGVySW5kZXgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog44OR44Op44Oh44O844K/44Gu5YCk44Gu6Kit5a6aXHJcbiAgICAgKiBAcGFyYW0gcGFyYW1ldGVySW5kZXgg44OR44Op44Oh44O844K/44Gu44Kk44Oz44OH44OD44Kv44K5XHJcbiAgICAgKiBAcGFyYW0gdmFsdWUg44OR44Op44Oh44O844K/44Gu5YCkXHJcbiAgICAgKiBAcGFyYW0gd2VpZ2h0IOmHjeOBv1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc2V0UGFyYW1ldGVyVmFsdWVCeUluZGV4KFxyXG4gICAgICBwYXJhbWV0ZXJJbmRleDogbnVtYmVyLFxyXG4gICAgICB2YWx1ZTogbnVtYmVyLFxyXG4gICAgICB3ZWlnaHQgPSAxLjBcclxuICAgICk6IHZvaWQge1xyXG4gICAgICBpZiAodGhpcy5fbm90RXhpc3RQYXJhbWV0ZXJWYWx1ZXMuaXNFeGlzdChwYXJhbWV0ZXJJbmRleCkpIHtcclxuICAgICAgICB0aGlzLl9ub3RFeGlzdFBhcmFtZXRlclZhbHVlcy5zZXRWYWx1ZShcclxuICAgICAgICAgIHBhcmFtZXRlckluZGV4LFxyXG4gICAgICAgICAgd2VpZ2h0ID09IDFcclxuICAgICAgICAgICAgPyB2YWx1ZVxyXG4gICAgICAgICAgICA6IHRoaXMuX25vdEV4aXN0UGFyYW1ldGVyVmFsdWVzLmdldFZhbHVlKHBhcmFtZXRlckluZGV4KSAqXHJcbiAgICAgICAgICAgICAgICAoMSAtIHdlaWdodCkgK1xyXG4gICAgICAgICAgICAgICAgdmFsdWUgKiB3ZWlnaHRcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIOOCpOODs+ODh+ODg+OCr+OCueOBruevhOWbsuWGheaknOefpVxyXG4gICAgICBDU01fQVNTRVJUKFxyXG4gICAgICAgIDAgPD0gcGFyYW1ldGVySW5kZXggJiYgcGFyYW1ldGVySW5kZXggPCB0aGlzLmdldFBhcmFtZXRlckNvdW50KClcclxuICAgICAgKTtcclxuXHJcbiAgICAgIGlmICh0aGlzLl9tb2RlbC5wYXJhbWV0ZXJzLm1heGltdW1WYWx1ZXNbcGFyYW1ldGVySW5kZXhdIDwgdmFsdWUpIHtcclxuICAgICAgICB2YWx1ZSA9IHRoaXMuX21vZGVsLnBhcmFtZXRlcnMubWF4aW11bVZhbHVlc1twYXJhbWV0ZXJJbmRleF07XHJcbiAgICAgIH1cclxuICAgICAgaWYgKHRoaXMuX21vZGVsLnBhcmFtZXRlcnMubWluaW11bVZhbHVlc1twYXJhbWV0ZXJJbmRleF0gPiB2YWx1ZSkge1xyXG4gICAgICAgIHZhbHVlID0gdGhpcy5fbW9kZWwucGFyYW1ldGVycy5taW5pbXVtVmFsdWVzW3BhcmFtZXRlckluZGV4XTtcclxuICAgICAgfVxyXG5cclxuICAgICAgdGhpcy5fcGFyYW1ldGVyVmFsdWVzW3BhcmFtZXRlckluZGV4XSA9XHJcbiAgICAgICAgd2VpZ2h0ID09IDFcclxuICAgICAgICAgID8gdmFsdWVcclxuICAgICAgICAgIDogKHRoaXMuX3BhcmFtZXRlclZhbHVlc1twYXJhbWV0ZXJJbmRleF0gPVxyXG4gICAgICAgICAgICAgIHRoaXMuX3BhcmFtZXRlclZhbHVlc1twYXJhbWV0ZXJJbmRleF0gKiAoMSAtIHdlaWdodCkgK1xyXG4gICAgICAgICAgICAgIHZhbHVlICogd2VpZ2h0KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOODkeODqeODoeODvOOCv+OBruWApOOBruioreWumlxyXG4gICAgICogQHBhcmFtIHBhcmFtZXRlcklkIOODkeODqeODoeODvOOCv+OBrklEXHJcbiAgICAgKiBAcGFyYW0gdmFsdWUg44OR44Op44Oh44O844K/44Gu5YCkXHJcbiAgICAgKiBAcGFyYW0gd2VpZ2h0IOmHjeOBv1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc2V0UGFyYW1ldGVyVmFsdWVCeUlkKFxyXG4gICAgICBwYXJhbWV0ZXJJZDogQ3ViaXNtSWRIYW5kbGUsXHJcbiAgICAgIHZhbHVlOiBudW1iZXIsXHJcbiAgICAgIHdlaWdodCA9IDEuMFxyXG4gICAgKTogdm9pZCB7XHJcbiAgICAgIGNvbnN0IGluZGV4OiBudW1iZXIgPSB0aGlzLmdldFBhcmFtZXRlckluZGV4KHBhcmFtZXRlcklkKTtcclxuICAgICAgdGhpcy5zZXRQYXJhbWV0ZXJWYWx1ZUJ5SW5kZXgoaW5kZXgsIHZhbHVlLCB3ZWlnaHQpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog44OR44Op44Oh44O844K/44Gu5YCk44Gu5Yqg566XKGluZGV4KVxyXG4gICAgICogQHBhcmFtIHBhcmFtZXRlckluZGV4IOODkeODqeODoeODvOOCv+OCpOODs+ODh+ODg+OCr+OCuVxyXG4gICAgICogQHBhcmFtIHZhbHVlIOWKoOeul+OBmeOCi+WApFxyXG4gICAgICogQHBhcmFtIHdlaWdodCDph43jgb9cclxuICAgICAqL1xyXG4gICAgcHVibGljIGFkZFBhcmFtZXRlclZhbHVlQnlJbmRleChcclxuICAgICAgcGFyYW1ldGVySW5kZXg6IG51bWJlcixcclxuICAgICAgdmFsdWU6IG51bWJlcixcclxuICAgICAgd2VpZ2h0ID0gMS4wXHJcbiAgICApOiB2b2lkIHtcclxuICAgICAgdGhpcy5zZXRQYXJhbWV0ZXJWYWx1ZUJ5SW5kZXgoXHJcbiAgICAgICAgcGFyYW1ldGVySW5kZXgsXHJcbiAgICAgICAgdGhpcy5nZXRQYXJhbWV0ZXJWYWx1ZUJ5SW5kZXgocGFyYW1ldGVySW5kZXgpICsgdmFsdWUgKiB3ZWlnaHRcclxuICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOODkeODqeODoeODvOOCv+OBruWApOOBruWKoOeulyhpZClcclxuICAgICAqIEBwYXJhbSBwYXJhbWV0ZXJJZCDjg5Hjg6njg6Hjg7zjgr/vvKnvvKRcclxuICAgICAqIEBwYXJhbSB2YWx1ZSDliqDnrpfjgZnjgovlgKRcclxuICAgICAqIEBwYXJhbSB3ZWlnaHQg6YeN44G/XHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBhZGRQYXJhbWV0ZXJWYWx1ZUJ5SWQoXHJcbiAgICAgIHBhcmFtZXRlcklkOiBhbnksXHJcbiAgICAgIHZhbHVlOiBudW1iZXIsXHJcbiAgICAgIHdlaWdodCA9IDEuMFxyXG4gICAgKTogdm9pZCB7XHJcbiAgICAgIGNvbnN0IGluZGV4OiBudW1iZXIgPSB0aGlzLmdldFBhcmFtZXRlckluZGV4KHBhcmFtZXRlcklkKTtcclxuICAgICAgdGhpcy5hZGRQYXJhbWV0ZXJWYWx1ZUJ5SW5kZXgoaW5kZXgsIHZhbHVlLCB3ZWlnaHQpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog44OR44Op44Oh44O844K/44Gu5YCk44Gu5LmX566XXHJcbiAgICAgKiBAcGFyYW0gcGFyYW1ldGVySWQg44OR44Op44Oh44O844K/44GuSURcclxuICAgICAqIEBwYXJhbSB2YWx1ZSDkuZfnrpfjgZnjgovlgKRcclxuICAgICAqIEBwYXJhbSB3ZWlnaHQg6YeN44G/XHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBtdWx0aXBseVBhcmFtZXRlclZhbHVlQnlJZChcclxuICAgICAgcGFyYW1ldGVySWQ6IEN1YmlzbUlkSGFuZGxlLFxyXG4gICAgICB2YWx1ZTogbnVtYmVyLFxyXG4gICAgICB3ZWlnaHQgPSAxLjBcclxuICAgICk6IHZvaWQge1xyXG4gICAgICBjb25zdCBpbmRleDogbnVtYmVyID0gdGhpcy5nZXRQYXJhbWV0ZXJJbmRleChwYXJhbWV0ZXJJZCk7XHJcbiAgICAgIHRoaXMubXVsdGlwbHlQYXJhbWV0ZXJWYWx1ZUJ5SW5kZXgoaW5kZXgsIHZhbHVlLCB3ZWlnaHQpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog44OR44Op44Oh44O844K/44Gu5YCk44Gu5LmX566XXHJcbiAgICAgKiBAcGFyYW0gcGFyYW1ldGVySW5kZXgg44OR44Op44Oh44O844K/44Gu44Kk44Oz44OH44OD44Kv44K5XHJcbiAgICAgKiBAcGFyYW0gdmFsdWUg5LmX566X44GZ44KL5YCkXHJcbiAgICAgKiBAcGFyYW0gd2VpZ2h0IOmHjeOBv1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgbXVsdGlwbHlQYXJhbWV0ZXJWYWx1ZUJ5SW5kZXgoXHJcbiAgICAgIHBhcmFtZXRlckluZGV4OiBudW1iZXIsXHJcbiAgICAgIHZhbHVlOiBudW1iZXIsXHJcbiAgICAgIHdlaWdodCA9IDEuMFxyXG4gICAgKTogdm9pZCB7XHJcbiAgICAgIHRoaXMuc2V0UGFyYW1ldGVyVmFsdWVCeUluZGV4KFxyXG4gICAgICAgIHBhcmFtZXRlckluZGV4LFxyXG4gICAgICAgIHRoaXMuZ2V0UGFyYW1ldGVyVmFsdWVCeUluZGV4KHBhcmFtZXRlckluZGV4KSAqXHJcbiAgICAgICAgICAoMS4wICsgKHZhbHVlIC0gMS4wKSAqIHdlaWdodClcclxuICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIERyYXdhYmxl44Gu44Kk44Oz44OH44OD44Kv44K544Gu5Y+W5b6XXHJcbiAgICAgKiBAcGFyYW0gZHJhd2FibGVJZCBEcmF3YWJsZeOBrklEXHJcbiAgICAgKiBAcmV0dXJuIERyYXdhYmxl44Gu44Kk44Oz44OH44OD44Kv44K5XHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXREcmF3YWJsZUluZGV4KGRyYXdhYmxlSWQ6IEN1YmlzbUlkSGFuZGxlKTogbnVtYmVyIHtcclxuICAgICAgY29uc3QgZHJhd2FibGVDb3VudCA9IHRoaXMuX21vZGVsLmRyYXdhYmxlcy5jb3VudDtcclxuXHJcbiAgICAgIGZvciAoXHJcbiAgICAgICAgbGV0IGRyYXdhYmxlSW5kZXggPSAwO1xyXG4gICAgICAgIGRyYXdhYmxlSW5kZXggPCBkcmF3YWJsZUNvdW50O1xyXG4gICAgICAgICsrZHJhd2FibGVJbmRleFxyXG4gICAgICApIHtcclxuICAgICAgICBpZiAodGhpcy5fZHJhd2FibGVJZHMuYXQoZHJhd2FibGVJbmRleCkgPT0gZHJhd2FibGVJZCkge1xyXG4gICAgICAgICAgcmV0dXJuIGRyYXdhYmxlSW5kZXg7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gLTE7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBEcmF3YWJsZeOBruWAi+aVsOOBruWPluW+l1xyXG4gICAgICogQHJldHVybiBkcmF3YWJsZeOBruWAi+aVsFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2V0RHJhd2FibGVDb3VudCgpOiBudW1iZXIge1xyXG4gICAgICBjb25zdCBkcmF3YWJsZUNvdW50ID0gdGhpcy5fbW9kZWwuZHJhd2FibGVzLmNvdW50O1xyXG4gICAgICByZXR1cm4gZHJhd2FibGVDb3VudDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIERyYXdhYmxl44GuSUTjgpLlj5blvpfjgZnjgotcclxuICAgICAqIEBwYXJhbSBkcmF3YWJsZUluZGV4IERyYXdhYmxl44Gu44Kk44Oz44OH44OD44Kv44K5XHJcbiAgICAgKiBAcmV0dXJuIGRyYXdhYmxl44GuSURcclxuICAgICAqL1xyXG4gICAgcHVibGljIGdldERyYXdhYmxlSWQoZHJhd2FibGVJbmRleDogbnVtYmVyKTogQ3ViaXNtSWRIYW5kbGUge1xyXG4gICAgICBjb25zdCBwYXJhbWV0ZXJJZHM6IHN0cmluZ1tdID0gdGhpcy5fbW9kZWwuZHJhd2FibGVzLmlkcztcclxuICAgICAgcmV0dXJuIEN1YmlzbUZyYW1ld29yay5nZXRJZE1hbmFnZXIoKS5nZXRJZChwYXJhbWV0ZXJJZHNbZHJhd2FibGVJbmRleF0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogRHJhd2FibGXjga7mj4/nlLvpoIbjg6rjgrnjg4jjga7lj5blvpdcclxuICAgICAqIEByZXR1cm4gRHJhd2FibGXjga7mj4/nlLvpoIbjg6rjgrnjg4hcclxuICAgICAqL1xyXG4gICAgcHVibGljIGdldERyYXdhYmxlUmVuZGVyT3JkZXJzKCk6IEludDMyQXJyYXkge1xyXG4gICAgICBjb25zdCByZW5kZXJPcmRlcnM6IEludDMyQXJyYXkgPSB0aGlzLl9tb2RlbC5kcmF3YWJsZXMucmVuZGVyT3JkZXJzO1xyXG4gICAgICByZXR1cm4gcmVuZGVyT3JkZXJzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogRHJhd2FibGXjga7jg4bjgq/jgrnjg4Hjg6PjgqTjg7Pjg4fjg4Pjgq/jgrnjg6rjgrnjg4jjga7lj5blvpdcclxuICAgICAqIEBwYXJhbSBkcmF3YWJsZUluZGV4IERyYXdhYmxl44Gu44Kk44Oz44OH44OD44Kv44K5XHJcbiAgICAgKiBAcmV0dXJuIGRyYXdhYmxl44Gu44OG44Kv44K544OB44Oj44Kk44Oz44OH44OD44Kv44K544Oq44K544OIXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXREcmF3YWJsZVRleHR1cmVJbmRpY2VzKGRyYXdhYmxlSW5kZXg6IG51bWJlcik6IG51bWJlciB7XHJcbiAgICAgIGNvbnN0IHRleHR1cmVJbmRpY2VzOiBJbnQzMkFycmF5ID0gdGhpcy5fbW9kZWwuZHJhd2FibGVzLnRleHR1cmVJbmRpY2VzO1xyXG4gICAgICByZXR1cm4gdGV4dHVyZUluZGljZXNbZHJhd2FibGVJbmRleF07XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBEcmF3YWJsZeOBrlZlcnRleFBvc2l0aW9uc+OBruWkieWMluaDheWgseOBruWPluW+l1xyXG4gICAgICpcclxuICAgICAqIOebtOi/keOBrkN1YmlzbU1vZGVsLnVwZGF0ZemWouaVsOOBp0RyYXdhYmxl44Gu6aCC54K55oOF5aCx44GM5aSJ5YyW44GX44Gf44GL44KS5Y+W5b6X44GZ44KL44CCXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtICAgZHJhd2FibGVJbmRleCAgIERyYXdhYmxl44Gu44Kk44Oz44OH44OD44Kv44K5XHJcbiAgICAgKiBAcmV0dmFsICB0cnVlICAgIERyYXdhYmxl44Gu6aCC54K55oOF5aCx44GM55u06L+R44GuQ3ViaXNtTW9kZWwudXBkYXRl6Zai5pWw44Gn5aSJ5YyW44GX44GfXHJcbiAgICAgKiBAcmV0dmFsICBmYWxzZSAgIERyYXdhYmxl44Gu6aCC54K55oOF5aCx44GM55u06L+R44GuQ3ViaXNtTW9kZWwudXBkYXRl6Zai5pWw44Gn5aSJ5YyW44GX44Gm44GE44Gq44GEXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXREcmF3YWJsZUR5bmFtaWNGbGFnVmVydGV4UG9zaXRpb25zRGlkQ2hhbmdlKFxyXG4gICAgICBkcmF3YWJsZUluZGV4OiBudW1iZXJcclxuICAgICk6IGJvb2xlYW4ge1xyXG4gICAgICBjb25zdCBkeW5hbWljRmxhZ3M6IFVpbnQ4QXJyYXkgPSB0aGlzLl9tb2RlbC5kcmF3YWJsZXMuZHluYW1pY0ZsYWdzO1xyXG4gICAgICByZXR1cm4gTGl2ZTJEQ3ViaXNtQ29yZS5VdGlscy5oYXNWZXJ0ZXhQb3NpdGlvbnNEaWRDaGFuZ2VCaXQoXHJcbiAgICAgICAgZHluYW1pY0ZsYWdzW2RyYXdhYmxlSW5kZXhdXHJcbiAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBEcmF3YWJsZeOBrumggueCueOCpOODs+ODh+ODg+OCr+OCueOBruWAi+aVsOOBruWPluW+l1xyXG4gICAgICogQHBhcmFtIGRyYXdhYmxlSW5kZXggRHJhd2FibGXjga7jgqTjg7Pjg4fjg4Pjgq/jgrlcclxuICAgICAqIEByZXR1cm4gZHJhd2FibGXjga7poILngrnjgqTjg7Pjg4fjg4Pjgq/jgrnjga7lgIvmlbBcclxuICAgICAqL1xyXG4gICAgcHVibGljIGdldERyYXdhYmxlVmVydGV4SW5kZXhDb3VudChkcmF3YWJsZUluZGV4OiBudW1iZXIpOiBudW1iZXIge1xyXG4gICAgICBjb25zdCBpbmRleENvdW50czogSW50MzJBcnJheSA9IHRoaXMuX21vZGVsLmRyYXdhYmxlcy5pbmRleENvdW50cztcclxuICAgICAgcmV0dXJuIGluZGV4Q291bnRzW2RyYXdhYmxlSW5kZXhdO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogRHJhd2FibGXjga7poILngrnjga7lgIvmlbDjga7lj5blvpdcclxuICAgICAqIEBwYXJhbSBkcmF3YWJsZUluZGV4IERyYXdhYmxl44Gu44Kk44Oz44OH44OD44Kv44K5XHJcbiAgICAgKiBAcmV0dXJuIGRyYXdhYmxl44Gu6aCC54K544Gu5YCL5pWwXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXREcmF3YWJsZVZlcnRleENvdW50KGRyYXdhYmxlSW5kZXg6IG51bWJlcik6IG51bWJlciB7XHJcbiAgICAgIGNvbnN0IHZlcnRleENvdW50cyA9IHRoaXMuX21vZGVsLmRyYXdhYmxlcy52ZXJ0ZXhDb3VudHM7XHJcbiAgICAgIHJldHVybiB2ZXJ0ZXhDb3VudHNbZHJhd2FibGVJbmRleF07XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBEcmF3YWJsZeOBrumggueCueODquOCueODiOOBruWPluW+l1xyXG4gICAgICogQHBhcmFtIGRyYXdhYmxlSW5kZXggZHJhd2FibGXjga7jgqTjg7Pjg4fjg4Pjgq/jgrlcclxuICAgICAqIEByZXR1cm4gZHJhd2FibGXjga7poILngrnjg6rjgrnjg4hcclxuICAgICAqL1xyXG4gICAgcHVibGljIGdldERyYXdhYmxlVmVydGljZXMoZHJhd2FibGVJbmRleDogbnVtYmVyKTogRmxvYXQzMkFycmF5IHtcclxuICAgICAgcmV0dXJuIHRoaXMuZ2V0RHJhd2FibGVWZXJ0ZXhQb3NpdGlvbnMoZHJhd2FibGVJbmRleCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBEcmF3YWJsZeOBrumggueCueOCpOODs+ODh+ODg+OCr+OCueODquOCueODiOOBruWPluW+l1xyXG4gICAgICogQHBhcmFtIGRyYXJhYmxlSW5kZXggRHJhd2FibGXjga7jgqTjg7Pjg4fjg4Pjgq/jgrlcclxuICAgICAqIEByZXR1cm4gZHJhd2FibGXjga7poILngrnjgqTjg7Pjg4fjg4Pjgq/jgrnjg6rjgrnjg4hcclxuICAgICAqL1xyXG4gICAgcHVibGljIGdldERyYXdhYmxlVmVydGV4SW5kaWNlcyhkcmF3YWJsZUluZGV4OiBudW1iZXIpOiBVaW50MTZBcnJheSB7XHJcbiAgICAgIGNvbnN0IGluZGljZXNBcnJheTogVWludDE2QXJyYXlbXSA9IHRoaXMuX21vZGVsLmRyYXdhYmxlcy5pbmRpY2VzO1xyXG4gICAgICByZXR1cm4gaW5kaWNlc0FycmF5W2RyYXdhYmxlSW5kZXhdO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogRHJhd2FibGXjga7poILngrnjg6rjgrnjg4jjga7lj5blvpdcclxuICAgICAqIEBwYXJhbSBkcmF3YWJsZUluZGV4IERyYXdhYmxl44Gu44Kk44Oz44OH44OD44Kv44K5XHJcbiAgICAgKiBAcmV0dXJuIGRyYXdhYmxl44Gu6aCC54K544Oq44K544OIXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXREcmF3YWJsZVZlcnRleFBvc2l0aW9ucyhkcmF3YWJsZUluZGV4OiBudW1iZXIpOiBGbG9hdDMyQXJyYXkge1xyXG4gICAgICBjb25zdCB2ZXJ0aWNlc0FycmF5OiBGbG9hdDMyQXJyYXlbXSA9IHRoaXMuX21vZGVsLmRyYXdhYmxlc1xyXG4gICAgICAgIC52ZXJ0ZXhQb3NpdGlvbnM7XHJcbiAgICAgIHJldHVybiB2ZXJ0aWNlc0FycmF5W2RyYXdhYmxlSW5kZXhdO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogRHJhd2FibGXjga7poILngrnjga5VVuODquOCueODiOOBruWPluW+l1xyXG4gICAgICogQHBhcmFtIGRyYXdhYmxlSW5kZXggRHJhd2FibGXjga7jgqTjg7Pjg4fjg4Pjgq/jgrlcclxuICAgICAqIEByZXR1cm4gZHJhd2FibGXjga7poILngrlVVuODquOCueODiFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2V0RHJhd2FibGVWZXJ0ZXhVdnMoZHJhd2FibGVJbmRleDogbnVtYmVyKTogRmxvYXQzMkFycmF5IHtcclxuICAgICAgY29uc3QgdXZzQXJyYXk6IEZsb2F0MzJBcnJheVtdID0gdGhpcy5fbW9kZWwuZHJhd2FibGVzLnZlcnRleFV2cztcclxuICAgICAgcmV0dXJuIHV2c0FycmF5W2RyYXdhYmxlSW5kZXhdO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogRHJhd2FibGXjga7kuI3pgI/mmI7luqbjga7lj5blvpdcclxuICAgICAqIEBwYXJhbSBkcmF3YWJsZUluZGV4IERyYXdhYmxl44Gu44Kk44Oz44OH44OD44Kv44K5XHJcbiAgICAgKiBAcmV0dXJuIGRyYXdhYmxl44Gu5LiN6YCP5piO5bqmXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXREcmF3YWJsZU9wYWNpdHkoZHJhd2FibGVJbmRleDogbnVtYmVyKTogbnVtYmVyIHtcclxuICAgICAgY29uc3Qgb3BhY2l0aWVzOiBGbG9hdDMyQXJyYXkgPSB0aGlzLl9tb2RlbC5kcmF3YWJsZXMub3BhY2l0aWVzO1xyXG4gICAgICByZXR1cm4gb3BhY2l0aWVzW2RyYXdhYmxlSW5kZXhdO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogRHJhd2FibGXjga7jgqvjg6rjg7PjgrDmg4XloLHjga7lj5blvpdcclxuICAgICAqIEBwYXJhbSBkcmF3YWJsZUluZGV4IERyYXdhYmxl44Gu44Kk44Oz44OH44OD44Kv44K5XHJcbiAgICAgKiBAcmV0dXJuIGRyYXdhYmxl44Gu44Kr44Oq44Oz44Kw5oOF5aCxXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXREcmF3YWJsZUN1bGxpbmcoZHJhd2FibGVJbmRleDogbnVtYmVyKTogYm9vbGVhbiB7XHJcbiAgICAgIGNvbnN0IGNvbnN0YW50RmxhZ3MgPSB0aGlzLl9tb2RlbC5kcmF3YWJsZXMuY29uc3RhbnRGbGFncztcclxuXHJcbiAgICAgIHJldHVybiAhTGl2ZTJEQ3ViaXNtQ29yZS5VdGlscy5oYXNJc0RvdWJsZVNpZGVkQml0KFxyXG4gICAgICAgIGNvbnN0YW50RmxhZ3NbZHJhd2FibGVJbmRleF1cclxuICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIERyYXdhYmxl44Gu44OW44Os44Oz44OJ44Oi44O844OJ44KS5Y+W5b6XXHJcbiAgICAgKiBAcGFyYW0gZHJhd2FibGVJbmRleCBEcmF3YWJsZeOBruOCpOODs+ODh+ODg+OCr+OCuVxyXG4gICAgICogQHJldHVybiBkcmF3YWJsZeOBruODluODrOODs+ODieODouODvOODiVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2V0RHJhd2FibGVCbGVuZE1vZGUoZHJhd2FibGVJbmRleDogbnVtYmVyKTogQ3ViaXNtQmxlbmRNb2RlIHtcclxuICAgICAgY29uc3QgY29uc3RhbnRGbGFncyA9IHRoaXMuX21vZGVsLmRyYXdhYmxlcy5jb25zdGFudEZsYWdzO1xyXG5cclxuICAgICAgcmV0dXJuIExpdmUyREN1YmlzbUNvcmUuVXRpbHMuaGFzQmxlbmRBZGRpdGl2ZUJpdChcclxuICAgICAgICBjb25zdGFudEZsYWdzW2RyYXdhYmxlSW5kZXhdXHJcbiAgICAgIClcclxuICAgICAgICA/IEN1YmlzbUJsZW5kTW9kZS5DdWJpc21CbGVuZE1vZGVfQWRkaXRpdmVcclxuICAgICAgICA6IExpdmUyREN1YmlzbUNvcmUuVXRpbHMuaGFzQmxlbmRNdWx0aXBsaWNhdGl2ZUJpdChcclxuICAgICAgICAgICAgY29uc3RhbnRGbGFnc1tkcmF3YWJsZUluZGV4XVxyXG4gICAgICAgICAgKVxyXG4gICAgICAgID8gQ3ViaXNtQmxlbmRNb2RlLkN1YmlzbUJsZW5kTW9kZV9NdWx0aXBsaWNhdGl2ZVxyXG4gICAgICAgIDogQ3ViaXNtQmxlbmRNb2RlLkN1YmlzbUJsZW5kTW9kZV9Ob3JtYWw7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBEcmF3YWJsZeOBruODnuOCueOCr+OBruWPjei7ouS9v+eUqOOBruWPluW+l1xyXG4gICAgICpcclxuICAgICAqIERyYXdhYmxl44Gu44Oe44K544Kv5L2/55So5pmC44Gu5Y+N6Lui6Kit5a6a44KS5Y+W5b6X44GZ44KL44CCXHJcbiAgICAgKiDjg57jgrnjgq/jgpLkvb/nlKjjgZfjgarjgYTloLTlkIjjga/nhKHoppbjgZXjgozjgovjgIJcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gZHJhd2FibGVJbmRleCBEcmF3YWJsZeOBruOCpOODs+ODh+ODg+OCr+OCuVxyXG4gICAgICogQHJldHVybiBEcmF3YWJsZeOBruWPjei7ouioreWumlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2V0RHJhd2FibGVJbnZlcnRlZE1hc2tCaXQoZHJhd2FibGVJbmRleDogbnVtYmVyKTogYm9vbGVhbiB7XHJcbiAgICAgIGNvbnN0IGNvbnN0YW50RmxhZ3M6IFVpbnQ4QXJyYXkgPSB0aGlzLl9tb2RlbC5kcmF3YWJsZXMuY29uc3RhbnRGbGFncztcclxuXHJcbiAgICAgIHJldHVybiBMaXZlMkRDdWJpc21Db3JlLlV0aWxzLmhhc0lzSW52ZXJ0ZWRNYXNrQml0KFxyXG4gICAgICAgIGNvbnN0YW50RmxhZ3NbZHJhd2FibGVJbmRleF1cclxuICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIERyYXdhYmxl44Gu44Kv44Oq44OD44OU44Oz44Kw44Oe44K544Kv44Oq44K544OI44Gu5Y+W5b6XXHJcbiAgICAgKiBAcmV0dXJuIERyYXdhYmxl44Gu44Kv44Oq44OD44OU44Oz44Kw44Oe44K544Kv44Oq44K544OIXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXREcmF3YWJsZU1hc2tzKCk6IEludDMyQXJyYXlbXSB7XHJcbiAgICAgIGNvbnN0IG1hc2tzOiBJbnQzMkFycmF5W10gPSB0aGlzLl9tb2RlbC5kcmF3YWJsZXMubWFza3M7XHJcbiAgICAgIHJldHVybiBtYXNrcztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIERyYXdhYmxl44Gu44Kv44Oq44OD44OU44Oz44Kw44Oe44K544Kv44Gu5YCL5pWw44Oq44K544OI44Gu5Y+W5b6XXHJcbiAgICAgKiBAcmV0dXJuIERyYXdhYmxl44Gu44Kv44Oq44OD44OU44Oz44Kw44Oe44K544Kv44Gu5YCL5pWw44Oq44K544OIXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXREcmF3YWJsZU1hc2tDb3VudHMoKTogSW50MzJBcnJheSB7XHJcbiAgICAgIGNvbnN0IG1hc2tDb3VudHM6IEludDMyQXJyYXkgPSB0aGlzLl9tb2RlbC5kcmF3YWJsZXMubWFza0NvdW50cztcclxuICAgICAgcmV0dXJuIG1hc2tDb3VudHM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDjgq/jg6rjg4Pjg5Tjg7PjgrDjg57jgrnjgq/jga7kvb/nlKjnirbmhYtcclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJuIHRydWUg44Kv44Oq44OD44OU44Oz44Kw44Oe44K544Kv44KS5L2/55So44GX44Gm44GE44KLXHJcbiAgICAgKiBAcmV0dXJuIGZhbHNlIOOCr+ODquODg+ODlOODs+OCsOODnuOCueOCr+OCkuS9v+eUqOOBl+OBpuOBhOOBquOBhFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgaXNVc2luZ01hc2tpbmcoKTogYm9vbGVhbiB7XHJcbiAgICAgIGZvciAobGV0IGQgPSAwOyBkIDwgdGhpcy5fbW9kZWwuZHJhd2FibGVzLmNvdW50OyArK2QpIHtcclxuICAgICAgICBpZiAodGhpcy5fbW9kZWwuZHJhd2FibGVzLm1hc2tDb3VudHNbZF0gPD0gMCkge1xyXG4gICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIERyYXdhYmxl44Gu6KGo56S65oOF5aCx44KS5Y+W5b6X44GZ44KLXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGRyYXdhYmxlSW5kZXggRHJhd2FibGXjga7jgqTjg7Pjg4fjg4Pjgq/jgrlcclxuICAgICAqIEByZXR1cm4gdHJ1ZSBEcmF3YWJsZeOBjOihqOekulxyXG4gICAgICogQHJldHVybiBmYWxzZSBEcmF3YWJsZeOBjOmdnuihqOekulxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2V0RHJhd2FibGVEeW5hbWljRmxhZ0lzVmlzaWJsZShkcmF3YWJsZUluZGV4OiBudW1iZXIpOiBib29sZWFuIHtcclxuICAgICAgY29uc3QgZHluYW1pY0ZsYWdzOiBVaW50OEFycmF5ID0gdGhpcy5fbW9kZWwuZHJhd2FibGVzLmR5bmFtaWNGbGFncztcclxuICAgICAgcmV0dXJuIExpdmUyREN1YmlzbUNvcmUuVXRpbHMuaGFzSXNWaXNpYmxlQml0KFxyXG4gICAgICAgIGR5bmFtaWNGbGFnc1tkcmF3YWJsZUluZGV4XVxyXG4gICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogRHJhd2FibGXjga5EcmF3T3JkZXLjga7lpInljJbmg4XloLHjga7lj5blvpdcclxuICAgICAqXHJcbiAgICAgKiDnm7Tov5Hjga5DdWJpc21Nb2RlbC51cGRhdGXplqLmlbDjgadkcmF3YWJsZeOBrmRyYXdPcmRlcuOBjOWkieWMluOBl+OBn+OBi+OCkuWPluW+l+OBmeOCi+OAglxyXG4gICAgICogZHJhd09yZGVy44GvYXJ0TWVzaOS4iuOBp+aMh+WumuOBmeOCizDjgYvjgokxMDAw44Gu5oOF5aCxXHJcbiAgICAgKiBAcGFyYW0gZHJhd2FibGVJbmRleCBkcmF3YWJsZeOBruOCpOODs+ODh+ODg+OCr+OCuVxyXG4gICAgICogQHJldHVybiB0cnVlIGRyYXdhYmxl44Gu5LiN6YCP5piO5bqm44GM55u06L+R44GuQ3ViaXNtTW9kZWwudXBkYXRl6Zai5pWw44Gn5aSJ5YyW44GX44GfXHJcbiAgICAgKiBAcmV0dXJuIGZhbHNlIGRyYXdhYmxl44Gu5LiN6YCP5piO5bqm44GM55u06L+R44GuQ3ViaXNtTW9kZWwudXBkYXRl6Zai5pWw44Gn5aSJ5YyW44GX44Gm44GE44KLXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXREcmF3YWJsZUR5bmFtaWNGbGFnVmlzaWJpbGl0eURpZENoYW5nZShcclxuICAgICAgZHJhd2FibGVJbmRleDogbnVtYmVyXHJcbiAgICApOiBib29sZWFuIHtcclxuICAgICAgY29uc3QgZHluYW1pY0ZsYWdzOiBVaW50OEFycmF5ID0gdGhpcy5fbW9kZWwuZHJhd2FibGVzLmR5bmFtaWNGbGFncztcclxuICAgICAgcmV0dXJuIExpdmUyREN1YmlzbUNvcmUuVXRpbHMuaGFzVmlzaWJpbGl0eURpZENoYW5nZUJpdChcclxuICAgICAgICBkeW5hbWljRmxhZ3NbZHJhd2FibGVJbmRleF1cclxuICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIERyYXdhYmxl44Gu5LiN6YCP5piO5bqm44Gu5aSJ5YyW5oOF5aCx44Gu5Y+W5b6XXHJcbiAgICAgKlxyXG4gICAgICog55u06L+R44GuQ3ViaXNtTW9kZWwudXBkYXRl6Zai5pWw44GnZHJhd2FibGXjga7kuI3pgI/mmI7luqbjgYzlpInljJbjgZfjgZ/jgYvjgpLlj5blvpfjgZnjgovjgIJcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gZHJhd2FibGVJbmRleCBkcmF3YWJsZeOBruOCpOODs+ODh+ODg+OCr+OCuVxyXG4gICAgICogQHJldHVybiB0cnVlIERyYXdhYmxl44Gu5LiN6YCP5piO5bqm44GM55u06L+R44GuQ3ViaXNtTW9kZWwudXBkYXRl6Zai5pWw44Gn5aSJ5YyW44GX44GfXHJcbiAgICAgKiBAcmV0dXJuIGZhbHNlIERyYXdhYmxl44Gu5LiN6YCP5piO5bqm44GM55u06L+R44GuQ3ViaXNtTW9kZWwudXBkYXRl6Zai5pWw44Gn5aSJ5YyW44GX44Gm44Gq44GEXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXREcmF3YWJsZUR5bmFtaWNGbGFnT3BhY2l0eURpZENoYW5nZShcclxuICAgICAgZHJhd2FibGVJbmRleDogbnVtYmVyXHJcbiAgICApOiBib29sZWFuIHtcclxuICAgICAgY29uc3QgZHluYW1pY0ZsYWdzOiBVaW50OEFycmF5ID0gdGhpcy5fbW9kZWwuZHJhd2FibGVzLmR5bmFtaWNGbGFncztcclxuICAgICAgcmV0dXJuIExpdmUyREN1YmlzbUNvcmUuVXRpbHMuaGFzT3BhY2l0eURpZENoYW5nZUJpdChcclxuICAgICAgICBkeW5hbWljRmxhZ3NbZHJhd2FibGVJbmRleF1cclxuICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIERyYXdhYmxl44Gu5o+P55S76aCG5bqP44Gu5aSJ5YyW5oOF5aCx44Gu5Y+W5b6XXHJcbiAgICAgKlxyXG4gICAgICog55u06L+R44GuQ3ViaXNtTW9kZWwudXBkYXRl6Zai5pWw44GnRHJhd2FibGXjga7mj4/nlLvjga7poIbluo/jgYzlpInljJbjgZfjgZ/jgYvjgpLlj5blvpfjgZnjgovjgIJcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gZHJhd2FibGVJbmRleCBEcmF3YWJsZeOBruOCpOODs+ODh+ODg+OCr+OCuVxyXG4gICAgICogQHJldHVybiB0cnVlIERyYXdhYmxl44Gu5o+P55S744Gu6aCG5bqP44GM55u06L+R44GuQ3ViaXNtTW9kZWwudXBkYXRl6Zai5pWw44Gn5aSJ5YyW44GX44GfXHJcbiAgICAgKiBAcmV0dXJuIGZhbHNlIERyYXdhYmxl44Gu5o+P55S744Gu6aCG5bqP44GM55u06L+R44GuQ3ViaXNtTW9kZWwudXBkYXRl6Zai5pWw44Gn5aSJ5YyW44GX44Gm44Gq44GEXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXREcmF3YWJsZUR5bmFtaWNGbGFnUmVuZGVyT3JkZXJEaWRDaGFuZ2UoXHJcbiAgICAgIGRyYXdhYmxlSW5kZXg6IG51bWJlclxyXG4gICAgKTogYm9vbGVhbiB7XHJcbiAgICAgIGNvbnN0IGR5bmFtaWNGbGFnczogVWludDhBcnJheSA9IHRoaXMuX21vZGVsLmRyYXdhYmxlcy5keW5hbWljRmxhZ3M7XHJcbiAgICAgIHJldHVybiBMaXZlMkRDdWJpc21Db3JlLlV0aWxzLmhhc1JlbmRlck9yZGVyRGlkQ2hhbmdlQml0KFxyXG4gICAgICAgIGR5bmFtaWNGbGFnc1tkcmF3YWJsZUluZGV4XVxyXG4gICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5L+d5a2Y44GV44KM44Gf44OR44Op44Oh44O844K/44Gu6Kqt44G/6L6844G/XHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBsb2FkUGFyYW1ldGVycygpOiB2b2lkIHtcclxuICAgICAgbGV0IHBhcmFtZXRlckNvdW50OiBudW1iZXIgPSB0aGlzLl9tb2RlbC5wYXJhbWV0ZXJzLmNvdW50O1xyXG4gICAgICBjb25zdCBzYXZlZFBhcmFtZXRlckNvdW50OiBudW1iZXIgPSB0aGlzLl9zYXZlZFBhcmFtZXRlcnMuZ2V0U2l6ZSgpO1xyXG5cclxuICAgICAgaWYgKHBhcmFtZXRlckNvdW50ID4gc2F2ZWRQYXJhbWV0ZXJDb3VudCkge1xyXG4gICAgICAgIHBhcmFtZXRlckNvdW50ID0gc2F2ZWRQYXJhbWV0ZXJDb3VudDtcclxuICAgICAgfVxyXG5cclxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXJhbWV0ZXJDb3VudDsgKytpKSB7XHJcbiAgICAgICAgdGhpcy5fcGFyYW1ldGVyVmFsdWVzW2ldID0gdGhpcy5fc2F2ZWRQYXJhbWV0ZXJzLmF0KGkpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDliJ3mnJ/ljJbjgZnjgotcclxuICAgICAqL1xyXG4gICAgcHVibGljIGluaXRpYWxpemUoKTogdm9pZCB7XHJcbiAgICAgIENTTV9BU1NFUlQodGhpcy5fbW9kZWwpO1xyXG5cclxuICAgICAgdGhpcy5fcGFyYW1ldGVyVmFsdWVzID0gdGhpcy5fbW9kZWwucGFyYW1ldGVycy52YWx1ZXM7XHJcbiAgICAgIHRoaXMuX3BhcnRPcGFjaXRpZXMgPSB0aGlzLl9tb2RlbC5wYXJ0cy5vcGFjaXRpZXM7XHJcbiAgICAgIHRoaXMuX3BhcmFtZXRlck1heGltdW1WYWx1ZXMgPSB0aGlzLl9tb2RlbC5wYXJhbWV0ZXJzLm1heGltdW1WYWx1ZXM7XHJcbiAgICAgIHRoaXMuX3BhcmFtZXRlck1pbmltdW1WYWx1ZXMgPSB0aGlzLl9tb2RlbC5wYXJhbWV0ZXJzLm1pbmltdW1WYWx1ZXM7XHJcblxyXG4gICAgICB7XHJcbiAgICAgICAgY29uc3QgcGFyYW1ldGVySWRzOiBzdHJpbmdbXSA9IHRoaXMuX21vZGVsLnBhcmFtZXRlcnMuaWRzO1xyXG4gICAgICAgIGNvbnN0IHBhcmFtZXRlckNvdW50OiBudW1iZXIgPSB0aGlzLl9tb2RlbC5wYXJhbWV0ZXJzLmNvdW50O1xyXG5cclxuICAgICAgICB0aGlzLl9wYXJhbWV0ZXJJZHMucHJlcGFyZUNhcGFjaXR5KHBhcmFtZXRlckNvdW50KTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhcmFtZXRlckNvdW50OyArK2kpIHtcclxuICAgICAgICAgIHRoaXMuX3BhcmFtZXRlcklkcy5wdXNoQmFjayhcclxuICAgICAgICAgICAgQ3ViaXNtRnJhbWV3b3JrLmdldElkTWFuYWdlcigpLmdldElkKHBhcmFtZXRlcklkc1tpXSlcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICB7XHJcbiAgICAgICAgY29uc3QgcGFydElkczogc3RyaW5nW10gPSB0aGlzLl9tb2RlbC5wYXJ0cy5pZHM7XHJcbiAgICAgICAgY29uc3QgcGFydENvdW50OiBudW1iZXIgPSB0aGlzLl9tb2RlbC5wYXJ0cy5jb3VudDtcclxuXHJcbiAgICAgICAgdGhpcy5fcGFydElkcy5wcmVwYXJlQ2FwYWNpdHkocGFydENvdW50KTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhcnRDb3VudDsgKytpKSB7XHJcbiAgICAgICAgICB0aGlzLl9wYXJ0SWRzLnB1c2hCYWNrKFxyXG4gICAgICAgICAgICBDdWJpc21GcmFtZXdvcmsuZ2V0SWRNYW5hZ2VyKCkuZ2V0SWQocGFydElkc1tpXSlcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICB7XHJcbiAgICAgICAgY29uc3QgZHJhd2FibGVJZHM6IHN0cmluZ1tdID0gdGhpcy5fbW9kZWwuZHJhd2FibGVzLmlkcztcclxuICAgICAgICBjb25zdCBkcmF3YWJsZUNvdW50OiBudW1iZXIgPSB0aGlzLl9tb2RlbC5kcmF3YWJsZXMuY291bnQ7XHJcblxyXG4gICAgICAgIHRoaXMuX2RyYXdhYmxlSWRzLnByZXBhcmVDYXBhY2l0eShkcmF3YWJsZUNvdW50KTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRyYXdhYmxlQ291bnQ7ICsraSkge1xyXG4gICAgICAgICAgdGhpcy5fZHJhd2FibGVJZHMucHVzaEJhY2soXHJcbiAgICAgICAgICAgIEN1YmlzbUZyYW1ld29yay5nZXRJZE1hbmFnZXIoKS5nZXRJZChkcmF3YWJsZUlkc1tpXSlcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDjgrPjg7Pjgrnjg4jjg6njgq/jgr9cclxuICAgICAqIEBwYXJhbSBtb2RlbCDjg6Ljg4fjg6tcclxuICAgICAqL1xyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKG1vZGVsOiBMaXZlMkRDdWJpc21Db3JlLk1vZGVsKSB7XHJcbiAgICAgIHRoaXMuX21vZGVsID0gbW9kZWw7XHJcbiAgICAgIHRoaXMuX3BhcmFtZXRlclZhbHVlcyA9IG51bGw7XHJcbiAgICAgIHRoaXMuX3BhcmFtZXRlck1heGltdW1WYWx1ZXMgPSBudWxsO1xyXG4gICAgICB0aGlzLl9wYXJhbWV0ZXJNaW5pbXVtVmFsdWVzID0gbnVsbDtcclxuICAgICAgdGhpcy5fcGFydE9wYWNpdGllcyA9IG51bGw7XHJcbiAgICAgIHRoaXMuX3NhdmVkUGFyYW1ldGVycyA9IG5ldyBjc21WZWN0b3I8bnVtYmVyPigpO1xyXG4gICAgICB0aGlzLl9wYXJhbWV0ZXJJZHMgPSBuZXcgY3NtVmVjdG9yPEN1YmlzbUlkSGFuZGxlPigpO1xyXG4gICAgICB0aGlzLl9kcmF3YWJsZUlkcyA9IG5ldyBjc21WZWN0b3I8Q3ViaXNtSWRIYW5kbGU+KCk7XHJcbiAgICAgIHRoaXMuX3BhcnRJZHMgPSBuZXcgY3NtVmVjdG9yPEN1YmlzbUlkSGFuZGxlPigpO1xyXG5cclxuICAgICAgdGhpcy5fbm90RXhpc3RQYXJ0SWQgPSBuZXcgY3NtTWFwPEN1YmlzbUlkSGFuZGxlLCBudW1iZXI+KCk7XHJcbiAgICAgIHRoaXMuX25vdEV4aXN0UGFyYW1ldGVySWQgPSBuZXcgY3NtTWFwPEN1YmlzbUlkSGFuZGxlLCBudW1iZXI+KCk7XHJcbiAgICAgIHRoaXMuX25vdEV4aXN0UGFyYW1ldGVyVmFsdWVzID0gbmV3IGNzbU1hcDxudW1iZXIsIG51bWJlcj4oKTtcclxuICAgICAgdGhpcy5fbm90RXhpc3RQYXJ0T3BhY2l0aWVzID0gbmV3IGNzbU1hcDxudW1iZXIsIG51bWJlcj4oKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOODh+OCueODiOODqeOCr+OCv+ebuOW9k+OBruWHpueQhlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgcmVsZWFzZSgpOiB2b2lkIHtcclxuICAgICAgdGhpcy5fbW9kZWwucmVsZWFzZSgpO1xyXG4gICAgICB0aGlzLl9tb2RlbCA9IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBfbm90RXhpc3RQYXJ0T3BhY2l0aWVzOiBjc21NYXA8bnVtYmVyLCBudW1iZXI+OyAvLyDlrZjlnKjjgZfjgabjgYTjgarjgYTjg5Hjg7zjg4Tjga7kuI3pgI/mmI7luqbjga7jg6rjgrnjg4hcclxuICAgIHByaXZhdGUgX25vdEV4aXN0UGFydElkOiBjc21NYXA8Q3ViaXNtSWRIYW5kbGUsIG51bWJlcj47IC8vIOWtmOWcqOOBl+OBpuOBhOOBquOBhOODkeODvOODhElE44Gu44Oq44K544OIXHJcblxyXG4gICAgcHJpdmF0ZSBfbm90RXhpc3RQYXJhbWV0ZXJWYWx1ZXM6IGNzbU1hcDxudW1iZXIsIG51bWJlcj47IC8vIOWtmOWcqOOBl+OBpuOBhOOBquOBhOODkeODqeODoeODvOOCv+OBruWApOOBruODquOCueODiFxyXG4gICAgcHJpdmF0ZSBfbm90RXhpc3RQYXJhbWV0ZXJJZDogY3NtTWFwPEN1YmlzbUlkSGFuZGxlLCBudW1iZXI+OyAvLyDlrZjlnKjjgZfjgabjgYTjgarjgYTjg5Hjg6njg6Hjg7zjgr9JROOBruODquOCueODiFxyXG5cclxuICAgIHByaXZhdGUgX3NhdmVkUGFyYW1ldGVyczogY3NtVmVjdG9yPG51bWJlcj47IC8vIOS/neWtmOOBleOCjOOBn+ODkeODqeODoeODvOOCv1xyXG5cclxuICAgIHByaXZhdGUgX21vZGVsOiBMaXZlMkRDdWJpc21Db3JlLk1vZGVsOyAvLyDjg6Ljg4fjg6tcclxuXHJcbiAgICBwcml2YXRlIF9wYXJhbWV0ZXJWYWx1ZXM6IEZsb2F0MzJBcnJheTsgLy8g44OR44Op44Oh44O844K/44Gu5YCk44Gu44Oq44K544OIXHJcbiAgICBwcml2YXRlIF9wYXJhbWV0ZXJNYXhpbXVtVmFsdWVzOiBGbG9hdDMyQXJyYXk7IC8vIOODkeODqeODoeODvOOCv+OBruacgOWkp+WApOOBruODquOCueODiFxyXG4gICAgcHJpdmF0ZSBfcGFyYW1ldGVyTWluaW11bVZhbHVlczogRmxvYXQzMkFycmF5OyAvLyDjg5Hjg6njg6Hjg7zjgr/jga7mnIDlsI/lgKTjga7jg6rjgrnjg4hcclxuXHJcbiAgICBwcml2YXRlIF9wYXJ0T3BhY2l0aWVzOiBGbG9hdDMyQXJyYXk7IC8vIOODkeODvOODhOOBruS4jemAj+aYjuW6puOBruODquOCueODiFxyXG5cclxuICAgIHByaXZhdGUgX3BhcmFtZXRlcklkczogY3NtVmVjdG9yPEN1YmlzbUlkSGFuZGxlPjtcclxuICAgIHByaXZhdGUgX3BhcnRJZHM6IGNzbVZlY3RvcjxDdWJpc21JZEhhbmRsZT47XHJcbiAgICBwcml2YXRlIF9kcmF3YWJsZUlkczogY3NtVmVjdG9yPEN1YmlzbUlkSGFuZGxlPjtcclxuICB9XHJcbn1cclxuIl0sIm1hcHBpbmdzIjoiOzs7QUFPQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUFBO0FBTUE7QUErdUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQTF2QkE7QUFFQTtBQUVBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFFQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUVBO0FBS0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUVBO0FBQ0E7QUFPQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQU9BO0FBQ0E7QUFFQTtBQUNBO0FBR0E7QUFFQTtBQUNBO0FBT0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBSUE7QUFDQTtBQU9BO0FBRUE7QUFDQTtBQUNBO0FBUUE7QUFHQTtBQUVBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFHQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUUE7QUFHQTtBQUVBO0FBQ0E7QUFDQTtBQVFBO0FBR0E7QUFFQTtBQUlBO0FBUUE7QUFHQTtBQUVBO0FBQ0E7QUFDQTtBQVFBO0FBR0E7QUFFQTtBQUNBO0FBQ0E7QUFRQTtBQUdBO0FBRUE7QUFHQTtBQUVBO0FBT0E7QUFDQTtBQUVBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFXQTtBQUdBO0FBQ0E7QUFHQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBT0E7QUFDQTtBQUVBO0FBR0E7QUFPQTtBQUNBO0FBRUE7QUFHQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBV0E7QUFDQTtBQUVBO0FBR0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBU0E7QUFDQTtBQUNBO0FBR0E7QUFXQTtBQUdBO0FBQ0E7QUFHQTtBQVdBO0FBR0E7QUFDQTtBQUdBO0FBV0E7QUFHQTtBQUNBO0FBR0E7QUFLQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBMEJBO0FBQ0E7QUFDQTtBQUNBO0FBcUJBO0FBQUE7QUEzeEJBO0FBNHhCQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./Framework/src/model/cubismmodel.ts\n");

/***/ }),

/***/ "./Framework/src/model/cubismmodeluserdata.ts":
/*!****************************************************!*\
  !*** ./Framework/src/model/cubismmodeluserdata.ts ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Live2DCubismFramework = void 0;\r\nvar cubismmodeluserdatajson_1 = __webpack_require__(/*! ./cubismmodeluserdatajson */ \"./Framework/src/model/cubismmodeluserdatajson.ts\");\r\nvar csmstring_1 = __webpack_require__(/*! ../type/csmstring */ \"./Framework/src/type/csmstring.ts\");\r\nvar csmvector_1 = __webpack_require__(/*! ../type/csmvector */ \"./Framework/src/type/csmvector.ts\");\r\nvar live2dcubismframework_1 = __webpack_require__(/*! ../live2dcubismframework */ \"./Framework/src/live2dcubismframework.ts\");\r\nvar CubismFramework = live2dcubismframework_1.Live2DCubismFramework.CubismFramework;\r\nvar csmVector = csmvector_1.Live2DCubismFramework.csmVector;\r\nvar csmString = csmstring_1.Live2DCubismFramework.csmString;\r\nvar CubismModelUserDataJson = cubismmodeluserdatajson_1.Live2DCubismFramework.CubismModelUserDataJson;\r\nvar Live2DCubismFramework;\r\n(function (Live2DCubismFramework) {\r\n    var ArtMesh = 'ArtMesh';\r\n    var CubismModelUserDataNode = (function () {\r\n        function CubismModelUserDataNode() {\r\n        }\r\n        return CubismModelUserDataNode;\r\n    }());\r\n    Live2DCubismFramework.CubismModelUserDataNode = CubismModelUserDataNode;\r\n    var CubismModelUserData = (function () {\r\n        function CubismModelUserData() {\r\n            this._userDataNodes = new csmVector();\r\n            this._artMeshUserDataNode = new csmVector();\r\n        }\r\n        CubismModelUserData.create = function (buffer, size) {\r\n            var ret = new CubismModelUserData();\r\n            ret.parseUserData(buffer, size);\r\n            return ret;\r\n        };\r\n        CubismModelUserData.delete = function (modelUserData) {\r\n            if (modelUserData != null) {\r\n                modelUserData.release();\r\n                modelUserData = null;\r\n            }\r\n        };\r\n        CubismModelUserData.prototype.getArtMeshUserDatas = function () {\r\n            return this._artMeshUserDataNode;\r\n        };\r\n        CubismModelUserData.prototype.parseUserData = function (buffer, size) {\r\n            var json = new CubismModelUserDataJson(buffer, size);\r\n            var typeOfArtMesh = CubismFramework.getIdManager().getId(ArtMesh);\r\n            var nodeCount = json.getUserDataCount();\r\n            for (var i = 0; i < nodeCount; i++) {\r\n                var addNode = new CubismModelUserDataNode();\r\n                addNode.targetId = json.getUserDataId(i);\r\n                addNode.targetType = CubismFramework.getIdManager().getId(json.getUserDataTargetType(i));\r\n                addNode.value = new csmString(json.getUserDataValue(i));\r\n                this._userDataNodes.pushBack(addNode);\r\n                if (addNode.targetType == typeOfArtMesh) {\r\n                    this._artMeshUserDataNode.pushBack(addNode);\r\n                }\r\n            }\r\n            json.release();\r\n            json = void 0;\r\n        };\r\n        CubismModelUserData.prototype.release = function () {\r\n            for (var i = 0; i < this._userDataNodes.getSize(); ++i) {\r\n                this._userDataNodes.set(i, null);\r\n            }\r\n            this._userDataNodes = null;\r\n        };\r\n        return CubismModelUserData;\r\n    }());\r\n    Live2DCubismFramework.CubismModelUserData = CubismModelUserData;\r\n})(Live2DCubismFramework = exports.Live2DCubismFramework || (exports.Live2DCubismFramework = {}));\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9GcmFtZXdvcmsvc3JjL21vZGVsL2N1YmlzbW1vZGVsdXNlcmRhdGEudHMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9saXZlMmQvLi9GcmFtZXdvcmsvc3JjL21vZGVsL2N1YmlzbW1vZGVsdXNlcmRhdGEudHM/OTU1MSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogQ29weXJpZ2h0KGMpIExpdmUyRCBJbmMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbiAqXHJcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IHRoZSBMaXZlMkQgT3BlbiBTb2Z0d2FyZSBsaWNlbnNlXHJcbiAqIHRoYXQgY2FuIGJlIGZvdW5kIGF0IGh0dHBzOi8vd3d3LmxpdmUyZC5jb20vZXVsYS9saXZlMmQtb3Blbi1zb2Z0d2FyZS1saWNlbnNlLWFncmVlbWVudF9lbi5odG1sLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IExpdmUyREN1YmlzbUZyYW1ld29yayBhcyBjdWJpc21tb2RlbHVzZXJkYXRhanNvbiB9IGZyb20gJy4vY3ViaXNtbW9kZWx1c2VyZGF0YWpzb24nO1xyXG5pbXBvcnQgeyBMaXZlMkRDdWJpc21GcmFtZXdvcmsgYXMgY3ViaXNtaWQgfSBmcm9tICcuLi9pZC9jdWJpc21pZCc7XHJcbmltcG9ydCB7IExpdmUyREN1YmlzbUZyYW1ld29yayBhcyBjc21zdHJpbmcgfSBmcm9tICcuLi90eXBlL2NzbXN0cmluZyc7XHJcbmltcG9ydCB7IExpdmUyREN1YmlzbUZyYW1ld29yayBhcyBjc212ZWN0b3IgfSBmcm9tICcuLi90eXBlL2NzbXZlY3Rvcic7XHJcbmltcG9ydCB7IExpdmUyREN1YmlzbUZyYW1ld29yayBhcyBjdWJpc21mcmFtZXdvcmsgfSBmcm9tICcuLi9saXZlMmRjdWJpc21mcmFtZXdvcmsnO1xyXG5pbXBvcnQgQ3ViaXNtRnJhbWV3b3JrID0gY3ViaXNtZnJhbWV3b3JrLkN1YmlzbUZyYW1ld29yaztcclxuaW1wb3J0IGNzbVZlY3RvciA9IGNzbXZlY3Rvci5jc21WZWN0b3I7XHJcbmltcG9ydCBjc21TdHJpbmcgPSBjc21zdHJpbmcuY3NtU3RyaW5nO1xyXG5pbXBvcnQgQ3ViaXNtSWRIYW5kbGUgPSBjdWJpc21pZC5DdWJpc21JZEhhbmRsZTtcclxuaW1wb3J0IEN1YmlzbU1vZGVsVXNlckRhdGFKc29uID0gY3ViaXNtbW9kZWx1c2VyZGF0YWpzb24uQ3ViaXNtTW9kZWxVc2VyRGF0YUpzb247XHJcblxyXG5leHBvcnQgbmFtZXNwYWNlIExpdmUyREN1YmlzbUZyYW1ld29yayB7XHJcbiAgY29uc3QgQXJ0TWVzaCA9ICdBcnRNZXNoJztcclxuXHJcbiAgLyoqXHJcbiAgICog44Om44O844K244O844OH44O844K/44Kk44Oz44K/44O844OV44Kn44O844K5XHJcbiAgICpcclxuICAgKiBKc29u44GL44KJ6Kqt44G/6L6844KT44Gg44Om44O844K244O844OH44O844K/44KS6KiY6Yyy44GX44Gm44GK44GP44Gf44KB44Gu5qeL6YCg5L2TXHJcbiAgICovXHJcbiAgZXhwb3J0IGNsYXNzIEN1YmlzbU1vZGVsVXNlckRhdGFOb2RlIHtcclxuICAgIHRhcmdldFR5cGU6IEN1YmlzbUlkSGFuZGxlOyAvLyDjg6bjg7zjgrbjg7zjg4fjg7zjgr/jgr/jg7zjgrLjg4Pjg4jjgr/jgqTjg5dcclxuICAgIHRhcmdldElkOiBDdWJpc21JZEhhbmRsZTsgLy8g44Om44O844K244O844OH44O844K/44K/44O844Ky44OD44OI44GuSURcclxuICAgIHZhbHVlOiBjc21TdHJpbmc7IC8vIOODpuODvOOCtuODvOODh+ODvOOCv1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog44Om44O844K244OH44O844K/44Gu566h55CG44Kv44Op44K5XHJcbiAgICpcclxuICAgKiDjg6bjg7zjgrbjg4fjg7zjgr/jgpLjg63jg7zjg4njgIHnrqHnkIbjgIHmpJzntKLjgqTjg7Pjgr/jg7zjg5XjgqfjgqTjgrnjgIHop6PmlL7jgb7jgafjgpLooYzjgYbjgIJcclxuICAgKi9cclxuICBleHBvcnQgY2xhc3MgQ3ViaXNtTW9kZWxVc2VyRGF0YSB7XHJcbiAgICAvKipcclxuICAgICAqIOOCpOODs+OCueOCv+ODs+OCueOBruS9nOaIkFxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBidWZmZXIgICAgdXNlcmRhdGEzLmpzb27jgYzoqq3jgb/ovrzjgb7jgozjgabjgYTjgovjg5Djg4Pjg5XjgqFcclxuICAgICAqIEBwYXJhbSBzaXplICAgICAg44OQ44OD44OV44Kh44Gu44K144Kk44K6XHJcbiAgICAgKiBAcmV0dXJuIOS9nOaIkOOBleOCjOOBn+OCpOODs+OCueOCv+ODs+OCuVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZShcclxuICAgICAgYnVmZmVyOiBBcnJheUJ1ZmZlcixcclxuICAgICAgc2l6ZTogbnVtYmVyXHJcbiAgICApOiBDdWJpc21Nb2RlbFVzZXJEYXRhIHtcclxuICAgICAgY29uc3QgcmV0OiBDdWJpc21Nb2RlbFVzZXJEYXRhID0gbmV3IEN1YmlzbU1vZGVsVXNlckRhdGEoKTtcclxuXHJcbiAgICAgIHJldC5wYXJzZVVzZXJEYXRhKGJ1ZmZlciwgc2l6ZSk7XHJcblxyXG4gICAgICByZXR1cm4gcmV0O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog44Kk44Oz44K544K/44Oz44K544KS56C05qOE44GZ44KLXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIG1vZGVsVXNlckRhdGEg56C05qOE44GZ44KL44Kk44Oz44K544K/44Oz44K5XHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzdGF0aWMgZGVsZXRlKG1vZGVsVXNlckRhdGE6IEN1YmlzbU1vZGVsVXNlckRhdGEpOiB2b2lkIHtcclxuICAgICAgaWYgKG1vZGVsVXNlckRhdGEgIT0gbnVsbCkge1xyXG4gICAgICAgIG1vZGVsVXNlckRhdGEucmVsZWFzZSgpO1xyXG4gICAgICAgIG1vZGVsVXNlckRhdGEgPSBudWxsO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBBcnRNZXNo44Gu44Om44O844K244O844OH44O844K/44Gu44Oq44K544OI44Gu5Y+W5b6XXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybiDjg6bjg7zjgrbjg7zjg4fjg7zjgr/jg6rjgrnjg4hcclxuICAgICAqL1xyXG4gICAgcHVibGljIGdldEFydE1lc2hVc2VyRGF0YXMoKTogY3NtVmVjdG9yPEN1YmlzbU1vZGVsVXNlckRhdGFOb2RlPiB7XHJcbiAgICAgIHJldHVybiB0aGlzLl9hcnRNZXNoVXNlckRhdGFOb2RlO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogdXNlcmRhdGEzLmpzb27jga7jg5Hjg7zjgrlcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gYnVmZmVyICAgIHVzZXJkYXRhMy5qc29u44GM6Kqt44G/6L6844G+44KM44Gm44GE44KL44OQ44OD44OV44KhXHJcbiAgICAgKiBAcGFyYW0gc2l6ZSAgICAgIOODkOODg+ODleOCoeOBruOCteOCpOOCulxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgcGFyc2VVc2VyRGF0YShidWZmZXI6IEFycmF5QnVmZmVyLCBzaXplOiBudW1iZXIpOiB2b2lkIHtcclxuICAgICAgbGV0IGpzb246IEN1YmlzbU1vZGVsVXNlckRhdGFKc29uID0gbmV3IEN1YmlzbU1vZGVsVXNlckRhdGFKc29uKFxyXG4gICAgICAgIGJ1ZmZlcixcclxuICAgICAgICBzaXplXHJcbiAgICAgICk7XHJcblxyXG4gICAgICBjb25zdCB0eXBlT2ZBcnRNZXNoID0gQ3ViaXNtRnJhbWV3b3JrLmdldElkTWFuYWdlcigpLmdldElkKEFydE1lc2gpO1xyXG4gICAgICBjb25zdCBub2RlQ291bnQ6IG51bWJlciA9IGpzb24uZ2V0VXNlckRhdGFDb3VudCgpO1xyXG5cclxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBub2RlQ291bnQ7IGkrKykge1xyXG4gICAgICAgIGNvbnN0IGFkZE5vZGU6IEN1YmlzbU1vZGVsVXNlckRhdGFOb2RlID0gbmV3IEN1YmlzbU1vZGVsVXNlckRhdGFOb2RlKCk7XHJcblxyXG4gICAgICAgIGFkZE5vZGUudGFyZ2V0SWQgPSBqc29uLmdldFVzZXJEYXRhSWQoaSk7XHJcbiAgICAgICAgYWRkTm9kZS50YXJnZXRUeXBlID0gQ3ViaXNtRnJhbWV3b3JrLmdldElkTWFuYWdlcigpLmdldElkKFxyXG4gICAgICAgICAganNvbi5nZXRVc2VyRGF0YVRhcmdldFR5cGUoaSlcclxuICAgICAgICApO1xyXG4gICAgICAgIGFkZE5vZGUudmFsdWUgPSBuZXcgY3NtU3RyaW5nKGpzb24uZ2V0VXNlckRhdGFWYWx1ZShpKSk7XHJcbiAgICAgICAgdGhpcy5fdXNlckRhdGFOb2Rlcy5wdXNoQmFjayhhZGROb2RlKTtcclxuXHJcbiAgICAgICAgaWYgKGFkZE5vZGUudGFyZ2V0VHlwZSA9PSB0eXBlT2ZBcnRNZXNoKSB7XHJcbiAgICAgICAgICB0aGlzLl9hcnRNZXNoVXNlckRhdGFOb2RlLnB1c2hCYWNrKGFkZE5vZGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAganNvbi5yZWxlYXNlKCk7XHJcbiAgICAgIGpzb24gPSB2b2lkIDA7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDjgrPjg7Pjgrnjg4jjg6njgq/jgr9cclxuICAgICAqL1xyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICB0aGlzLl91c2VyRGF0YU5vZGVzID0gbmV3IGNzbVZlY3RvcjxDdWJpc21Nb2RlbFVzZXJEYXRhTm9kZT4oKTtcclxuICAgICAgdGhpcy5fYXJ0TWVzaFVzZXJEYXRhTm9kZSA9IG5ldyBjc21WZWN0b3I8Q3ViaXNtTW9kZWxVc2VyRGF0YU5vZGU+KCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDjg4fjgrnjg4jjg6njgq/jgr/nm7jlvZPjga7lh6bnkIZcclxuICAgICAqXHJcbiAgICAgKiDjg6bjg7zjgrbjg7zjg4fjg7zjgr/mp4vpgKDkvZPphY3liJfjgpLop6PmlL7jgZnjgotcclxuICAgICAqL1xyXG4gICAgcHVibGljIHJlbGVhc2UoKTogdm9pZCB7XHJcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5fdXNlckRhdGFOb2Rlcy5nZXRTaXplKCk7ICsraSkge1xyXG4gICAgICAgIHRoaXMuX3VzZXJEYXRhTm9kZXMuc2V0KGksIG51bGwpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB0aGlzLl91c2VyRGF0YU5vZGVzID0gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIF91c2VyRGF0YU5vZGVzOiBjc21WZWN0b3I8Q3ViaXNtTW9kZWxVc2VyRGF0YU5vZGU+OyAvLyDjg6bjg7zjgrbjg7zjg4fjg7zjgr/mp4vpgKDkvZPphY3liJdcclxuICAgIHByaXZhdGUgX2FydE1lc2hVc2VyRGF0YU5vZGU6IGNzbVZlY3RvcjxDdWJpc21Nb2RlbFVzZXJEYXRhTm9kZT47IC8vIOmWsuimp+ODquOCueODiOOBruS/neaMgVxyXG4gIH1cclxufVxyXG4iXSwibWFwcGluZ3MiOiI7OztBQU9BO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUFBO0FBQ0E7QUFPQTtBQUFBO0FBSUE7QUFBQTtBQUFBO0FBSkE7QUFXQTtBQTZFQTtBQUNBO0FBQ0E7QUFDQTtBQXhFQTtBQUlBO0FBRUE7QUFFQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBUUE7QUFDQTtBQUtBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQWVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUlBO0FBQUE7QUFqR0E7QUFrR0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./Framework/src/model/cubismmodeluserdata.ts\n");

/***/ }),

/***/ "./Framework/src/model/cubismmodeluserdatajson.ts":
/*!********************************************************!*\
  !*** ./Framework/src/model/cubismmodeluserdatajson.ts ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Live2DCubismFramework = void 0;\r\nvar cubismjson_1 = __webpack_require__(/*! ../utils/cubismjson */ \"./Framework/src/utils/cubismjson.ts\");\r\nvar live2dcubismframework_1 = __webpack_require__(/*! ../live2dcubismframework */ \"./Framework/src/live2dcubismframework.ts\");\r\nvar CubismFramework = live2dcubismframework_1.Live2DCubismFramework.CubismFramework;\r\nvar CubismJson = cubismjson_1.Live2DCubismFramework.CubismJson;\r\nvar Live2DCubismFramework;\r\n(function (Live2DCubismFramework) {\r\n    var Meta = 'Meta';\r\n    var UserDataCount = 'UserDataCount';\r\n    var TotalUserDataSize = 'TotalUserDataSize';\r\n    var UserData = 'UserData';\r\n    var Target = 'Target';\r\n    var Id = 'Id';\r\n    var Value = 'Value';\r\n    var CubismModelUserDataJson = (function () {\r\n        function CubismModelUserDataJson(buffer, size) {\r\n            this._json = CubismJson.create(buffer, size);\r\n        }\r\n        CubismModelUserDataJson.prototype.release = function () {\r\n            CubismJson.delete(this._json);\r\n        };\r\n        CubismModelUserDataJson.prototype.getUserDataCount = function () {\r\n            return this._json\r\n                .getRoot()\r\n                .getValueByString(Meta)\r\n                .getValueByString(UserDataCount)\r\n                .toInt();\r\n        };\r\n        CubismModelUserDataJson.prototype.getTotalUserDataSize = function () {\r\n            return this._json\r\n                .getRoot()\r\n                .getValueByString(Meta)\r\n                .getValueByString(TotalUserDataSize)\r\n                .toInt();\r\n        };\r\n        CubismModelUserDataJson.prototype.getUserDataTargetType = function (i) {\r\n            return this._json\r\n                .getRoot()\r\n                .getValueByString(UserData)\r\n                .getValueByIndex(i)\r\n                .getValueByString(Target)\r\n                .getRawString();\r\n        };\r\n        CubismModelUserDataJson.prototype.getUserDataId = function (i) {\r\n            return CubismFramework.getIdManager().getId(this._json\r\n                .getRoot()\r\n                .getValueByString(UserData)\r\n                .getValueByIndex(i)\r\n                .getValueByString(Id)\r\n                .getRawString());\r\n        };\r\n        CubismModelUserDataJson.prototype.getUserDataValue = function (i) {\r\n            return this._json\r\n                .getRoot()\r\n                .getValueByString(UserData)\r\n                .getValueByIndex(i)\r\n                .getValueByString(Value)\r\n                .getRawString();\r\n        };\r\n        return CubismModelUserDataJson;\r\n    }());\r\n    Live2DCubismFramework.CubismModelUserDataJson = CubismModelUserDataJson;\r\n})(Live2DCubismFramework = exports.Live2DCubismFramework || (exports.Live2DCubismFramework = {}));\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9GcmFtZXdvcmsvc3JjL21vZGVsL2N1YmlzbW1vZGVsdXNlcmRhdGFqc29uLnRzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbGl2ZTJkLy4vRnJhbWV3b3JrL3NyYy9tb2RlbC9jdWJpc21tb2RlbHVzZXJkYXRhanNvbi50cz82MWE4Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBDb3B5cmlnaHQoYykgTGl2ZTJEIEluYy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuICpcclxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgdGhlIExpdmUyRCBPcGVuIFNvZnR3YXJlIGxpY2Vuc2VcclxuICogdGhhdCBjYW4gYmUgZm91bmQgYXQgaHR0cHM6Ly93d3cubGl2ZTJkLmNvbS9ldWxhL2xpdmUyZC1vcGVuLXNvZnR3YXJlLWxpY2Vuc2UtYWdyZWVtZW50X2VuLmh0bWwuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgTGl2ZTJEQ3ViaXNtRnJhbWV3b3JrIGFzIGN1YmlzbWpzb24gfSBmcm9tICcuLi91dGlscy9jdWJpc21qc29uJztcclxuaW1wb3J0IHsgTGl2ZTJEQ3ViaXNtRnJhbWV3b3JrIGFzIGN1YmlzbWlkIH0gZnJvbSAnLi4vaWQvY3ViaXNtaWQnO1xyXG5pbXBvcnQgeyBMaXZlMkRDdWJpc21GcmFtZXdvcmsgYXMgY3ViaXNtZnJhbWV3b3JrIH0gZnJvbSAnLi4vbGl2ZTJkY3ViaXNtZnJhbWV3b3JrJztcclxuaW1wb3J0IEN1YmlzbUZyYW1ld29yayA9IGN1YmlzbWZyYW1ld29yay5DdWJpc21GcmFtZXdvcms7XHJcbmltcG9ydCBDdWJpc21JZEhhbmRsZSA9IGN1YmlzbWlkLkN1YmlzbUlkSGFuZGxlO1xyXG5pbXBvcnQgQ3ViaXNtSnNvbiA9IGN1YmlzbWpzb24uQ3ViaXNtSnNvbjtcclxuXHJcbmV4cG9ydCBuYW1lc3BhY2UgTGl2ZTJEQ3ViaXNtRnJhbWV3b3JrIHtcclxuICBjb25zdCBNZXRhID0gJ01ldGEnO1xyXG4gIGNvbnN0IFVzZXJEYXRhQ291bnQgPSAnVXNlckRhdGFDb3VudCc7XHJcbiAgY29uc3QgVG90YWxVc2VyRGF0YVNpemUgPSAnVG90YWxVc2VyRGF0YVNpemUnO1xyXG4gIGNvbnN0IFVzZXJEYXRhID0gJ1VzZXJEYXRhJztcclxuICBjb25zdCBUYXJnZXQgPSAnVGFyZ2V0JztcclxuICBjb25zdCBJZCA9ICdJZCc7XHJcbiAgY29uc3QgVmFsdWUgPSAnVmFsdWUnO1xyXG5cclxuICBleHBvcnQgY2xhc3MgQ3ViaXNtTW9kZWxVc2VyRGF0YUpzb24ge1xyXG4gICAgLyoqXHJcbiAgICAgKiDjgrPjg7Pjgrnjg4jjg6njgq/jgr9cclxuICAgICAqIEBwYXJhbSBidWZmZXIgICAgdXNlcmRhdGEzLmpzb27jgYzoqq3jgb/ovrzjgb7jgozjgabjgYTjgovjg5Djg4Pjg5XjgqFcclxuICAgICAqIEBwYXJhbSBzaXplICAgICAg44OQ44OD44OV44Kh44Gu44K144Kk44K6XHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcihidWZmZXI6IEFycmF5QnVmZmVyLCBzaXplOiBudW1iZXIpIHtcclxuICAgICAgdGhpcy5fanNvbiA9IEN1YmlzbUpzb24uY3JlYXRlKGJ1ZmZlciwgc2l6ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDjg4fjgrnjg4jjg6njgq/jgr/nm7jlvZPjga7lh6bnkIZcclxuICAgICAqL1xyXG4gICAgcHVibGljIHJlbGVhc2UoKTogdm9pZCB7XHJcbiAgICAgIEN1YmlzbUpzb24uZGVsZXRlKHRoaXMuX2pzb24pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog44Om44O844K244O844OH44O844K/5YCL5pWw44Gu5Y+W5b6XXHJcbiAgICAgKiBAcmV0dXJuIOODpuODvOOCtuODvOODh+ODvOOCv+OBruWAi+aVsFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2V0VXNlckRhdGFDb3VudCgpOiBudW1iZXIge1xyXG4gICAgICByZXR1cm4gdGhpcy5fanNvblxyXG4gICAgICAgIC5nZXRSb290KClcclxuICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhNZXRhKVxyXG4gICAgICAgIC5nZXRWYWx1ZUJ5U3RyaW5nKFVzZXJEYXRhQ291bnQpXHJcbiAgICAgICAgLnRvSW50KCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDjg6bjg7zjgrbjg7zjg4fjg7zjgr/nt4/mloflrZfliJfmlbDjga7lj5blvpdcclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJuIOODpuODvOOCtuODvOODh+ODvOOCv+e3j+aWh+Wtl+WIl+aVsFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2V0VG90YWxVc2VyRGF0YVNpemUoKTogbnVtYmVyIHtcclxuICAgICAgcmV0dXJuIHRoaXMuX2pzb25cclxuICAgICAgICAuZ2V0Um9vdCgpXHJcbiAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoTWV0YSlcclxuICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhUb3RhbFVzZXJEYXRhU2l6ZSlcclxuICAgICAgICAudG9JbnQoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOODpuODvOOCtuODvOODh+ODvOOCv+OBruOCv+OCpOODl+OBruWPluW+l1xyXG4gICAgICpcclxuICAgICAqIEByZXR1cm4g44Om44O844K244O844OH44O844K/44Gu44K/44Kk44OXXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXRVc2VyRGF0YVRhcmdldFR5cGUoaTogbnVtYmVyKTogc3RyaW5nIHtcclxuICAgICAgcmV0dXJuIHRoaXMuX2pzb25cclxuICAgICAgICAuZ2V0Um9vdCgpXHJcbiAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoVXNlckRhdGEpXHJcbiAgICAgICAgLmdldFZhbHVlQnlJbmRleChpKVxyXG4gICAgICAgIC5nZXRWYWx1ZUJ5U3RyaW5nKFRhcmdldClcclxuICAgICAgICAuZ2V0UmF3U3RyaW5nKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDjg6bjg7zjgrbjg7zjg4fjg7zjgr/jga7jgr/jg7zjgrLjg4Pjg4hJROOBruWPluW+l1xyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBpIOOCpOODs+ODh+ODg+OCr+OCuVxyXG4gICAgICogQHJldHVybiDjg6bjg7zjgrbjg7zjg4fjg7zjgr/jgr/jg7zjgrLjg4Pjg4hJRFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2V0VXNlckRhdGFJZChpOiBudW1iZXIpOiBDdWJpc21JZEhhbmRsZSB7XHJcbiAgICAgIHJldHVybiBDdWJpc21GcmFtZXdvcmsuZ2V0SWRNYW5hZ2VyKCkuZ2V0SWQoXHJcbiAgICAgICAgdGhpcy5fanNvblxyXG4gICAgICAgICAgLmdldFJvb3QoKVxyXG4gICAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoVXNlckRhdGEpXHJcbiAgICAgICAgICAuZ2V0VmFsdWVCeUluZGV4KGkpXHJcbiAgICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhJZClcclxuICAgICAgICAgIC5nZXRSYXdTdHJpbmcoKVxyXG4gICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog44Om44O844K244O844OH44O844K/44Gu5paH5a2X5YiX44Gu5Y+W5b6XXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGkg44Kk44Oz44OH44OD44Kv44K5XHJcbiAgICAgKiBAcmV0dXJuIOODpuODvOOCtuODvOODh+ODvOOCv1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2V0VXNlckRhdGFWYWx1ZShpOiBudW1iZXIpOiBzdHJpbmcge1xyXG4gICAgICByZXR1cm4gdGhpcy5fanNvblxyXG4gICAgICAgIC5nZXRSb290KClcclxuICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhVc2VyRGF0YSlcclxuICAgICAgICAuZ2V0VmFsdWVCeUluZGV4KGkpXHJcbiAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoVmFsdWUpXHJcbiAgICAgICAgLmdldFJhd1N0cmluZygpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgX2pzb246IEN1YmlzbUpzb247XHJcbiAgfVxyXG59XHJcbiJdLCJtYXBwaW5ncyI6Ijs7O0FBT0E7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQU1BO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUFBO0FBekZBO0FBMEZBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./Framework/src/model/cubismmodeluserdatajson.ts\n");

/***/ }),

/***/ "./Framework/src/model/cubismusermodel.ts":
/*!************************************************!*\
  !*** ./Framework/src/model/cubismusermodel.ts ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Live2DCubismFramework = void 0;\r\nvar live2dcubismframework_1 = __webpack_require__(/*! ../live2dcubismframework */ \"./Framework/src/live2dcubismframework.ts\");\r\nvar cubismmotionmanager_1 = __webpack_require__(/*! ../motion/cubismmotionmanager */ \"./Framework/src/motion/cubismmotionmanager.ts\");\r\nvar cubismtargetpoint_1 = __webpack_require__(/*! ../math/cubismtargetpoint */ \"./Framework/src/math/cubismtargetpoint.ts\");\r\nvar cubismmodelmatrix_1 = __webpack_require__(/*! ../math/cubismmodelmatrix */ \"./Framework/src/math/cubismmodelmatrix.ts\");\r\nvar cubismmoc_1 = __webpack_require__(/*! ./cubismmoc */ \"./Framework/src/model/cubismmoc.ts\");\r\nvar cubismmotion_1 = __webpack_require__(/*! ../motion/cubismmotion */ \"./Framework/src/motion/cubismmotion.ts\");\r\nvar cubismexpressionmotion_1 = __webpack_require__(/*! ../motion/cubismexpressionmotion */ \"./Framework/src/motion/cubismexpressionmotion.ts\");\r\nvar cubismpose_1 = __webpack_require__(/*! ../effect/cubismpose */ \"./Framework/src/effect/cubismpose.ts\");\r\nvar cubismmodeluserdata_1 = __webpack_require__(/*! ./cubismmodeluserdata */ \"./Framework/src/model/cubismmodeluserdata.ts\");\r\nvar cubismphysics_1 = __webpack_require__(/*! ../physics/cubismphysics */ \"./Framework/src/physics/cubismphysics.ts\");\r\nvar cubismbreath_1 = __webpack_require__(/*! ../effect/cubismbreath */ \"./Framework/src/effect/cubismbreath.ts\");\r\nvar cubismeyeblink_1 = __webpack_require__(/*! ../effect/cubismeyeblink */ \"./Framework/src/effect/cubismeyeblink.ts\");\r\nvar cubismrenderer_webgl_1 = __webpack_require__(/*! ../rendering/cubismrenderer_webgl */ \"./Framework/src/rendering/cubismrenderer_webgl.ts\");\r\nvar cubismdebug_1 = __webpack_require__(/*! ../utils/cubismdebug */ \"./Framework/src/utils/cubismdebug.ts\");\r\nvar CubismRenderer_WebGL = cubismrenderer_webgl_1.Live2DCubismFramework.CubismRenderer_WebGL;\r\nvar CubismEyeBlink = cubismeyeblink_1.Live2DCubismFramework.CubismEyeBlink;\r\nvar CubismBreath = cubismbreath_1.Live2DCubismFramework.CubismBreath;\r\nvar Constant = live2dcubismframework_1.Live2DCubismFramework.Constant;\r\nvar CubismPhysics = cubismphysics_1.Live2DCubismFramework.CubismPhysics;\r\nvar CubismModelUserData = cubismmodeluserdata_1.Live2DCubismFramework.CubismModelUserData;\r\nvar CubismPose = cubismpose_1.Live2DCubismFramework.CubismPose;\r\nvar CubismExpressionMotion = cubismexpressionmotion_1.Live2DCubismFramework.CubismExpressionMotion;\r\nvar CubismMotion = cubismmotion_1.Live2DCubismFramework.CubismMotion;\r\nvar CubismMoc = cubismmoc_1.Live2DCubismFramework.CubismMoc;\r\nvar CubismModelMatrix = cubismmodelmatrix_1.Live2DCubismFramework.CubismModelMatrix;\r\nvar CubismTargetPoint = cubismtargetpoint_1.Live2DCubismFramework.CubismTargetPoint;\r\nvar CubismMotionManager = cubismmotionmanager_1.Live2DCubismFramework.CubismMotionManager;\r\nvar Live2DCubismFramework;\r\n(function (Live2DCubismFramework) {\r\n    var CubismUserModel = (function () {\r\n        function CubismUserModel() {\r\n            this.loadMotion = function (buffer, size, name, onFinishedMotionHandler) { return CubismMotion.create(buffer, size, onFinishedMotionHandler); };\r\n            this._moc = null;\r\n            this._model = null;\r\n            this._motionManager = null;\r\n            this._expressionManager = null;\r\n            this._eyeBlink = null;\r\n            this._breath = null;\r\n            this._modelMatrix = null;\r\n            this._pose = null;\r\n            this._dragManager = null;\r\n            this._physics = null;\r\n            this._modelUserData = null;\r\n            this._initialized = false;\r\n            this._updating = false;\r\n            this._opacity = 1.0;\r\n            this._lipsync = true;\r\n            this._lastLipSyncValue = 0.0;\r\n            this._dragX = 0.0;\r\n            this._dragY = 0.0;\r\n            this._accelerationX = 0.0;\r\n            this._accelerationY = 0.0;\r\n            this._accelerationZ = 0.0;\r\n            this._debugMode = false;\r\n            this._renderer = null;\r\n            this._motionManager = new CubismMotionManager();\r\n            this._motionManager.setEventCallback(CubismUserModel.cubismDefaultMotionEventCallback, this);\r\n            this._expressionManager = new CubismMotionManager();\r\n            this._dragManager = new CubismTargetPoint();\r\n        }\r\n        CubismUserModel.prototype.isInitialized = function () {\r\n            return this._initialized;\r\n        };\r\n        CubismUserModel.prototype.setInitialized = function (v) {\r\n            this._initialized = v;\r\n        };\r\n        CubismUserModel.prototype.isUpdating = function () {\r\n            return this._updating;\r\n        };\r\n        CubismUserModel.prototype.setUpdating = function (v) {\r\n            this._updating = v;\r\n        };\r\n        CubismUserModel.prototype.setDragging = function (x, y) {\r\n            this._dragManager.set(x, y);\r\n        };\r\n        CubismUserModel.prototype.setAcceleration = function (x, y, z) {\r\n            this._accelerationX = x;\r\n            this._accelerationY = y;\r\n            this._accelerationZ = z;\r\n        };\r\n        CubismUserModel.prototype.getModelMatrix = function () {\r\n            return this._modelMatrix;\r\n        };\r\n        CubismUserModel.prototype.setOpacity = function (a) {\r\n            this._opacity = a;\r\n        };\r\n        CubismUserModel.prototype.getOpacity = function () {\r\n            return this._opacity;\r\n        };\r\n        CubismUserModel.prototype.loadModel = function (buffer) {\r\n            this._moc = CubismMoc.create(buffer);\r\n            this._model = this._moc.createModel();\r\n            this._model.saveParameters();\r\n            if (this._moc == null || this._model == null) {\r\n                cubismdebug_1.CubismLogError('Failed to CreateModel().');\r\n                return;\r\n            }\r\n            this._modelMatrix = new CubismModelMatrix(this._model.getCanvasWidth(), this._model.getCanvasHeight());\r\n        };\r\n        CubismUserModel.prototype.loadExpression = function (buffer, size, name) {\r\n            return CubismExpressionMotion.create(buffer, size);\r\n        };\r\n        CubismUserModel.prototype.loadPose = function (buffer, size) {\r\n            this._pose = CubismPose.create(buffer, size);\r\n        };\r\n        CubismUserModel.prototype.loadUserData = function (buffer, size) {\r\n            this._modelUserData = CubismModelUserData.create(buffer, size);\r\n        };\r\n        CubismUserModel.prototype.loadPhysics = function (buffer, size) {\r\n            this._physics = CubismPhysics.create(buffer, size);\r\n        };\r\n        CubismUserModel.prototype.isHit = function (drawableId, pointX, pointY) {\r\n            var drawIndex = this._model.getDrawableIndex(drawableId);\r\n            if (drawIndex < 0) {\r\n                return false;\r\n            }\r\n            var count = this._model.getDrawableVertexCount(drawIndex);\r\n            var vertices = this._model.getDrawableVertices(drawIndex);\r\n            var left = vertices[0];\r\n            var right = vertices[0];\r\n            var top = vertices[1];\r\n            var bottom = vertices[1];\r\n            for (var j = 1; j < count; ++j) {\r\n                var x = vertices[Constant.vertexOffset + j * Constant.vertexStep];\r\n                var y = vertices[Constant.vertexOffset + j * Constant.vertexStep + 1];\r\n                if (x < left) {\r\n                    left = x;\r\n                }\r\n                if (x > right) {\r\n                    right = x;\r\n                }\r\n                if (y < top) {\r\n                    top = y;\r\n                }\r\n                if (y > bottom) {\r\n                    bottom = y;\r\n                }\r\n            }\r\n            var tx = this._modelMatrix.invertTransformX(pointX);\r\n            var ty = this._modelMatrix.invertTransformY(pointY);\r\n            return left <= tx && tx <= right && top <= ty && ty <= bottom;\r\n        };\r\n        CubismUserModel.prototype.getModel = function () {\r\n            return this._model;\r\n        };\r\n        CubismUserModel.prototype.getRenderer = function () {\r\n            return this._renderer;\r\n        };\r\n        CubismUserModel.prototype.createRenderer = function () {\r\n            if (this._renderer) {\r\n                this.deleteRenderer();\r\n            }\r\n            this._renderer = new CubismRenderer_WebGL();\r\n            this._renderer.initialize(this._model);\r\n        };\r\n        CubismUserModel.prototype.deleteRenderer = function () {\r\n            if (this._renderer != null) {\r\n                this._renderer.release();\r\n                this._renderer = null;\r\n            }\r\n        };\r\n        CubismUserModel.prototype.motionEventFired = function (eventValue) {\r\n            cubismdebug_1.CubismLogInfo('{0}', eventValue.s);\r\n        };\r\n        CubismUserModel.cubismDefaultMotionEventCallback = function (caller, eventValue, customData) {\r\n            var model = customData;\r\n            if (model != null) {\r\n                model.motionEventFired(eventValue);\r\n            }\r\n        };\r\n        CubismUserModel.prototype.release = function () {\r\n            if (this._motionManager != null) {\r\n                this._motionManager.release();\r\n                this._motionManager = null;\r\n            }\r\n            if (this._expressionManager != null) {\r\n                this._expressionManager.release();\r\n                this._expressionManager = null;\r\n            }\r\n            if (this._moc != null) {\r\n                this._moc.deleteModel(this._model);\r\n                this._moc.release();\r\n                this._moc = null;\r\n            }\r\n            this._modelMatrix = null;\r\n            CubismPose.delete(this._pose);\r\n            CubismEyeBlink.delete(this._eyeBlink);\r\n            CubismBreath.delete(this._breath);\r\n            this._dragManager = null;\r\n            CubismPhysics.delete(this._physics);\r\n            CubismModelUserData.delete(this._modelUserData);\r\n            this.deleteRenderer();\r\n        };\r\n        return CubismUserModel;\r\n    }());\r\n    Live2DCubismFramework.CubismUserModel = CubismUserModel;\r\n})(Live2DCubismFramework = exports.Live2DCubismFramework || (exports.Live2DCubismFramework = {}));\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9GcmFtZXdvcmsvc3JjL21vZGVsL2N1YmlzbXVzZXJtb2RlbC50cy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL2xpdmUyZC8uL0ZyYW1ld29yay9zcmMvbW9kZWwvY3ViaXNtdXNlcm1vZGVsLnRzPzIwOWYiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIENvcHlyaWdodChjKSBMaXZlMkQgSW5jLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4gKlxyXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSB0aGUgTGl2ZTJEIE9wZW4gU29mdHdhcmUgbGljZW5zZVxyXG4gKiB0aGF0IGNhbiBiZSBmb3VuZCBhdCBodHRwczovL3d3dy5saXZlMmQuY29tL2V1bGEvbGl2ZTJkLW9wZW4tc29mdHdhcmUtbGljZW5zZS1hZ3JlZW1lbnRfZW4uaHRtbC5cclxuICovXHJcblxyXG5pbXBvcnQgeyBMaXZlMkRDdWJpc21GcmFtZXdvcmsgYXMgY3ViaXNtZnJhbWV3b3JrIH0gZnJvbSAnLi4vbGl2ZTJkY3ViaXNtZnJhbWV3b3JrJztcclxuaW1wb3J0IHsgTGl2ZTJEQ3ViaXNtRnJhbWV3b3JrIGFzIGN1YmlzbW1vdGlvbm1hbmFnZXIgfSBmcm9tICcuLi9tb3Rpb24vY3ViaXNtbW90aW9ubWFuYWdlcic7XHJcbmltcG9ydCB7IExpdmUyREN1YmlzbUZyYW1ld29yayBhcyBjdWJpc210YXJnZXRwb2ludCB9IGZyb20gJy4uL21hdGgvY3ViaXNtdGFyZ2V0cG9pbnQnO1xyXG5pbXBvcnQgeyBMaXZlMkRDdWJpc21GcmFtZXdvcmsgYXMgY3ViaXNtbW9kZWxtYXRyaXggfSBmcm9tICcuLi9tYXRoL2N1YmlzbW1vZGVsbWF0cml4JztcclxuaW1wb3J0IHsgTGl2ZTJEQ3ViaXNtRnJhbWV3b3JrIGFzIGN1YmlzbW1vYyB9IGZyb20gJy4vY3ViaXNtbW9jJztcclxuaW1wb3J0IHsgTGl2ZTJEQ3ViaXNtRnJhbWV3b3JrIGFzIGN1YmlzbW1vZGVsIH0gZnJvbSAnLi9jdWJpc21tb2RlbCc7XHJcbmltcG9ydCB7IExpdmUyREN1YmlzbUZyYW1ld29yayBhcyBhY3ViaXNtbW90aW9uIH0gZnJvbSAnLi4vbW90aW9uL2FjdWJpc21tb3Rpb24nO1xyXG5pbXBvcnQgeyBMaXZlMkRDdWJpc21GcmFtZXdvcmsgYXMgY3ViaXNtbW90aW9uIH0gZnJvbSAnLi4vbW90aW9uL2N1YmlzbW1vdGlvbic7XHJcbmltcG9ydCB7IExpdmUyREN1YmlzbUZyYW1ld29yayBhcyBjdWJpc21leHByZXNzaW9ubW90aW9uIH0gZnJvbSAnLi4vbW90aW9uL2N1YmlzbWV4cHJlc3Npb25tb3Rpb24nO1xyXG5pbXBvcnQgeyBMaXZlMkRDdWJpc21GcmFtZXdvcmsgYXMgY3ViaXNtcG9zZSB9IGZyb20gJy4uL2VmZmVjdC9jdWJpc21wb3NlJztcclxuaW1wb3J0IHsgTGl2ZTJEQ3ViaXNtRnJhbWV3b3JrIGFzIGN1YmlzbW1vZGVsdXNlcmRhdGEgfSBmcm9tICcuL2N1YmlzbW1vZGVsdXNlcmRhdGEnO1xyXG5pbXBvcnQgeyBMaXZlMkRDdWJpc21GcmFtZXdvcmsgYXMgY3ViaXNtcGh5c2ljcyB9IGZyb20gJy4uL3BoeXNpY3MvY3ViaXNtcGh5c2ljcyc7XHJcbmltcG9ydCB7IExpdmUyREN1YmlzbUZyYW1ld29yayBhcyBjdWJpc21pZCB9IGZyb20gJy4uL2lkL2N1YmlzbWlkJztcclxuaW1wb3J0IHsgTGl2ZTJEQ3ViaXNtRnJhbWV3b3JrIGFzIGNzbXN0cmluZyB9IGZyb20gJy4uL3R5cGUvY3Ntc3RyaW5nJztcclxuaW1wb3J0IHsgTGl2ZTJEQ3ViaXNtRnJhbWV3b3JrIGFzIGN1YmlzbW1vdGlvbnF1ZXVlbWFuYWdlciB9IGZyb20gJy4uL21vdGlvbi9jdWJpc21tb3Rpb25xdWV1ZW1hbmFnZXInO1xyXG5pbXBvcnQgeyBMaXZlMkRDdWJpc21GcmFtZXdvcmsgYXMgY3ViaXNtYnJlYXRoIH0gZnJvbSAnLi4vZWZmZWN0L2N1YmlzbWJyZWF0aCc7XHJcbmltcG9ydCB7IExpdmUyREN1YmlzbUZyYW1ld29yayBhcyBjdWJpc21leWVibGluayB9IGZyb20gJy4uL2VmZmVjdC9jdWJpc21leWVibGluayc7XHJcbmltcG9ydCB7IExpdmUyREN1YmlzbUZyYW1ld29yayBhcyBjdWJpc21yZW5kZXJlcl93ZWJnbCB9IGZyb20gJy4uL3JlbmRlcmluZy9jdWJpc21yZW5kZXJlcl93ZWJnbCc7XHJcbmltcG9ydCB7IEN1YmlzbUxvZ0Vycm9yLCBDdWJpc21Mb2dJbmZvIH0gZnJvbSAnLi4vdXRpbHMvY3ViaXNtZGVidWcnO1xyXG5pbXBvcnQgQ3ViaXNtUmVuZGVyZXJfV2ViR0wgPSBjdWJpc21yZW5kZXJlcl93ZWJnbC5DdWJpc21SZW5kZXJlcl9XZWJHTDtcclxuaW1wb3J0IEN1YmlzbUV5ZUJsaW5rID0gY3ViaXNtZXllYmxpbmsuQ3ViaXNtRXllQmxpbms7XHJcbmltcG9ydCBDdWJpc21CcmVhdGggPSBjdWJpc21icmVhdGguQ3ViaXNtQnJlYXRoO1xyXG5pbXBvcnQgQ3ViaXNtTW90aW9uUXVldWVNYW5hZ2VyID0gY3ViaXNtbW90aW9ucXVldWVtYW5hZ2VyLkN1YmlzbU1vdGlvblF1ZXVlTWFuYWdlcjtcclxuaW1wb3J0IGNzbVN0cmluZyA9IGNzbXN0cmluZy5jc21TdHJpbmc7XHJcbmltcG9ydCBDb25zdGFudCA9IGN1YmlzbWZyYW1ld29yay5Db25zdGFudDtcclxuaW1wb3J0IEN1YmlzbUlkSGFuZGxlID0gY3ViaXNtaWQuQ3ViaXNtSWRIYW5kbGU7XHJcbmltcG9ydCBDdWJpc21QaHlzaWNzID0gY3ViaXNtcGh5c2ljcy5DdWJpc21QaHlzaWNzO1xyXG5pbXBvcnQgQ3ViaXNtTW9kZWxVc2VyRGF0YSA9IGN1YmlzbW1vZGVsdXNlcmRhdGEuQ3ViaXNtTW9kZWxVc2VyRGF0YTtcclxuaW1wb3J0IEN1YmlzbVBvc2UgPSBjdWJpc21wb3NlLkN1YmlzbVBvc2U7XHJcbmltcG9ydCBDdWJpc21FeHByZXNzaW9uTW90aW9uID0gY3ViaXNtZXhwcmVzc2lvbm1vdGlvbi5DdWJpc21FeHByZXNzaW9uTW90aW9uO1xyXG5pbXBvcnQgQ3ViaXNtTW90aW9uID0gY3ViaXNtbW90aW9uLkN1YmlzbU1vdGlvbjtcclxuaW1wb3J0IEFDdWJpc21Nb3Rpb24gPSBhY3ViaXNtbW90aW9uLkFDdWJpc21Nb3Rpb247XHJcbmltcG9ydCBGaW5pc2hlZE1vdGlvbkNhbGxiYWNrID0gYWN1YmlzbW1vdGlvbi5GaW5pc2hlZE1vdGlvbkNhbGxiYWNrO1xyXG5pbXBvcnQgQ3ViaXNtTW9kZWwgPSBjdWJpc21tb2RlbC5DdWJpc21Nb2RlbDtcclxuaW1wb3J0IEN1YmlzbU1vYyA9IGN1YmlzbW1vYy5DdWJpc21Nb2M7XHJcbmltcG9ydCBDdWJpc21Nb2RlbE1hdHJpeCA9IGN1YmlzbW1vZGVsbWF0cml4LkN1YmlzbU1vZGVsTWF0cml4O1xyXG5pbXBvcnQgQ3ViaXNtVGFyZ2V0UG9pbnQgPSBjdWJpc210YXJnZXRwb2ludC5DdWJpc21UYXJnZXRQb2ludDtcclxuaW1wb3J0IEN1YmlzbU1vdGlvbk1hbmFnZXIgPSBjdWJpc21tb3Rpb25tYW5hZ2VyLkN1YmlzbU1vdGlvbk1hbmFnZXI7XHJcblxyXG5leHBvcnQgbmFtZXNwYWNlIExpdmUyREN1YmlzbUZyYW1ld29yayB7XHJcbiAgLyoqXHJcbiAgICog44Om44O844K244O844GM5a6f6Zqb44Gr5L2/55So44GZ44KL44Oi44OH44OrXHJcbiAgICpcclxuICAgKiDjg6bjg7zjgrbjg7zjgYzlrp/pmpvjgavkvb/nlKjjgZnjgovjg6Ljg4fjg6vjga7ln7rlupXjgq/jg6njgrnjgILjgZPjgozjgpLntpnmib/jgZfjgabjg6bjg7zjgrbjg7zjgYzlrp/oo4XjgZnjgovjgIJcclxuICAgKi9cclxuICBleHBvcnQgY2xhc3MgQ3ViaXNtVXNlck1vZGVsIHtcclxuICAgIC8qKlxyXG4gICAgICog5Yid5pyf5YyW54q25oWL44Gu5Y+W5b6XXHJcbiAgICAgKlxyXG4gICAgICog5Yid5pyf5YyW44GV44KM44Gm44GE44KL54q25oWL44GL77yfXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybiB0cnVlICAgICDliJ3mnJ/ljJbjgZXjgozjgabjgYTjgotcclxuICAgICAqIEByZXR1cm4gZmFsc2UgICAg5Yid5pyf5YyW44GV44KM44Gm44GE44Gq44GEXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBpc0luaXRpYWxpemVkKCk6IGJvb2xlYW4ge1xyXG4gICAgICByZXR1cm4gdGhpcy5faW5pdGlhbGl6ZWQ7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDliJ3mnJ/ljJbnirbmhYvjga7oqK3lrppcclxuICAgICAqXHJcbiAgICAgKiDliJ3mnJ/ljJbnirbmhYvjgpLoqK3lrprjgZnjgovjgIJcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gdiDliJ3mnJ/ljJbnirbmhYtcclxuICAgICAqL1xyXG4gICAgcHVibGljIHNldEluaXRpYWxpemVkKHY6IGJvb2xlYW4pOiB2b2lkIHtcclxuICAgICAgdGhpcy5faW5pdGlhbGl6ZWQgPSB2O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5pu05paw54q25oWL44Gu5Y+W5b6XXHJcbiAgICAgKlxyXG4gICAgICog5pu05paw44GV44KM44Gm44GE44KL54q25oWL44GL77yfXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybiB0cnVlICAgICDmm7TmlrDjgZXjgozjgabjgYTjgotcclxuICAgICAqIEByZXR1cm4gZmFsc2UgICAg5pu05paw44GV44KM44Gm44GE44Gq44GEXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBpc1VwZGF0aW5nKCk6IGJvb2xlYW4ge1xyXG4gICAgICByZXR1cm4gdGhpcy5fdXBkYXRpbmc7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDmm7TmlrDnirbmhYvjga7oqK3lrppcclxuICAgICAqXHJcbiAgICAgKiDmm7TmlrDnirbmhYvjgpLoqK3lrprjgZnjgotcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gdiDmm7TmlrDnirbmhYtcclxuICAgICAqL1xyXG4gICAgcHVibGljIHNldFVwZGF0aW5nKHY6IGJvb2xlYW4pOiB2b2lkIHtcclxuICAgICAgdGhpcy5fdXBkYXRpbmcgPSB2O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog44Oe44Km44K544OJ44Op44OD44Kw5oOF5aCx44Gu6Kit5a6aXHJcbiAgICAgKiBAcGFyYW0g44OJ44Op44OD44Kw44GX44Gm44GE44KL44Kr44O844K944Or44GuWOS9jee9rlxyXG4gICAgICogQHBhcmFtIOODieODqeODg+OCsOOBl+OBpuOBhOOCi+OCq+ODvOOCveODq+OBrlnkvY3nva5cclxuICAgICAqL1xyXG4gICAgcHVibGljIHNldERyYWdnaW5nKHg6IG51bWJlciwgeTogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgIHRoaXMuX2RyYWdNYW5hZ2VyLnNldCh4LCB5KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOWKoOmAn+W6puOBruaDheWgseOCkuioreWumuOBmeOCi1xyXG4gICAgICogQHBhcmFtIHggWOi7uOaWueWQkeOBruWKoOmAn+W6plxyXG4gICAgICogQHBhcmFtIHkgWei7uOaWueWQkeOBruWKoOmAn+W6plxyXG4gICAgICogQHBhcmFtIHogWui7uOaWueWQkeOBruWKoOmAn+W6plxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc2V0QWNjZWxlcmF0aW9uKHg6IG51bWJlciwgeTogbnVtYmVyLCB6OiBudW1iZXIpOiB2b2lkIHtcclxuICAgICAgdGhpcy5fYWNjZWxlcmF0aW9uWCA9IHg7XHJcbiAgICAgIHRoaXMuX2FjY2VsZXJhdGlvblkgPSB5O1xyXG4gICAgICB0aGlzLl9hY2NlbGVyYXRpb25aID0gejtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOODouODh+ODq+ihjOWIl+OCkuWPluW+l+OBmeOCi1xyXG4gICAgICogQHJldHVybiDjg6Ljg4fjg6vooYzliJdcclxuICAgICAqL1xyXG4gICAgcHVibGljIGdldE1vZGVsTWF0cml4KCk6IEN1YmlzbU1vZGVsTWF0cml4IHtcclxuICAgICAgcmV0dXJuIHRoaXMuX21vZGVsTWF0cml4O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5LiN6YCP5piO5bqm44Gu6Kit5a6aXHJcbiAgICAgKiBAcGFyYW0gYSDkuI3pgI/mmI7luqZcclxuICAgICAqL1xyXG4gICAgcHVibGljIHNldE9wYWNpdHkoYTogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgIHRoaXMuX29wYWNpdHkgPSBhO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5LiN6YCP5piO5bqm44Gu5Y+W5b6XXHJcbiAgICAgKiBAcmV0dXJuIOS4jemAj+aYjuW6plxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2V0T3BhY2l0eSgpOiBudW1iZXIge1xyXG4gICAgICByZXR1cm4gdGhpcy5fb3BhY2l0eTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOODouODh+ODq+ODh+ODvOOCv+OCkuiqreOBv+i+vOOCgFxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBidWZmZXIgICAgbW9jM+ODleOCoeOCpOODq+OBjOiqreOBv+i+vOOBvuOCjOOBpuOBhOOCi+ODkOODg+ODleOCoVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgbG9hZE1vZGVsKGJ1ZmZlcjogQXJyYXlCdWZmZXIpIHtcclxuICAgICAgdGhpcy5fbW9jID0gQ3ViaXNtTW9jLmNyZWF0ZShidWZmZXIpO1xyXG4gICAgICB0aGlzLl9tb2RlbCA9IHRoaXMuX21vYy5jcmVhdGVNb2RlbCgpO1xyXG4gICAgICB0aGlzLl9tb2RlbC5zYXZlUGFyYW1ldGVycygpO1xyXG5cclxuICAgICAgaWYgKHRoaXMuX21vYyA9PSBudWxsIHx8IHRoaXMuX21vZGVsID09IG51bGwpIHtcclxuICAgICAgICBDdWJpc21Mb2dFcnJvcignRmFpbGVkIHRvIENyZWF0ZU1vZGVsKCkuJyk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB0aGlzLl9tb2RlbE1hdHJpeCA9IG5ldyBDdWJpc21Nb2RlbE1hdHJpeChcclxuICAgICAgICB0aGlzLl9tb2RlbC5nZXRDYW52YXNXaWR0aCgpLFxyXG4gICAgICAgIHRoaXMuX21vZGVsLmdldENhbnZhc0hlaWdodCgpXHJcbiAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDjg6Ljg7zjgrfjg6fjg7Pjg4fjg7zjgr/jgpLoqq3jgb/ovrzjgoBcclxuICAgICAqIEBwYXJhbSBidWZmZXIgbW90aW9uMy5qc29u44OV44Kh44Kk44Or44GM6Kqt44G/6L6844G+44KM44Gm44GE44KL44OQ44OD44OV44KhXHJcbiAgICAgKiBAcGFyYW0gc2l6ZSDjg5Djg4Pjg5XjgqHjga7jgrXjgqTjgrpcclxuICAgICAqIEBwYXJhbSBuYW1lIOODouODvOOCt+ODp+ODs+OBruWQjeWJjVxyXG4gICAgICogQHBhcmFtIG9uRmluaXNoZWRNb3Rpb25IYW5kbGVyIOODouODvOOCt+ODp+ODs+WGjeeUn+e1guS6huaZguOBq+WRvOOBs+WHuuOBleOCjOOCi+OCs+ODvOODq+ODkOODg+OCr+mWouaVsFxyXG4gICAgICogQHJldHVybiDjg6Ljg7zjgrfjg6fjg7Pjgq/jg6njgrlcclxuICAgICAqL1xyXG4gICAgcHVibGljIGxvYWRNb3Rpb24gPSAoXHJcbiAgICAgIGJ1ZmZlcjogQXJyYXlCdWZmZXIsXHJcbiAgICAgIHNpemU6IG51bWJlcixcclxuICAgICAgbmFtZTogc3RyaW5nLFxyXG4gICAgICBvbkZpbmlzaGVkTW90aW9uSGFuZGxlcj86IEZpbmlzaGVkTW90aW9uQ2FsbGJhY2tcclxuICAgICkgPT4gQ3ViaXNtTW90aW9uLmNyZWF0ZShidWZmZXIsIHNpemUsIG9uRmluaXNoZWRNb3Rpb25IYW5kbGVyKTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIOihqOaDheODh+ODvOOCv+OBruiqreOBv+i+vOOBv1xyXG4gICAgICogQHBhcmFtIGJ1ZmZlciBleHDjg5XjgqHjgqTjg6vjgYzoqq3jgb/ovrzjgb7jgozjgabjgYTjgovjg5Djg4Pjg5XjgqFcclxuICAgICAqIEBwYXJhbSBzaXplIOODkOODg+ODleOCoeOBruOCteOCpOOCulxyXG4gICAgICogQHBhcmFtIG5hbWUg6KGo5oOF44Gu5ZCN5YmNXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBsb2FkRXhwcmVzc2lvbihcclxuICAgICAgYnVmZmVyOiBBcnJheUJ1ZmZlcixcclxuICAgICAgc2l6ZTogbnVtYmVyLFxyXG4gICAgICBuYW1lOiBzdHJpbmdcclxuICAgICk6IEFDdWJpc21Nb3Rpb24ge1xyXG4gICAgICByZXR1cm4gQ3ViaXNtRXhwcmVzc2lvbk1vdGlvbi5jcmVhdGUoYnVmZmVyLCBzaXplKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOODneODvOOCuuODh+ODvOOCv+OBruiqreOBv+i+vOOBv1xyXG4gICAgICogQHBhcmFtIGJ1ZmZlciBwb3NlMy5qc29u44GM6Kqt44G/6L6844G+44KM44Gm44GE44KL44OQ44OD44OV44KhXHJcbiAgICAgKiBAcGFyYW0gc2l6ZSDjg5Djg4Pjg5XjgqHjga7jgrXjgqTjgrpcclxuICAgICAqL1xyXG4gICAgcHVibGljIGxvYWRQb3NlKGJ1ZmZlcjogQXJyYXlCdWZmZXIsIHNpemU6IG51bWJlcik6IHZvaWQge1xyXG4gICAgICB0aGlzLl9wb3NlID0gQ3ViaXNtUG9zZS5jcmVhdGUoYnVmZmVyLCBzaXplKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOODouODh+ODq+OBq+S7mOWxnuOBmeOCi+ODpuODvOOCtuODvOODh+ODvOOCv+OCkuiqreOBv+i+vOOCgFxyXG4gICAgICogQHBhcmFtIGJ1ZmZlciB1c2VyZGF0YTMuanNvbuOBjOiqreOBv+i+vOOBvuOCjOOBpuOBhOOCi+ODkOODg+ODleOCoVxyXG4gICAgICogQHBhcmFtIHNpemUg44OQ44OD44OV44Kh44Gu44K144Kk44K6XHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBsb2FkVXNlckRhdGEoYnVmZmVyOiBBcnJheUJ1ZmZlciwgc2l6ZTogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgIHRoaXMuX21vZGVsVXNlckRhdGEgPSBDdWJpc21Nb2RlbFVzZXJEYXRhLmNyZWF0ZShidWZmZXIsIHNpemUpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog54mp55CG5ryU566X44OH44O844K/44Gu6Kqt44G/6L6844G/XHJcbiAgICAgKiBAcGFyYW0gYnVmZmVyICBwaHlzaWNzMy5qc29u44GM6Kqt44G/6L6844G+44KM44Gm44GE44KL44OQ44OD44OV44KhXHJcbiAgICAgKiBAcGFyYW0gc2l6ZSAgICDjg5Djg4Pjg5XjgqHjga7jgrXjgqTjgrpcclxuICAgICAqL1xyXG4gICAgcHVibGljIGxvYWRQaHlzaWNzKGJ1ZmZlcjogQXJyYXlCdWZmZXIsIHNpemU6IG51bWJlcik6IHZvaWQge1xyXG4gICAgICB0aGlzLl9waHlzaWNzID0gQ3ViaXNtUGh5c2ljcy5jcmVhdGUoYnVmZmVyLCBzaXplKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOW9k+OBn+OCiuWIpOWumuOBruWPluW+l1xyXG4gICAgICogQHBhcmFtIGRyYXdhYmxlSWQg5qSc6Ki844GX44Gf44GERHJhd2FibGXjga5JRFxyXG4gICAgICogQHBhcmFtIHBvaW50WCBY5L2N572uXHJcbiAgICAgKiBAcGFyYW0gcG9pbnRZIFnkvY3nva5cclxuICAgICAqIEByZXR1cm4gdHJ1ZSDjg5Ljg4Pjg4jjgZfjgabjgYTjgotcclxuICAgICAqIEByZXR1cm4gZmFsc2Ug44OS44OD44OI44GX44Gm44GE44Gq44GEXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBpc0hpdChcclxuICAgICAgZHJhd2FibGVJZDogQ3ViaXNtSWRIYW5kbGUsXHJcbiAgICAgIHBvaW50WDogbnVtYmVyLFxyXG4gICAgICBwb2ludFk6IG51bWJlclxyXG4gICAgKTogYm9vbGVhbiB7XHJcbiAgICAgIGNvbnN0IGRyYXdJbmRleDogbnVtYmVyID0gdGhpcy5fbW9kZWwuZ2V0RHJhd2FibGVJbmRleChkcmF3YWJsZUlkKTtcclxuXHJcbiAgICAgIGlmIChkcmF3SW5kZXggPCAwKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlOyAvLyDlrZjlnKjjgZfjgarjgYTloLTlkIjjga9mYWxzZVxyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zdCBjb3VudDogbnVtYmVyID0gdGhpcy5fbW9kZWwuZ2V0RHJhd2FibGVWZXJ0ZXhDb3VudChkcmF3SW5kZXgpO1xyXG4gICAgICBjb25zdCB2ZXJ0aWNlczogRmxvYXQzMkFycmF5ID0gdGhpcy5fbW9kZWwuZ2V0RHJhd2FibGVWZXJ0aWNlcyhkcmF3SW5kZXgpO1xyXG5cclxuICAgICAgbGV0IGxlZnQ6IG51bWJlciA9IHZlcnRpY2VzWzBdO1xyXG4gICAgICBsZXQgcmlnaHQ6IG51bWJlciA9IHZlcnRpY2VzWzBdO1xyXG4gICAgICBsZXQgdG9wOiBudW1iZXIgPSB2ZXJ0aWNlc1sxXTtcclxuICAgICAgbGV0IGJvdHRvbTogbnVtYmVyID0gdmVydGljZXNbMV07XHJcblxyXG4gICAgICBmb3IgKGxldCBqID0gMTsgaiA8IGNvdW50OyArK2opIHtcclxuICAgICAgICBjb25zdCB4ID0gdmVydGljZXNbQ29uc3RhbnQudmVydGV4T2Zmc2V0ICsgaiAqIENvbnN0YW50LnZlcnRleFN0ZXBdO1xyXG4gICAgICAgIGNvbnN0IHkgPSB2ZXJ0aWNlc1tDb25zdGFudC52ZXJ0ZXhPZmZzZXQgKyBqICogQ29uc3RhbnQudmVydGV4U3RlcCArIDFdO1xyXG5cclxuICAgICAgICBpZiAoeCA8IGxlZnQpIHtcclxuICAgICAgICAgIGxlZnQgPSB4OyAvLyBNaW4geFxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHggPiByaWdodCkge1xyXG4gICAgICAgICAgcmlnaHQgPSB4OyAvLyBNYXggeFxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHkgPCB0b3ApIHtcclxuICAgICAgICAgIHRvcCA9IHk7IC8vIE1pbiB5XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoeSA+IGJvdHRvbSkge1xyXG4gICAgICAgICAgYm90dG9tID0geTsgLy8gTWF4IHlcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IHR4OiBudW1iZXIgPSB0aGlzLl9tb2RlbE1hdHJpeC5pbnZlcnRUcmFuc2Zvcm1YKHBvaW50WCk7XHJcbiAgICAgIGNvbnN0IHR5OiBudW1iZXIgPSB0aGlzLl9tb2RlbE1hdHJpeC5pbnZlcnRUcmFuc2Zvcm1ZKHBvaW50WSk7XHJcblxyXG4gICAgICByZXR1cm4gbGVmdCA8PSB0eCAmJiB0eCA8PSByaWdodCAmJiB0b3AgPD0gdHkgJiYgdHkgPD0gYm90dG9tO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog44Oi44OH44Or44Gu5Y+W5b6XXHJcbiAgICAgKiBAcmV0dXJuIOODouODh+ODq1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2V0TW9kZWwoKTogQ3ViaXNtTW9kZWwge1xyXG4gICAgICByZXR1cm4gdGhpcy5fbW9kZWw7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDjg6zjg7Pjg4Djg6njga7lj5blvpdcclxuICAgICAqIEByZXR1cm4g44Os44Oz44OA44OpXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXRSZW5kZXJlcigpOiBDdWJpc21SZW5kZXJlcl9XZWJHTCB7XHJcbiAgICAgIHJldHVybiB0aGlzLl9yZW5kZXJlcjtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOODrOODs+ODgOODqeOCkuS9nOaIkOOBl+OBpuWIneacn+WMluOCkuWun+ihjOOBmeOCi1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgY3JlYXRlUmVuZGVyZXIoKTogdm9pZCB7XHJcbiAgICAgIGlmICh0aGlzLl9yZW5kZXJlcikge1xyXG4gICAgICAgIHRoaXMuZGVsZXRlUmVuZGVyZXIoKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgdGhpcy5fcmVuZGVyZXIgPSBuZXcgQ3ViaXNtUmVuZGVyZXJfV2ViR0woKTtcclxuICAgICAgdGhpcy5fcmVuZGVyZXIuaW5pdGlhbGl6ZSh0aGlzLl9tb2RlbCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDjg6zjg7Pjg4Djg6njga7op6PmlL5cclxuICAgICAqL1xyXG4gICAgcHVibGljIGRlbGV0ZVJlbmRlcmVyKCk6IHZvaWQge1xyXG4gICAgICBpZiAodGhpcy5fcmVuZGVyZXIgIT0gbnVsbCkge1xyXG4gICAgICAgIHRoaXMuX3JlbmRlcmVyLnJlbGVhc2UoKTtcclxuICAgICAgICB0aGlzLl9yZW5kZXJlciA9IG51bGw7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOOCpOODmeODs+ODiOeZuueBq+aZguOBruaomea6luWHpueQhlxyXG4gICAgICpcclxuICAgICAqIEV2ZW5044GM5YaN55Sf5Yem55CG5pmC44Gr44GC44Gj44Gf5aC05ZCI44Gu5Yem55CG44KS44GZ44KL44CCXHJcbiAgICAgKiDntpnmib/jgafkuIrmm7jjgY3jgZnjgovjgZPjgajjgpLmg7PlrprjgZfjgabjgYTjgovjgIJcclxuICAgICAqIOS4iuabuOOBjeOBl+OBquOBhOWgtOWQiOOBr+ODreOCsOWHuuWKm+OCkuOBmeOCi+OAglxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBldmVudFZhbHVlIOeZuueBq+OBl+OBn+OCpOODmeODs+ODiOOBruaWh+Wtl+WIl+ODh+ODvOOCv1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgbW90aW9uRXZlbnRGaXJlZChldmVudFZhbHVlOiBjc21TdHJpbmcpOiB2b2lkIHtcclxuICAgICAgQ3ViaXNtTG9nSW5mbygnezB9JywgZXZlbnRWYWx1ZS5zKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOOCpOODmeODs+ODiOeUqOOBruOCs+ODvOODq+ODkOODg+OCr1xyXG4gICAgICpcclxuICAgICAqIEN1YmlzbU1vdGlvblF1ZXVlTWFuYWdlcuOBq+OCpOODmeODs+ODiOeUqOOBq+eZu+mMsuOBmeOCi+OBn+OCgeOBrkNhbGxiYWNr44CCXHJcbiAgICAgKiBDdWJpc21Vc2VyTW9kZWzjga7ntpnmib/lhYjjga5FdmVudEZpcmVk44KS5ZG844G244CCXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGNhbGxlciDnmbrngavjgZfjgZ/jgqTjg5njg7Pjg4jjgpLnrqHnkIbjgZfjgabjgYTjgZ/jg6Ljg7zjgrfjg6fjg7Pjg57jg43jg7zjgrjjg6Pjg7zjgIHmr5TovIPnlKhcclxuICAgICAqIEBwYXJhbSBldmVudFZhbHVlIOeZuueBq+OBl+OBn+OCpOODmeODs+ODiOOBruaWh+Wtl+WIl+ODh+ODvOOCv1xyXG4gICAgICogQHBhcmFtIGN1c3RvbURhdGEgQ3ViaXNtVXNlck1vZGVs44KS57aZ5om/44GX44Gf44Kk44Oz44K544K/44Oz44K544KS5oOz5a6aXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzdGF0aWMgY3ViaXNtRGVmYXVsdE1vdGlvbkV2ZW50Q2FsbGJhY2soXHJcbiAgICAgIGNhbGxlcjogQ3ViaXNtTW90aW9uUXVldWVNYW5hZ2VyLFxyXG4gICAgICBldmVudFZhbHVlOiBjc21TdHJpbmcsXHJcbiAgICAgIGN1c3RvbURhdGE6IEN1YmlzbVVzZXJNb2RlbFxyXG4gICAgKTogdm9pZCB7XHJcbiAgICAgIGNvbnN0IG1vZGVsOiBDdWJpc21Vc2VyTW9kZWwgPSBjdXN0b21EYXRhO1xyXG5cclxuICAgICAgaWYgKG1vZGVsICE9IG51bGwpIHtcclxuICAgICAgICBtb2RlbC5tb3Rpb25FdmVudEZpcmVkKGV2ZW50VmFsdWUpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDjgrPjg7Pjgrnjg4jjg6njgq/jgr9cclxuICAgICAqL1xyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAvLyDlkITlpInmlbDliJ3mnJ/ljJZcclxuICAgICAgdGhpcy5fbW9jID0gbnVsbDtcclxuICAgICAgdGhpcy5fbW9kZWwgPSBudWxsO1xyXG4gICAgICB0aGlzLl9tb3Rpb25NYW5hZ2VyID0gbnVsbDtcclxuICAgICAgdGhpcy5fZXhwcmVzc2lvbk1hbmFnZXIgPSBudWxsO1xyXG4gICAgICB0aGlzLl9leWVCbGluayA9IG51bGw7XHJcbiAgICAgIHRoaXMuX2JyZWF0aCA9IG51bGw7XHJcbiAgICAgIHRoaXMuX21vZGVsTWF0cml4ID0gbnVsbDtcclxuICAgICAgdGhpcy5fcG9zZSA9IG51bGw7XHJcbiAgICAgIHRoaXMuX2RyYWdNYW5hZ2VyID0gbnVsbDtcclxuICAgICAgdGhpcy5fcGh5c2ljcyA9IG51bGw7XHJcbiAgICAgIHRoaXMuX21vZGVsVXNlckRhdGEgPSBudWxsO1xyXG4gICAgICB0aGlzLl9pbml0aWFsaXplZCA9IGZhbHNlO1xyXG4gICAgICB0aGlzLl91cGRhdGluZyA9IGZhbHNlO1xyXG4gICAgICB0aGlzLl9vcGFjaXR5ID0gMS4wO1xyXG4gICAgICB0aGlzLl9saXBzeW5jID0gdHJ1ZTtcclxuICAgICAgdGhpcy5fbGFzdExpcFN5bmNWYWx1ZSA9IDAuMDtcclxuICAgICAgdGhpcy5fZHJhZ1ggPSAwLjA7XHJcbiAgICAgIHRoaXMuX2RyYWdZID0gMC4wO1xyXG4gICAgICB0aGlzLl9hY2NlbGVyYXRpb25YID0gMC4wO1xyXG4gICAgICB0aGlzLl9hY2NlbGVyYXRpb25ZID0gMC4wO1xyXG4gICAgICB0aGlzLl9hY2NlbGVyYXRpb25aID0gMC4wO1xyXG4gICAgICB0aGlzLl9kZWJ1Z01vZGUgPSBmYWxzZTtcclxuICAgICAgdGhpcy5fcmVuZGVyZXIgPSBudWxsO1xyXG5cclxuICAgICAgLy8g44Oi44O844K344On44Oz44Oe44ON44O844K444Oj44O844KS5L2c5oiQXHJcbiAgICAgIHRoaXMuX21vdGlvbk1hbmFnZXIgPSBuZXcgQ3ViaXNtTW90aW9uTWFuYWdlcigpO1xyXG4gICAgICB0aGlzLl9tb3Rpb25NYW5hZ2VyLnNldEV2ZW50Q2FsbGJhY2soXHJcbiAgICAgICAgQ3ViaXNtVXNlck1vZGVsLmN1YmlzbURlZmF1bHRNb3Rpb25FdmVudENhbGxiYWNrLFxyXG4gICAgICAgIHRoaXNcclxuICAgICAgKTtcclxuXHJcbiAgICAgIC8vIOihqOaDheODnuODjeODvOOCuOODo+ODvOOCkuS9nOaIkFxyXG4gICAgICB0aGlzLl9leHByZXNzaW9uTWFuYWdlciA9IG5ldyBDdWJpc21Nb3Rpb25NYW5hZ2VyKCk7XHJcblxyXG4gICAgICAvLyDjg4njg6njg4PjgrDjgavjgojjgovjgqLjg4vjg6Hjg7zjgrfjg6fjg7NcclxuICAgICAgdGhpcy5fZHJhZ01hbmFnZXIgPSBuZXcgQ3ViaXNtVGFyZ2V0UG9pbnQoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOODh+OCueODiOODqeOCr+OCv+OBq+ebuOW9k+OBmeOCi+WHpueQhlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgcmVsZWFzZSgpIHtcclxuICAgICAgaWYgKHRoaXMuX21vdGlvbk1hbmFnZXIgIT0gbnVsbCkge1xyXG4gICAgICAgIHRoaXMuX21vdGlvbk1hbmFnZXIucmVsZWFzZSgpO1xyXG4gICAgICAgIHRoaXMuX21vdGlvbk1hbmFnZXIgPSBudWxsO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAodGhpcy5fZXhwcmVzc2lvbk1hbmFnZXIgIT0gbnVsbCkge1xyXG4gICAgICAgIHRoaXMuX2V4cHJlc3Npb25NYW5hZ2VyLnJlbGVhc2UoKTtcclxuICAgICAgICB0aGlzLl9leHByZXNzaW9uTWFuYWdlciA9IG51bGw7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICh0aGlzLl9tb2MgIT0gbnVsbCkge1xyXG4gICAgICAgIHRoaXMuX21vYy5kZWxldGVNb2RlbCh0aGlzLl9tb2RlbCk7XHJcbiAgICAgICAgdGhpcy5fbW9jLnJlbGVhc2UoKTtcclxuICAgICAgICB0aGlzLl9tb2MgPSBudWxsO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB0aGlzLl9tb2RlbE1hdHJpeCA9IG51bGw7XHJcblxyXG4gICAgICBDdWJpc21Qb3NlLmRlbGV0ZSh0aGlzLl9wb3NlKTtcclxuICAgICAgQ3ViaXNtRXllQmxpbmsuZGVsZXRlKHRoaXMuX2V5ZUJsaW5rKTtcclxuICAgICAgQ3ViaXNtQnJlYXRoLmRlbGV0ZSh0aGlzLl9icmVhdGgpO1xyXG5cclxuICAgICAgdGhpcy5fZHJhZ01hbmFnZXIgPSBudWxsO1xyXG5cclxuICAgICAgQ3ViaXNtUGh5c2ljcy5kZWxldGUodGhpcy5fcGh5c2ljcyk7XHJcbiAgICAgIEN1YmlzbU1vZGVsVXNlckRhdGEuZGVsZXRlKHRoaXMuX21vZGVsVXNlckRhdGEpO1xyXG5cclxuICAgICAgdGhpcy5kZWxldGVSZW5kZXJlcigpO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBfbW9jOiBDdWJpc21Nb2M7IC8vIE1vY+ODh+ODvOOCv1xyXG4gICAgcHJvdGVjdGVkIF9tb2RlbDogQ3ViaXNtTW9kZWw7IC8vIE1vZGVs44Kk44Oz44K544K/44Oz44K5XHJcblxyXG4gICAgcHJvdGVjdGVkIF9tb3Rpb25NYW5hZ2VyOiBDdWJpc21Nb3Rpb25NYW5hZ2VyOyAvLyDjg6Ljg7zjgrfjg6fjg7PnrqHnkIZcclxuICAgIHByb3RlY3RlZCBfZXhwcmVzc2lvbk1hbmFnZXI6IEN1YmlzbU1vdGlvbk1hbmFnZXI7IC8vIOihqOaDheeuoeeQhlxyXG4gICAgcHJvdGVjdGVkIF9leWVCbGluazogQ3ViaXNtRXllQmxpbms7IC8vIOiHquWLleOBvuOBsOOBn+OBjVxyXG4gICAgcHJvdGVjdGVkIF9icmVhdGg6IEN1YmlzbUJyZWF0aDsgLy8g5ZG85ZC4XHJcbiAgICBwcm90ZWN0ZWQgX21vZGVsTWF0cml4OiBDdWJpc21Nb2RlbE1hdHJpeDsgLy8g44Oi44OH44Or6KGM5YiXXHJcbiAgICBwcm90ZWN0ZWQgX3Bvc2U6IEN1YmlzbVBvc2U7IC8vIOODneODvOOCuueuoeeQhlxyXG4gICAgcHJvdGVjdGVkIF9kcmFnTWFuYWdlcjogQ3ViaXNtVGFyZ2V0UG9pbnQ7IC8vIOODnuOCpuOCueODieODqeODg+OCsFxyXG4gICAgcHJvdGVjdGVkIF9waHlzaWNzOiBDdWJpc21QaHlzaWNzOyAvLyDniannkIbmvJTnrpdcclxuICAgIHByb3RlY3RlZCBfbW9kZWxVc2VyRGF0YTogQ3ViaXNtTW9kZWxVc2VyRGF0YTsgLy8g44Om44O844K244O844OH44O844K/XHJcblxyXG4gICAgcHJvdGVjdGVkIF9pbml0aWFsaXplZDogYm9vbGVhbjsgLy8g5Yid5pyf5YyW44GV44KM44Gf44GL44Gp44GG44GLXHJcbiAgICBwcm90ZWN0ZWQgX3VwZGF0aW5nOiBib29sZWFuOyAvLyDmm7TmlrDjgZXjgozjgZ/jgYvjganjgYbjgYtcclxuICAgIHByb3RlY3RlZCBfb3BhY2l0eTogbnVtYmVyOyAvLyDkuI3pgI/mmI7luqZcclxuICAgIHByb3RlY3RlZCBfbGlwc3luYzogYm9vbGVhbjsgLy8g44Oq44OD44OX44K344Oz44Kv44GZ44KL44GL44Gp44GG44GLXHJcbiAgICBwcm90ZWN0ZWQgX2xhc3RMaXBTeW5jVmFsdWU6IG51bWJlcjsgLy8g5pyA5b6M44Gu44Oq44OD44OX44K344Oz44Kv44Gu5Yi25b6h5ZywXHJcbiAgICBwcm90ZWN0ZWQgX2RyYWdYOiBudW1iZXI7IC8vIOODnuOCpuOCueODieODqeODg+OCsOOBrljkvY3nva5cclxuICAgIHByb3RlY3RlZCBfZHJhZ1k6IG51bWJlcjsgLy8g44Oe44Km44K544OJ44Op44OD44Kw44GuWeS9jee9rlxyXG4gICAgcHJvdGVjdGVkIF9hY2NlbGVyYXRpb25YOiBudW1iZXI7IC8vIFjou7jmlrnlkJHjga7liqDpgJ/luqZcclxuICAgIHByb3RlY3RlZCBfYWNjZWxlcmF0aW9uWTogbnVtYmVyOyAvLyBZ6Lu45pa55ZCR44Gu5Yqg6YCf5bqmXHJcbiAgICBwcm90ZWN0ZWQgX2FjY2VsZXJhdGlvblo6IG51bWJlcjsgLy8gWui7uOaWueWQkeOBruWKoOmAn+W6plxyXG4gICAgcHJvdGVjdGVkIF9kZWJ1Z01vZGU6IGJvb2xlYW47IC8vIOODh+ODkOODg+OCsOODouODvOODieOBi+OBqeOBhuOBi1xyXG5cclxuICAgIHByaXZhdGUgX3JlbmRlcmVyOiBDdWJpc21SZW5kZXJlcl9XZWJHTDsgLy8g44Os44Oz44OA44OpXHJcbiAgfVxyXG59XHJcbiJdLCJtYXBwaW5ncyI6Ijs7O0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQU1BO0FBMlNBO0FBbExBO0FBb0xBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBTUE7QUFHQTtBQUNBO0FBeFVBO0FBQ0E7QUFDQTtBQVNBO0FBQ0E7QUFDQTtBQVVBO0FBQ0E7QUFDQTtBQVNBO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFJQTtBQXVCQTtBQUtBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFVQTtBQUtBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBV0E7QUFDQTtBQUNBO0FBWUE7QUFLQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBZ0RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUE0QkE7QUFBQTtBQS9ZQTtBQWdaQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./Framework/src/model/cubismusermodel.ts\n");

/***/ }),

/***/ "./Framework/src/motion/acubismmotion.ts":
/*!***********************************************!*\
  !*** ./Framework/src/motion/acubismmotion.ts ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Live2DCubismFramework = void 0;\r\nvar cubismmath_1 = __webpack_require__(/*! ../math/cubismmath */ \"./Framework/src/math/cubismmath.ts\");\r\nvar csmvector_1 = __webpack_require__(/*! ../type/csmvector */ \"./Framework/src/type/csmvector.ts\");\r\nvar cubismdebug_1 = __webpack_require__(/*! ../utils/cubismdebug */ \"./Framework/src/utils/cubismdebug.ts\");\r\nvar csmVector = csmvector_1.Live2DCubismFramework.csmVector;\r\nvar CubismMath = cubismmath_1.Live2DCubismFramework.CubismMath;\r\nvar Live2DCubismFramework;\r\n(function (Live2DCubismFramework) {\r\n    var ACubismMotion = (function () {\r\n        function ACubismMotion() {\r\n            var _this = this;\r\n            this.setFinishedMotionHandler = function (onFinishedMotionHandler) { return (_this._onFinishedMotion = onFinishedMotionHandler); };\r\n            this.getFinishedMotionHandler = function () { return _this._onFinishedMotion; };\r\n            this._fadeInSeconds = -1.0;\r\n            this._fadeOutSeconds = -1.0;\r\n            this._weight = 1.0;\r\n            this._offsetSeconds = 0.0;\r\n            this._firedEventValues = new csmVector();\r\n        }\r\n        ACubismMotion.delete = function (motion) {\r\n            motion.release();\r\n            motion = void 0;\r\n            motion = null;\r\n        };\r\n        ACubismMotion.prototype.release = function () {\r\n            this._weight = 0.0;\r\n        };\r\n        ACubismMotion.prototype.updateParameters = function (model, motionQueueEntry, userTimeSeconds) {\r\n            if (!motionQueueEntry.isAvailable() || motionQueueEntry.isFinished()) {\r\n                return;\r\n            }\r\n            if (!motionQueueEntry.isStarted()) {\r\n                motionQueueEntry.setIsStarted(true);\r\n                motionQueueEntry.setStartTime(userTimeSeconds - this._offsetSeconds);\r\n                motionQueueEntry.setFadeInStartTime(userTimeSeconds);\r\n                var duration = this.getDuration();\r\n                if (motionQueueEntry.getEndTime() < 0) {\r\n                    motionQueueEntry.setEndTime(duration <= 0 ? -1 : motionQueueEntry.getStartTime() + duration);\r\n                }\r\n            }\r\n            var fadeWeight = this._weight;\r\n            var fadeIn = this._fadeInSeconds == 0.0\r\n                ? 1.0\r\n                : CubismMath.getEasingSine((userTimeSeconds - motionQueueEntry.getFadeInStartTime()) /\r\n                    this._fadeInSeconds);\r\n            var fadeOut = this._fadeOutSeconds == 0.0 || motionQueueEntry.getEndTime() < 0.0\r\n                ? 1.0\r\n                : CubismMath.getEasingSine((motionQueueEntry.getEndTime() - userTimeSeconds) /\r\n                    this._fadeOutSeconds);\r\n            fadeWeight = fadeWeight * fadeIn * fadeOut;\r\n            motionQueueEntry.setState(userTimeSeconds, fadeWeight);\r\n            cubismdebug_1.CSM_ASSERT(0.0 <= fadeWeight && fadeWeight <= 1.0);\r\n            this.doUpdateParameters(model, userTimeSeconds, fadeWeight, motionQueueEntry);\r\n            if (motionQueueEntry.getEndTime() > 0 &&\r\n                motionQueueEntry.getEndTime() < userTimeSeconds) {\r\n                motionQueueEntry.setIsFinished(true);\r\n            }\r\n        };\r\n        ACubismMotion.prototype.setFadeInTime = function (fadeInSeconds) {\r\n            this._fadeInSeconds = fadeInSeconds;\r\n        };\r\n        ACubismMotion.prototype.setFadeOutTime = function (fadeOutSeconds) {\r\n            this._fadeOutSeconds = fadeOutSeconds;\r\n        };\r\n        ACubismMotion.prototype.getFadeOutTime = function () {\r\n            return this._fadeOutSeconds;\r\n        };\r\n        ACubismMotion.prototype.getFadeInTime = function () {\r\n            return this._fadeInSeconds;\r\n        };\r\n        ACubismMotion.prototype.setWeight = function (weight) {\r\n            this._weight = weight;\r\n        };\r\n        ACubismMotion.prototype.getWeight = function () {\r\n            return this._weight;\r\n        };\r\n        ACubismMotion.prototype.getDuration = function () {\r\n            return -1.0;\r\n        };\r\n        ACubismMotion.prototype.getLoopDuration = function () {\r\n            return -1.0;\r\n        };\r\n        ACubismMotion.prototype.setOffsetTime = function (offsetSeconds) {\r\n            this._offsetSeconds = offsetSeconds;\r\n        };\r\n        ACubismMotion.prototype.getFiredEvent = function (beforeCheckTimeSeconds, motionTimeSeconds) {\r\n            return this._firedEventValues;\r\n        };\r\n        return ACubismMotion;\r\n    }());\r\n    Live2DCubismFramework.ACubismMotion = ACubismMotion;\r\n})(Live2DCubismFramework = exports.Live2DCubismFramework || (exports.Live2DCubismFramework = {}));\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9GcmFtZXdvcmsvc3JjL21vdGlvbi9hY3ViaXNtbW90aW9uLnRzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbGl2ZTJkLy4vRnJhbWV3b3JrL3NyYy9tb3Rpb24vYWN1YmlzbW1vdGlvbi50cz8zOWEwIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBDb3B5cmlnaHQoYykgTGl2ZTJEIEluYy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuICpcclxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgdGhlIExpdmUyRCBPcGVuIFNvZnR3YXJlIGxpY2Vuc2VcclxuICogdGhhdCBjYW4gYmUgZm91bmQgYXQgaHR0cHM6Ly93d3cubGl2ZTJkLmNvbS9ldWxhL2xpdmUyZC1vcGVuLXNvZnR3YXJlLWxpY2Vuc2UtYWdyZWVtZW50X2VuLmh0bWwuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgTGl2ZTJEQ3ViaXNtRnJhbWV3b3JrIGFzIGN1YmlzbW1hdGggfSBmcm9tICcuLi9tYXRoL2N1YmlzbW1hdGgnO1xyXG5pbXBvcnQgeyBMaXZlMkRDdWJpc21GcmFtZXdvcmsgYXMgY3ViaXNtbW9kZWwgfSBmcm9tICcuLi9tb2RlbC9jdWJpc21tb2RlbCc7XHJcbmltcG9ydCB7IExpdmUyREN1YmlzbUZyYW1ld29yayBhcyBjdWJpc21tb3Rpb25xdWV1ZWVudHJ5IH0gZnJvbSAnLi9jdWJpc21tb3Rpb25xdWV1ZWVudHJ5JztcclxuaW1wb3J0IHsgTGl2ZTJEQ3ViaXNtRnJhbWV3b3JrIGFzIGNzbXN0cmluZyB9IGZyb20gJy4uL3R5cGUvY3Ntc3RyaW5nJztcclxuaW1wb3J0IHsgTGl2ZTJEQ3ViaXNtRnJhbWV3b3JrIGFzIGNzbXZlY3RvciB9IGZyb20gJy4uL3R5cGUvY3NtdmVjdG9yJztcclxuaW1wb3J0IHsgQ1NNX0FTU0VSVCB9IGZyb20gJy4uL3V0aWxzL2N1YmlzbWRlYnVnJztcclxuaW1wb3J0IGNzbVZlY3RvciA9IGNzbXZlY3Rvci5jc21WZWN0b3I7XHJcbmltcG9ydCBjc21TdHJpbmcgPSBjc21zdHJpbmcuY3NtU3RyaW5nO1xyXG5pbXBvcnQgQ3ViaXNtTW90aW9uUXVldWVFbnRyeSA9IGN1YmlzbW1vdGlvbnF1ZXVlZW50cnkuQ3ViaXNtTW90aW9uUXVldWVFbnRyeTtcclxuaW1wb3J0IEN1YmlzbU1vZGVsID0gY3ViaXNtbW9kZWwuQ3ViaXNtTW9kZWw7XHJcbmltcG9ydCBDdWJpc21NYXRoID0gY3ViaXNtbWF0aC5DdWJpc21NYXRoO1xyXG5cclxuZXhwb3J0IG5hbWVzcGFjZSBMaXZlMkRDdWJpc21GcmFtZXdvcmsge1xyXG4gIC8qKiDjg6Ljg7zjgrfjg6fjg7Plho3nlJ/ntYLkuobjgrPjg7zjg6vjg5Djg4Pjgq/plqLmlbDlrprnvqkgKi9cclxuICBleHBvcnQgdHlwZSBGaW5pc2hlZE1vdGlvbkNhbGxiYWNrID0gKHNlbGY6IEFDdWJpc21Nb3Rpb24pID0+IHZvaWQ7XHJcblxyXG4gIC8qKlxyXG4gICAqIOODouODvOOCt+ODp+ODs+OBruaKveixoeWfuuW6leOCr+ODqeOCuVxyXG4gICAqXHJcbiAgICog44Oi44O844K344On44Oz44Gu5oq96LGh5Z+65bqV44Kv44Op44K544CCTW90aW9uUXVldWVNYW5hZ2Vy44Gr44KI44Gj44Gm44Oi44O844K344On44Oz44Gu5YaN55Sf44KS566h55CG44GZ44KL44CCXHJcbiAgICovXHJcbiAgZXhwb3J0IGFic3RyYWN0IGNsYXNzIEFDdWJpc21Nb3Rpb24ge1xyXG4gICAgLyoqXHJcbiAgICAgKiDjgqTjg7Pjgrnjgr/jg7Pjgrnjga7noLTmo4RcclxuICAgICAqL1xyXG4gICAgcHVibGljIHN0YXRpYyBkZWxldGUobW90aW9uOiBBQ3ViaXNtTW90aW9uKTogdm9pZCB7XHJcbiAgICAgIG1vdGlvbi5yZWxlYXNlKCk7XHJcbiAgICAgIG1vdGlvbiA9IHZvaWQgMDtcclxuICAgICAgbW90aW9uID0gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOOCs+ODs+OCueODiOODqeOCr+OCv1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgIHRoaXMuX2ZhZGVJblNlY29uZHMgPSAtMS4wO1xyXG4gICAgICB0aGlzLl9mYWRlT3V0U2Vjb25kcyA9IC0xLjA7XHJcbiAgICAgIHRoaXMuX3dlaWdodCA9IDEuMDtcclxuICAgICAgdGhpcy5fb2Zmc2V0U2Vjb25kcyA9IDAuMDsgLy8g5YaN55Sf44Gu6ZaL5aeL5pmC5Yi7XHJcbiAgICAgIHRoaXMuX2ZpcmVkRXZlbnRWYWx1ZXMgPSBuZXcgY3NtVmVjdG9yPGNzbVN0cmluZz4oKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOODh+OCueODiOODqeOCr+OCv+ebuOW9k+OBruWHpueQhlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgcmVsZWFzZSgpOiB2b2lkIHtcclxuICAgICAgdGhpcy5fd2VpZ2h0ID0gMC4wO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog44Oi44OH44Or44Gu44OR44Op44Oh44O844K/XHJcbiAgICAgKiBAcGFyYW0gbW9kZWwg5a++6LGh44Gu44Oi44OH44OrXHJcbiAgICAgKiBAcGFyYW0gbW90aW9uUXVldWVFbnRyeSBDdWJpc21Nb3Rpb25RdWV1ZU1hbmFnZXLjgafnrqHnkIbjgZXjgozjgabjgYTjgovjg6Ljg7zjgrfjg6fjg7NcclxuICAgICAqIEBwYXJhbSB1c2VyVGltZVNlY29uZHMg44OH44Or44K/5pmC6ZaT44Gu56mN566X5YCkW+enkl1cclxuICAgICAqL1xyXG4gICAgcHVibGljIHVwZGF0ZVBhcmFtZXRlcnMoXHJcbiAgICAgIG1vZGVsOiBDdWJpc21Nb2RlbCxcclxuICAgICAgbW90aW9uUXVldWVFbnRyeTogQ3ViaXNtTW90aW9uUXVldWVFbnRyeSxcclxuICAgICAgdXNlclRpbWVTZWNvbmRzOiBudW1iZXJcclxuICAgICk6IHZvaWQge1xyXG4gICAgICBpZiAoIW1vdGlvblF1ZXVlRW50cnkuaXNBdmFpbGFibGUoKSB8fCBtb3Rpb25RdWV1ZUVudHJ5LmlzRmluaXNoZWQoKSkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKCFtb3Rpb25RdWV1ZUVudHJ5LmlzU3RhcnRlZCgpKSB7XHJcbiAgICAgICAgbW90aW9uUXVldWVFbnRyeS5zZXRJc1N0YXJ0ZWQodHJ1ZSk7XHJcbiAgICAgICAgbW90aW9uUXVldWVFbnRyeS5zZXRTdGFydFRpbWUodXNlclRpbWVTZWNvbmRzIC0gdGhpcy5fb2Zmc2V0U2Vjb25kcyk7IC8vIOODouODvOOCt+ODp+ODs+OBrumWi+Wni+aZguWIu+OCkuiomOmMslxyXG4gICAgICAgIG1vdGlvblF1ZXVlRW50cnkuc2V0RmFkZUluU3RhcnRUaW1lKHVzZXJUaW1lU2Vjb25kcyk7IC8vIOODleOCp+ODvOODieOCpOODs+OBrumWi+Wni+aZguWIu1xyXG5cclxuICAgICAgICBjb25zdCBkdXJhdGlvbjogbnVtYmVyID0gdGhpcy5nZXREdXJhdGlvbigpO1xyXG5cclxuICAgICAgICBpZiAobW90aW9uUXVldWVFbnRyeS5nZXRFbmRUaW1lKCkgPCAwKSB7XHJcbiAgICAgICAgICAvLyDplovlp4vjgZfjgabjgYTjgarjgYTjgYbjgaHjgavntYLkuoboqK3lrprjgZfjgabjgYTjgovloLTlkIjjgYzjgYLjgovjgIJcclxuICAgICAgICAgIG1vdGlvblF1ZXVlRW50cnkuc2V0RW5kVGltZShcclxuICAgICAgICAgICAgZHVyYXRpb24gPD0gMCA/IC0xIDogbW90aW9uUXVldWVFbnRyeS5nZXRTdGFydFRpbWUoKSArIGR1cmF0aW9uXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgICAgLy8gZHVyYXRpb24gPT0gLTEg44Gu5aC05ZCI44Gv44Or44O844OX44GZ44KLXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBsZXQgZmFkZVdlaWdodDogbnVtYmVyID0gdGhpcy5fd2VpZ2h0OyAvLyDnj77lnKjjga7lgKTjgajmjpvjgZHlkIjjgo/jgZvjgovlibLlkIhcclxuXHJcbiAgICAgIC8vLS0tLSDjg5Xjgqfjg7zjg4njgqTjg7Pjg7vjgqLjgqbjg4jjga7lh6bnkIYgLS0tLVxyXG4gICAgICAvLyDljZjntJTjgarjgrXjgqTjg7PplqLmlbDjgafjgqTjg7zjgrjjg7PjgrDjgZnjgotcclxuICAgICAgY29uc3QgZmFkZUluOiBudW1iZXIgPVxyXG4gICAgICAgIHRoaXMuX2ZhZGVJblNlY29uZHMgPT0gMC4wXHJcbiAgICAgICAgICA/IDEuMFxyXG4gICAgICAgICAgOiBDdWJpc21NYXRoLmdldEVhc2luZ1NpbmUoXHJcbiAgICAgICAgICAgICAgKHVzZXJUaW1lU2Vjb25kcyAtIG1vdGlvblF1ZXVlRW50cnkuZ2V0RmFkZUluU3RhcnRUaW1lKCkpIC9cclxuICAgICAgICAgICAgICAgIHRoaXMuX2ZhZGVJblNlY29uZHNcclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgIGNvbnN0IGZhZGVPdXQ6IG51bWJlciA9XHJcbiAgICAgICAgdGhpcy5fZmFkZU91dFNlY29uZHMgPT0gMC4wIHx8IG1vdGlvblF1ZXVlRW50cnkuZ2V0RW5kVGltZSgpIDwgMC4wXHJcbiAgICAgICAgICA/IDEuMFxyXG4gICAgICAgICAgOiBDdWJpc21NYXRoLmdldEVhc2luZ1NpbmUoXHJcbiAgICAgICAgICAgICAgKG1vdGlvblF1ZXVlRW50cnkuZ2V0RW5kVGltZSgpIC0gdXNlclRpbWVTZWNvbmRzKSAvXHJcbiAgICAgICAgICAgICAgICB0aGlzLl9mYWRlT3V0U2Vjb25kc1xyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgZmFkZVdlaWdodCA9IGZhZGVXZWlnaHQgKiBmYWRlSW4gKiBmYWRlT3V0O1xyXG5cclxuICAgICAgbW90aW9uUXVldWVFbnRyeS5zZXRTdGF0ZSh1c2VyVGltZVNlY29uZHMsIGZhZGVXZWlnaHQpO1xyXG5cclxuICAgICAgQ1NNX0FTU0VSVCgwLjAgPD0gZmFkZVdlaWdodCAmJiBmYWRlV2VpZ2h0IDw9IDEuMCk7XHJcblxyXG4gICAgICAvLy0tLS0g5YWo44Gm44Gu44OR44Op44Oh44O844K/SUTjgpLjg6vjg7zjg5fjgZnjgosgLS0tLVxyXG4gICAgICB0aGlzLmRvVXBkYXRlUGFyYW1ldGVycyhcclxuICAgICAgICBtb2RlbCxcclxuICAgICAgICB1c2VyVGltZVNlY29uZHMsXHJcbiAgICAgICAgZmFkZVdlaWdodCxcclxuICAgICAgICBtb3Rpb25RdWV1ZUVudHJ5XHJcbiAgICAgICk7XHJcblxyXG4gICAgICAvLyDlvozlh6bnkIZcclxuICAgICAgLy8g57WC5LqG5pmC5Yi744KS6YGO44GO44Gf44KJ57WC5LqG44OV44Op44Kw44KS56uL44Gm44KLKEN1YmlzbU1vdGlvblF1ZXVlTWFuYWdlcilcclxuICAgICAgaWYgKFxyXG4gICAgICAgIG1vdGlvblF1ZXVlRW50cnkuZ2V0RW5kVGltZSgpID4gMCAmJlxyXG4gICAgICAgIG1vdGlvblF1ZXVlRW50cnkuZ2V0RW5kVGltZSgpIDwgdXNlclRpbWVTZWNvbmRzXHJcbiAgICAgICkge1xyXG4gICAgICAgIG1vdGlvblF1ZXVlRW50cnkuc2V0SXNGaW5pc2hlZCh0cnVlKTsgLy8g57WC5LqGXHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOODleOCp+ODvOODieOCpOODs+OBruaZgumWk+OCkuioreWumuOBmeOCi1xyXG4gICAgICogQHBhcmFtIGZhZGVJblNlY29uZHMg44OV44Kn44O844OJ44Kk44Oz44Gr44GL44GL44KL5pmC6ZaTW+enkl1cclxuICAgICAqL1xyXG4gICAgcHVibGljIHNldEZhZGVJblRpbWUoZmFkZUluU2Vjb25kczogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgIHRoaXMuX2ZhZGVJblNlY29uZHMgPSBmYWRlSW5TZWNvbmRzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog44OV44Kn44O844OJ44Ki44Km44OI44Gu5pmC6ZaT44KS6Kit5a6a44GZ44KLXHJcbiAgICAgKiBAcGFyYW0gZmFkZU91dFNlY29uZHMg44OV44Kn44O844OJ44Ki44Km44OI44Gr44GL44GL44KL5pmC6ZaTW+enkl1cclxuICAgICAqL1xyXG4gICAgcHVibGljIHNldEZhZGVPdXRUaW1lKGZhZGVPdXRTZWNvbmRzOiBudW1iZXIpOiB2b2lkIHtcclxuICAgICAgdGhpcy5fZmFkZU91dFNlY29uZHMgPSBmYWRlT3V0U2Vjb25kcztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOODleOCp+ODvOODieOCouOCpuODiOOBq+OBi+OBi+OCi+aZgumWk+OBruWPluW+l1xyXG4gICAgICogQHJldHVybiDjg5Xjgqfjg7zjg4njgqLjgqbjg4jjgavjgYvjgYvjgovmmYLplpNb56eSXVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2V0RmFkZU91dFRpbWUoKTogbnVtYmVyIHtcclxuICAgICAgcmV0dXJuIHRoaXMuX2ZhZGVPdXRTZWNvbmRzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog44OV44Kn44O844OJ44Kk44Oz44Gr44GL44GL44KL5pmC6ZaT44Gu5Y+W5b6XXHJcbiAgICAgKiBAcmV0dXJuIOODleOCp+ODvOODieOCpOODs+OBq+OBi+OBi+OCi+aZgumWk1vnp5JdXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXRGYWRlSW5UaW1lKCk6IG51bWJlciB7XHJcbiAgICAgIHJldHVybiB0aGlzLl9mYWRlSW5TZWNvbmRzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog44Oi44O844K344On44Oz6YGp55So44Gu6YeN44G/44Gu6Kit5a6aXHJcbiAgICAgKiBAcGFyYW0gd2VpZ2h0IOmHjeOBv++8iDAuMCAtIDEuMO+8iVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc2V0V2VpZ2h0KHdlaWdodDogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgIHRoaXMuX3dlaWdodCA9IHdlaWdodDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOODouODvOOCt+ODp+ODs+mBqeeUqOOBrumHjeOBv+OBruWPluW+l1xyXG4gICAgICogQHJldHVybiDph43jgb/vvIgwLjAgLSAxLjDvvIlcclxuICAgICAqL1xyXG4gICAgcHVibGljIGdldFdlaWdodCgpOiBudW1iZXIge1xyXG4gICAgICByZXR1cm4gdGhpcy5fd2VpZ2h0O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog44Oi44O844K344On44Oz44Gu6ZW344GV44Gu5Y+W5b6XXHJcbiAgICAgKiBAcmV0dXJuIOODouODvOOCt+ODp+ODs+OBrumVt+OBlVvnp5JdXHJcbiAgICAgKlxyXG4gICAgICogQG5vdGUg44Or44O844OX44Gu5pmC44Gv44CMLTHjgI3jgIJcclxuICAgICAqICAgICAgIOODq+ODvOODl+OBp+OBquOBhOWgtOWQiOOBr+OAgeOCquODvOODkOODvOODqeOCpOODieOBmeOCi+OAglxyXG4gICAgICogICAgICAg5q2j44Gu5YCk44Gu5pmC44Gv5Y+W5b6X44GV44KM44KL5pmC6ZaT44Gn57WC5LqG44GZ44KL44CCXHJcbiAgICAgKiAgICAgICDjgIwtMeOAjeOBruaZguOBr+WklumDqOOBi+OCieWBnOatouWRveS7pOOBjOOBquOBhOmZkOOCiue1guOCj+OCieOBquOBhOWHpueQhuOBqOOBquOCi+OAglxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2V0RHVyYXRpb24oKTogbnVtYmVyIHtcclxuICAgICAgcmV0dXJuIC0xLjA7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDjg6Ljg7zjgrfjg6fjg7Pjga7jg6vjg7zjg5cx5Zue5YiG44Gu6ZW344GV44Gu5Y+W5b6XXHJcbiAgICAgKiBAcmV0dXJuIOODouODvOOCt+ODp+ODs+OBruODq+ODvOODl+S4gOWbnuWIhuOBrumVt+OBlVvnp5JdXHJcbiAgICAgKlxyXG4gICAgICogQG5vdGUg44Or44O844OX44GX44Gq44GE5aC05ZCI44Gv44CBZ2V0RHVyYXRpb24oKeOBqOWQjOOBmOWApOOCkui/lOOBmVxyXG4gICAgICogICAgICAg44Or44O844OX5LiA5Zue5YiG44Gu6ZW344GV44GM5a6a576p44Gn44GN44Gq44GE5aC05ZCIKOODl+ODreOCsOODqeODoOeahOOBq+WLleOBjee2muOBkeOCi+OCteODluOCr+ODqeOCueOBquOBqSnjga7loLTlkIjjga/jgIwtMeOAjeOCkui/lOOBmVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2V0TG9vcER1cmF0aW9uKCk6IG51bWJlciB7XHJcbiAgICAgIHJldHVybiAtMS4wO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog44Oi44O844K344On44Oz5YaN55Sf44Gu6ZaL5aeL5pmC5Yi744Gu6Kit5a6aXHJcbiAgICAgKiBAcGFyYW0gb2Zmc2V0U2Vjb25kcyDjg6Ljg7zjgrfjg6fjg7Plho3nlJ/jga7plovlp4vmmYLliLtb56eSXVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc2V0T2Zmc2V0VGltZShvZmZzZXRTZWNvbmRzOiBudW1iZXIpOiB2b2lkIHtcclxuICAgICAgdGhpcy5fb2Zmc2V0U2Vjb25kcyA9IG9mZnNldFNlY29uZHM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDjg6Ljg4fjg6vjga7jg5Hjg6njg6Hjg7zjgr/mm7TmlrBcclxuICAgICAqXHJcbiAgICAgKiDjgqTjg5njg7Pjg4jnmbrngavjga7jg4Hjgqfjg4Pjgq/jgIJcclxuICAgICAqIOWFpeWKm+OBmeOCi+aZgumWk+OBr+WRvOOBsOOCjOOCi+ODouODvOOCt+ODp+ODs+OCv+OCpOODn+ODs+OCsOOCku+8kOOBqOOBl+OBn+enkuaVsOOBp+ihjOOBhuOAglxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBiZWZvcmVDaGVja1RpbWVTZWNvbmRzIOWJjeWbnuOBruOCpOODmeODs+ODiOODgeOCp+ODg+OCr+aZgumWk1vnp5JdXHJcbiAgICAgKiBAcGFyYW0gbW90aW9uVGltZVNlY29uZHMg5LuK5Zue44Gu5YaN55Sf5pmC6ZaTW+enkl1cclxuICAgICAqL1xyXG4gICAgcHVibGljIGdldEZpcmVkRXZlbnQoXHJcbiAgICAgIGJlZm9yZUNoZWNrVGltZVNlY29uZHM6IG51bWJlcixcclxuICAgICAgbW90aW9uVGltZVNlY29uZHM6IG51bWJlclxyXG4gICAgKTogY3NtVmVjdG9yPGNzbVN0cmluZz4ge1xyXG4gICAgICByZXR1cm4gdGhpcy5fZmlyZWRFdmVudFZhbHVlcztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOODouODvOOCt+ODp+ODs+OCkuabtOaWsOOBl+OBpuOAgeODouODh+ODq+OBq+ODkeODqeODoeODvOOCv+WApOOCkuWPjeaYoOOBmeOCi1xyXG4gICAgICogQHBhcmFtIG1vZGVsIOWvvuixoeOBruODouODh+ODq1xyXG4gICAgICogQHBhcmFtIHVzZXJUaW1lU2Vjb25kcyDjg4fjg6vjgr/mmYLplpPjga7nqY3nrpflgKRb56eSXVxyXG4gICAgICogQHBhcmFtIHdlaWdodCDjg6Ljg7zjgrfjg6fjg7Pjga7ph43jgb9cclxuICAgICAqIEBwYXJhbSBtb3Rpb25RdWV1ZUVudHJ5IEN1YmlzbU1vdGlvblF1ZXVlTWFuYWdlcuOBp+euoeeQhuOBleOCjOOBpuOBhOOCi+ODouODvOOCt+ODp+ODs1xyXG4gICAgICogQHJldHVybiB0cnVlIOODouODh+ODq+OBuOODkeODqeODoeODvOOCv+WApOOBruWPjeaYoOOBguOCilxyXG4gICAgICogQHJldHVybiBmYWxzZSDjg6Ljg4fjg6vjgbjjga7jg5Hjg6njg6Hjg7zjgr/lgKTjga7lj43mmKDjgarjgZfvvIjjg6Ljg7zjgrfjg6fjg7Pjga7lpInljJbjgarjgZfvvIlcclxuICAgICAqL1xyXG4gICAgcHVibGljIGFic3RyYWN0IGRvVXBkYXRlUGFyYW1ldGVycyhcclxuICAgICAgbW9kZWw6IEN1YmlzbU1vZGVsLFxyXG4gICAgICB1c2VyVGltZVNlY29uZHM6IG51bWJlcixcclxuICAgICAgd2VpZ2h0OiBudW1iZXIsXHJcbiAgICAgIG1vdGlvblF1ZXVlRW50cnk6IEN1YmlzbU1vdGlvblF1ZXVlRW50cnlcclxuICAgICk6IHZvaWQ7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDjg6Ljg7zjgrfjg6fjg7Plho3nlJ/ntYLkuobjgrPjg7zjg6vjg5Djg4Pjgq/jga7nmbvpjLJcclxuICAgICAqXHJcbiAgICAgKiDjg6Ljg7zjgrfjg6fjg7Plho3nlJ/ntYLkuobjgrPjg7zjg6vjg5Djg4Pjgq/jgpLnmbvpjLLjgZnjgovjgIJcclxuICAgICAqIGlzRmluaXNoZWTjg5Xjg6njgrDjgpLoqK3lrprjgZnjgovjgr/jgqTjg5/jg7PjgrDjgaflkbzjgbPlh7rjgZXjgozjgovjgIJcclxuICAgICAqIOS7peS4i+OBrueKtuaFi+OBrumam+OBq+OBr+WRvOOBs+WHuuOBleOCjOOBquOBhDpcclxuICAgICAqICAgMS4g5YaN55Sf5Lit44Gu44Oi44O844K344On44Oz44GM44CM44Or44O844OX44CN44Go44GX44Gm6Kit5a6a44GV44KM44Gm44GE44KL44Go44GNXHJcbiAgICAgKiAgIDIuIOOCs+ODvOODq+ODkOODg+OCr+OBjOeZu+mMsuOBleOCjOOBpuOBhOOBquOBhOaZglxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBvbkZpbmlzaGVkTW90aW9uSGFuZGxlciDjg6Ljg7zjgrfjg6fjg7Plho3nlJ/ntYLkuobjgrPjg7zjg6vjg5Djg4Pjgq/plqLmlbBcclxuICAgICAqL1xyXG4gICAgcHVibGljIHNldEZpbmlzaGVkTW90aW9uSGFuZGxlciA9IChcclxuICAgICAgb25GaW5pc2hlZE1vdGlvbkhhbmRsZXI6IEZpbmlzaGVkTW90aW9uQ2FsbGJhY2tcclxuICAgICkgPT4gKHRoaXMuX29uRmluaXNoZWRNb3Rpb24gPSBvbkZpbmlzaGVkTW90aW9uSGFuZGxlcik7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDjg6Ljg7zjgrfjg6fjg7Plho3nlJ/ntYLkuobjgrPjg7zjg6vjg5Djg4Pjgq/jga7lj5blvpdcclxuICAgICAqXHJcbiAgICAgKiDjg6Ljg7zjgrfjg6fjg7Plho3nlJ/ntYLkuobjgrPjg7zjg6vjg5Djg4Pjgq/jgpLlj5blvpfjgZnjgovjgIJcclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJuIOeZu+mMsuOBleOCjOOBpuOBhOOCi+ODouODvOOCt+ODp+ODs+WGjeeUn+e1guS6huOCs+ODvOODq+ODkOODg+OCr+mWouaVsFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2V0RmluaXNoZWRNb3Rpb25IYW5kbGVyID0gKCkgPT4gdGhpcy5fb25GaW5pc2hlZE1vdGlvbjtcclxuXHJcbiAgICBwdWJsaWMgX2ZhZGVJblNlY29uZHM6IG51bWJlcjsgLy8g44OV44Kn44O844OJ44Kk44Oz44Gr44GL44GL44KL5pmC6ZaTW+enkl1cclxuICAgIHB1YmxpYyBfZmFkZU91dFNlY29uZHM6IG51bWJlcjsgLy8g44OV44Kn44O844OJ44Ki44Km44OI44Gr44GL44GL44KL5pmC6ZaTW+enkl1cclxuICAgIHB1YmxpYyBfd2VpZ2h0OiBudW1iZXI7IC8vIOODouODvOOCt+ODp+ODs+OBrumHjeOBv1xyXG4gICAgcHVibGljIF9vZmZzZXRTZWNvbmRzOiBudW1iZXI7IC8vIOODouODvOOCt+ODp+ODs+WGjeeUn+OBrumWi+Wni+aZgumWk1vnp5JdXHJcblxyXG4gICAgcHVibGljIF9maXJlZEV2ZW50VmFsdWVzOiBjc21WZWN0b3I8Y3NtU3RyaW5nPjtcclxuXHJcbiAgICAvLyDjg6Ljg7zjgrfjg6fjg7Plho3nlJ/ntYLkuobjgrPjg7zjg6vjg5Djg4Pjgq/plqLmlbBcclxuICAgIHB1YmxpYyBfb25GaW5pc2hlZE1vdGlvbj86IEZpbmlzaGVkTW90aW9uQ2FsbGJhY2s7XHJcbiAgfVxyXG59XHJcbiJdLCJtYXBwaW5ncyI6Ijs7O0FBT0E7QUFJQTtBQUNBO0FBQ0E7QUFJQTtBQUVBO0FBQUE7QUFTQTtBQWFBO0FBQUE7QUFxTkE7QUFXQTtBQS9OQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFmQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBZ0JBO0FBQ0E7QUFDQTtBQVFBO0FBS0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBRUE7QUFJQTtBQUNBO0FBRUE7QUFJQTtBQUVBO0FBQ0E7QUFFQTtBQUdBO0FBRUE7QUFDQTtBQUVBO0FBR0E7QUFFQTtBQUVBO0FBR0E7QUFTQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBV0E7QUFDQTtBQUNBO0FBU0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBV0E7QUFJQTtBQUNBO0FBbURBO0FBQUE7QUF4UEE7QUF5UEE7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./Framework/src/motion/acubismmotion.ts\n");

/***/ }),

/***/ "./Framework/src/motion/cubismexpressionmotion.ts":
/*!********************************************************!*\
  !*** ./Framework/src/motion/cubismexpressionmotion.ts ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Live2DCubismFramework = void 0;\r\nvar acubismmotion_1 = __webpack_require__(/*! ./acubismmotion */ \"./Framework/src/motion/acubismmotion.ts\");\r\nvar cubismjson_1 = __webpack_require__(/*! ../utils/cubismjson */ \"./Framework/src/utils/cubismjson.ts\");\r\nvar live2dcubismframework_1 = __webpack_require__(/*! ../live2dcubismframework */ \"./Framework/src/live2dcubismframework.ts\");\r\nvar csmvector_1 = __webpack_require__(/*! ../type/csmvector */ \"./Framework/src/type/csmvector.ts\");\r\nvar csmVector = csmvector_1.Live2DCubismFramework.csmVector;\r\nvar CubismFramework = live2dcubismframework_1.Live2DCubismFramework.CubismFramework;\r\nvar CubismJson = cubismjson_1.Live2DCubismFramework.CubismJson;\r\nvar ACubismMotion = acubismmotion_1.Live2DCubismFramework.ACubismMotion;\r\nvar Live2DCubismFramework;\r\n(function (Live2DCubismFramework) {\r\n    var ExpressionKeyFadeIn = 'FadeInTime';\r\n    var ExpressionKeyFadeOut = 'FadeOutTime';\r\n    var ExpressionKeyParameters = 'Parameters';\r\n    var ExpressionKeyId = 'Id';\r\n    var ExpressionKeyValue = 'Value';\r\n    var ExpressionKeyBlend = 'Blend';\r\n    var BlendValueAdd = 'Add';\r\n    var BlendValueMultiply = 'Multiply';\r\n    var BlendValueOverwrite = 'Overwrite';\r\n    var DefaultFadeTime = 1.0;\r\n    var CubismExpressionMotion = (function (_super) {\r\n        __extends(CubismExpressionMotion, _super);\r\n        function CubismExpressionMotion() {\r\n            var _this = _super.call(this) || this;\r\n            _this._parameters = new csmVector();\r\n            return _this;\r\n        }\r\n        CubismExpressionMotion.create = function (buffer, size) {\r\n            var expression = new CubismExpressionMotion();\r\n            var json = CubismJson.create(buffer, size);\r\n            var root = json.getRoot();\r\n            expression.setFadeInTime(root.getValueByString(ExpressionKeyFadeIn).toFloat(DefaultFadeTime));\r\n            expression.setFadeOutTime(root.getValueByString(ExpressionKeyFadeOut).toFloat(DefaultFadeTime));\r\n            var parameterCount = root\r\n                .getValueByString(ExpressionKeyParameters)\r\n                .getSize();\r\n            expression._parameters.prepareCapacity(parameterCount);\r\n            for (var i = 0; i < parameterCount; ++i) {\r\n                var param = root\r\n                    .getValueByString(ExpressionKeyParameters)\r\n                    .getValueByIndex(i);\r\n                var parameterId = CubismFramework.getIdManager().getId(param.getValueByString(ExpressionKeyId).getRawString());\r\n                var value = param\r\n                    .getValueByString(ExpressionKeyValue)\r\n                    .toFloat();\r\n                var blendType = void 0;\r\n                if (param.getValueByString(ExpressionKeyBlend).isNull() ||\r\n                    param.getValueByString(ExpressionKeyBlend).getString() ==\r\n                        BlendValueAdd) {\r\n                    blendType = ExpressionBlendType.ExpressionBlendType_Add;\r\n                }\r\n                else if (param.getValueByString(ExpressionKeyBlend).getString() ==\r\n                    BlendValueMultiply) {\r\n                    blendType = ExpressionBlendType.ExpressionBlendType_Multiply;\r\n                }\r\n                else if (param.getValueByString(ExpressionKeyBlend).getString() ==\r\n                    BlendValueOverwrite) {\r\n                    blendType = ExpressionBlendType.ExpressionBlendType_Overwrite;\r\n                }\r\n                else {\r\n                    blendType = ExpressionBlendType.ExpressionBlendType_Add;\r\n                }\r\n                var item = new ExpressionParameter();\r\n                item.parameterId = parameterId;\r\n                item.blendType = blendType;\r\n                item.value = value;\r\n                expression._parameters.pushBack(item);\r\n            }\r\n            CubismJson.delete(json);\r\n            return expression;\r\n        };\r\n        CubismExpressionMotion.prototype.doUpdateParameters = function (model, userTimeSeconds, weight, motionQueueEntry) {\r\n            for (var i = 0; i < this._parameters.getSize(); ++i) {\r\n                var parameter = this._parameters.at(i);\r\n                switch (parameter.blendType) {\r\n                    case ExpressionBlendType.ExpressionBlendType_Add: {\r\n                        model.addParameterValueById(parameter.parameterId, parameter.value, weight);\r\n                        break;\r\n                    }\r\n                    case ExpressionBlendType.ExpressionBlendType_Multiply: {\r\n                        model.multiplyParameterValueById(parameter.parameterId, parameter.value, weight);\r\n                        break;\r\n                    }\r\n                    case ExpressionBlendType.ExpressionBlendType_Overwrite: {\r\n                        model.setParameterValueById(parameter.parameterId, parameter.value, weight);\r\n                        break;\r\n                    }\r\n                    default:\r\n                        break;\r\n                }\r\n            }\r\n        };\r\n        return CubismExpressionMotion;\r\n    }(ACubismMotion));\r\n    Live2DCubismFramework.CubismExpressionMotion = CubismExpressionMotion;\r\n    var ExpressionBlendType;\r\n    (function (ExpressionBlendType) {\r\n        ExpressionBlendType[ExpressionBlendType[\"ExpressionBlendType_Add\"] = 0] = \"ExpressionBlendType_Add\";\r\n        ExpressionBlendType[ExpressionBlendType[\"ExpressionBlendType_Multiply\"] = 1] = \"ExpressionBlendType_Multiply\";\r\n        ExpressionBlendType[ExpressionBlendType[\"ExpressionBlendType_Overwrite\"] = 2] = \"ExpressionBlendType_Overwrite\";\r\n    })(ExpressionBlendType = Live2DCubismFramework.ExpressionBlendType || (Live2DCubismFramework.ExpressionBlendType = {}));\r\n    var ExpressionParameter = (function () {\r\n        function ExpressionParameter() {\r\n        }\r\n        return ExpressionParameter;\r\n    }());\r\n    Live2DCubismFramework.ExpressionParameter = ExpressionParameter;\r\n})(Live2DCubismFramework = exports.Live2DCubismFramework || (exports.Live2DCubismFramework = {}));\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9GcmFtZXdvcmsvc3JjL21vdGlvbi9jdWJpc21leHByZXNzaW9ubW90aW9uLnRzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbGl2ZTJkLy4vRnJhbWV3b3JrL3NyYy9tb3Rpb24vY3ViaXNtZXhwcmVzc2lvbm1vdGlvbi50cz84NWE2Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBDb3B5cmlnaHQoYykgTGl2ZTJEIEluYy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuICpcclxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgdGhlIExpdmUyRCBPcGVuIFNvZnR3YXJlIGxpY2Vuc2VcclxuICogdGhhdCBjYW4gYmUgZm91bmQgYXQgaHR0cHM6Ly93d3cubGl2ZTJkLmNvbS9ldWxhL2xpdmUyZC1vcGVuLXNvZnR3YXJlLWxpY2Vuc2UtYWdyZWVtZW50X2VuLmh0bWwuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgTGl2ZTJEQ3ViaXNtRnJhbWV3b3JrIGFzIGFjdWJpc21tb3Rpb24gfSBmcm9tICcuL2FjdWJpc21tb3Rpb24nO1xyXG5pbXBvcnQgeyBMaXZlMkRDdWJpc21GcmFtZXdvcmsgYXMgY3ViaXNtanNvbiB9IGZyb20gJy4uL3V0aWxzL2N1YmlzbWpzb24nO1xyXG5pbXBvcnQgeyBMaXZlMkRDdWJpc21GcmFtZXdvcmsgYXMgY3ViaXNtaWQgfSBmcm9tICcuLi9pZC9jdWJpc21pZCc7XHJcbmltcG9ydCB7IExpdmUyREN1YmlzbUZyYW1ld29yayBhcyBjdWJpc21mcmFtZXdvcmsgfSBmcm9tICcuLi9saXZlMmRjdWJpc21mcmFtZXdvcmsnO1xyXG5pbXBvcnQgeyBMaXZlMkRDdWJpc21GcmFtZXdvcmsgYXMgY3ViaXNtbW9kZWwgfSBmcm9tICcuLi9tb2RlbC9jdWJpc21tb2RlbCc7XHJcbmltcG9ydCB7IExpdmUyREN1YmlzbUZyYW1ld29yayBhcyBjdWJpc21tb3Rpb25xdWV1ZWVudHJ5IH0gZnJvbSAnLi9jdWJpc21tb3Rpb25xdWV1ZWVudHJ5JztcclxuaW1wb3J0IHsgTGl2ZTJEQ3ViaXNtRnJhbWV3b3JrIGFzIGNzbXZlY3RvciB9IGZyb20gJy4uL3R5cGUvY3NtdmVjdG9yJztcclxuaW1wb3J0IEpzb25GbG9hdCA9IGN1YmlzbWpzb24uSnNvbkZsb2F0O1xyXG5pbXBvcnQgY3NtVmVjdG9yID0gY3NtdmVjdG9yLmNzbVZlY3RvcjtcclxuaW1wb3J0IEN1YmlzbU1vdGlvblF1ZXVlRW50cnkgPSBjdWJpc21tb3Rpb25xdWV1ZWVudHJ5LkN1YmlzbU1vdGlvblF1ZXVlRW50cnk7XHJcbmltcG9ydCBDdWJpc21Nb2RlbCA9IGN1YmlzbW1vZGVsLkN1YmlzbU1vZGVsO1xyXG5pbXBvcnQgQ3ViaXNtRnJhbWV3b3JrID0gY3ViaXNtZnJhbWV3b3JrLkN1YmlzbUZyYW1ld29yaztcclxuaW1wb3J0IEN1YmlzbUlkSGFuZGxlID0gY3ViaXNtaWQuQ3ViaXNtSWRIYW5kbGU7XHJcbmltcG9ydCBDdWJpc21Kc29uID0gY3ViaXNtanNvbi5DdWJpc21Kc29uO1xyXG5pbXBvcnQgVmFsdWUgPSBjdWJpc21qc29uLlZhbHVlO1xyXG5pbXBvcnQgQUN1YmlzbU1vdGlvbiA9IGFjdWJpc21tb3Rpb24uQUN1YmlzbU1vdGlvbjtcclxuXHJcbmV4cG9ydCBuYW1lc3BhY2UgTGl2ZTJEQ3ViaXNtRnJhbWV3b3JrIHtcclxuICAvLyBleHAzLmpzb27jga7jgq3jg7zjgajjg4fjg5Xjgqnjg6vjg4hcclxuICBjb25zdCBFeHByZXNzaW9uS2V5RmFkZUluID0gJ0ZhZGVJblRpbWUnO1xyXG4gIGNvbnN0IEV4cHJlc3Npb25LZXlGYWRlT3V0ID0gJ0ZhZGVPdXRUaW1lJztcclxuICBjb25zdCBFeHByZXNzaW9uS2V5UGFyYW1ldGVycyA9ICdQYXJhbWV0ZXJzJztcclxuICBjb25zdCBFeHByZXNzaW9uS2V5SWQgPSAnSWQnO1xyXG4gIGNvbnN0IEV4cHJlc3Npb25LZXlWYWx1ZSA9ICdWYWx1ZSc7XHJcbiAgY29uc3QgRXhwcmVzc2lvbktleUJsZW5kID0gJ0JsZW5kJztcclxuICBjb25zdCBCbGVuZFZhbHVlQWRkID0gJ0FkZCc7XHJcbiAgY29uc3QgQmxlbmRWYWx1ZU11bHRpcGx5ID0gJ011bHRpcGx5JztcclxuICBjb25zdCBCbGVuZFZhbHVlT3ZlcndyaXRlID0gJ092ZXJ3cml0ZSc7XHJcbiAgY29uc3QgRGVmYXVsdEZhZGVUaW1lID0gMS4wO1xyXG5cclxuICAvKipcclxuICAgKiDooajmg4Xjga7jg6Ljg7zjgrfjg6fjg7NcclxuICAgKlxyXG4gICAqIOihqOaDheOBruODouODvOOCt+ODp+ODs+OCr+ODqeOCueOAglxyXG4gICAqL1xyXG4gIGV4cG9ydCBjbGFzcyBDdWJpc21FeHByZXNzaW9uTW90aW9uIGV4dGVuZHMgQUN1YmlzbU1vdGlvbiB7XHJcbiAgICAvKipcclxuICAgICAqIOOCpOODs+OCueOCv+ODs+OCueOCkuS9nOaIkOOBmeOCi+OAglxyXG4gICAgICogQHBhcmFtIGJ1ZmZlciBleHDjg5XjgqHjgqTjg6vjgYzoqq3jgb/ovrzjgb7jgozjgabjgYTjgovjg5Djg4Pjg5XjgqFcclxuICAgICAqIEBwYXJhbSBzaXplIOODkOODg+ODleOCoeOBruOCteOCpOOCulxyXG4gICAgICogQHJldHVybiDkvZzmiJDjgZXjgozjgZ/jgqTjg7Pjgrnjgr/jg7PjgrlcclxuICAgICAqL1xyXG4gICAgcHVibGljIHN0YXRpYyBjcmVhdGUoXHJcbiAgICAgIGJ1ZmZlcjogQXJyYXlCdWZmZXIsXHJcbiAgICAgIHNpemU6IG51bWJlclxyXG4gICAgKTogQ3ViaXNtRXhwcmVzc2lvbk1vdGlvbiB7XHJcbiAgICAgIGNvbnN0IGV4cHJlc3Npb246IEN1YmlzbUV4cHJlc3Npb25Nb3Rpb24gPSBuZXcgQ3ViaXNtRXhwcmVzc2lvbk1vdGlvbigpO1xyXG5cclxuICAgICAgY29uc3QganNvbjogQ3ViaXNtSnNvbiA9IEN1YmlzbUpzb24uY3JlYXRlKGJ1ZmZlciwgc2l6ZSk7XHJcbiAgICAgIGNvbnN0IHJvb3Q6IFZhbHVlID0ganNvbi5nZXRSb290KCk7XHJcblxyXG4gICAgICBleHByZXNzaW9uLnNldEZhZGVJblRpbWUoXHJcbiAgICAgICAgcm9vdC5nZXRWYWx1ZUJ5U3RyaW5nKEV4cHJlc3Npb25LZXlGYWRlSW4pLnRvRmxvYXQoRGVmYXVsdEZhZGVUaW1lKVxyXG4gICAgICApOyAvLyDjg5Xjgqfjg7zjg4njgqTjg7NcclxuICAgICAgZXhwcmVzc2lvbi5zZXRGYWRlT3V0VGltZShcclxuICAgICAgICByb290LmdldFZhbHVlQnlTdHJpbmcoRXhwcmVzc2lvbktleUZhZGVPdXQpLnRvRmxvYXQoRGVmYXVsdEZhZGVUaW1lKVxyXG4gICAgICApOyAvLyDjg5Xjgqfjg7zjg4njgqLjgqbjg4hcclxuXHJcbiAgICAgIC8vIOWQhOODkeODqeODoeODvOOCv+OBq+OBpOOBhOOBplxyXG4gICAgICBjb25zdCBwYXJhbWV0ZXJDb3VudCA9IHJvb3RcclxuICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhFeHByZXNzaW9uS2V5UGFyYW1ldGVycylcclxuICAgICAgICAuZ2V0U2l6ZSgpO1xyXG4gICAgICBleHByZXNzaW9uLl9wYXJhbWV0ZXJzLnByZXBhcmVDYXBhY2l0eShwYXJhbWV0ZXJDb3VudCk7XHJcblxyXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhcmFtZXRlckNvdW50OyArK2kpIHtcclxuICAgICAgICBjb25zdCBwYXJhbTogVmFsdWUgPSByb290XHJcbiAgICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhFeHByZXNzaW9uS2V5UGFyYW1ldGVycylcclxuICAgICAgICAgIC5nZXRWYWx1ZUJ5SW5kZXgoaSk7XHJcbiAgICAgICAgY29uc3QgcGFyYW1ldGVySWQ6IEN1YmlzbUlkSGFuZGxlID0gQ3ViaXNtRnJhbWV3b3JrLmdldElkTWFuYWdlcigpLmdldElkKFxyXG4gICAgICAgICAgcGFyYW0uZ2V0VmFsdWVCeVN0cmluZyhFeHByZXNzaW9uS2V5SWQpLmdldFJhd1N0cmluZygpXHJcbiAgICAgICAgKTsgLy8g44OR44Op44Oh44O844K/SURcclxuXHJcbiAgICAgICAgY29uc3QgdmFsdWU6IG51bWJlciA9IHBhcmFtXHJcbiAgICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhFeHByZXNzaW9uS2V5VmFsdWUpXHJcbiAgICAgICAgICAudG9GbG9hdCgpOyAvLyDlgKRcclxuXHJcbiAgICAgICAgLy8g6KiI566X5pa55rOV44Gu6Kit5a6aXHJcbiAgICAgICAgbGV0IGJsZW5kVHlwZTogRXhwcmVzc2lvbkJsZW5kVHlwZTtcclxuXHJcbiAgICAgICAgaWYgKFxyXG4gICAgICAgICAgcGFyYW0uZ2V0VmFsdWVCeVN0cmluZyhFeHByZXNzaW9uS2V5QmxlbmQpLmlzTnVsbCgpIHx8XHJcbiAgICAgICAgICBwYXJhbS5nZXRWYWx1ZUJ5U3RyaW5nKEV4cHJlc3Npb25LZXlCbGVuZCkuZ2V0U3RyaW5nKCkgPT1cclxuICAgICAgICAgICAgQmxlbmRWYWx1ZUFkZFxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgYmxlbmRUeXBlID0gRXhwcmVzc2lvbkJsZW5kVHlwZS5FeHByZXNzaW9uQmxlbmRUeXBlX0FkZDtcclxuICAgICAgICB9IGVsc2UgaWYgKFxyXG4gICAgICAgICAgcGFyYW0uZ2V0VmFsdWVCeVN0cmluZyhFeHByZXNzaW9uS2V5QmxlbmQpLmdldFN0cmluZygpID09XHJcbiAgICAgICAgICBCbGVuZFZhbHVlTXVsdGlwbHlcclxuICAgICAgICApIHtcclxuICAgICAgICAgIGJsZW5kVHlwZSA9IEV4cHJlc3Npb25CbGVuZFR5cGUuRXhwcmVzc2lvbkJsZW5kVHlwZV9NdWx0aXBseTtcclxuICAgICAgICB9IGVsc2UgaWYgKFxyXG4gICAgICAgICAgcGFyYW0uZ2V0VmFsdWVCeVN0cmluZyhFeHByZXNzaW9uS2V5QmxlbmQpLmdldFN0cmluZygpID09XHJcbiAgICAgICAgICBCbGVuZFZhbHVlT3ZlcndyaXRlXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICBibGVuZFR5cGUgPSBFeHByZXNzaW9uQmxlbmRUeXBlLkV4cHJlc3Npb25CbGVuZFR5cGVfT3ZlcndyaXRlO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAvLyDjgZ3jga7ku5Yg5LuV5qeY44Gr44Gq44GE5YCk44KS6Kit5a6a44GX44Gf5pmC44Gv5Yqg566X44Oi44O844OJ44Gr44GZ44KL44GT44Go44Gn5b6p5penXHJcbiAgICAgICAgICBibGVuZFR5cGUgPSBFeHByZXNzaW9uQmxlbmRUeXBlLkV4cHJlc3Npb25CbGVuZFR5cGVfQWRkO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8g6Kit5a6a44Kq44OW44K444Kn44Kv44OI44KS5L2c5oiQ44GX44Gm44Oq44K544OI44Gr6L+95Yqg44GZ44KLXHJcbiAgICAgICAgY29uc3QgaXRlbTogRXhwcmVzc2lvblBhcmFtZXRlciA9IG5ldyBFeHByZXNzaW9uUGFyYW1ldGVyKCk7XHJcblxyXG4gICAgICAgIGl0ZW0ucGFyYW1ldGVySWQgPSBwYXJhbWV0ZXJJZDtcclxuICAgICAgICBpdGVtLmJsZW5kVHlwZSA9IGJsZW5kVHlwZTtcclxuICAgICAgICBpdGVtLnZhbHVlID0gdmFsdWU7XHJcblxyXG4gICAgICAgIGV4cHJlc3Npb24uX3BhcmFtZXRlcnMucHVzaEJhY2soaXRlbSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIEN1YmlzbUpzb24uZGVsZXRlKGpzb24pOyAvLyBKU09O44OH44O844K/44Gv5LiN6KaB44Gr44Gq44Gj44Gf44KJ5YmK6Zmk44GZ44KLXHJcbiAgICAgIHJldHVybiBleHByZXNzaW9uO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog44Oi44OH44Or44Gu44OR44Op44Oh44O844K/44Gu5pu05paw44Gu5a6f6KGMXHJcbiAgICAgKiBAcGFyYW0gbW9kZWwg5a++6LGh44Gu44Oi44OH44OrXHJcbiAgICAgKiBAcGFyYW0gdXNlclRpbWVTZWNvbmRzIOODh+ODq+OCv+aZgumWk+OBruepjeeul+WApFvnp5JdXHJcbiAgICAgKiBAcGFyYW0gd2VpZ2h0IOODouODvOOCt+ODp+ODs+OBrumHjeOBv1xyXG4gICAgICogQHBhcmFtIG1vdGlvblF1ZXVlRW50cnkgQ3ViaXNtTW90aW9uUXVldWVNYW5hZ2Vy44Gn566h55CG44GV44KM44Gm44GE44KL44Oi44O844K344On44OzXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBkb1VwZGF0ZVBhcmFtZXRlcnMoXHJcbiAgICAgIG1vZGVsOiBDdWJpc21Nb2RlbCxcclxuICAgICAgdXNlclRpbWVTZWNvbmRzOiBudW1iZXIsXHJcbiAgICAgIHdlaWdodDogbnVtYmVyLFxyXG4gICAgICBtb3Rpb25RdWV1ZUVudHJ5OiBDdWJpc21Nb3Rpb25RdWV1ZUVudHJ5XHJcbiAgICApOiB2b2lkIHtcclxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9wYXJhbWV0ZXJzLmdldFNpemUoKTsgKytpKSB7XHJcbiAgICAgICAgY29uc3QgcGFyYW1ldGVyOiBFeHByZXNzaW9uUGFyYW1ldGVyID0gdGhpcy5fcGFyYW1ldGVycy5hdChpKTtcclxuXHJcbiAgICAgICAgc3dpdGNoIChwYXJhbWV0ZXIuYmxlbmRUeXBlKSB7XHJcbiAgICAgICAgICBjYXNlIEV4cHJlc3Npb25CbGVuZFR5cGUuRXhwcmVzc2lvbkJsZW5kVHlwZV9BZGQ6IHtcclxuICAgICAgICAgICAgbW9kZWwuYWRkUGFyYW1ldGVyVmFsdWVCeUlkKFxyXG4gICAgICAgICAgICAgIHBhcmFtZXRlci5wYXJhbWV0ZXJJZCxcclxuICAgICAgICAgICAgICBwYXJhbWV0ZXIudmFsdWUsXHJcbiAgICAgICAgICAgICAgd2VpZ2h0XHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgY2FzZSBFeHByZXNzaW9uQmxlbmRUeXBlLkV4cHJlc3Npb25CbGVuZFR5cGVfTXVsdGlwbHk6IHtcclxuICAgICAgICAgICAgbW9kZWwubXVsdGlwbHlQYXJhbWV0ZXJWYWx1ZUJ5SWQoXHJcbiAgICAgICAgICAgICAgcGFyYW1ldGVyLnBhcmFtZXRlcklkLFxyXG4gICAgICAgICAgICAgIHBhcmFtZXRlci52YWx1ZSxcclxuICAgICAgICAgICAgICB3ZWlnaHRcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBjYXNlIEV4cHJlc3Npb25CbGVuZFR5cGUuRXhwcmVzc2lvbkJsZW5kVHlwZV9PdmVyd3JpdGU6IHtcclxuICAgICAgICAgICAgbW9kZWwuc2V0UGFyYW1ldGVyVmFsdWVCeUlkKFxyXG4gICAgICAgICAgICAgIHBhcmFtZXRlci5wYXJhbWV0ZXJJZCxcclxuICAgICAgICAgICAgICBwYXJhbWV0ZXIudmFsdWUsXHJcbiAgICAgICAgICAgICAgd2VpZ2h0XHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgLy8g5LuV5qeY44Gr44Gq44GE5YCk44KS6Kit5a6a44GX44Gf5pmC44Gv44GZ44Gn44Gr5Yqg566X44Oi44O844OJ44Gr44Gq44Gj44Gm44GE44KLXHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog44Kz44Oz44K544OI44Op44Kv44K/XHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICBzdXBlcigpO1xyXG5cclxuICAgICAgdGhpcy5fcGFyYW1ldGVycyA9IG5ldyBjc21WZWN0b3I8RXhwcmVzc2lvblBhcmFtZXRlcj4oKTtcclxuICAgIH1cclxuXHJcbiAgICBfcGFyYW1ldGVyczogY3NtVmVjdG9yPEV4cHJlc3Npb25QYXJhbWV0ZXI+OyAvLyDooajmg4Xjga7jg5Hjg6njg6Hjg7zjgr/mg4XloLHjg6rjgrnjg4hcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOihqOaDheODkeODqeODoeODvOOCv+WApOOBruioiOeul+aWueW8j1xyXG4gICAqL1xyXG4gIGV4cG9ydCBlbnVtIEV4cHJlc3Npb25CbGVuZFR5cGUge1xyXG4gICAgRXhwcmVzc2lvbkJsZW5kVHlwZV9BZGQgPSAwLCAvLyDliqDnrpdcclxuICAgIEV4cHJlc3Npb25CbGVuZFR5cGVfTXVsdGlwbHkgPSAxLCAvLyDkuZfnrpdcclxuICAgIEV4cHJlc3Npb25CbGVuZFR5cGVfT3ZlcndyaXRlID0gMiAvLyDkuIrmm7jjgY1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOihqOaDheOBruODkeODqeODoeODvOOCv+aDheWgsVxyXG4gICAqL1xyXG4gIGV4cG9ydCBjbGFzcyBFeHByZXNzaW9uUGFyYW1ldGVyIHtcclxuICAgIHBhcmFtZXRlcklkOiBDdWJpc21JZEhhbmRsZTsgLy8g44OR44Op44Oh44O844K/SURcclxuICAgIGJsZW5kVHlwZTogRXhwcmVzc2lvbkJsZW5kVHlwZTsgLy8g44OR44Op44Oh44O844K/44Gu5ryU566X56iu6aGeXHJcbiAgICB2YWx1ZTogbnVtYmVyOyAvLyDlgKRcclxuICB9XHJcbn1cclxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBT0E7QUFDQTtBQUVBO0FBR0E7QUFFQTtBQUdBO0FBRUE7QUFFQTtBQUVBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBQUE7QUFrSUE7QUFBQTtBQUdBOztBQUNBO0FBL0hBO0FBSUE7QUFFQTtBQUNBO0FBRUE7QUFHQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUdBO0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBRUE7QUFFQTtBQUNBO0FBQUE7QUFFQTtBQUVBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFHQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFTQTtBQU1BO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFZQTtBQUFBO0FBeklBO0FBOElBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQUE7QUFJQTtBQUFBO0FBQUE7QUFKQTtBQUtBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./Framework/src/motion/cubismexpressionmotion.ts\n");

/***/ }),

/***/ "./Framework/src/motion/cubismmotion.ts":
/*!**********************************************!*\
  !*** ./Framework/src/motion/cubismmotion.ts ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Live2DCubismFramework = void 0;\r\nvar cubismmotionjson_1 = __webpack_require__(/*! ./cubismmotionjson */ \"./Framework/src/motion/cubismmotionjson.ts\");\r\nvar cubismmotioninternal_1 = __webpack_require__(/*! ./cubismmotioninternal */ \"./Framework/src/motion/cubismmotioninternal.ts\");\r\nvar acubismmotion_1 = __webpack_require__(/*! ./acubismmotion */ \"./Framework/src/motion/acubismmotion.ts\");\r\nvar live2dcubismframework_1 = __webpack_require__(/*! ../live2dcubismframework */ \"./Framework/src/live2dcubismframework.ts\");\r\nvar cubismmath_1 = __webpack_require__(/*! ../math/cubismmath */ \"./Framework/src/math/cubismmath.ts\");\r\nvar csmstring_1 = __webpack_require__(/*! ../type/csmstring */ \"./Framework/src/type/csmstring.ts\");\r\nvar cubismdebug_1 = __webpack_require__(/*! ../utils/cubismdebug */ \"./Framework/src/utils/cubismdebug.ts\");\r\nvar csmString = csmstring_1.Live2DCubismFramework.csmString;\r\nvar CubismMotionData = cubismmotioninternal_1.Live2DCubismFramework.CubismMotionData;\r\nvar CubismMotionSegment = cubismmotioninternal_1.Live2DCubismFramework.CubismMotionSegment;\r\nvar CubismMotionPoint = cubismmotioninternal_1.Live2DCubismFramework.CubismMotionPoint;\r\nvar CubismMotionEvent = cubismmotioninternal_1.Live2DCubismFramework.CubismMotionEvent;\r\nvar CubismMotionSegmentType = cubismmotioninternal_1.Live2DCubismFramework.CubismMotionSegmentType;\r\nvar CubismMotionCurve = cubismmotioninternal_1.Live2DCubismFramework.CubismMotionCurve;\r\nvar CubismMotionCurveTarget = cubismmotioninternal_1.Live2DCubismFramework.CubismMotionCurveTarget;\r\nvar CubismMath = cubismmath_1.Live2DCubismFramework.CubismMath;\r\nvar CubismFramework = live2dcubismframework_1.Live2DCubismFramework.CubismFramework;\r\nvar ACubismMotion = acubismmotion_1.Live2DCubismFramework.ACubismMotion;\r\nvar CubismMotionJson = cubismmotionjson_1.Live2DCubismFramework.CubismMotionJson;\r\nvar Live2DCubismFramework;\r\n(function (Live2DCubismFramework) {\r\n    var EffectNameEyeBlink = 'EyeBlink';\r\n    var EffectNameLipSync = 'LipSync';\r\n    var TargetNameModel = 'Model';\r\n    var TargetNameParameter = 'Parameter';\r\n    var TargetNamePartOpacity = 'PartOpacity';\r\n    function lerpPoints(a, b, t) {\r\n        var result = new CubismMotionPoint();\r\n        result.time = a.time + (b.time - a.time) * t;\r\n        result.value = a.value + (b.value - a.value) * t;\r\n        return result;\r\n    }\r\n    function linearEvaluate(points, time) {\r\n        var t;\r\n        if (points[0] && points[0].time != 0) {\r\n            t = (time - points[0].time) / (points[1].time - points[0].time);\r\n        }\r\n        else if (points[2] && points[2].time) {\r\n            t = (time - points[1].time) / (points[2].time - points[1].time);\r\n        }\r\n        else if (points.length > 0) {\r\n            t = (time - points[0].time) / (points[1].time - points[0].time);\r\n        }\r\n        if (t < 0.0) {\r\n            t = 0.0;\r\n        }\r\n        return points[0].value + (points[1].value - points[0].value) * t;\r\n    }\r\n    function bezierEvaluate(points, time) {\r\n        var t = (time - points[0].time) / (points[3].time - points[0].time);\r\n        if (t < 0.0) {\r\n            t = 0.0;\r\n        }\r\n        var p01 = lerpPoints(points[0], points[1], t);\r\n        var p12 = lerpPoints(points[1], points[2], t);\r\n        var p23 = lerpPoints(points[2], points[3], t);\r\n        var p012 = lerpPoints(p01, p12, t);\r\n        var p123 = lerpPoints(p12, p23, t);\r\n        return lerpPoints(p012, p123, t).value;\r\n    }\r\n    function steppedEvaluate(points, time) {\r\n        return points[0].value;\r\n    }\r\n    function inverseSteppedEvaluate(points, time) {\r\n        return points[1].value;\r\n    }\r\n    function evaluateCurve(motionData, index, time) {\r\n        var curve = motionData.curves.at(index);\r\n        var target = -1;\r\n        var totalSegmentCount = curve.baseSegmentIndex + curve.segmentCount;\r\n        var pointPosition = 0;\r\n        for (var i = curve.baseSegmentIndex; i < totalSegmentCount; ++i) {\r\n            pointPosition = motionData.segments.at(i).basePointIndex + (motionData.segments.at(i).segmentType == CubismMotionSegmentType.CubismMotionSegmentType_Bezier ? 3 : 1);\r\n            if (pointPosition >= motionData.points._size) {\r\n                pointPosition = motionData.points._size - 3;\r\n            }\r\n            if (motionData.points.at(pointPosition).time > time) {\r\n                target = i;\r\n                break;\r\n            }\r\n        }\r\n        if (target == -1) {\r\n            return motionData.points.at(pointPosition).value;\r\n        }\r\n        var segment = motionData.segments.at(target);\r\n        return segment.evaluate(motionData.points.get(segment.basePointIndex), time);\r\n    }\r\n    var CubismMotion = (function (_super) {\r\n        __extends(CubismMotion, _super);\r\n        function CubismMotion() {\r\n            var _this = _super.call(this) || this;\r\n            _this._sourceFrameRate = 30.0;\r\n            _this._loopDurationSeconds = -1.0;\r\n            _this._isLoop = false;\r\n            _this._isLoopFadeIn = true;\r\n            _this._lastWeight = 0.0;\r\n            _this._motionData = null;\r\n            _this._modelCurveIdEyeBlink = null;\r\n            _this._modelCurveIdLipSync = null;\r\n            _this._eyeBlinkParameterIds = null;\r\n            _this._lipSyncParameterIds = null;\r\n            return _this;\r\n        }\r\n        CubismMotion.create = function (buffer, size, onFinishedMotionHandler) {\r\n            var ret = new CubismMotion();\r\n            ret.parse(buffer, size);\r\n            ret._sourceFrameRate = ret._motionData.fps;\r\n            ret._loopDurationSeconds = ret._motionData.duration;\r\n            ret._onFinishedMotion = onFinishedMotionHandler;\r\n            return ret;\r\n        };\r\n        CubismMotion.prototype.doUpdateParameters = function (model, userTimeSeconds, fadeWeight, motionQueueEntry) {\r\n            if (this._modelCurveIdEyeBlink == null) {\r\n                this._modelCurveIdEyeBlink = CubismFramework.getIdManager().getId(EffectNameEyeBlink);\r\n            }\r\n            if (this._modelCurveIdLipSync == null) {\r\n                this._modelCurveIdLipSync = CubismFramework.getIdManager().getId(EffectNameLipSync);\r\n            }\r\n            var timeOffsetSeconds = userTimeSeconds - motionQueueEntry.getStartTime();\r\n            if (timeOffsetSeconds < 0.0) {\r\n                timeOffsetSeconds = 0.0;\r\n            }\r\n            var lipSyncValue = Number.MAX_VALUE;\r\n            var eyeBlinkValue = Number.MAX_VALUE;\r\n            var MaxTargetSize = 64;\r\n            var lipSyncFlags = 0;\r\n            var eyeBlinkFlags = 0;\r\n            if (this._eyeBlinkParameterIds.getSize() > MaxTargetSize) {\r\n                cubismdebug_1.CubismLogDebug('too many eye blink targets : {0}', this._eyeBlinkParameterIds.getSize());\r\n            }\r\n            if (this._lipSyncParameterIds.getSize() > MaxTargetSize) {\r\n                cubismdebug_1.CubismLogDebug('too many lip sync targets : {0}', this._lipSyncParameterIds.getSize());\r\n            }\r\n            var tmpFadeIn = this._fadeInSeconds <= 0.0\r\n                ? 1.0\r\n                : CubismMath.getEasingSine((userTimeSeconds - motionQueueEntry.getFadeInStartTime()) /\r\n                    this._fadeInSeconds);\r\n            var tmpFadeOut = this._fadeOutSeconds <= 0.0 || motionQueueEntry.getEndTime() < 0.0\r\n                ? 1.0\r\n                : CubismMath.getEasingSine((motionQueueEntry.getEndTime() - userTimeSeconds) /\r\n                    this._fadeOutSeconds);\r\n            var value;\r\n            var c, parameterIndex;\r\n            var time = timeOffsetSeconds;\r\n            if (this._isLoop) {\r\n                while (time > this._motionData.duration) {\r\n                    time -= this._motionData.duration;\r\n                }\r\n            }\r\n            var curves = this._motionData.curves;\r\n            for (c = 0; c < this._motionData.curveCount &&\r\n                curves.at(c).type ==\r\n                    CubismMotionCurveTarget.CubismMotionCurveTarget_Model; ++c) {\r\n                value = evaluateCurve(this._motionData, c, time);\r\n                if (curves.at(c).id == this._modelCurveIdEyeBlink) {\r\n                    eyeBlinkValue = value;\r\n                }\r\n                else if (curves.at(c).id == this._modelCurveIdLipSync) {\r\n                    lipSyncValue = value;\r\n                }\r\n            }\r\n            var parameterMotionCurveCount = 0;\r\n            for (; c < this._motionData.curveCount &&\r\n                curves.at(c).type ==\r\n                    CubismMotionCurveTarget.CubismMotionCurveTarget_Parameter; ++c) {\r\n                parameterMotionCurveCount++;\r\n                parameterIndex = model.getParameterIndex(curves.at(c).id);\r\n                if (parameterIndex == -1) {\r\n                    continue;\r\n                }\r\n                var sourceValue = model.getParameterValueByIndex(parameterIndex);\r\n                value = evaluateCurve(this._motionData, c, time);\r\n                if (eyeBlinkValue != Number.MAX_VALUE) {\r\n                    for (var i = 0; i < this._eyeBlinkParameterIds.getSize() && i < MaxTargetSize; ++i) {\r\n                        if (this._eyeBlinkParameterIds.at(i) == curves.at(c).id) {\r\n                            value *= eyeBlinkValue;\r\n                            eyeBlinkFlags |= 1 << i;\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n                if (lipSyncValue != Number.MAX_VALUE) {\r\n                    for (var i = 0; i < this._lipSyncParameterIds.getSize() && i < MaxTargetSize; ++i) {\r\n                        if (this._lipSyncParameterIds.at(i) == curves.at(c).id) {\r\n                            value += lipSyncValue;\r\n                            lipSyncFlags |= 1 << i;\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n                var v = void 0;\r\n                if (curves.at(c).fadeInTime < 0.0 && curves.at(c).fadeOutTime < 0.0) {\r\n                    v = sourceValue + (value - sourceValue) * fadeWeight;\r\n                }\r\n                else {\r\n                    var fin = void 0;\r\n                    var fout = void 0;\r\n                    if (curves.at(c).fadeInTime < 0.0) {\r\n                        fin = tmpFadeIn;\r\n                    }\r\n                    else {\r\n                        fin =\r\n                            curves.at(c).fadeInTime == 0.0\r\n                                ? 1.0\r\n                                : CubismMath.getEasingSine((userTimeSeconds - motionQueueEntry.getFadeInStartTime()) /\r\n                                    curves.at(c).fadeInTime);\r\n                    }\r\n                    if (curves.at(c).fadeOutTime < 0.0) {\r\n                        fout = tmpFadeOut;\r\n                    }\r\n                    else {\r\n                        fout =\r\n                            curves.at(c).fadeOutTime == 0.0 ||\r\n                                motionQueueEntry.getEndTime() < 0.0\r\n                                ? 1.0\r\n                                : CubismMath.getEasingSine((motionQueueEntry.getEndTime() - userTimeSeconds) /\r\n                                    curves.at(c).fadeOutTime);\r\n                    }\r\n                    var paramWeight = this._weight * fin * fout;\r\n                    v = sourceValue + (value - sourceValue) * paramWeight;\r\n                }\r\n                model.setParameterValueByIndex(parameterIndex, v, 1.0);\r\n            }\r\n            {\r\n                if (eyeBlinkValue != Number.MAX_VALUE) {\r\n                    for (var i = 0; i < this._eyeBlinkParameterIds.getSize() && i < MaxTargetSize; ++i) {\r\n                        var sourceValue = model.getParameterValueById(this._eyeBlinkParameterIds.at(i));\r\n                        if ((eyeBlinkFlags >> i) & 0x01) {\r\n                            continue;\r\n                        }\r\n                        var v = sourceValue + (eyeBlinkValue - sourceValue) * fadeWeight;\r\n                        model.setParameterValueById(this._eyeBlinkParameterIds.at(i), v);\r\n                    }\r\n                }\r\n                if (lipSyncValue != Number.MAX_VALUE) {\r\n                    for (var i = 0; i < this._lipSyncParameterIds.getSize() && i < MaxTargetSize; ++i) {\r\n                        var sourceValue = model.getParameterValueById(this._lipSyncParameterIds.at(i));\r\n                        if ((lipSyncFlags >> i) & 0x01) {\r\n                            continue;\r\n                        }\r\n                        var v = sourceValue + (lipSyncValue - sourceValue) * fadeWeight;\r\n                        model.setParameterValueById(this._lipSyncParameterIds.at(i), v);\r\n                    }\r\n                }\r\n            }\r\n            for (; c < this._motionData.curveCount &&\r\n                curves.at(c).type ==\r\n                    CubismMotionCurveTarget.CubismMotionCurveTarget_PartOpacity; ++c) {\r\n                parameterIndex = model.getParameterIndex(curves.at(c).id);\r\n                if (parameterIndex == -1) {\r\n                    continue;\r\n                }\r\n                value = evaluateCurve(this._motionData, c, time);\r\n                model.setParameterValueByIndex(parameterIndex, value);\r\n            }\r\n            if (timeOffsetSeconds >= this._motionData.duration) {\r\n                if (this._isLoop) {\r\n                    motionQueueEntry.setStartTime(userTimeSeconds);\r\n                    if (this._isLoopFadeIn) {\r\n                        motionQueueEntry.setFadeInStartTime(userTimeSeconds);\r\n                    }\r\n                }\r\n                else {\r\n                    if (this._onFinishedMotion) {\r\n                        this._onFinishedMotion(this);\r\n                    }\r\n                    motionQueueEntry.setIsFinished(true);\r\n                }\r\n            }\r\n            this._lastWeight = fadeWeight;\r\n        };\r\n        CubismMotion.prototype.setIsLoop = function (loop) {\r\n            this._isLoop = loop;\r\n        };\r\n        CubismMotion.prototype.isLoop = function () {\r\n            return this._isLoop;\r\n        };\r\n        CubismMotion.prototype.setIsLoopFadeIn = function (loopFadeIn) {\r\n            this._isLoopFadeIn = loopFadeIn;\r\n        };\r\n        CubismMotion.prototype.isLoopFadeIn = function () {\r\n            return this._isLoopFadeIn;\r\n        };\r\n        CubismMotion.prototype.getDuration = function () {\r\n            return this._isLoop ? -1.0 : this._loopDurationSeconds;\r\n        };\r\n        CubismMotion.prototype.getLoopDuration = function () {\r\n            return this._loopDurationSeconds;\r\n        };\r\n        CubismMotion.prototype.setParameterFadeInTime = function (parameterId, value) {\r\n            var curves = this._motionData.curves;\r\n            for (var i = 0; i < this._motionData.curveCount; ++i) {\r\n                if (parameterId == curves.at(i).id) {\r\n                    curves.at(i).fadeInTime = value;\r\n                    return;\r\n                }\r\n            }\r\n        };\r\n        CubismMotion.prototype.setParameterFadeOutTime = function (parameterId, value) {\r\n            var curves = this._motionData.curves;\r\n            for (var i = 0; i < this._motionData.curveCount; ++i) {\r\n                if (parameterId == curves.at(i).id) {\r\n                    curves.at(i).fadeOutTime = value;\r\n                    return;\r\n                }\r\n            }\r\n        };\r\n        CubismMotion.prototype.getParameterFadeInTime = function (parameterId) {\r\n            var curves = this._motionData.curves;\r\n            for (var i = 0; i < this._motionData.curveCount; ++i) {\r\n                if (parameterId == curves.at(i).id) {\r\n                    return curves.at(i).fadeInTime;\r\n                }\r\n            }\r\n            return -1;\r\n        };\r\n        CubismMotion.prototype.getParameterFadeOutTime = function (parameterId) {\r\n            var curves = this._motionData.curves;\r\n            for (var i = 0; i < this._motionData.curveCount; ++i) {\r\n                if (parameterId == curves.at(i).id) {\r\n                    return curves.at(i).fadeOutTime;\r\n                }\r\n            }\r\n            return -1;\r\n        };\r\n        CubismMotion.prototype.setEffectIds = function (eyeBlinkParameterIds, lipSyncParameterIds) {\r\n            this._eyeBlinkParameterIds = eyeBlinkParameterIds;\r\n            this._lipSyncParameterIds = lipSyncParameterIds;\r\n        };\r\n        CubismMotion.prototype.release = function () {\r\n            this._motionData = void 0;\r\n            this._motionData = null;\r\n        };\r\n        CubismMotion.prototype.parse = function (motionJson, size) {\r\n            this._motionData = new CubismMotionData();\r\n            var json = new CubismMotionJson(motionJson, size);\r\n            this._motionData.duration = json.getMotionDuration();\r\n            this._motionData.loop = json.isMotionLoop();\r\n            this._motionData.curveCount = json.getMotionCurveCount();\r\n            this._motionData.fps = json.getMotionFps();\r\n            this._motionData.eventCount = json.getEventCount();\r\n            if (json.isExistMotionFadeInTime()) {\r\n                this._fadeInSeconds =\r\n                    json.getMotionFadeInTime() < 0.0 ? 1.0 : json.getMotionFadeInTime();\r\n            }\r\n            else {\r\n                this._fadeInSeconds = 1.0;\r\n            }\r\n            if (json.isExistMotionFadeOutTime()) {\r\n                this._fadeOutSeconds =\r\n                    json.getMotionFadeOutTime() < 0.0 ? 1.0 : json.getMotionFadeOutTime();\r\n            }\r\n            else {\r\n                this._fadeOutSeconds = 1.0;\r\n            }\r\n            this._motionData.curves.updateSize(this._motionData.curveCount, CubismMotionCurve, true);\r\n            this._motionData.segments.updateSize(json.getMotionTotalSegmentCount(), CubismMotionSegment, true);\r\n            this._motionData.points.updateSize(json.getMotionTotalPointCount(), CubismMotionPoint, true);\r\n            this._motionData.events.updateSize(this._motionData.eventCount, CubismMotionEvent, true);\r\n            var totalPointCount = 0;\r\n            var totalSegmentCount = 0;\r\n            for (var curveCount = 0; curveCount < this._motionData.curveCount; ++curveCount) {\r\n                if (json.getMotionCurveTarget(curveCount) == TargetNameModel) {\r\n                    this._motionData.curves.at(curveCount).type =\r\n                        CubismMotionCurveTarget.CubismMotionCurveTarget_Model;\r\n                }\r\n                else if (json.getMotionCurveTarget(curveCount) == TargetNameParameter) {\r\n                    this._motionData.curves.at(curveCount).type =\r\n                        CubismMotionCurveTarget.CubismMotionCurveTarget_Parameter;\r\n                }\r\n                else if (json.getMotionCurveTarget(curveCount) == TargetNamePartOpacity) {\r\n                    this._motionData.curves.at(curveCount).type =\r\n                        CubismMotionCurveTarget.CubismMotionCurveTarget_PartOpacity;\r\n                }\r\n                this._motionData.curves.at(curveCount).id = json.getMotionCurveId(curveCount);\r\n                this._motionData.curves.at(curveCount).baseSegmentIndex = totalSegmentCount;\r\n                this._motionData.curves.at(curveCount).fadeInTime = json.isExistMotionCurveFadeInTime(curveCount)\r\n                    ? json.getMotionCurveFadeInTime(curveCount)\r\n                    : -1.0;\r\n                this._motionData.curves.at(curveCount).fadeOutTime = json.isExistMotionCurveFadeOutTime(curveCount)\r\n                    ? json.getMotionCurveFadeOutTime(curveCount)\r\n                    : -1.0;\r\n                for (var segmentPosition = 0; segmentPosition < json.getMotionCurveSegmentCount(curveCount);) {\r\n                    if (segmentPosition == 0) {\r\n                        this._motionData.segments.at(totalSegmentCount).basePointIndex = totalPointCount;\r\n                        if (this._motionData.points.at(totalPointCount)) {\r\n                            this._motionData.points.at(totalPointCount).time = json.getMotionCurveSegment(curveCount, segmentPosition);\r\n                            this._motionData.points.at(totalPointCount).value = json.getMotionCurveSegment(curveCount, segmentPosition + 1);\r\n                        }\r\n                        totalPointCount += 1;\r\n                        segmentPosition += 2;\r\n                    }\r\n                    else {\r\n                        this._motionData.segments.at(totalSegmentCount).basePointIndex =\r\n                            totalPointCount - 1;\r\n                    }\r\n                    var segment = json.getMotionCurveSegment(curveCount, segmentPosition);\r\n                    switch (segment) {\r\n                        case CubismMotionSegmentType.CubismMotionSegmentType_Linear: {\r\n                            this._motionData.segments.at(totalSegmentCount).segmentType =\r\n                                CubismMotionSegmentType.CubismMotionSegmentType_Linear;\r\n                            this._motionData.segments.at(totalSegmentCount).evaluate = linearEvaluate;\r\n                            if (this._motionData.points.at(totalPointCount)) {\r\n                                this._motionData.points.at(totalPointCount).time = json.getMotionCurveSegment(curveCount, segmentPosition + 1);\r\n                                this._motionData.points.at(totalPointCount).value = json.getMotionCurveSegment(curveCount, segmentPosition + 2);\r\n                            }\r\n                            totalPointCount += 1;\r\n                            segmentPosition += 3;\r\n                            break;\r\n                        }\r\n                        case CubismMotionSegmentType.CubismMotionSegmentType_Bezier: {\r\n                            this._motionData.segments.at(totalSegmentCount).segmentType =\r\n                                CubismMotionSegmentType.CubismMotionSegmentType_Bezier;\r\n                            this._motionData.segments.at(totalSegmentCount).evaluate = bezierEvaluate;\r\n                            if (this._motionData.points.at(totalPointCount)) {\r\n                                this._motionData.points.at(totalPointCount).time = json.getMotionCurveSegment(curveCount, segmentPosition + 1);\r\n                                this._motionData.points.at(totalPointCount).value = json.getMotionCurveSegment(curveCount, segmentPosition + 2);\r\n                            }\r\n                            if (this._motionData.points.at(totalPointCount + 1)) {\r\n                                this._motionData.points.at(totalPointCount + 1).time = json.getMotionCurveSegment(curveCount, segmentPosition + 3);\r\n                                this._motionData.points.at(totalPointCount + 1).value = json.getMotionCurveSegment(curveCount, segmentPosition + 4);\r\n                            }\r\n                            if (this._motionData.points.at(totalPointCount + 2)) {\r\n                                this._motionData.points.at(totalPointCount + 2).time = json.getMotionCurveSegment(curveCount, segmentPosition + 5);\r\n                                this._motionData.points.at(totalPointCount + 2).value = json.getMotionCurveSegment(curveCount, segmentPosition + 6);\r\n                            }\r\n                            totalPointCount += 3;\r\n                            segmentPosition += 7;\r\n                            break;\r\n                        }\r\n                        case CubismMotionSegmentType.CubismMotionSegmentType_Stepped: {\r\n                            this._motionData.segments.at(totalSegmentCount).segmentType =\r\n                                CubismMotionSegmentType.CubismMotionSegmentType_Stepped;\r\n                            this._motionData.segments.at(totalSegmentCount).evaluate = steppedEvaluate;\r\n                            if (this._motionData.points.at(totalPointCount)) {\r\n                                this._motionData.points.at(totalPointCount).time = json.getMotionCurveSegment(curveCount, segmentPosition + 1);\r\n                                this._motionData.points.at(totalPointCount).value = json.getMotionCurveSegment(curveCount, segmentPosition + 2);\r\n                            }\r\n                            totalPointCount += 1;\r\n                            segmentPosition += 3;\r\n                            break;\r\n                        }\r\n                        case CubismMotionSegmentType.CubismMotionSegmentType_InverseStepped: {\r\n                            this._motionData.segments.at(totalSegmentCount).segmentType =\r\n                                CubismMotionSegmentType.CubismMotionSegmentType_InverseStepped;\r\n                            this._motionData.segments.at(totalSegmentCount).evaluate = inverseSteppedEvaluate;\r\n                            if (this._motionData.points.at(totalPointCount)) {\r\n                                this._motionData.points.at(totalPointCount).time = json.getMotionCurveSegment(curveCount, segmentPosition + 1);\r\n                                this._motionData.points.at(totalPointCount).value = json.getMotionCurveSegment(curveCount, segmentPosition + 2);\r\n                            }\r\n                            totalPointCount += 1;\r\n                            segmentPosition += 3;\r\n                            break;\r\n                        }\r\n                        default: {\r\n                            cubismdebug_1.CSM_ASSERT(0);\r\n                            break;\r\n                        }\r\n                    }\r\n                    ++this._motionData.curves.at(curveCount).segmentCount;\r\n                    ++totalSegmentCount;\r\n                }\r\n            }\r\n            for (var userdatacount = 0; userdatacount < json.getEventCount(); ++userdatacount) {\r\n                this._motionData.events.at(userdatacount).fireTime = json.getEventTime(userdatacount);\r\n                this._motionData.events.at(userdatacount).value = json.getEventValue(userdatacount);\r\n            }\r\n            json.release();\r\n            json = void 0;\r\n            json = null;\r\n        };\r\n        CubismMotion.prototype.getFiredEvent = function (beforeCheckTimeSeconds, motionTimeSeconds) {\r\n            this._firedEventValues.updateSize(0);\r\n            for (var u = 0; u < this._motionData.eventCount; ++u) {\r\n                if (this._motionData.events.at(u).fireTime > beforeCheckTimeSeconds &&\r\n                    this._motionData.events.at(u).fireTime <= motionTimeSeconds) {\r\n                    this._firedEventValues.pushBack(new csmString(this._motionData.events.at(u).value.s));\r\n                }\r\n            }\r\n            return this._firedEventValues;\r\n        };\r\n        return CubismMotion;\r\n    }(ACubismMotion));\r\n    Live2DCubismFramework.CubismMotion = CubismMotion;\r\n})(Live2DCubismFramework = exports.Live2DCubismFramework || (exports.Live2DCubismFramework = {}));\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9GcmFtZXdvcmsvc3JjL21vdGlvbi9jdWJpc21tb3Rpb24udHMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9saXZlMmQvLi9GcmFtZXdvcmsvc3JjL21vdGlvbi9jdWJpc21tb3Rpb24udHM/ZmFmZiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogQ29weXJpZ2h0KGMpIExpdmUyRCBJbmMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbiAqXHJcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IHRoZSBMaXZlMkQgT3BlbiBTb2Z0d2FyZSBsaWNlbnNlXHJcbiAqIHRoYXQgY2FuIGJlIGZvdW5kIGF0IGh0dHBzOi8vd3d3LmxpdmUyZC5jb20vZXVsYS9saXZlMmQtb3Blbi1zb2Z0d2FyZS1saWNlbnNlLWFncmVlbWVudF9lbi5odG1sLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IExpdmUyREN1YmlzbUZyYW1ld29yayBhcyBjdWJpc21tb3Rpb25qc29uIH0gZnJvbSAnLi9jdWJpc21tb3Rpb25qc29uJztcclxuaW1wb3J0IHsgTGl2ZTJEQ3ViaXNtRnJhbWV3b3JrIGFzIGN1YmlzbW1vdGlvbmludGVybmFsIH0gZnJvbSAnLi9jdWJpc21tb3Rpb25pbnRlcm5hbCc7XHJcbmltcG9ydCB7IExpdmUyREN1YmlzbUZyYW1ld29yayBhcyBhY3ViaXNtbW90aW9uIH0gZnJvbSAnLi9hY3ViaXNtbW90aW9uJztcclxuaW1wb3J0IHsgTGl2ZTJEQ3ViaXNtRnJhbWV3b3JrIGFzIGN1YmlzbW1vZGVsIH0gZnJvbSAnLi4vbW9kZWwvY3ViaXNtbW9kZWwnO1xyXG5pbXBvcnQgeyBMaXZlMkRDdWJpc21GcmFtZXdvcmsgYXMgY3ViaXNtZnJhbWV3b3JrIH0gZnJvbSAnLi4vbGl2ZTJkY3ViaXNtZnJhbWV3b3JrJztcclxuaW1wb3J0IHsgTGl2ZTJEQ3ViaXNtRnJhbWV3b3JrIGFzIGN1YmlzbW1vdGlvbnF1ZXVlZW50cnkgfSBmcm9tICcuL2N1YmlzbW1vdGlvbnF1ZXVlZW50cnknO1xyXG5pbXBvcnQgeyBMaXZlMkRDdWJpc21GcmFtZXdvcmsgYXMgY3ViaXNtbWF0aCB9IGZyb20gJy4uL21hdGgvY3ViaXNtbWF0aCc7XHJcbmltcG9ydCB7IExpdmUyREN1YmlzbUZyYW1ld29yayBhcyBjc212ZWN0b3IgfSBmcm9tICcuLi90eXBlL2NzbXZlY3Rvcic7XHJcbmltcG9ydCB7IExpdmUyREN1YmlzbUZyYW1ld29yayBhcyBjdWJpc21pZCB9IGZyb20gJy4uL2lkL2N1YmlzbWlkJztcclxuaW1wb3J0IHsgTGl2ZTJEQ3ViaXNtRnJhbWV3b3JrIGFzIGNzbXN0cmluZyB9IGZyb20gJy4uL3R5cGUvY3Ntc3RyaW5nJztcclxuaW1wb3J0IHsgQ3ViaXNtTG9nRGVidWcsIENTTV9BU1NFUlQgfSBmcm9tICcuLi91dGlscy9jdWJpc21kZWJ1Zyc7XHJcbmltcG9ydCBjc21TdHJpbmcgPSBjc21zdHJpbmcuY3NtU3RyaW5nO1xyXG5pbXBvcnQgQ3ViaXNtTW90aW9uRGF0YSA9IGN1YmlzbW1vdGlvbmludGVybmFsLkN1YmlzbU1vdGlvbkRhdGE7XHJcbmltcG9ydCBDdWJpc21Nb3Rpb25TZWdtZW50ID0gY3ViaXNtbW90aW9uaW50ZXJuYWwuQ3ViaXNtTW90aW9uU2VnbWVudDtcclxuaW1wb3J0IEN1YmlzbU1vdGlvblBvaW50ID0gY3ViaXNtbW90aW9uaW50ZXJuYWwuQ3ViaXNtTW90aW9uUG9pbnQ7XHJcbmltcG9ydCBDdWJpc21Nb3Rpb25FdmVudCA9IGN1YmlzbW1vdGlvbmludGVybmFsLkN1YmlzbU1vdGlvbkV2ZW50O1xyXG5pbXBvcnQgQ3ViaXNtTW90aW9uU2VnbWVudFR5cGUgPSBjdWJpc21tb3Rpb25pbnRlcm5hbC5DdWJpc21Nb3Rpb25TZWdtZW50VHlwZTtcclxuaW1wb3J0IEN1YmlzbUlkSGFuZGxlID0gY3ViaXNtaWQuQ3ViaXNtSWRIYW5kbGU7XHJcbmltcG9ydCBDdWJpc21Nb3Rpb25DdXJ2ZSA9IGN1YmlzbW1vdGlvbmludGVybmFsLkN1YmlzbU1vdGlvbkN1cnZlO1xyXG5pbXBvcnQgQ3ViaXNtTW90aW9uQ3VydmVUYXJnZXQgPSBjdWJpc21tb3Rpb25pbnRlcm5hbC5DdWJpc21Nb3Rpb25DdXJ2ZVRhcmdldDtcclxuaW1wb3J0IGNzbVZlY3RvciA9IGNzbXZlY3Rvci5jc21WZWN0b3I7XHJcbmltcG9ydCBDdWJpc21NYXRoID0gY3ViaXNtbWF0aC5DdWJpc21NYXRoO1xyXG5pbXBvcnQgQ3ViaXNtTW90aW9uUXVldWVFbnRyeSA9IGN1YmlzbW1vdGlvbnF1ZXVlZW50cnkuQ3ViaXNtTW90aW9uUXVldWVFbnRyeTtcclxuaW1wb3J0IEN1YmlzbUZyYW1ld29yayA9IGN1YmlzbWZyYW1ld29yay5DdWJpc21GcmFtZXdvcms7XHJcbmltcG9ydCBDdWJpc21Nb2RlbCA9IGN1YmlzbW1vZGVsLkN1YmlzbU1vZGVsO1xyXG5pbXBvcnQgQUN1YmlzbU1vdGlvbiA9IGFjdWJpc21tb3Rpb24uQUN1YmlzbU1vdGlvbjtcclxuaW1wb3J0IEZpbmlzaGVkTW90aW9uQ2FsbGJhY2sgPSBhY3ViaXNtbW90aW9uLkZpbmlzaGVkTW90aW9uQ2FsbGJhY2s7XHJcbmltcG9ydCBDdWJpc21Nb3Rpb25Kc29uID0gY3ViaXNtbW90aW9uanNvbi5DdWJpc21Nb3Rpb25Kc29uO1xyXG5cclxuZXhwb3J0IG5hbWVzcGFjZSBMaXZlMkRDdWJpc21GcmFtZXdvcmsge1xyXG4gIGNvbnN0IEVmZmVjdE5hbWVFeWVCbGluayA9ICdFeWVCbGluayc7XHJcbiAgY29uc3QgRWZmZWN0TmFtZUxpcFN5bmMgPSAnTGlwU3luYyc7XHJcbiAgY29uc3QgVGFyZ2V0TmFtZU1vZGVsID0gJ01vZGVsJztcclxuICBjb25zdCBUYXJnZXROYW1lUGFyYW1ldGVyID0gJ1BhcmFtZXRlcic7XHJcbiAgY29uc3QgVGFyZ2V0TmFtZVBhcnRPcGFjaXR5ID0gJ1BhcnRPcGFjaXR5JztcclxuXHJcbiAgZnVuY3Rpb24gbGVycFBvaW50cyhcclxuICAgIGE6IEN1YmlzbU1vdGlvblBvaW50LFxyXG4gICAgYjogQ3ViaXNtTW90aW9uUG9pbnQsXHJcbiAgICB0OiBudW1iZXJcclxuICApOiBDdWJpc21Nb3Rpb25Qb2ludCB7XHJcbiAgICBjb25zdCByZXN1bHQ6IEN1YmlzbU1vdGlvblBvaW50ID0gbmV3IEN1YmlzbU1vdGlvblBvaW50KCk7XHJcblxyXG4gICAgcmVzdWx0LnRpbWUgPSBhLnRpbWUgKyAoYi50aW1lIC0gYS50aW1lKSAqIHQ7XHJcbiAgICByZXN1bHQudmFsdWUgPSBhLnZhbHVlICsgKGIudmFsdWUgLSBhLnZhbHVlKSAqIHQ7XHJcblxyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGxpbmVhckV2YWx1YXRlKHBvaW50czogQ3ViaXNtTW90aW9uUG9pbnRbXSwgdGltZTogbnVtYmVyKTogbnVtYmVyIHtcclxuICAgIC8vIGNvbnNvbGUubG9nKCdsaW5lYXJFdmFsdWF0ZScscG9pbnRzKVxyXG4gICAgLy8gbGV0IHQ6IG51bWJlciA9ICh0aW1lIC0gcG9pbnRzWzBdLnRpbWUpIC8gKHBvaW50c1sxXS50aW1lIC0gcG9pbnRzWzBdLnRpbWUpO1xyXG4gICAgbGV0IHQ6IG51bWJlcjtcclxuICAgIGlmKHBvaW50c1swXSAmJiBwb2ludHNbMF0udGltZSAhPSAwKXtcclxuICAgICAgdCA9ICh0aW1lIC0gcG9pbnRzWzBdLnRpbWUpIC8gKHBvaW50c1sxXS50aW1lIC0gcG9pbnRzWzBdLnRpbWUpO1xyXG4gICAgfWVsc2UgaWYocG9pbnRzWzJdICYmIHBvaW50c1syXS50aW1lKXtcclxuICAgICAgdCA9ICh0aW1lIC0gcG9pbnRzWzFdLnRpbWUpIC8gKHBvaW50c1syXS50aW1lIC0gcG9pbnRzWzFdLnRpbWUpO1xyXG4gICAgfWVsc2UgaWYocG9pbnRzLmxlbmd0aD4wKXtcclxuICAgICAgdCA9ICh0aW1lIC0gcG9pbnRzWzBdLnRpbWUpIC8gKHBvaW50c1sxXS50aW1lIC0gcG9pbnRzWzBdLnRpbWUpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh0IDwgMC4wKSB7XHJcbiAgICAgIHQgPSAwLjA7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHBvaW50c1swXS52YWx1ZSArIChwb2ludHNbMV0udmFsdWUgLSBwb2ludHNbMF0udmFsdWUpICogdDtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGJlemllckV2YWx1YXRlKHBvaW50czogQ3ViaXNtTW90aW9uUG9pbnRbXSwgdGltZTogbnVtYmVyKTogbnVtYmVyIHtcclxuICAgIGxldCB0OiBudW1iZXIgPSAodGltZSAtIHBvaW50c1swXS50aW1lKSAvIChwb2ludHNbM10udGltZSAtIHBvaW50c1swXS50aW1lKTtcclxuXHJcbiAgICBpZiAodCA8IDAuMCkge1xyXG4gICAgICB0ID0gMC4wO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHAwMTogQ3ViaXNtTW90aW9uUG9pbnQgPSBsZXJwUG9pbnRzKHBvaW50c1swXSwgcG9pbnRzWzFdLCB0KTtcclxuICAgIGNvbnN0IHAxMjogQ3ViaXNtTW90aW9uUG9pbnQgPSBsZXJwUG9pbnRzKHBvaW50c1sxXSwgcG9pbnRzWzJdLCB0KTtcclxuICAgIGNvbnN0IHAyMzogQ3ViaXNtTW90aW9uUG9pbnQgPSBsZXJwUG9pbnRzKHBvaW50c1syXSwgcG9pbnRzWzNdLCB0KTtcclxuXHJcbiAgICBjb25zdCBwMDEyOiBDdWJpc21Nb3Rpb25Qb2ludCA9IGxlcnBQb2ludHMocDAxLCBwMTIsIHQpO1xyXG4gICAgY29uc3QgcDEyMzogQ3ViaXNtTW90aW9uUG9pbnQgPSBsZXJwUG9pbnRzKHAxMiwgcDIzLCB0KTtcclxuXHJcbiAgICByZXR1cm4gbGVycFBvaW50cyhwMDEyLCBwMTIzLCB0KS52YWx1ZTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIHN0ZXBwZWRFdmFsdWF0ZShwb2ludHM6IEN1YmlzbU1vdGlvblBvaW50W10sIHRpbWU6IG51bWJlcik6IG51bWJlciB7XHJcbiAgICByZXR1cm4gcG9pbnRzWzBdLnZhbHVlO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gaW52ZXJzZVN0ZXBwZWRFdmFsdWF0ZShcclxuICAgIHBvaW50czogQ3ViaXNtTW90aW9uUG9pbnRbXSxcclxuICAgIHRpbWU6IG51bWJlclxyXG4gICk6IG51bWJlciB7XHJcbiAgICByZXR1cm4gcG9pbnRzWzFdLnZhbHVlO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gZXZhbHVhdGVDdXJ2ZShcclxuICAgIG1vdGlvbkRhdGE6IEN1YmlzbU1vdGlvbkRhdGEsXHJcbiAgICBpbmRleDogbnVtYmVyLFxyXG4gICAgdGltZTogbnVtYmVyXHJcbiAgKTogbnVtYmVyIHtcclxuICAgIC8vIEZpbmQgc2VnbWVudCB0byBldmFsdWF0ZS5cclxuICAgIGNvbnN0IGN1cnZlOiBDdWJpc21Nb3Rpb25DdXJ2ZSA9IG1vdGlvbkRhdGEuY3VydmVzLmF0KGluZGV4KTtcclxuXHJcbiAgICBsZXQgdGFyZ2V0ID0gLTE7XHJcbiAgICBjb25zdCB0b3RhbFNlZ21lbnRDb3VudDogbnVtYmVyID1cclxuICAgICAgY3VydmUuYmFzZVNlZ21lbnRJbmRleCArIGN1cnZlLnNlZ21lbnRDb3VudDtcclxuICAgIGxldCBwb2ludFBvc2l0aW9uID0gMDtcclxuICAgIGZvciAobGV0IGk6IG51bWJlciA9IGN1cnZlLmJhc2VTZWdtZW50SW5kZXg7IGkgPCB0b3RhbFNlZ21lbnRDb3VudDsgKytpKSB7XHJcbiAgICAgIC8vIEdldCBmaXJzdCBwb2ludCBvZiBuZXh0IHNlZ21lbnQuXHJcbiAgICAgIC8vIOiOt+WPluS4i+S4queCue+8jOWmguaenOaYr+i0nei1m+WwlOabsue6vyDliJnnm7TmjqXliqDkuIoz5L2/5YW25rWB55WF77yM5ZCm5YiZ5YqgMVxyXG4gICAgICBwb2ludFBvc2l0aW9uID0gbW90aW9uRGF0YS5zZWdtZW50cy5hdChpKS5iYXNlUG9pbnRJbmRleCArIChtb3Rpb25EYXRhLnNlZ21lbnRzLmF0KGkpLnNlZ21lbnRUeXBlID09IEN1YmlzbU1vdGlvblNlZ21lbnRUeXBlLkN1YmlzbU1vdGlvblNlZ21lbnRUeXBlX0JlemllciA/IDMgOiAxKTtcclxuXHJcbiAgICAgIC8vIOmDqOWIhuaooeWei+eCueS9jei2heWHuuacgOWkp+WAvFxyXG4gICAgICBpZihwb2ludFBvc2l0aW9uPj1tb3Rpb25EYXRhLnBvaW50cy5fc2l6ZSl7XHJcbiAgICAgICAgcG9pbnRQb3NpdGlvbiA9IG1vdGlvbkRhdGEucG9pbnRzLl9zaXplIC0gM1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBjb25zb2xlLndhcm4oJ3RpbWUnLHRpbWUpXHJcblxyXG4gICAgICAvLyBCcmVhayBpZiB0aW1lIGxpZXMgd2l0aGluIGN1cnJlbnQgc2VnbWVudC5cclxuXHJcbiAgICAgIGlmIChtb3Rpb25EYXRhLnBvaW50cy5hdChwb2ludFBvc2l0aW9uKS50aW1lID4gdGltZSkge1xyXG4gICAgICAgIHRhcmdldCA9IGk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpZiAodGFyZ2V0ID09IC0xKSB7XHJcbiAgICAgIHJldHVybiBtb3Rpb25EYXRhLnBvaW50cy5hdChwb2ludFBvc2l0aW9uKS52YWx1ZTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBzZWdtZW50OiBDdWJpc21Nb3Rpb25TZWdtZW50ID0gbW90aW9uRGF0YS5zZWdtZW50cy5hdCh0YXJnZXQpO1xyXG5cclxuICAgIHJldHVybiBzZWdtZW50LmV2YWx1YXRlKFxyXG4gICAgICBtb3Rpb25EYXRhLnBvaW50cy5nZXQoc2VnbWVudC5iYXNlUG9pbnRJbmRleCksXHJcbiAgICAgIHRpbWVcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDjg6Ljg7zjgrfjg6fjg7Pjgq/jg6njgrlcclxuICAgKlxyXG4gICAqIOODouODvOOCt+ODp+ODs+OBruOCr+ODqeOCueOAglxyXG4gICAqL1xyXG4gIGV4cG9ydCBjbGFzcyBDdWJpc21Nb3Rpb24gZXh0ZW5kcyBBQ3ViaXNtTW90aW9uIHtcclxuICAgIC8qKlxyXG4gICAgICog5Yib5bu65a6e5L6LXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGJ1ZmZlciBtb3Rpb24zLmpzb27lt7Lor7vlj5bnmoTnvJPlhrLlrZjlgqjlmahcclxuICAgICAqIEBwYXJhbSBzaXplIOe8k+WGsuWMuuWkp+Wwj1xyXG4gICAgICogQHBhcmFtIG9uRmluaXNoZWRNb3Rpb25IYW5kbGVyIOWKqOS9nOWGjeeUn+e7k+adn+aXtuiwg+eUqOeahOWbnuiwg+WHveaVsFxyXG4gICAgICogQHJldHVybiDkvZzmiJDjgZXjgozjgZ/jgqTjg7Pjgrnjgr/jg7PjgrlcclxuICAgICAqL1xyXG4gICAgcHVibGljIHN0YXRpYyBjcmVhdGUoXHJcbiAgICAgIGJ1ZmZlcjogQXJyYXlCdWZmZXIsXHJcbiAgICAgIHNpemU6IG51bWJlcixcclxuICAgICAgb25GaW5pc2hlZE1vdGlvbkhhbmRsZXI/OiBGaW5pc2hlZE1vdGlvbkNhbGxiYWNrXHJcbiAgICApOiBDdWJpc21Nb3Rpb24ge1xyXG4gICAgICBjb25zdCByZXQgPSBuZXcgQ3ViaXNtTW90aW9uKCk7XHJcblxyXG4gICAgICByZXQucGFyc2UoYnVmZmVyLCBzaXplKTtcclxuICAgICAgcmV0Ll9zb3VyY2VGcmFtZVJhdGUgPSByZXQuX21vdGlvbkRhdGEuZnBzO1xyXG4gICAgICByZXQuX2xvb3BEdXJhdGlvblNlY29uZHMgPSByZXQuX21vdGlvbkRhdGEuZHVyYXRpb247XHJcbiAgICAgIHJldC5fb25GaW5pc2hlZE1vdGlvbiA9IG9uRmluaXNoZWRNb3Rpb25IYW5kbGVyO1xyXG5cclxuICAgICAgLy8gTk9URTogRWRpdG9y44Gn44Gv44Or44O844OX44GC44KK44Gu44Oi44O844K344On44Oz5pu444GN5Ye644GX44Gv6Z2e5a++5b+cXHJcbiAgICAgIC8vIHJldC0+X2xvb3AgPSAocmV0LT5fbW90aW9uRGF0YS0+TG9vcCA+IDApO1xyXG4gICAgICByZXR1cm4gcmV0O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5omn6KGM5qih5Z6L5Y+C5pWw5pu05pawXHJcbiAgICAgKiBAcGFyYW0gbW9kZWwgICAgICAgICAgICAg5a+56LGh55qE5qih5Z6LXHJcbiAgICAgKiBAcGFyYW0gdXNlclRpbWVTZWNvbmRzICAg5b2T5YmN5pe26Ze0W+enkl1cclxuICAgICAqIEBwYXJhbSBmYWRlV2VpZ2h0ICAgICAgICDliqjkvZznmoTph43ph49cclxuICAgICAqIEBwYXJhbSBtb3Rpb25RdWV1ZUVudHJ5ICBDdWJpc21Nb3Rpb25RdWV1ZU1hbmFnZXLnrqHnkIbnmoTliqjkvZxcclxuICAgICAqL1xyXG4gICAgcHVibGljIGRvVXBkYXRlUGFyYW1ldGVycyhcclxuICAgICAgbW9kZWw6IEN1YmlzbU1vZGVsLFxyXG4gICAgICB1c2VyVGltZVNlY29uZHM6IG51bWJlcixcclxuICAgICAgZmFkZVdlaWdodDogbnVtYmVyLFxyXG4gICAgICBtb3Rpb25RdWV1ZUVudHJ5OiBDdWJpc21Nb3Rpb25RdWV1ZUVudHJ5XHJcbiAgICApOiB2b2lkIHtcclxuICAgICAgaWYgKHRoaXMuX21vZGVsQ3VydmVJZEV5ZUJsaW5rID09IG51bGwpIHtcclxuICAgICAgICB0aGlzLl9tb2RlbEN1cnZlSWRFeWVCbGluayA9IEN1YmlzbUZyYW1ld29yay5nZXRJZE1hbmFnZXIoKS5nZXRJZChcclxuICAgICAgICAgIEVmZmVjdE5hbWVFeWVCbGlua1xyXG4gICAgICAgICk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICh0aGlzLl9tb2RlbEN1cnZlSWRMaXBTeW5jID09IG51bGwpIHtcclxuICAgICAgICB0aGlzLl9tb2RlbEN1cnZlSWRMaXBTeW5jID0gQ3ViaXNtRnJhbWV3b3JrLmdldElkTWFuYWdlcigpLmdldElkKFxyXG4gICAgICAgICAgRWZmZWN0TmFtZUxpcFN5bmNcclxuICAgICAgICApO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBsZXQgdGltZU9mZnNldFNlY29uZHM6IG51bWJlciA9XHJcbiAgICAgICAgdXNlclRpbWVTZWNvbmRzIC0gbW90aW9uUXVldWVFbnRyeS5nZXRTdGFydFRpbWUoKTtcclxuXHJcbiAgICAgIGlmICh0aW1lT2Zmc2V0U2Vjb25kcyA8IDAuMCkge1xyXG4gICAgICAgIHRpbWVPZmZzZXRTZWNvbmRzID0gMC4wOyAvLyDjgqjjg6njg7zlm57pgb9cclxuICAgICAgfVxyXG5cclxuICAgICAgbGV0IGxpcFN5bmNWYWx1ZTogbnVtYmVyID0gTnVtYmVyLk1BWF9WQUxVRTtcclxuICAgICAgbGV0IGV5ZUJsaW5rVmFsdWU6IG51bWJlciA9IE51bWJlci5NQVhfVkFMVUU7XHJcblxyXG4gICAgICAvL+OBvuOBsOOBn+OBjeOAgeODquODg+ODl+OCt+ODs+OCr+OBruOBhuOBoeODouODvOOCt+ODp+ODs+OBrumBqeeUqOOCkuaknOWHuuOBmeOCi+OBn+OCgeOBruODk+ODg+ODiO+8iG1heEZsYWdDb3VudOWAi+OBvuOBp1xyXG4gICAgICBjb25zdCBNYXhUYXJnZXRTaXplID0gNjQ7XHJcbiAgICAgIGxldCBsaXBTeW5jRmxhZ3MgPSAwO1xyXG4gICAgICBsZXQgZXllQmxpbmtGbGFncyA9IDA7XHJcblxyXG4gICAgICAvL+eerOOBjeOAgeODquODg+ODl+OCt+ODs+OCr+OBruOCv+ODvOOCsuODg+ODiOaVsOOBjOS4iumZkOOCkui2heOBiOOBpuOBhOOCi+WgtOWQiFxyXG4gICAgICBpZiAodGhpcy5fZXllQmxpbmtQYXJhbWV0ZXJJZHMuZ2V0U2l6ZSgpID4gTWF4VGFyZ2V0U2l6ZSkge1xyXG4gICAgICAgIEN1YmlzbUxvZ0RlYnVnKFxyXG4gICAgICAgICAgJ3RvbyBtYW55IGV5ZSBibGluayB0YXJnZXRzIDogezB9JyxcclxuICAgICAgICAgIHRoaXMuX2V5ZUJsaW5rUGFyYW1ldGVySWRzLmdldFNpemUoKVxyXG4gICAgICAgICk7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKHRoaXMuX2xpcFN5bmNQYXJhbWV0ZXJJZHMuZ2V0U2l6ZSgpID4gTWF4VGFyZ2V0U2l6ZSkge1xyXG4gICAgICAgIEN1YmlzbUxvZ0RlYnVnKFxyXG4gICAgICAgICAgJ3RvbyBtYW55IGxpcCBzeW5jIHRhcmdldHMgOiB7MH0nLFxyXG4gICAgICAgICAgdGhpcy5fbGlwU3luY1BhcmFtZXRlcklkcy5nZXRTaXplKClcclxuICAgICAgICApO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zdCB0bXBGYWRlSW46IG51bWJlciA9XHJcbiAgICAgICAgdGhpcy5fZmFkZUluU2Vjb25kcyA8PSAwLjBcclxuICAgICAgICAgID8gMS4wXHJcbiAgICAgICAgICA6IEN1YmlzbU1hdGguZ2V0RWFzaW5nU2luZShcclxuICAgICAgICAgICAgICAodXNlclRpbWVTZWNvbmRzIC0gbW90aW9uUXVldWVFbnRyeS5nZXRGYWRlSW5TdGFydFRpbWUoKSkgL1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fZmFkZUluU2Vjb25kc1xyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgY29uc3QgdG1wRmFkZU91dDogbnVtYmVyID1cclxuICAgICAgICB0aGlzLl9mYWRlT3V0U2Vjb25kcyA8PSAwLjAgfHwgbW90aW9uUXVldWVFbnRyeS5nZXRFbmRUaW1lKCkgPCAwLjBcclxuICAgICAgICAgID8gMS4wXHJcbiAgICAgICAgICA6IEN1YmlzbU1hdGguZ2V0RWFzaW5nU2luZShcclxuICAgICAgICAgICAgICAobW90aW9uUXVldWVFbnRyeS5nZXRFbmRUaW1lKCkgLSB1c2VyVGltZVNlY29uZHMpIC9cclxuICAgICAgICAgICAgICAgIHRoaXMuX2ZhZGVPdXRTZWNvbmRzXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgIGxldCB2YWx1ZTogbnVtYmVyO1xyXG4gICAgICBsZXQgYzogbnVtYmVyLCBwYXJhbWV0ZXJJbmRleDogbnVtYmVyO1xyXG5cclxuICAgICAgLy8gJ1JlcGVhdCcgdGltZSBhcyBuZWNlc3NhcnkuXHJcbiAgICAgIGxldCB0aW1lOiBudW1iZXIgPSB0aW1lT2Zmc2V0U2Vjb25kcztcclxuXHJcbiAgICAgIGlmICh0aGlzLl9pc0xvb3ApIHtcclxuICAgICAgICB3aGlsZSAodGltZSA+IHRoaXMuX21vdGlvbkRhdGEuZHVyYXRpb24pIHtcclxuICAgICAgICAgIHRpbWUgLT0gdGhpcy5fbW90aW9uRGF0YS5kdXJhdGlvbjtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IGN1cnZlczogY3NtVmVjdG9yPEN1YmlzbU1vdGlvbkN1cnZlPiA9IHRoaXMuX21vdGlvbkRhdGEuY3VydmVzO1xyXG5cclxuICAgICAgLy8gRXZhbHVhdGUgbW9kZWwgY3VydmVzLlxyXG4gICAgICBmb3IgKFxyXG4gICAgICAgIGMgPSAwO1xyXG4gICAgICAgIGMgPCB0aGlzLl9tb3Rpb25EYXRhLmN1cnZlQ291bnQgJiZcclxuICAgICAgICBjdXJ2ZXMuYXQoYykudHlwZSA9PVxyXG4gICAgICAgICAgQ3ViaXNtTW90aW9uQ3VydmVUYXJnZXQuQ3ViaXNtTW90aW9uQ3VydmVUYXJnZXRfTW9kZWw7XHJcbiAgICAgICAgKytjXHJcbiAgICAgICkge1xyXG4gICAgICAgIC8vIEV2YWx1YXRlIGN1cnZlIGFuZCBjYWxsIGhhbmRsZXIuXHJcbiAgICAgICAgLy8gY29uc29sZS53YXJuKCdldmFsdWF0ZUN1cnZlMSxFdmFsdWF0ZSBjdXJ2ZSBhbmQgY2FsbCBoYW5kbGVyLicpXHJcbiAgICAgICAgdmFsdWUgPSBldmFsdWF0ZUN1cnZlKHRoaXMuX21vdGlvbkRhdGEsIGMsIHRpbWUpO1xyXG5cclxuICAgICAgICBpZiAoY3VydmVzLmF0KGMpLmlkID09IHRoaXMuX21vZGVsQ3VydmVJZEV5ZUJsaW5rKSB7XHJcbiAgICAgICAgICBleWVCbGlua1ZhbHVlID0gdmFsdWU7XHJcbiAgICAgICAgfSBlbHNlIGlmIChjdXJ2ZXMuYXQoYykuaWQgPT0gdGhpcy5fbW9kZWxDdXJ2ZUlkTGlwU3luYykge1xyXG4gICAgICAgICAgbGlwU3luY1ZhbHVlID0gdmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBsZXQgcGFyYW1ldGVyTW90aW9uQ3VydmVDb3VudCA9IDA7XHJcblxyXG4gICAgICBmb3IgKFxyXG4gICAgICAgIDtcclxuICAgICAgICBjIDwgdGhpcy5fbW90aW9uRGF0YS5jdXJ2ZUNvdW50ICYmXHJcbiAgICAgICAgY3VydmVzLmF0KGMpLnR5cGUgPT1cclxuICAgICAgICAgIEN1YmlzbU1vdGlvbkN1cnZlVGFyZ2V0LkN1YmlzbU1vdGlvbkN1cnZlVGFyZ2V0X1BhcmFtZXRlcjtcclxuICAgICAgICArK2NcclxuICAgICAgKSB7XHJcbiAgICAgICAgcGFyYW1ldGVyTW90aW9uQ3VydmVDb3VudCsrO1xyXG5cclxuICAgICAgICAvLyBGaW5kIHBhcmFtZXRlciBpbmRleC5cclxuICAgICAgICBwYXJhbWV0ZXJJbmRleCA9IG1vZGVsLmdldFBhcmFtZXRlckluZGV4KGN1cnZlcy5hdChjKS5pZCk7XHJcblxyXG4gICAgICAgIC8vIFNraXAgY3VydmUgZXZhbHVhdGlvbiBpZiBubyB2YWx1ZSBpbiBzaW5rLlxyXG4gICAgICAgIGlmIChwYXJhbWV0ZXJJbmRleCA9PSAtMSkge1xyXG4gICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBzb3VyY2VWYWx1ZTogbnVtYmVyID0gbW9kZWwuZ2V0UGFyYW1ldGVyVmFsdWVCeUluZGV4KFxyXG4gICAgICAgICAgcGFyYW1ldGVySW5kZXhcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICAvLyBFdmFsdWF0ZSBjdXJ2ZSBhbmQgYXBwbHkgdmFsdWUuXHJcbiAgICAgICAgLy8gY29uc29sZS53YXJuKCdldmFsdWF0ZUN1cnZlMixFdmFsdWF0ZSBjdXJ2ZSBhbmQgYXBwbHkgdmFsdWUuJylcclxuICAgICAgICB2YWx1ZSA9IGV2YWx1YXRlQ3VydmUodGhpcy5fbW90aW9uRGF0YSwgYywgdGltZSk7XHJcblxyXG4gICAgICAgIGlmIChleWVCbGlua1ZhbHVlICE9IE51bWJlci5NQVhfVkFMVUUpIHtcclxuICAgICAgICAgIGZvciAoXHJcbiAgICAgICAgICAgIGxldCBpID0gMDtcclxuICAgICAgICAgICAgaSA8IHRoaXMuX2V5ZUJsaW5rUGFyYW1ldGVySWRzLmdldFNpemUoKSAmJiBpIDwgTWF4VGFyZ2V0U2l6ZTtcclxuICAgICAgICAgICAgKytpXHJcbiAgICAgICAgICApIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX2V5ZUJsaW5rUGFyYW1ldGVySWRzLmF0KGkpID09IGN1cnZlcy5hdChjKS5pZCkge1xyXG4gICAgICAgICAgICAgIHZhbHVlICo9IGV5ZUJsaW5rVmFsdWU7XHJcbiAgICAgICAgICAgICAgZXllQmxpbmtGbGFncyB8PSAxIDw8IGk7XHJcbiAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChsaXBTeW5jVmFsdWUgIT0gTnVtYmVyLk1BWF9WQUxVRSkge1xyXG4gICAgICAgICAgZm9yIChcclxuICAgICAgICAgICAgbGV0IGkgPSAwO1xyXG4gICAgICAgICAgICBpIDwgdGhpcy5fbGlwU3luY1BhcmFtZXRlcklkcy5nZXRTaXplKCkgJiYgaSA8IE1heFRhcmdldFNpemU7XHJcbiAgICAgICAgICAgICsraVxyXG4gICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9saXBTeW5jUGFyYW1ldGVySWRzLmF0KGkpID09IGN1cnZlcy5hdChjKS5pZCkge1xyXG4gICAgICAgICAgICAgIHZhbHVlICs9IGxpcFN5bmNWYWx1ZTtcclxuICAgICAgICAgICAgICBsaXBTeW5jRmxhZ3MgfD0gMSA8PCBpO1xyXG4gICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgdjogbnVtYmVyO1xyXG5cclxuICAgICAgICAvLyDlkITlj4LmlbDnmoTmt6HlhaXmt6Hlh7pcclxuICAgICAgICBpZiAoY3VydmVzLmF0KGMpLmZhZGVJblRpbWUgPCAwLjAgJiYgY3VydmVzLmF0KGMpLmZhZGVPdXRUaW1lIDwgMC4wKSB7XHJcbiAgICAgICAgICAvLyDlupTnlKjliqjkvZzmt6HlhaXmt6Hlh7pcclxuICAgICAgICAgIHYgPSBzb3VyY2VWYWx1ZSArICh2YWx1ZSAtIHNvdXJjZVZhbHVlKSAqIGZhZGVXZWlnaHQ7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIC8vIOWvueS6juWPguaVsOiuvuWumuS4uua3oeWFpea3oeWHuuaIlua3oeWHuuaXtu+8jOmAgueUqOivpeWPguaVsFxyXG4gICAgICAgICAgbGV0IGZpbjogbnVtYmVyO1xyXG4gICAgICAgICAgbGV0IGZvdXQ6IG51bWJlcjtcclxuXHJcbiAgICAgICAgICBpZiAoY3VydmVzLmF0KGMpLmZhZGVJblRpbWUgPCAwLjApIHtcclxuICAgICAgICAgICAgZmluID0gdG1wRmFkZUluO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZmluID1cclxuICAgICAgICAgICAgICBjdXJ2ZXMuYXQoYykuZmFkZUluVGltZSA9PSAwLjBcclxuICAgICAgICAgICAgICAgID8gMS4wXHJcbiAgICAgICAgICAgICAgICA6IEN1YmlzbU1hdGguZ2V0RWFzaW5nU2luZShcclxuICAgICAgICAgICAgICAgICAgICAodXNlclRpbWVTZWNvbmRzIC0gbW90aW9uUXVldWVFbnRyeS5nZXRGYWRlSW5TdGFydFRpbWUoKSkgL1xyXG4gICAgICAgICAgICAgICAgICAgICAgY3VydmVzLmF0KGMpLmZhZGVJblRpbWVcclxuICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBpZiAoY3VydmVzLmF0KGMpLmZhZGVPdXRUaW1lIDwgMC4wKSB7XHJcbiAgICAgICAgICAgIGZvdXQgPSB0bXBGYWRlT3V0O1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZm91dCA9XHJcbiAgICAgICAgICAgICAgY3VydmVzLmF0KGMpLmZhZGVPdXRUaW1lID09IDAuMCB8fFxyXG4gICAgICAgICAgICAgIG1vdGlvblF1ZXVlRW50cnkuZ2V0RW5kVGltZSgpIDwgMC4wXHJcbiAgICAgICAgICAgICAgICA/IDEuMFxyXG4gICAgICAgICAgICAgICAgOiBDdWJpc21NYXRoLmdldEVhc2luZ1NpbmUoXHJcbiAgICAgICAgICAgICAgICAgICAgKG1vdGlvblF1ZXVlRW50cnkuZ2V0RW5kVGltZSgpIC0gdXNlclRpbWVTZWNvbmRzKSAvXHJcbiAgICAgICAgICAgICAgICAgICAgICBjdXJ2ZXMuYXQoYykuZmFkZU91dFRpbWVcclxuICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBjb25zdCBwYXJhbVdlaWdodDogbnVtYmVyID0gdGhpcy5fd2VpZ2h0ICogZmluICogZm91dDtcclxuXHJcbiAgICAgICAgICAvLyDlupTnlKjmr4/kuKrlj4LmlbDnmoTmt6HlhaXmt6Hlh7pcclxuICAgICAgICAgIHYgPSBzb3VyY2VWYWx1ZSArICh2YWx1ZSAtIHNvdXJjZVZhbHVlKSAqIHBhcmFtV2VpZ2h0O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbW9kZWwuc2V0UGFyYW1ldGVyVmFsdWVCeUluZGV4KHBhcmFtZXRlckluZGV4LCB2LCAxLjApO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB7XHJcbiAgICAgICAgaWYgKGV5ZUJsaW5rVmFsdWUgIT0gTnVtYmVyLk1BWF9WQUxVRSkge1xyXG4gICAgICAgICAgZm9yIChcclxuICAgICAgICAgICAgbGV0IGkgPSAwO1xyXG4gICAgICAgICAgICBpIDwgdGhpcy5fZXllQmxpbmtQYXJhbWV0ZXJJZHMuZ2V0U2l6ZSgpICYmIGkgPCBNYXhUYXJnZXRTaXplO1xyXG4gICAgICAgICAgICArK2lcclxuICAgICAgICAgICkge1xyXG4gICAgICAgICAgICBjb25zdCBzb3VyY2VWYWx1ZTogbnVtYmVyID0gbW9kZWwuZ2V0UGFyYW1ldGVyVmFsdWVCeUlkKFxyXG4gICAgICAgICAgICAgIHRoaXMuX2V5ZUJsaW5rUGFyYW1ldGVySWRzLmF0KGkpXHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICAvLyDlnKjliqjkvZzopobnm5bml7bkuI3kvb/nlKjnnKjnnLxcclxuICAgICAgICAgICAgaWYgKChleWVCbGlua0ZsYWdzID4+IGkpICYgMHgwMSkge1xyXG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjb25zdCB2OiBudW1iZXIgPVxyXG4gICAgICAgICAgICAgIHNvdXJjZVZhbHVlICsgKGV5ZUJsaW5rVmFsdWUgLSBzb3VyY2VWYWx1ZSkgKiBmYWRlV2VpZ2h0O1xyXG5cclxuICAgICAgICAgICAgbW9kZWwuc2V0UGFyYW1ldGVyVmFsdWVCeUlkKHRoaXMuX2V5ZUJsaW5rUGFyYW1ldGVySWRzLmF0KGkpLCB2KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChsaXBTeW5jVmFsdWUgIT0gTnVtYmVyLk1BWF9WQUxVRSkge1xyXG4gICAgICAgICAgZm9yIChcclxuICAgICAgICAgICAgbGV0IGkgPSAwO1xyXG4gICAgICAgICAgICBpIDwgdGhpcy5fbGlwU3luY1BhcmFtZXRlcklkcy5nZXRTaXplKCkgJiYgaSA8IE1heFRhcmdldFNpemU7XHJcbiAgICAgICAgICAgICsraVxyXG4gICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHNvdXJjZVZhbHVlOiBudW1iZXIgPSBtb2RlbC5nZXRQYXJhbWV0ZXJWYWx1ZUJ5SWQoXHJcbiAgICAgICAgICAgICAgdGhpcy5fbGlwU3luY1BhcmFtZXRlcklkcy5hdChpKVxyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgLy8g44Oi44O844K344On44Oz44Gn44Gu5LiK5pu444GN44GM44GC44Gj44Gf5pmC44Gr44Gv44Oq44OD44OX44K344Oz44Kv44Gv6YGp55So44GX44Gq44GEXHJcbiAgICAgICAgICAgIGlmICgobGlwU3luY0ZsYWdzID4+IGkpICYgMHgwMSkge1xyXG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjb25zdCB2OiBudW1iZXIgPVxyXG4gICAgICAgICAgICAgIHNvdXJjZVZhbHVlICsgKGxpcFN5bmNWYWx1ZSAtIHNvdXJjZVZhbHVlKSAqIGZhZGVXZWlnaHQ7XHJcblxyXG4gICAgICAgICAgICBtb2RlbC5zZXRQYXJhbWV0ZXJWYWx1ZUJ5SWQodGhpcy5fbGlwU3luY1BhcmFtZXRlcklkcy5hdChpKSwgdik7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBmb3IgKFxyXG4gICAgICAgIDtcclxuICAgICAgICBjIDwgdGhpcy5fbW90aW9uRGF0YS5jdXJ2ZUNvdW50ICYmXHJcbiAgICAgICAgY3VydmVzLmF0KGMpLnR5cGUgPT1cclxuICAgICAgICAgIEN1YmlzbU1vdGlvbkN1cnZlVGFyZ2V0LkN1YmlzbU1vdGlvbkN1cnZlVGFyZ2V0X1BhcnRPcGFjaXR5O1xyXG4gICAgICAgICsrY1xyXG4gICAgICApIHtcclxuICAgICAgICAvLyBGaW5kIHBhcmFtZXRlciBpbmRleC5cclxuICAgICAgICBwYXJhbWV0ZXJJbmRleCA9IG1vZGVsLmdldFBhcmFtZXRlckluZGV4KGN1cnZlcy5hdChjKS5pZCk7XHJcblxyXG4gICAgICAgIC8vIFNraXAgY3VydmUgZXZhbHVhdGlvbiBpZiBubyB2YWx1ZSBpbiBzaW5rLlxyXG4gICAgICAgIGlmIChwYXJhbWV0ZXJJbmRleCA9PSAtMSkge1xyXG4gICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBFdmFsdWF0ZSBjdXJ2ZSBhbmQgYXBwbHkgdmFsdWUuXHJcbiAgICAgICAgLy8gY29uc29sZS53YXJuKCdldmFsdWF0ZUN1cnZlMyxFdmFsdWF0ZSBjdXJ2ZSBhbmQgYXBwbHkgdmFsdWUuJylcclxuICAgICAgICB2YWx1ZSA9IGV2YWx1YXRlQ3VydmUodGhpcy5fbW90aW9uRGF0YSwgYywgdGltZSk7XHJcblxyXG4gICAgICAgIG1vZGVsLnNldFBhcmFtZXRlclZhbHVlQnlJbmRleChwYXJhbWV0ZXJJbmRleCwgdmFsdWUpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAodGltZU9mZnNldFNlY29uZHMgPj0gdGhpcy5fbW90aW9uRGF0YS5kdXJhdGlvbikge1xyXG4gICAgICAgIGlmICh0aGlzLl9pc0xvb3ApIHtcclxuICAgICAgICAgIG1vdGlvblF1ZXVlRW50cnkuc2V0U3RhcnRUaW1lKHVzZXJUaW1lU2Vjb25kcyk7IC8vIOacgOWIneOBrueKtuaFi+OBuFxyXG4gICAgICAgICAgaWYgKHRoaXMuX2lzTG9vcEZhZGVJbikge1xyXG4gICAgICAgICAgICAvLyDlvqrnjq/mt6HlhaXml7bvvIzor7fph43mlrDmt6HlhaXmt6HlhaXmt6Hlh7pcclxuICAgICAgICAgICAgbW90aW9uUXVldWVFbnRyeS5zZXRGYWRlSW5TdGFydFRpbWUodXNlclRpbWVTZWNvbmRzKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgaWYgKHRoaXMuX29uRmluaXNoZWRNb3Rpb24pIHtcclxuICAgICAgICAgICAgdGhpcy5fb25GaW5pc2hlZE1vdGlvbih0aGlzKTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBtb3Rpb25RdWV1ZUVudHJ5LnNldElzRmluaXNoZWQodHJ1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIHRoaXMuX2xhc3RXZWlnaHQgPSBmYWRlV2VpZ2h0O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog44Or44O844OX5oOF5aCx44Gu6Kit5a6aXHJcbiAgICAgKiBAcGFyYW0gbG9vcCDjg6vjg7zjg5fmg4XloLFcclxuICAgICAqL1xyXG4gICAgcHVibGljIHNldElzTG9vcChsb29wOiBib29sZWFuKTogdm9pZCB7XHJcbiAgICAgIHRoaXMuX2lzTG9vcCA9IGxvb3A7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDjg6vjg7zjg5fmg4XloLHjga7lj5blvpdcclxuICAgICAqIEByZXR1cm4gdHJ1ZSDjg6vjg7zjg5fjgZnjgotcclxuICAgICAqIEByZXR1cm4gZmFsc2Ug44Or44O844OX44GX44Gq44GEXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBpc0xvb3AoKTogYm9vbGVhbiB7XHJcbiAgICAgIHJldHVybiB0aGlzLl9pc0xvb3A7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDjg6vjg7zjg5fmmYLjga7jg5Xjgqfjg7zjg4njgqTjg7Pmg4XloLHjga7oqK3lrppcclxuICAgICAqIEBwYXJhbSBsb29wRmFkZUluICDjg6vjg7zjg5fmmYLjga7jg5Xjgqfjg7zjg4njgqTjg7Pmg4XloLFcclxuICAgICAqL1xyXG4gICAgcHVibGljIHNldElzTG9vcEZhZGVJbihsb29wRmFkZUluOiBib29sZWFuKTogdm9pZCB7XHJcbiAgICAgIHRoaXMuX2lzTG9vcEZhZGVJbiA9IGxvb3BGYWRlSW47XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDjg6vjg7zjg5fmmYLjga7jg5Xjgqfjg7zjg4njgqTjg7Pmg4XloLHjga7lj5blvpdcclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJuICB0cnVlICAgIOOBmeOCi1xyXG4gICAgICogQHJldHVybiAgZmFsc2UgICDjgZfjgarjgYRcclxuICAgICAqL1xyXG4gICAgcHVibGljIGlzTG9vcEZhZGVJbigpOiBib29sZWFuIHtcclxuICAgICAgcmV0dXJuIHRoaXMuX2lzTG9vcEZhZGVJbjtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOODouODvOOCt+ODp+ODs+OBrumVt+OBleOCkuWPluW+l+OBmeOCi+OAglxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm4gIOODouODvOOCt+ODp+ODs+OBrumVt+OBlVvnp5JdXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXREdXJhdGlvbigpOiBudW1iZXIge1xyXG4gICAgICByZXR1cm4gdGhpcy5faXNMb29wID8gLTEuMCA6IHRoaXMuX2xvb3BEdXJhdGlvblNlY29uZHM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDjg6Ljg7zjgrfjg6fjg7Pjga7jg6vjg7zjg5fmmYLjga7plbfjgZXjgpLlj5blvpfjgZnjgovjgIJcclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJuICDjg6Ljg7zjgrfjg6fjg7Pjga7jg6vjg7zjg5fmmYLjga7plbfjgZVb56eSXVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2V0TG9vcER1cmF0aW9uKCk6IG51bWJlciB7XHJcbiAgICAgIHJldHVybiB0aGlzLl9sb29wRHVyYXRpb25TZWNvbmRzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog6K6+572u5Y+C5pWw55qE5reh5YWl5pe26Ze044CCXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHBhcmFtZXRlcklkICAgICDjg5Hjg6njg6Hjg7zjgr9JRFxyXG4gICAgICogQHBhcmFtIHZhbHVlICAgICAgICAgICDjg5Xjgqfjg7zjg4njgqTjg7PjgavjgYvjgYvjgovmmYLplpNb56eSXVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc2V0UGFyYW1ldGVyRmFkZUluVGltZShcclxuICAgICAgcGFyYW1ldGVySWQ6IEN1YmlzbUlkSGFuZGxlLFxyXG4gICAgICB2YWx1ZTogbnVtYmVyXHJcbiAgICApOiB2b2lkIHtcclxuICAgICAgY29uc3QgY3VydmVzOiBjc21WZWN0b3I8Q3ViaXNtTW90aW9uQ3VydmU+ID0gdGhpcy5fbW90aW9uRGF0YS5jdXJ2ZXM7XHJcblxyXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX21vdGlvbkRhdGEuY3VydmVDb3VudDsgKytpKSB7XHJcbiAgICAgICAgaWYgKHBhcmFtZXRlcklkID09IGN1cnZlcy5hdChpKS5pZCkge1xyXG4gICAgICAgICAgY3VydmVzLmF0KGkpLmZhZGVJblRpbWUgPSB2YWx1ZTtcclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOiuvue9ruWPguaVsOeahOa3oeWHuuaXtumXtFxyXG4gICAgICogQHBhcmFtIHBhcmFtZXRlcklkICAgICDjg5Hjg6njg6Hjg7zjgr9JRFxyXG4gICAgICogQHBhcmFtIHZhbHVlICAgICAgICAgICDjg5Xjgqfjg7zjg4njgqLjgqbjg4jjgavjgYvjgYvjgovmmYLplpNb56eSXVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc2V0UGFyYW1ldGVyRmFkZU91dFRpbWUoXHJcbiAgICAgIHBhcmFtZXRlcklkOiBDdWJpc21JZEhhbmRsZSxcclxuICAgICAgdmFsdWU6IG51bWJlclxyXG4gICAgKTogdm9pZCB7XHJcbiAgICAgIGNvbnN0IGN1cnZlczogY3NtVmVjdG9yPEN1YmlzbU1vdGlvbkN1cnZlPiA9IHRoaXMuX21vdGlvbkRhdGEuY3VydmVzO1xyXG5cclxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9tb3Rpb25EYXRhLmN1cnZlQ291bnQ7ICsraSkge1xyXG4gICAgICAgIGlmIChwYXJhbWV0ZXJJZCA9PSBjdXJ2ZXMuYXQoaSkuaWQpIHtcclxuICAgICAgICAgIGN1cnZlcy5hdChpKS5mYWRlT3V0VGltZSA9IHZhbHVlO1xyXG4gICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog6I635Y+W5Y+C5pWw55qE5reh5YWl5pe26Ze0XHJcbiAgICAgKiBAcGFyYW0gICAgcGFyYW1ldGVySWQgICAgIOODkeODqeODoeODvOOCv0lEXHJcbiAgICAgKiBAcmV0dXJuICAg44OV44Kn44O844OJ44Kk44Oz44Gr44GL44GL44KL5pmC6ZaTW+enkl1cclxuICAgICAqL1xyXG4gICAgcHVibGljIGdldFBhcmFtZXRlckZhZGVJblRpbWUocGFyYW1ldGVySWQ6IEN1YmlzbUlkSGFuZGxlKTogbnVtYmVyIHtcclxuICAgICAgY29uc3QgY3VydmVzOiBjc21WZWN0b3I8Q3ViaXNtTW90aW9uQ3VydmU+ID0gdGhpcy5fbW90aW9uRGF0YS5jdXJ2ZXM7XHJcblxyXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX21vdGlvbkRhdGEuY3VydmVDb3VudDsgKytpKSB7XHJcbiAgICAgICAgaWYgKHBhcmFtZXRlcklkID09IGN1cnZlcy5hdChpKS5pZCkge1xyXG4gICAgICAgICAgcmV0dXJuIGN1cnZlcy5hdChpKS5mYWRlSW5UaW1lO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIC0xO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog6I635Y+W5Y+C5pWw55qE5reh5Ye65pe26Ze0XHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtICAgcGFyYW1ldGVySWQgICAgIOODkeODqeODoeODvOOCv0lEXHJcbiAgICAgKiBAcmV0dXJuICAg44OV44Kn44O844OJ44Ki44Km44OI44Gr44GL44GL44KL5pmC6ZaTW+enkl1cclxuICAgICAqL1xyXG4gICAgcHVibGljIGdldFBhcmFtZXRlckZhZGVPdXRUaW1lKHBhcmFtZXRlcklkOiBDdWJpc21JZEhhbmRsZSk6IG51bWJlciB7XHJcbiAgICAgIGNvbnN0IGN1cnZlczogY3NtVmVjdG9yPEN1YmlzbU1vdGlvbkN1cnZlPiA9IHRoaXMuX21vdGlvbkRhdGEuY3VydmVzO1xyXG5cclxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9tb3Rpb25EYXRhLmN1cnZlQ291bnQ7ICsraSkge1xyXG4gICAgICAgIGlmIChwYXJhbWV0ZXJJZCA9PSBjdXJ2ZXMuYXQoaSkuaWQpIHtcclxuICAgICAgICAgIHJldHVybiBjdXJ2ZXMuYXQoaSkuZmFkZU91dFRpbWU7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gLTE7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDoh6rli5Xjgqjjg5Xjgqfjgq/jg4jjgYzjgYvjgYvjgaPjgabjgYTjgovjg5Hjg6njg6Hjg7zjgr9JROODquOCueODiOOBruioreWumlxyXG4gICAgICogQHBhcmFtIGV5ZUJsaW5rUGFyYW1ldGVySWRzICAgIOiHquWLleOBvuOBsOOBn+OBjeOBjOOBi+OBi+OBo+OBpuOBhOOCi+ODkeODqeODoeODvOOCv0lE44Gu44Oq44K544OIXHJcbiAgICAgKiBAcGFyYW0gbGlwU3luY1BhcmFtZXRlcklkcyAgICAg44Oq44OD44OX44K344Oz44Kv44GM44GL44GL44Gj44Gm44GE44KL44OR44Op44Oh44O844K/SUTjga7jg6rjgrnjg4hcclxuICAgICAqL1xyXG4gICAgcHVibGljIHNldEVmZmVjdElkcyhcclxuICAgICAgZXllQmxpbmtQYXJhbWV0ZXJJZHM6IGNzbVZlY3RvcjxDdWJpc21JZEhhbmRsZT4sXHJcbiAgICAgIGxpcFN5bmNQYXJhbWV0ZXJJZHM6IGNzbVZlY3RvcjxDdWJpc21JZEhhbmRsZT5cclxuICAgICk6IHZvaWQge1xyXG4gICAgICB0aGlzLl9leWVCbGlua1BhcmFtZXRlcklkcyA9IGV5ZUJsaW5rUGFyYW1ldGVySWRzO1xyXG4gICAgICB0aGlzLl9saXBTeW5jUGFyYW1ldGVySWRzID0gbGlwU3luY1BhcmFtZXRlcklkcztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOOCs+ODs+OCueODiOODqeOCr+OCv1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgIHN1cGVyKCk7XHJcbiAgICAgIHRoaXMuX3NvdXJjZUZyYW1lUmF0ZSA9IDMwLjA7XHJcbiAgICAgIHRoaXMuX2xvb3BEdXJhdGlvblNlY29uZHMgPSAtMS4wO1xyXG4gICAgICB0aGlzLl9pc0xvb3AgPSBmYWxzZTsgLy8gdHJ1ZeOBi+OCiSBmYWxzZSDjgbjjg4fjg5Xjgqnjg6vjg4jjgpLlpInmm7RcclxuICAgICAgdGhpcy5faXNMb29wRmFkZUluID0gdHJ1ZTsgLy8g44Or44O844OX5pmC44Gr44OV44Kn44O844OJ44Kk44Oz44GM5pyJ5Yq544GL44Gp44GG44GL44Gu44OV44Op44KwXHJcbiAgICAgIHRoaXMuX2xhc3RXZWlnaHQgPSAwLjA7XHJcbiAgICAgIHRoaXMuX21vdGlvbkRhdGEgPSBudWxsO1xyXG4gICAgICB0aGlzLl9tb2RlbEN1cnZlSWRFeWVCbGluayA9IG51bGw7XHJcbiAgICAgIHRoaXMuX21vZGVsQ3VydmVJZExpcFN5bmMgPSBudWxsO1xyXG4gICAgICB0aGlzLl9leWVCbGlua1BhcmFtZXRlcklkcyA9IG51bGw7XHJcbiAgICAgIHRoaXMuX2xpcFN5bmNQYXJhbWV0ZXJJZHMgPSBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog44OH44K544OI44Op44Kv44K/55u45b2T44Gu5Yem55CGXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyByZWxlYXNlKCk6IHZvaWQge1xyXG4gICAgICB0aGlzLl9tb3Rpb25EYXRhID0gdm9pZCAwO1xyXG4gICAgICB0aGlzLl9tb3Rpb25EYXRhID0gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIG1vdGlvbjMuanNvbua4hea0l+OAglxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBtb3Rpb25Kc29uICBtb3Rpb24zLmpzb27or7vlj5bnmoTnvJPlhrLlrZjlgqjlmahcclxuICAgICAqIEBwYXJhbSBzaXplICAgICAgICDjg5Djg4Pjg5XjgqHjga7jgrXjgqTjgrpcclxuICAgICAqL1xyXG4gICAgcHVibGljIHBhcnNlKG1vdGlvbkpzb246IEFycmF5QnVmZmVyLCBzaXplOiBudW1iZXIpOiB2b2lkIHtcclxuICAgICAgdGhpcy5fbW90aW9uRGF0YSA9IG5ldyBDdWJpc21Nb3Rpb25EYXRhKCk7XHJcblxyXG4gICAgICBsZXQganNvbjogQ3ViaXNtTW90aW9uSnNvbiA9IG5ldyBDdWJpc21Nb3Rpb25Kc29uKG1vdGlvbkpzb24sIHNpemUpO1xyXG5cclxuICAgICAgdGhpcy5fbW90aW9uRGF0YS5kdXJhdGlvbiA9IGpzb24uZ2V0TW90aW9uRHVyYXRpb24oKTtcclxuICAgICAgdGhpcy5fbW90aW9uRGF0YS5sb29wID0ganNvbi5pc01vdGlvbkxvb3AoKTtcclxuICAgICAgLy8g5puy57q/6K6h5pWwXHJcbiAgICAgIHRoaXMuX21vdGlvbkRhdGEuY3VydmVDb3VudCA9IGpzb24uZ2V0TW90aW9uQ3VydmVDb3VudCgpO1xyXG4gICAgICB0aGlzLl9tb3Rpb25EYXRhLmZwcyA9IGpzb24uZ2V0TW90aW9uRnBzKCk7XHJcbiAgICAgIC8vIOS6i+S7tuiuoeaVsFxyXG4gICAgICB0aGlzLl9tb3Rpb25EYXRhLmV2ZW50Q291bnQgPSBqc29uLmdldEV2ZW50Q291bnQoKTtcclxuXHJcbiAgICAgIC8vIGNvbnNvbGUubG9nKCd0aGlzLl9tb3Rpb25EYXRhLmN1cnZlQ291bnQnLHRoaXMuX21vdGlvbkRhdGEuY3VydmVDb3VudClcclxuICAgICAgLy8gY29uc29sZS5sb2coJ3RoaXMuX21vdGlvbkRhdGEuZXZlbnRDb3VudCcsdGhpcy5fbW90aW9uRGF0YS5ldmVudENvdW50KVxyXG5cclxuICAgICAgaWYgKGpzb24uaXNFeGlzdE1vdGlvbkZhZGVJblRpbWUoKSkge1xyXG4gICAgICAgIHRoaXMuX2ZhZGVJblNlY29uZHMgPVxyXG4gICAgICAgICAganNvbi5nZXRNb3Rpb25GYWRlSW5UaW1lKCkgPCAwLjAgPyAxLjAgOiBqc29uLmdldE1vdGlvbkZhZGVJblRpbWUoKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLl9mYWRlSW5TZWNvbmRzID0gMS4wO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoanNvbi5pc0V4aXN0TW90aW9uRmFkZU91dFRpbWUoKSkge1xyXG4gICAgICAgIHRoaXMuX2ZhZGVPdXRTZWNvbmRzID1cclxuICAgICAgICAgIGpzb24uZ2V0TW90aW9uRmFkZU91dFRpbWUoKSA8IDAuMCA/IDEuMCA6IGpzb24uZ2V0TW90aW9uRmFkZU91dFRpbWUoKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLl9mYWRlT3V0U2Vjb25kcyA9IDEuMDtcclxuICAgICAgfVxyXG5cclxuICAgICAgdGhpcy5fbW90aW9uRGF0YS5jdXJ2ZXMudXBkYXRlU2l6ZShcclxuICAgICAgICB0aGlzLl9tb3Rpb25EYXRhLmN1cnZlQ291bnQsXHJcbiAgICAgICAgQ3ViaXNtTW90aW9uQ3VydmUsXHJcbiAgICAgICAgdHJ1ZVxyXG4gICAgICApO1xyXG4gICAgICB0aGlzLl9tb3Rpb25EYXRhLnNlZ21lbnRzLnVwZGF0ZVNpemUoXHJcbiAgICAgICAganNvbi5nZXRNb3Rpb25Ub3RhbFNlZ21lbnRDb3VudCgpLFxyXG4gICAgICAgIEN1YmlzbU1vdGlvblNlZ21lbnQsXHJcbiAgICAgICAgdHJ1ZVxyXG4gICAgICApO1xyXG4gICAgICB0aGlzLl9tb3Rpb25EYXRhLnBvaW50cy51cGRhdGVTaXplKFxyXG4gICAgICAgIGpzb24uZ2V0TW90aW9uVG90YWxQb2ludENvdW50KCksXHJcbiAgICAgICAgQ3ViaXNtTW90aW9uUG9pbnQsXHJcbiAgICAgICAgdHJ1ZVxyXG4gICAgICApO1xyXG4gICAgICB0aGlzLl9tb3Rpb25EYXRhLmV2ZW50cy51cGRhdGVTaXplKFxyXG4gICAgICAgIHRoaXMuX21vdGlvbkRhdGEuZXZlbnRDb3VudCxcclxuICAgICAgICBDdWJpc21Nb3Rpb25FdmVudCxcclxuICAgICAgICB0cnVlXHJcbiAgICAgICk7XHJcblxyXG4gICAgICBsZXQgdG90YWxQb2ludENvdW50ID0gMDtcclxuICAgICAgbGV0IHRvdGFsU2VnbWVudENvdW50ID0gMDtcclxuXHJcbiAgICAgIC8vIEN1cnZlc1xyXG4gICAgICAvLyBjb25zb2xlLmxvZygndGhpcy5fbW90aW9uRGF0YS5jdXJ2ZUNvdW50Jyx0aGlzLl9tb3Rpb25EYXRhLmN1cnZlQ291bnQpXHJcbiAgICAgIGZvciAoXHJcbiAgICAgICAgbGV0IGN1cnZlQ291bnQgPSAwO1xyXG4gICAgICAgIGN1cnZlQ291bnQgPCB0aGlzLl9tb3Rpb25EYXRhLmN1cnZlQ291bnQ7XHJcbiAgICAgICAgKytjdXJ2ZUNvdW50XHJcbiAgICAgICkge1xyXG4gICAgICAgIGlmIChqc29uLmdldE1vdGlvbkN1cnZlVGFyZ2V0KGN1cnZlQ291bnQpID09IFRhcmdldE5hbWVNb2RlbCkge1xyXG4gICAgICAgICAgdGhpcy5fbW90aW9uRGF0YS5jdXJ2ZXMuYXQoY3VydmVDb3VudCkudHlwZSA9XHJcbiAgICAgICAgICAgIEN1YmlzbU1vdGlvbkN1cnZlVGFyZ2V0LkN1YmlzbU1vdGlvbkN1cnZlVGFyZ2V0X01vZGVsO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoXHJcbiAgICAgICAgICBqc29uLmdldE1vdGlvbkN1cnZlVGFyZ2V0KGN1cnZlQ291bnQpID09IFRhcmdldE5hbWVQYXJhbWV0ZXJcclxuICAgICAgICApIHtcclxuICAgICAgICAgIHRoaXMuX21vdGlvbkRhdGEuY3VydmVzLmF0KGN1cnZlQ291bnQpLnR5cGUgPVxyXG4gICAgICAgICAgICBDdWJpc21Nb3Rpb25DdXJ2ZVRhcmdldC5DdWJpc21Nb3Rpb25DdXJ2ZVRhcmdldF9QYXJhbWV0ZXI7XHJcbiAgICAgICAgfSBlbHNlIGlmIChcclxuICAgICAgICAgIGpzb24uZ2V0TW90aW9uQ3VydmVUYXJnZXQoY3VydmVDb3VudCkgPT0gVGFyZ2V0TmFtZVBhcnRPcGFjaXR5XHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICB0aGlzLl9tb3Rpb25EYXRhLmN1cnZlcy5hdChjdXJ2ZUNvdW50KS50eXBlID1cclxuICAgICAgICAgICAgQ3ViaXNtTW90aW9uQ3VydmVUYXJnZXQuQ3ViaXNtTW90aW9uQ3VydmVUYXJnZXRfUGFydE9wYWNpdHk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLl9tb3Rpb25EYXRhLmN1cnZlcy5hdChjdXJ2ZUNvdW50KS5pZCA9IGpzb24uZ2V0TW90aW9uQ3VydmVJZChcclxuICAgICAgICAgIGN1cnZlQ291bnRcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICB0aGlzLl9tb3Rpb25EYXRhLmN1cnZlcy5hdChcclxuICAgICAgICAgIGN1cnZlQ291bnRcclxuICAgICAgICApLmJhc2VTZWdtZW50SW5kZXggPSB0b3RhbFNlZ21lbnRDb3VudDtcclxuXHJcbiAgICAgICAgdGhpcy5fbW90aW9uRGF0YS5jdXJ2ZXMuYXQoXHJcbiAgICAgICAgICBjdXJ2ZUNvdW50XHJcbiAgICAgICAgKS5mYWRlSW5UaW1lID0ganNvbi5pc0V4aXN0TW90aW9uQ3VydmVGYWRlSW5UaW1lKGN1cnZlQ291bnQpXHJcbiAgICAgICAgICA/IGpzb24uZ2V0TW90aW9uQ3VydmVGYWRlSW5UaW1lKGN1cnZlQ291bnQpXHJcbiAgICAgICAgICA6IC0xLjA7XHJcbiAgICAgICAgdGhpcy5fbW90aW9uRGF0YS5jdXJ2ZXMuYXQoXHJcbiAgICAgICAgICBjdXJ2ZUNvdW50XHJcbiAgICAgICAgKS5mYWRlT3V0VGltZSA9IGpzb24uaXNFeGlzdE1vdGlvbkN1cnZlRmFkZU91dFRpbWUoY3VydmVDb3VudClcclxuICAgICAgICAgID8ganNvbi5nZXRNb3Rpb25DdXJ2ZUZhZGVPdXRUaW1lKGN1cnZlQ291bnQpXHJcbiAgICAgICAgICA6IC0xLjA7XHJcblxyXG4gICAgICAgIC8vIFNlZ21lbnRzXHJcbiAgICAgICAgZm9yIChcclxuICAgICAgICAgIGxldCBzZWdtZW50UG9zaXRpb24gPSAwO1xyXG4gICAgICAgICAgc2VnbWVudFBvc2l0aW9uIDwganNvbi5nZXRNb3Rpb25DdXJ2ZVNlZ21lbnRDb3VudChjdXJ2ZUNvdW50KTtcclxuXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICBpZiAoc2VnbWVudFBvc2l0aW9uID09IDApIHtcclxuICAgICAgICAgICAgdGhpcy5fbW90aW9uRGF0YS5zZWdtZW50cy5hdChcclxuICAgICAgICAgICAgICB0b3RhbFNlZ21lbnRDb3VudFxyXG4gICAgICAgICAgICApLmJhc2VQb2ludEluZGV4ID0gdG90YWxQb2ludENvdW50O1xyXG4gICAgICAgICAgICBpZih0aGlzLl9tb3Rpb25EYXRhLnBvaW50cy5hdCh0b3RhbFBvaW50Q291bnQpKXtcclxuICAgICAgICAgICAgICB0aGlzLl9tb3Rpb25EYXRhLnBvaW50cy5hdChcclxuICAgICAgICAgICAgICAgIHRvdGFsUG9pbnRDb3VudFxyXG4gICAgICAgICAgICAgICkudGltZSA9IGpzb24uZ2V0TW90aW9uQ3VydmVTZWdtZW50KGN1cnZlQ291bnQsIHNlZ21lbnRQb3NpdGlvbik7XHJcbiAgICAgICAgICAgICAgdGhpcy5fbW90aW9uRGF0YS5wb2ludHMuYXQoXHJcbiAgICAgICAgICAgICAgICB0b3RhbFBvaW50Q291bnRcclxuICAgICAgICAgICAgICApLnZhbHVlID0ganNvbi5nZXRNb3Rpb25DdXJ2ZVNlZ21lbnQoXHJcbiAgICAgICAgICAgICAgICBjdXJ2ZUNvdW50LFxyXG4gICAgICAgICAgICAgICAgc2VnbWVudFBvc2l0aW9uICsgMVxyXG4gICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRvdGFsUG9pbnRDb3VudCArPSAxO1xyXG4gICAgICAgICAgICBzZWdtZW50UG9zaXRpb24gKz0gMjtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuX21vdGlvbkRhdGEuc2VnbWVudHMuYXQodG90YWxTZWdtZW50Q291bnQpLmJhc2VQb2ludEluZGV4ID1cclxuICAgICAgICAgICAgICB0b3RhbFBvaW50Q291bnQgLSAxO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGNvbnN0IHNlZ21lbnQ6IG51bWJlciA9IGpzb24uZ2V0TW90aW9uQ3VydmVTZWdtZW50KFxyXG4gICAgICAgICAgICBjdXJ2ZUNvdW50LFxyXG4gICAgICAgICAgICBzZWdtZW50UG9zaXRpb25cclxuICAgICAgICAgICk7XHJcbiAgICAgICAgICBzd2l0Y2ggKHNlZ21lbnQpIHtcclxuICAgICAgICAgICAgY2FzZSBDdWJpc21Nb3Rpb25TZWdtZW50VHlwZS5DdWJpc21Nb3Rpb25TZWdtZW50VHlwZV9MaW5lYXI6IHtcclxuICAgICAgICAgICAgICB0aGlzLl9tb3Rpb25EYXRhLnNlZ21lbnRzLmF0KHRvdGFsU2VnbWVudENvdW50KS5zZWdtZW50VHlwZSA9XHJcbiAgICAgICAgICAgICAgICBDdWJpc21Nb3Rpb25TZWdtZW50VHlwZS5DdWJpc21Nb3Rpb25TZWdtZW50VHlwZV9MaW5lYXI7XHJcbiAgICAgICAgICAgICAgdGhpcy5fbW90aW9uRGF0YS5zZWdtZW50cy5hdChcclxuICAgICAgICAgICAgICAgIHRvdGFsU2VnbWVudENvdW50XHJcbiAgICAgICAgICAgICAgKS5ldmFsdWF0ZSA9IGxpbmVhckV2YWx1YXRlO1xyXG5cclxuICAgICAgICAgICAgICAvLyDkv67mlLnmnIDlkI7ngrlcclxuICAgICAgICAgICAgICBpZih0aGlzLl9tb3Rpb25EYXRhLnBvaW50cy5hdCh0b3RhbFBvaW50Q291bnQpKXtcclxuICAgICAgICAgICAgICAgIHRoaXMuX21vdGlvbkRhdGEucG9pbnRzLmF0KFxyXG4gICAgICAgICAgICAgICAgICB0b3RhbFBvaW50Q291bnRcclxuICAgICAgICAgICAgICAgICkudGltZSA9IGpzb24uZ2V0TW90aW9uQ3VydmVTZWdtZW50KFxyXG4gICAgICAgICAgICAgICAgICBjdXJ2ZUNvdW50LFxyXG4gICAgICAgICAgICAgICAgICBzZWdtZW50UG9zaXRpb24gKyAxXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fbW90aW9uRGF0YS5wb2ludHMuYXQoXHJcbiAgICAgICAgICAgICAgICAgIHRvdGFsUG9pbnRDb3VudFxyXG4gICAgICAgICAgICAgICAgKS52YWx1ZSA9IGpzb24uZ2V0TW90aW9uQ3VydmVTZWdtZW50KFxyXG4gICAgICAgICAgICAgICAgICBjdXJ2ZUNvdW50LFxyXG4gICAgICAgICAgICAgICAgICBzZWdtZW50UG9zaXRpb24gKyAyXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgdG90YWxQb2ludENvdW50ICs9IDE7XHJcbiAgICAgICAgICAgICAgc2VnbWVudFBvc2l0aW9uICs9IDM7XHJcblxyXG4gICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhc2UgQ3ViaXNtTW90aW9uU2VnbWVudFR5cGUuQ3ViaXNtTW90aW9uU2VnbWVudFR5cGVfQmV6aWVyOiB7XHJcbiAgICAgICAgICAgICAgdGhpcy5fbW90aW9uRGF0YS5zZWdtZW50cy5hdCh0b3RhbFNlZ21lbnRDb3VudCkuc2VnbWVudFR5cGUgPVxyXG4gICAgICAgICAgICAgICAgQ3ViaXNtTW90aW9uU2VnbWVudFR5cGUuQ3ViaXNtTW90aW9uU2VnbWVudFR5cGVfQmV6aWVyO1xyXG4gICAgICAgICAgICAgIHRoaXMuX21vdGlvbkRhdGEuc2VnbWVudHMuYXQoXHJcbiAgICAgICAgICAgICAgICB0b3RhbFNlZ21lbnRDb3VudFxyXG4gICAgICAgICAgICAgICkuZXZhbHVhdGUgPSBiZXppZXJFdmFsdWF0ZTtcclxuICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAvLyDkv67mlLnmnIDlkI7ngrlcclxuICAgICAgICAgICAgICBpZih0aGlzLl9tb3Rpb25EYXRhLnBvaW50cy5hdCh0b3RhbFBvaW50Q291bnQpKXtcclxuICAgICAgICAgICAgICAgIHRoaXMuX21vdGlvbkRhdGEucG9pbnRzLmF0KFxyXG4gICAgICAgICAgICAgICAgICB0b3RhbFBvaW50Q291bnRcclxuICAgICAgICAgICAgICAgICkudGltZSA9IGpzb24uZ2V0TW90aW9uQ3VydmVTZWdtZW50KFxyXG4gICAgICAgICAgICAgICAgICBjdXJ2ZUNvdW50LFxyXG4gICAgICAgICAgICAgICAgICBzZWdtZW50UG9zaXRpb24gKyAxXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fbW90aW9uRGF0YS5wb2ludHMuYXQoXHJcbiAgICAgICAgICAgICAgICAgIHRvdGFsUG9pbnRDb3VudFxyXG4gICAgICAgICAgICAgICAgKS52YWx1ZSA9IGpzb24uZ2V0TW90aW9uQ3VydmVTZWdtZW50KFxyXG4gICAgICAgICAgICAgICAgICBjdXJ2ZUNvdW50LFxyXG4gICAgICAgICAgICAgICAgICBzZWdtZW50UG9zaXRpb24gKyAyXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAvLyDkv67mlLnmnIDlkI7ngrlcclxuICAgICAgICAgICAgICBpZih0aGlzLl9tb3Rpb25EYXRhLnBvaW50cy5hdCh0b3RhbFBvaW50Q291bnQgKyAxKSl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9tb3Rpb25EYXRhLnBvaW50cy5hdChcclxuICAgICAgICAgICAgICAgICAgdG90YWxQb2ludENvdW50ICsgMVxyXG4gICAgICAgICAgICAgICAgKS50aW1lID0ganNvbi5nZXRNb3Rpb25DdXJ2ZVNlZ21lbnQoXHJcbiAgICAgICAgICAgICAgICAgIGN1cnZlQ291bnQsXHJcbiAgICAgICAgICAgICAgICAgIHNlZ21lbnRQb3NpdGlvbiArIDNcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9tb3Rpb25EYXRhLnBvaW50cy5hdChcclxuICAgICAgICAgICAgICAgICAgdG90YWxQb2ludENvdW50ICsgMVxyXG4gICAgICAgICAgICAgICAgKS52YWx1ZSA9IGpzb24uZ2V0TW90aW9uQ3VydmVTZWdtZW50KFxyXG4gICAgICAgICAgICAgICAgICBjdXJ2ZUNvdW50LFxyXG4gICAgICAgICAgICAgICAgICBzZWdtZW50UG9zaXRpb24gKyA0XHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAvLyDkv67mlLnmnIDlkI7ngrlcclxuICAgICAgICAgICAgICBpZih0aGlzLl9tb3Rpb25EYXRhLnBvaW50cy5hdCh0b3RhbFBvaW50Q291bnQgKyAyKSl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9tb3Rpb25EYXRhLnBvaW50cy5hdChcclxuICAgICAgICAgICAgICAgICAgdG90YWxQb2ludENvdW50ICsgMlxyXG4gICAgICAgICAgICAgICAgKS50aW1lID0ganNvbi5nZXRNb3Rpb25DdXJ2ZVNlZ21lbnQoXHJcbiAgICAgICAgICAgICAgICAgIGN1cnZlQ291bnQsXHJcbiAgICAgICAgICAgICAgICAgIHNlZ21lbnRQb3NpdGlvbiArIDVcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9tb3Rpb25EYXRhLnBvaW50cy5hdChcclxuICAgICAgICAgICAgICAgICAgdG90YWxQb2ludENvdW50ICsgMlxyXG4gICAgICAgICAgICAgICAgKS52YWx1ZSA9IGpzb24uZ2V0TW90aW9uQ3VydmVTZWdtZW50KFxyXG4gICAgICAgICAgICAgICAgICBjdXJ2ZUNvdW50LFxyXG4gICAgICAgICAgICAgICAgICBzZWdtZW50UG9zaXRpb24gKyA2XHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICBcclxuXHJcbiAgICAgICAgICAgICAgdG90YWxQb2ludENvdW50ICs9IDM7XHJcbiAgICAgICAgICAgICAgc2VnbWVudFBvc2l0aW9uICs9IDc7XHJcblxyXG4gICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjYXNlIEN1YmlzbU1vdGlvblNlZ21lbnRUeXBlLkN1YmlzbU1vdGlvblNlZ21lbnRUeXBlX1N0ZXBwZWQ6IHtcclxuICAgICAgICAgICAgICB0aGlzLl9tb3Rpb25EYXRhLnNlZ21lbnRzLmF0KHRvdGFsU2VnbWVudENvdW50KS5zZWdtZW50VHlwZSA9XHJcbiAgICAgICAgICAgICAgICBDdWJpc21Nb3Rpb25TZWdtZW50VHlwZS5DdWJpc21Nb3Rpb25TZWdtZW50VHlwZV9TdGVwcGVkO1xyXG4gICAgICAgICAgICAgIHRoaXMuX21vdGlvbkRhdGEuc2VnbWVudHMuYXQoXHJcbiAgICAgICAgICAgICAgICB0b3RhbFNlZ21lbnRDb3VudFxyXG4gICAgICAgICAgICAgICkuZXZhbHVhdGUgPSBzdGVwcGVkRXZhbHVhdGU7XHJcblxyXG4gICAgICAgICAgICAgIC8vIOS/ruaUueacgOWQjueCuVxyXG4gICAgICAgICAgICAgIGlmKHRoaXMuX21vdGlvbkRhdGEucG9pbnRzLmF0KHRvdGFsUG9pbnRDb3VudCkpe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fbW90aW9uRGF0YS5wb2ludHMuYXQoXHJcbiAgICAgICAgICAgICAgICAgIHRvdGFsUG9pbnRDb3VudFxyXG4gICAgICAgICAgICAgICAgKS50aW1lID0ganNvbi5nZXRNb3Rpb25DdXJ2ZVNlZ21lbnQoXHJcbiAgICAgICAgICAgICAgICAgIGN1cnZlQ291bnQsXHJcbiAgICAgICAgICAgICAgICAgIHNlZ21lbnRQb3NpdGlvbiArIDFcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9tb3Rpb25EYXRhLnBvaW50cy5hdChcclxuICAgICAgICAgICAgICAgICAgdG90YWxQb2ludENvdW50XHJcbiAgICAgICAgICAgICAgICApLnZhbHVlID0ganNvbi5nZXRNb3Rpb25DdXJ2ZVNlZ21lbnQoXHJcbiAgICAgICAgICAgICAgICAgIGN1cnZlQ291bnQsXHJcbiAgICAgICAgICAgICAgICAgIHNlZ21lbnRQb3NpdGlvbiArIDJcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICB0b3RhbFBvaW50Q291bnQgKz0gMTtcclxuICAgICAgICAgICAgICBzZWdtZW50UG9zaXRpb24gKz0gMztcclxuXHJcbiAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGNhc2UgQ3ViaXNtTW90aW9uU2VnbWVudFR5cGUuQ3ViaXNtTW90aW9uU2VnbWVudFR5cGVfSW52ZXJzZVN0ZXBwZWQ6IHtcclxuICAgICAgICAgICAgICB0aGlzLl9tb3Rpb25EYXRhLnNlZ21lbnRzLmF0KHRvdGFsU2VnbWVudENvdW50KS5zZWdtZW50VHlwZSA9XHJcbiAgICAgICAgICAgICAgICBDdWJpc21Nb3Rpb25TZWdtZW50VHlwZS5DdWJpc21Nb3Rpb25TZWdtZW50VHlwZV9JbnZlcnNlU3RlcHBlZDtcclxuICAgICAgICAgICAgICB0aGlzLl9tb3Rpb25EYXRhLnNlZ21lbnRzLmF0KFxyXG4gICAgICAgICAgICAgICAgdG90YWxTZWdtZW50Q291bnRcclxuICAgICAgICAgICAgICApLmV2YWx1YXRlID0gaW52ZXJzZVN0ZXBwZWRFdmFsdWF0ZTtcclxuXHJcbiAgICAgICAgICAgICAgLy8g5L+u5pS55pyA5ZCO54K5XHJcbiAgICAgICAgICAgICAgaWYodGhpcy5fbW90aW9uRGF0YS5wb2ludHMuYXQodG90YWxQb2ludENvdW50KSl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9tb3Rpb25EYXRhLnBvaW50cy5hdChcclxuICAgICAgICAgICAgICAgICAgdG90YWxQb2ludENvdW50XHJcbiAgICAgICAgICAgICAgICApLnRpbWUgPSBqc29uLmdldE1vdGlvbkN1cnZlU2VnbWVudChcclxuICAgICAgICAgICAgICAgICAgY3VydmVDb3VudCxcclxuICAgICAgICAgICAgICAgICAgc2VnbWVudFBvc2l0aW9uICsgMVxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX21vdGlvbkRhdGEucG9pbnRzLmF0KFxyXG4gICAgICAgICAgICAgICAgICB0b3RhbFBvaW50Q291bnRcclxuICAgICAgICAgICAgICAgICkudmFsdWUgPSBqc29uLmdldE1vdGlvbkN1cnZlU2VnbWVudChcclxuICAgICAgICAgICAgICAgICAgY3VydmVDb3VudCxcclxuICAgICAgICAgICAgICAgICAgc2VnbWVudFBvc2l0aW9uICsgMlxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgIHRvdGFsUG9pbnRDb3VudCArPSAxO1xyXG4gICAgICAgICAgICAgIHNlZ21lbnRQb3NpdGlvbiArPSAzO1xyXG5cclxuICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBkZWZhdWx0OiB7XHJcbiAgICAgICAgICAgICAgQ1NNX0FTU0VSVCgwKTtcclxuICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICsrdGhpcy5fbW90aW9uRGF0YS5jdXJ2ZXMuYXQoY3VydmVDb3VudCkuc2VnbWVudENvdW50O1xyXG4gICAgICAgICAgKyt0b3RhbFNlZ21lbnRDb3VudDtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgLy8gY29uc29sZS5sb2coJ2pzb24uZ2V0RXZlbnRDb3VudCgpJyxqc29uLmdldEV2ZW50Q291bnQoKSlcclxuICAgICAgZm9yIChcclxuICAgICAgICBsZXQgdXNlcmRhdGFjb3VudCA9IDA7XHJcbiAgICAgICAgdXNlcmRhdGFjb3VudCA8IGpzb24uZ2V0RXZlbnRDb3VudCgpO1xyXG4gICAgICAgICsrdXNlcmRhdGFjb3VudFxyXG4gICAgICApIHtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZygndXNlcmRhdGFjb3VudCA8IGpzb24uZ2V0RXZlbnRDb3VudCgpJyx1c2VyZGF0YWNvdW50LGpzb24uZ2V0RXZlbnRDb3VudCgpKVxyXG4gICAgICAgIHRoaXMuX21vdGlvbkRhdGEuZXZlbnRzLmF0KHVzZXJkYXRhY291bnQpLmZpcmVUaW1lID0ganNvbi5nZXRFdmVudFRpbWUoXHJcbiAgICAgICAgICB1c2VyZGF0YWNvdW50XHJcbiAgICAgICAgKTtcclxuICAgICAgICB0aGlzLl9tb3Rpb25EYXRhLmV2ZW50cy5hdCh1c2VyZGF0YWNvdW50KS52YWx1ZSA9IGpzb24uZ2V0RXZlbnRWYWx1ZShcclxuICAgICAgICAgIHVzZXJkYXRhY291bnRcclxuICAgICAgICApO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBqc29uLnJlbGVhc2UoKTtcclxuICAgICAganNvbiA9IHZvaWQgMDtcclxuICAgICAganNvbiA9IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDjg6Ljg4fjg6vjga7jg5Hjg6njg6Hjg7zjgr/mm7TmlrBcclxuICAgICAqXHJcbiAgICAgKiDjgqTjg5njg7Pjg4jnmbrngavjga7jg4Hjgqfjg4Pjgq/jgIJcclxuICAgICAqIOWFpeWKm+OBmeOCi+aZgumWk+OBr+WRvOOBsOOCjOOCi+ODouODvOOCt+ODp+ODs+OCv+OCpOODn+ODs+OCsOOCku+8kOOBqOOBl+OBn+enkuaVsOOBp+ihjOOBhuOAglxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBiZWZvcmVDaGVja1RpbWVTZWNvbmRzICAg5YmN5Zue44Gu44Kk44OZ44Oz44OI44OB44Kn44OD44Kv5pmC6ZaTW+enkl1cclxuICAgICAqIEBwYXJhbSBtb3Rpb25UaW1lU2Vjb25kcyAgICAgICAg5LuK5Zue44Gu5YaN55Sf5pmC6ZaTW+enkl1cclxuICAgICAqL1xyXG4gICAgcHVibGljIGdldEZpcmVkRXZlbnQoXHJcbiAgICAgIGJlZm9yZUNoZWNrVGltZVNlY29uZHM6IG51bWJlcixcclxuICAgICAgbW90aW9uVGltZVNlY29uZHM6IG51bWJlclxyXG4gICAgKTogY3NtVmVjdG9yPGNzbVN0cmluZz4ge1xyXG4gICAgICB0aGlzLl9maXJlZEV2ZW50VmFsdWVzLnVwZGF0ZVNpemUoMCk7XHJcblxyXG4gICAgICAvLyDjgqTjg5njg7Pjg4jjga7nmbrngavjg4Hjgqfjg4Pjgq9cclxuICAgICAgZm9yIChsZXQgdSA9IDA7IHUgPCB0aGlzLl9tb3Rpb25EYXRhLmV2ZW50Q291bnQ7ICsrdSkge1xyXG4gICAgICAgIGlmIChcclxuICAgICAgICAgIHRoaXMuX21vdGlvbkRhdGEuZXZlbnRzLmF0KHUpLmZpcmVUaW1lID4gYmVmb3JlQ2hlY2tUaW1lU2Vjb25kcyAmJlxyXG4gICAgICAgICAgdGhpcy5fbW90aW9uRGF0YS5ldmVudHMuYXQodSkuZmlyZVRpbWUgPD0gbW90aW9uVGltZVNlY29uZHNcclxuICAgICAgICApIHtcclxuICAgICAgICAgIHRoaXMuX2ZpcmVkRXZlbnRWYWx1ZXMucHVzaEJhY2soXHJcbiAgICAgICAgICAgIG5ldyBjc21TdHJpbmcodGhpcy5fbW90aW9uRGF0YS5ldmVudHMuYXQodSkudmFsdWUucylcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gdGhpcy5fZmlyZWRFdmVudFZhbHVlcztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgX3NvdXJjZUZyYW1lUmF0ZTogbnVtYmVyOyAvLyDjg63jg7zjg4njgZfjgZ/jg5XjgqHjgqTjg6vjga5GUFPjgILoqJjov7DjgYznhKHjgZHjgozjgbDjg4fjg5Xjgqnjg6vjg4jlgKQxNWZwc+OBqOOBquOCi1xyXG4gICAgcHVibGljIF9sb29wRHVyYXRpb25TZWNvbmRzOiBudW1iZXI7IC8vIG10buODleOCoeOCpOODq+OBp+Wumue+qeOBleOCjOOCi+S4gOmAo+OBruODouODvOOCt+ODp+ODs+OBrumVt+OBlVxyXG4gICAgcHVibGljIF9pc0xvb3A6IGJvb2xlYW47IC8vIOODq+ODvOODl+OBmeOCi+OBiz9cclxuICAgIHB1YmxpYyBfaXNMb29wRmFkZUluOiBib29sZWFuOyAvLyDjg6vjg7zjg5fmmYLjgavjg5Xjgqfjg7zjg4njgqTjg7PjgYzmnInlirnjgYvjganjgYbjgYvjga7jg5Xjg6njgrDjgILliJ3mnJ/lgKTjgafjga/mnInlirnjgIJcclxuICAgIHB1YmxpYyBfbGFzdFdlaWdodDogbnVtYmVyOyAvLyDmnIDlvozjgavoqK3lrprjgZXjgozjgZ/ph43jgb9cclxuXHJcbiAgICBwdWJsaWMgX21vdGlvbkRhdGE6IEN1YmlzbU1vdGlvbkRhdGE7IC8vIOWunumZheeahOWKqOS9nOaVsOaNruS4u+S9k1xyXG5cclxuXHJcbiAgICBwdWJsaWMgX2V5ZUJsaW5rUGFyYW1ldGVySWRzOiBjc21WZWN0b3I8Q3ViaXNtSWRIYW5kbGU+OyAvLyDoh6rli5Xjgb7jgbDjgZ/jgY3jgpLpgannlKjjgZnjgovjg5Hjg6njg6Hjg7zjgr9JROODj+ODs+ODieODq+OBruODquOCueODiOOAgiAg44Oi44OH44Or77yI44Oi44OH44Or44K744OD44OG44Kj44Oz44Kw77yJ44Go44OR44Op44Oh44O844K/44KS5a++5b+c5LuY44GR44KL44CCXHJcbiAgICBwdWJsaWMgX2xpcFN5bmNQYXJhbWV0ZXJJZHM6IGNzbVZlY3RvcjxDdWJpc21JZEhhbmRsZT47IC8vIOODquODg+ODl+OCt+ODs+OCr+OCkumBqeeUqOOBmeOCi+ODkeODqeODoeODvOOCv0lE44OP44Oz44OJ44Or44Gu44Oq44K544OI44CCICDjg6Ljg4fjg6vvvIjjg6Ljg4fjg6vjgrvjg4Pjg4bjgqPjg7PjgrDvvInjgajjg5Hjg6njg6Hjg7zjgr/jgpLlr77lv5zku5jjgZHjgovjgIJcclxuXHJcbiAgICBwdWJsaWMgX21vZGVsQ3VydmVJZEV5ZUJsaW5rOiBDdWJpc21JZEhhbmRsZTsgLy8g44Oi44OH44Or44GM5oyB44Gk6Ieq5YuV44G+44Gw44Gf44GN55So44OR44Op44Oh44O844K/SUTjga7jg4/jg7Pjg4njg6vjgIIgIOODouODh+ODq+OBqOODouODvOOCt+ODp+ODs+OCkuWvvuW/nOS7mOOBkeOCi+OAglxyXG4gICAgcHVibGljIF9tb2RlbEN1cnZlSWRMaXBTeW5jOiBDdWJpc21JZEhhbmRsZTsgLy8g44Oi44OH44Or44GM5oyB44Gk44Oq44OD44OX44K344Oz44Kv55So44OR44Op44Oh44O844K/SUTjga7jg4/jg7Pjg4njg6vjgIIgIOODouODh+ODq+OBqOODouODvOOCt+ODp+ODs+OCkuWvvuW/nOS7mOOBkeOCi+OAglxyXG4gIH1cclxufVxyXG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFPQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBRUE7QUFFQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFLQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUlBO0FBQ0E7QUFFQTtBQU1BO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFHQTtBQUdBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBSUE7QUFPQTtBQUFBO0FBeWNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQTVjQTtBQUtBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBU0E7QUFNQTtBQUNBO0FBR0E7QUFFQTtBQUNBO0FBR0E7QUFFQTtBQUdBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBSUE7QUFFQTtBQUVBO0FBQ0E7QUFFQTtBQUdBO0FBRUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUdBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBR0E7QUFHQTtBQUNBO0FBS0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFHQTtBQUNBO0FBR0E7QUFHQTtBQUdBO0FBQ0E7QUFDQTtBQUVBO0FBTUE7QUFFQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUdBO0FBRUE7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUVBO0FBR0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFLQTtBQUtBO0FBQ0E7QUFDQTtBQUVBO0FBR0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUtBO0FBS0E7QUFDQTtBQUNBO0FBRUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBR0E7QUFDQTtBQUlBO0FBR0E7QUFDQTtBQUNBO0FBSUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFRQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFRQTtBQUlBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQUlBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFRQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFPQTtBQUlBO0FBQ0E7QUFDQTtBQXNCQTtBQUNBO0FBQ0E7QUFDQTtBQVFBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFLQTtBQUtBO0FBS0E7QUFNQTtBQUNBO0FBSUE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFFQTtBQUlBO0FBSUE7QUFHQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBR0E7QUFLQTtBQUNBO0FBR0E7QUFDQTtBQUdBO0FBTUE7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFNQTtBQU1BO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFNQTtBQU1BO0FBR0E7QUFDQTtBQU1BO0FBTUE7QUFHQTtBQUNBO0FBTUE7QUFNQTtBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBTUE7QUFNQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBTUE7QUFNQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFNQTtBQUdBO0FBR0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQVdBO0FBSUE7QUFHQTtBQUNBO0FBRUE7QUFFQTtBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBZ0JBO0FBQUE7QUFuMEJBO0FBbzBCQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./Framework/src/motion/cubismmotion.ts\n");

/***/ }),

/***/ "./Framework/src/motion/cubismmotioninternal.ts":
/*!******************************************************!*\
  !*** ./Framework/src/motion/cubismmotioninternal.ts ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Live2DCubismFramework = void 0;\r\nvar csmvector_1 = __webpack_require__(/*! ../type/csmvector */ \"./Framework/src/type/csmvector.ts\");\r\nvar csmVector = csmvector_1.Live2DCubismFramework.csmVector;\r\nvar Live2DCubismFramework;\r\n(function (Live2DCubismFramework) {\r\n    var CubismMotionCurveTarget;\r\n    (function (CubismMotionCurveTarget) {\r\n        CubismMotionCurveTarget[CubismMotionCurveTarget[\"CubismMotionCurveTarget_Model\"] = 0] = \"CubismMotionCurveTarget_Model\";\r\n        CubismMotionCurveTarget[CubismMotionCurveTarget[\"CubismMotionCurveTarget_Parameter\"] = 1] = \"CubismMotionCurveTarget_Parameter\";\r\n        CubismMotionCurveTarget[CubismMotionCurveTarget[\"CubismMotionCurveTarget_PartOpacity\"] = 2] = \"CubismMotionCurveTarget_PartOpacity\";\r\n    })(CubismMotionCurveTarget = Live2DCubismFramework.CubismMotionCurveTarget || (Live2DCubismFramework.CubismMotionCurveTarget = {}));\r\n    var CubismMotionSegmentType;\r\n    (function (CubismMotionSegmentType) {\r\n        CubismMotionSegmentType[CubismMotionSegmentType[\"CubismMotionSegmentType_Linear\"] = 0] = \"CubismMotionSegmentType_Linear\";\r\n        CubismMotionSegmentType[CubismMotionSegmentType[\"CubismMotionSegmentType_Bezier\"] = 1] = \"CubismMotionSegmentType_Bezier\";\r\n        CubismMotionSegmentType[CubismMotionSegmentType[\"CubismMotionSegmentType_Stepped\"] = 2] = \"CubismMotionSegmentType_Stepped\";\r\n        CubismMotionSegmentType[CubismMotionSegmentType[\"CubismMotionSegmentType_InverseStepped\"] = 3] = \"CubismMotionSegmentType_InverseStepped\";\r\n    })(CubismMotionSegmentType = Live2DCubismFramework.CubismMotionSegmentType || (Live2DCubismFramework.CubismMotionSegmentType = {}));\r\n    var CubismMotionPoint = (function () {\r\n        function CubismMotionPoint() {\r\n            this.time = 0.0;\r\n            this.value = 0.0;\r\n        }\r\n        return CubismMotionPoint;\r\n    }());\r\n    Live2DCubismFramework.CubismMotionPoint = CubismMotionPoint;\r\n    var CubismMotionSegment = (function () {\r\n        function CubismMotionSegment() {\r\n            this.evaluate = null;\r\n            this.basePointIndex = 0;\r\n            this.segmentType = 0;\r\n        }\r\n        return CubismMotionSegment;\r\n    }());\r\n    Live2DCubismFramework.CubismMotionSegment = CubismMotionSegment;\r\n    var CubismMotionCurve = (function () {\r\n        function CubismMotionCurve() {\r\n            this.type = CubismMotionCurveTarget.CubismMotionCurveTarget_Model;\r\n            this.segmentCount = 0;\r\n            this.baseSegmentIndex = 0;\r\n            this.fadeInTime = 0.0;\r\n            this.fadeOutTime = 0.0;\r\n        }\r\n        return CubismMotionCurve;\r\n    }());\r\n    Live2DCubismFramework.CubismMotionCurve = CubismMotionCurve;\r\n    var CubismMotionEvent = (function () {\r\n        function CubismMotionEvent() {\r\n            this.fireTime = 0.0;\r\n        }\r\n        return CubismMotionEvent;\r\n    }());\r\n    Live2DCubismFramework.CubismMotionEvent = CubismMotionEvent;\r\n    var CubismMotionData = (function () {\r\n        function CubismMotionData() {\r\n            this.duration = 0.0;\r\n            this.loop = false;\r\n            this.curveCount = 0;\r\n            this.eventCount = 0;\r\n            this.fps = 0.0;\r\n            this.curves = new csmVector();\r\n            this.segments = new csmVector();\r\n            this.points = new csmVector();\r\n            this.events = new csmVector();\r\n        }\r\n        return CubismMotionData;\r\n    }());\r\n    Live2DCubismFramework.CubismMotionData = CubismMotionData;\r\n})(Live2DCubismFramework = exports.Live2DCubismFramework || (exports.Live2DCubismFramework = {}));\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9GcmFtZXdvcmsvc3JjL21vdGlvbi9jdWJpc21tb3Rpb25pbnRlcm5hbC50cy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL2xpdmUyZC8uL0ZyYW1ld29yay9zcmMvbW90aW9uL2N1YmlzbW1vdGlvbmludGVybmFsLnRzP2U2ZGUiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIENvcHlyaWdodChjKSBMaXZlMkQgSW5jLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4gKlxyXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSB0aGUgTGl2ZTJEIE9wZW4gU29mdHdhcmUgbGljZW5zZVxyXG4gKiB0aGF0IGNhbiBiZSBmb3VuZCBhdCBodHRwczovL3d3dy5saXZlMmQuY29tL2V1bGEvbGl2ZTJkLW9wZW4tc29mdHdhcmUtbGljZW5zZS1hZ3JlZW1lbnRfZW4uaHRtbC5cclxuICovXHJcblxyXG5pbXBvcnQgeyBMaXZlMkRDdWJpc21GcmFtZXdvcmsgYXMgY3ViaXNtaWQgfSBmcm9tICcuLi9pZC9jdWJpc21pZCc7XHJcbmltcG9ydCB7IExpdmUyREN1YmlzbUZyYW1ld29yayBhcyBjc21zdHJpbmcgfSBmcm9tICcuLi90eXBlL2NzbXN0cmluZyc7XHJcbmltcG9ydCB7IExpdmUyREN1YmlzbUZyYW1ld29yayBhcyBjc212ZWN0b3IgfSBmcm9tICcuLi90eXBlL2NzbXZlY3Rvcic7XHJcbmltcG9ydCBjc21WZWN0b3IgPSBjc212ZWN0b3IuY3NtVmVjdG9yO1xyXG5pbXBvcnQgY3NtU3RyaW5nID0gY3Ntc3RyaW5nLmNzbVN0cmluZztcclxuaW1wb3J0IEN1YmlzbUlkSGFuZGxlID0gY3ViaXNtaWQuQ3ViaXNtSWRIYW5kbGU7XHJcblxyXG5leHBvcnQgbmFtZXNwYWNlIExpdmUyREN1YmlzbUZyYW1ld29yayB7XHJcbiAgLyoqXHJcbiAgICogQGJyaWVmIOODouODvOOCt+ODp+ODs+OCq+ODvOODluOBrueorumhnlxyXG4gICAqXHJcbiAgICog44Oi44O844K344On44Oz44Kr44O844OW44Gu56iu6aGe44CCXHJcbiAgICovXHJcbiAgZXhwb3J0IGVudW0gQ3ViaXNtTW90aW9uQ3VydmVUYXJnZXQge1xyXG4gICAgQ3ViaXNtTW90aW9uQ3VydmVUYXJnZXRfTW9kZWwsIC8vIOODouODh+ODq+OBq+WvvuOBl+OBplxyXG4gICAgQ3ViaXNtTW90aW9uQ3VydmVUYXJnZXRfUGFyYW1ldGVyLCAvLyDjg5Hjg6njg6Hjg7zjgr/jgavlr77jgZfjgaZcclxuICAgIEN1YmlzbU1vdGlvbkN1cnZlVGFyZ2V0X1BhcnRPcGFjaXR5IC8vIOODkeODvOODhOOBruS4jemAj+aYjuW6puOBq+WvvuOBl+OBplxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQGJyaWVmIOODouODvOOCt+ODp+ODs+OCq+ODvOODluOBruOCu+OCsOODoeODs+ODiOOBrueorumhnlxyXG4gICAqXHJcbiAgICog44Oi44O844K344On44Oz44Kr44O844OW44Gu44K744Kw44Oh44Oz44OI44Gu56iu6aGe44CCXHJcbiAgICovXHJcbiAgZXhwb3J0IGVudW0gQ3ViaXNtTW90aW9uU2VnbWVudFR5cGUge1xyXG4gICAgQ3ViaXNtTW90aW9uU2VnbWVudFR5cGVfTGluZWFyID0gMCwgLy8g44Oq44OL44KiXHJcbiAgICBDdWJpc21Nb3Rpb25TZWdtZW50VHlwZV9CZXppZXIgPSAxLCAvLyDjg5njgrjjgqfmm7Lnt5pcclxuICAgIEN1YmlzbU1vdGlvblNlZ21lbnRUeXBlX1N0ZXBwZWQgPSAyLCAvLyDjgrnjg4bjg4Pjg5dcclxuICAgIEN1YmlzbU1vdGlvblNlZ21lbnRUeXBlX0ludmVyc2VTdGVwcGVkID0gMyAvLyDjgqTjg7Pjg5Djg7zjgrnjgrnjg4bjg4Pjg5dcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBicmllZiDjg6Ljg7zjgrfjg6fjg7Pjgqvjg7zjg5bjga7liLblvqHngrlcclxuICAgKlxyXG4gICAqIOODouODvOOCt+ODp+ODs+OCq+ODvOODluOBruWItuW+oeeCueOAglxyXG4gICAqL1xyXG4gIGV4cG9ydCBjbGFzcyBDdWJpc21Nb3Rpb25Qb2ludCB7XHJcbiAgICB0aW1lID0gMC4wOyAvLyDmmYLplpNb56eSXVxyXG4gICAgdmFsdWUgPSAwLjA7IC8vIOWApFxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog44Oi44O844K344On44Oz44Kr44O844OW44Gu44K744Kw44Oh44Oz44OI44Gu6KmV5L6h6Zai5pWwXHJcbiAgICpcclxuICAgKiBAcGFyYW0gICBwb2ludHMgICAgICDjg6Ljg7zjgrfjg6fjg7Pjgqvjg7zjg5bjga7liLblvqHngrnjg6rjgrnjg4hcclxuICAgKiBAcGFyYW0gICB0aW1lICAgICAgICDoqZXkvqHjgZnjgovmmYLplpNb56eSXVxyXG4gICAqL1xyXG4gIGV4cG9ydCBpbnRlcmZhY2UgY3NtTW90aW9uU2VnbWVudEV2YWx1YXRpb25GdW5jdGlvbiB7XHJcbiAgICAocG9pbnRzOiBDdWJpc21Nb3Rpb25Qb2ludFtdLCB0aW1lOiBudW1iZXIpOiBudW1iZXI7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAYnJpZWYg44Oi44O844K344On44Oz44Kr44O844OW44Gu44K744Kw44Oh44Oz44OIXHJcbiAgICpcclxuICAgKiDjg6Ljg7zjgrfjg6fjg7Pjgqvjg7zjg5bjga7jgrvjgrDjg6Hjg7Pjg4jjgIJcclxuICAgKi9cclxuICBleHBvcnQgY2xhc3MgQ3ViaXNtTW90aW9uU2VnbWVudCB7XHJcbiAgICAvKipcclxuICAgICAqIEBicmllZiDjgrPjg7Pjgrnjg4jjg6njgq/jgr9cclxuICAgICAqXHJcbiAgICAgKiDjgrPjg7Pjgrnjg4jjg6njgq/jgr/jgIJcclxuICAgICAqL1xyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICB0aGlzLmV2YWx1YXRlID0gbnVsbDtcclxuICAgICAgdGhpcy5iYXNlUG9pbnRJbmRleCA9IDA7XHJcbiAgICAgIHRoaXMuc2VnbWVudFR5cGUgPSAwO1xyXG4gICAgfVxyXG5cclxuICAgIGV2YWx1YXRlOiBjc21Nb3Rpb25TZWdtZW50RXZhbHVhdGlvbkZ1bmN0aW9uOyAvLyDkvb/nlKjjgZnjgovoqZXkvqHplqLmlbBcclxuICAgIGJhc2VQb2ludEluZGV4OiBudW1iZXI7IC8vIOacgOWIneOBruOCu+OCsOODoeODs+ODiOOBuOOBruOCpOODs+ODh+ODg+OCr+OCuVxyXG4gICAgc2VnbWVudFR5cGU6IG51bWJlcjsgLy8g44K744Kw44Oh44Oz44OI44Gu56iu6aGeXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAYnJpZWYg44Oi44O844K344On44Oz44Kr44O844OWXHJcbiAgICpcclxuICAgKiDjg6Ljg7zjgrfjg6fjg7Pjgqvjg7zjg5bjgIJcclxuICAgKi9cclxuICBleHBvcnQgY2xhc3MgQ3ViaXNtTW90aW9uQ3VydmUge1xyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICB0aGlzLnR5cGUgPSBDdWJpc21Nb3Rpb25DdXJ2ZVRhcmdldC5DdWJpc21Nb3Rpb25DdXJ2ZVRhcmdldF9Nb2RlbDtcclxuICAgICAgdGhpcy5zZWdtZW50Q291bnQgPSAwO1xyXG4gICAgICB0aGlzLmJhc2VTZWdtZW50SW5kZXggPSAwO1xyXG4gICAgICB0aGlzLmZhZGVJblRpbWUgPSAwLjA7XHJcbiAgICAgIHRoaXMuZmFkZU91dFRpbWUgPSAwLjA7XHJcbiAgICB9XHJcblxyXG4gICAgdHlwZTogQ3ViaXNtTW90aW9uQ3VydmVUYXJnZXQ7IC8vIOOCq+ODvOODluOBrueorumhnlxyXG4gICAgaWQ6IEN1YmlzbUlkSGFuZGxlOyAvLyDjgqvjg7zjg5bjga5JRFxyXG4gICAgc2VnbWVudENvdW50OiBudW1iZXI7IC8vIOOCu+OCsOODoeODs+ODiOOBruWAi+aVsFxyXG4gICAgYmFzZVNlZ21lbnRJbmRleDogbnVtYmVyOyAvLyDmnIDliJ3jga7jgrvjgrDjg6Hjg7Pjg4jjga7jgqTjg7Pjg4fjg4Pjgq/jgrlcclxuICAgIGZhZGVJblRpbWU6IG51bWJlcjsgLy8g44OV44Kn44O844OJ44Kk44Oz44Gr44GL44GL44KL5pmC6ZaTW+enkl1cclxuICAgIGZhZGVPdXRUaW1lOiBudW1iZXI7IC8vIOODleOCp+ODvOODieOCouOCpuODiOOBq+OBi+OBi+OCi+aZgumWk1vnp5JdXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDjgqTjg5njg7Pjg4jjgIJcclxuICAgKi9cclxuICBleHBvcnQgY2xhc3MgQ3ViaXNtTW90aW9uRXZlbnQge1xyXG4gICAgZmlyZVRpbWUgPSAwLjA7XHJcbiAgICB2YWx1ZTogY3NtU3RyaW5nO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQGJyaWVmIOODouODvOOCt+ODp+ODs+ODh+ODvOOCv1xyXG4gICAqXHJcbiAgICog44Oi44O844K344On44Oz44OH44O844K/44CCXHJcbiAgICovXHJcbiAgZXhwb3J0IGNsYXNzIEN1YmlzbU1vdGlvbkRhdGEge1xyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICB0aGlzLmR1cmF0aW9uID0gMC4wO1xyXG4gICAgICB0aGlzLmxvb3AgPSBmYWxzZTtcclxuICAgICAgdGhpcy5jdXJ2ZUNvdW50ID0gMDtcclxuICAgICAgdGhpcy5ldmVudENvdW50ID0gMDtcclxuICAgICAgdGhpcy5mcHMgPSAwLjA7XHJcblxyXG4gICAgICB0aGlzLmN1cnZlcyA9IG5ldyBjc21WZWN0b3I8Q3ViaXNtTW90aW9uQ3VydmU+KCk7XHJcbiAgICAgIHRoaXMuc2VnbWVudHMgPSBuZXcgY3NtVmVjdG9yPEN1YmlzbU1vdGlvblNlZ21lbnQ+KCk7XHJcbiAgICAgIHRoaXMucG9pbnRzID0gbmV3IGNzbVZlY3RvcjxDdWJpc21Nb3Rpb25Qb2ludD4oKTtcclxuICAgICAgdGhpcy5ldmVudHMgPSBuZXcgY3NtVmVjdG9yPEN1YmlzbU1vdGlvbkV2ZW50PigpO1xyXG4gICAgfVxyXG5cclxuICAgIGR1cmF0aW9uOiBudW1iZXI7IC8vIOODouODvOOCt+ODp+ODs+OBrumVt+OBlVvnp5JdXHJcbiAgICBsb29wOiBib29sZWFuOyAvLyDjg6vjg7zjg5fjgZnjgovjgYvjganjgYbjgYtcclxuICAgIGN1cnZlQ291bnQ6IG51bWJlcjsgLy8g44Kr44O844OW44Gu5YCL5pWwXHJcbiAgICBldmVudENvdW50OiBudW1iZXI7IC8vIFVzZXJEYXRh44Gu5YCL5pWwXHJcbiAgICBmcHM6IG51bWJlcjsgLy8g44OV44Os44O844Og44Os44O844OIXHJcbiAgICBjdXJ2ZXM6IGNzbVZlY3RvcjxDdWJpc21Nb3Rpb25DdXJ2ZT47IC8vIOOCq+ODvOODluOBruODquOCueODiFxyXG4gICAgc2VnbWVudHM6IGNzbVZlY3RvcjxDdWJpc21Nb3Rpb25TZWdtZW50PjsgLy8g44K744Kw44Oh44Oz44OI44Gu44Oq44K544OIXHJcbiAgICBwb2ludHM6IGNzbVZlY3RvcjxDdWJpc21Nb3Rpb25Qb2ludD47IC8vIOODneOCpOODs+ODiOOBruODquOCueODiFxyXG4gICAgZXZlbnRzOiBjc21WZWN0b3I8Q3ViaXNtTW90aW9uRXZlbnQ+OyAvLyDjgqTjg5njg7Pjg4jjga7jg6rjgrnjg4hcclxuICB9XHJcbn1cclxuIl0sIm1hcHBpbmdzIjoiOzs7QUFTQTtBQUNBO0FBSUE7QUFBQTtBQU1BO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBT0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFIQTtBQW9CQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUFBO0FBZkE7QUFzQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVFBO0FBQUE7QUFmQTtBQW9CQTtBQUFBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFIQTtBQVVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVdBO0FBQUE7QUF2QkE7QUF3QkE7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./Framework/src/motion/cubismmotioninternal.ts\n");

/***/ }),

/***/ "./Framework/src/motion/cubismmotionjson.ts":
/*!**************************************************!*\
  !*** ./Framework/src/motion/cubismmotionjson.ts ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Live2DCubismFramework = void 0;\r\nvar cubismjson_1 = __webpack_require__(/*! ../utils/cubismjson */ \"./Framework/src/utils/cubismjson.ts\");\r\nvar live2dcubismframework_1 = __webpack_require__(/*! ../live2dcubismframework */ \"./Framework/src/live2dcubismframework.ts\");\r\nvar csmstring_1 = __webpack_require__(/*! ../type/csmstring */ \"./Framework/src/type/csmstring.ts\");\r\nvar csmString = csmstring_1.Live2DCubismFramework.csmString;\r\nvar CubismFramework = live2dcubismframework_1.Live2DCubismFramework.CubismFramework;\r\nvar CubismJson = cubismjson_1.Live2DCubismFramework.CubismJson;\r\nvar Live2DCubismFramework;\r\n(function (Live2DCubismFramework) {\r\n    var Meta = 'Meta';\r\n    var Duration = 'Duration';\r\n    var Loop = 'Loop';\r\n    var CurveCount = 'CurveCount';\r\n    var Fps = 'Fps';\r\n    var TotalSegmentCount = 'TotalSegmentCount';\r\n    var TotalPointCount = 'TotalPointCount';\r\n    var Curves = 'Curves';\r\n    var Target = 'Target';\r\n    var Id = 'Id';\r\n    var FadeInTime = 'FadeInTime';\r\n    var FadeOutTime = 'FadeOutTime';\r\n    var Segments = 'Segments';\r\n    var UserData = 'UserData';\r\n    var UserDataCount = 'UserDataCount';\r\n    var TotalUserDataSize = 'TotalUserDataSize';\r\n    var Time = 'Time';\r\n    var Value = 'Value';\r\n    var CubismMotionJson = (function () {\r\n        function CubismMotionJson(buffer, size) {\r\n            this._json = CubismJson.create(buffer, size);\r\n        }\r\n        CubismMotionJson.prototype.release = function () {\r\n            CubismJson.delete(this._json);\r\n        };\r\n        CubismMotionJson.prototype.getMotionDuration = function () {\r\n            return this._json\r\n                .getRoot()\r\n                .getValueByString(Meta)\r\n                .getValueByString(Duration)\r\n                .toFloat();\r\n        };\r\n        CubismMotionJson.prototype.isMotionLoop = function () {\r\n            return this._json\r\n                .getRoot()\r\n                .getValueByString(Meta)\r\n                .getValueByString(Loop)\r\n                .toBoolean();\r\n        };\r\n        CubismMotionJson.prototype.getMotionCurveCount = function () {\r\n            return this._json\r\n                .getRoot()\r\n                .getValueByString(Meta)\r\n                .getValueByString(CurveCount)\r\n                .toInt();\r\n        };\r\n        CubismMotionJson.prototype.getMotionFps = function () {\r\n            return this._json\r\n                .getRoot()\r\n                .getValueByString(Meta)\r\n                .getValueByString(Fps)\r\n                .toFloat();\r\n        };\r\n        CubismMotionJson.prototype.getMotionTotalSegmentCount = function () {\r\n            return this._json\r\n                .getRoot()\r\n                .getValueByString(Meta)\r\n                .getValueByString(TotalSegmentCount)\r\n                .toInt();\r\n        };\r\n        CubismMotionJson.prototype.getMotionTotalPointCount = function () {\r\n            return this._json\r\n                .getRoot()\r\n                .getValueByString(Meta)\r\n                .getValueByString(TotalPointCount)\r\n                .toInt();\r\n        };\r\n        CubismMotionJson.prototype.isExistMotionFadeInTime = function () {\r\n            return !this._json\r\n                .getRoot()\r\n                .getValueByString(Meta)\r\n                .getValueByString(FadeInTime)\r\n                .isNull();\r\n        };\r\n        CubismMotionJson.prototype.isExistMotionFadeOutTime = function () {\r\n            return !this._json\r\n                .getRoot()\r\n                .getValueByString(Meta)\r\n                .getValueByString(FadeOutTime)\r\n                .isNull();\r\n        };\r\n        CubismMotionJson.prototype.getMotionFadeInTime = function () {\r\n            return this._json\r\n                .getRoot()\r\n                .getValueByString(Meta)\r\n                .getValueByString(FadeInTime)\r\n                .toFloat();\r\n        };\r\n        CubismMotionJson.prototype.getMotionFadeOutTime = function () {\r\n            return this._json\r\n                .getRoot()\r\n                .getValueByString(Meta)\r\n                .getValueByString(FadeOutTime)\r\n                .toFloat();\r\n        };\r\n        CubismMotionJson.prototype.getMotionCurveTarget = function (curveIndex) {\r\n            return this._json\r\n                .getRoot()\r\n                .getValueByString(Curves)\r\n                .getValueByIndex(curveIndex)\r\n                .getValueByString(Target)\r\n                .getRawString();\r\n        };\r\n        CubismMotionJson.prototype.getMotionCurveId = function (curveIndex) {\r\n            return CubismFramework.getIdManager().getId(this._json\r\n                .getRoot()\r\n                .getValueByString(Curves)\r\n                .getValueByIndex(curveIndex)\r\n                .getValueByString(Id)\r\n                .getRawString());\r\n        };\r\n        CubismMotionJson.prototype.isExistMotionCurveFadeInTime = function (curveIndex) {\r\n            return !this._json\r\n                .getRoot()\r\n                .getValueByString(Curves)\r\n                .getValueByIndex(curveIndex)\r\n                .getValueByString(FadeInTime)\r\n                .isNull();\r\n        };\r\n        CubismMotionJson.prototype.isExistMotionCurveFadeOutTime = function (curveIndex) {\r\n            return !this._json\r\n                .getRoot()\r\n                .getValueByString(Curves)\r\n                .getValueByIndex(curveIndex)\r\n                .getValueByString(FadeOutTime)\r\n                .isNull();\r\n        };\r\n        CubismMotionJson.prototype.getMotionCurveFadeInTime = function (curveIndex) {\r\n            return this._json\r\n                .getRoot()\r\n                .getValueByString(Curves)\r\n                .getValueByIndex(curveIndex)\r\n                .getValueByString(FadeInTime)\r\n                .toFloat();\r\n        };\r\n        CubismMotionJson.prototype.getMotionCurveFadeOutTime = function (curveIndex) {\r\n            return this._json\r\n                .getRoot()\r\n                .getValueByString(Curves)\r\n                .getValueByIndex(curveIndex)\r\n                .getValueByString(FadeOutTime)\r\n                .toFloat();\r\n        };\r\n        CubismMotionJson.prototype.getMotionCurveSegmentCount = function (curveIndex) {\r\n            return this._json\r\n                .getRoot()\r\n                .getValueByString(Curves)\r\n                .getValueByIndex(curveIndex)\r\n                .getValueByString(Segments)\r\n                .getVector()\r\n                .getSize();\r\n        };\r\n        CubismMotionJson.prototype.getMotionCurveSegment = function (curveIndex, segmentIndex) {\r\n            return this._json\r\n                .getRoot()\r\n                .getValueByString(Curves)\r\n                .getValueByIndex(curveIndex)\r\n                .getValueByString(Segments)\r\n                .getValueByIndex(segmentIndex)\r\n                .toFloat();\r\n        };\r\n        CubismMotionJson.prototype.getEventCount = function () {\r\n            return this._json\r\n                .getRoot()\r\n                .getValueByString(Meta)\r\n                .getValueByString(UserDataCount)\r\n                .toInt();\r\n        };\r\n        CubismMotionJson.prototype.getTotalEventValueSize = function () {\r\n            return this._json\r\n                .getRoot()\r\n                .getValueByString(Meta)\r\n                .getValueByString(TotalUserDataSize)\r\n                .toInt();\r\n        };\r\n        CubismMotionJson.prototype.getEventTime = function (userDataIndex) {\r\n            return this._json\r\n                .getRoot()\r\n                .getValueByString(UserData)\r\n                .getValueByIndex(userDataIndex)\r\n                .getValueByString(Time)\r\n                .toInt();\r\n        };\r\n        CubismMotionJson.prototype.getEventValue = function (userDataIndex) {\r\n            return new csmString(this._json\r\n                .getRoot()\r\n                .getValueByString(UserData)\r\n                .getValueByIndex(userDataIndex)\r\n                .getValueByString(Value)\r\n                .getRawString());\r\n        };\r\n        return CubismMotionJson;\r\n    }());\r\n    Live2DCubismFramework.CubismMotionJson = CubismMotionJson;\r\n})(Live2DCubismFramework = exports.Live2DCubismFramework || (exports.Live2DCubismFramework = {}));\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9GcmFtZXdvcmsvc3JjL21vdGlvbi9jdWJpc21tb3Rpb25qc29uLnRzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbGl2ZTJkLy4vRnJhbWV3b3JrL3NyYy9tb3Rpb24vY3ViaXNtbW90aW9uanNvbi50cz8zZjhkIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBDb3B5cmlnaHQoYykgTGl2ZTJEIEluYy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuICpcclxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgdGhlIExpdmUyRCBPcGVuIFNvZnR3YXJlIGxpY2Vuc2VcclxuICogdGhhdCBjYW4gYmUgZm91bmQgYXQgaHR0cHM6Ly93d3cubGl2ZTJkLmNvbS9ldWxhL2xpdmUyZC1vcGVuLXNvZnR3YXJlLWxpY2Vuc2UtYWdyZWVtZW50X2VuLmh0bWwuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgTGl2ZTJEQ3ViaXNtRnJhbWV3b3JrIGFzIGN1YmlzbWpzb24gfSBmcm9tICcuLi91dGlscy9jdWJpc21qc29uJztcclxuaW1wb3J0IHsgTGl2ZTJEQ3ViaXNtRnJhbWV3b3JrIGFzIGN1YmlzbWlkIH0gZnJvbSAnLi4vaWQvY3ViaXNtaWQnO1xyXG5pbXBvcnQgeyBMaXZlMkRDdWJpc21GcmFtZXdvcmsgYXMgY3ViaXNtZnJhbWV3b3JrIH0gZnJvbSAnLi4vbGl2ZTJkY3ViaXNtZnJhbWV3b3JrJztcclxuaW1wb3J0IHsgTGl2ZTJEQ3ViaXNtRnJhbWV3b3JrIGFzIGNzbXN0cmluZyB9IGZyb20gJy4uL3R5cGUvY3Ntc3RyaW5nJztcclxuaW1wb3J0IGNzbVN0cmluZyA9IGNzbXN0cmluZy5jc21TdHJpbmc7XHJcbmltcG9ydCBDdWJpc21GcmFtZXdvcmsgPSBjdWJpc21mcmFtZXdvcmsuQ3ViaXNtRnJhbWV3b3JrO1xyXG5pbXBvcnQgQ3ViaXNtSWRIYW5kbGUgPSBjdWJpc21pZC5DdWJpc21JZEhhbmRsZTtcclxuaW1wb3J0IEN1YmlzbUpzb24gPSBjdWJpc21qc29uLkN1YmlzbUpzb247XHJcblxyXG5leHBvcnQgbmFtZXNwYWNlIExpdmUyREN1YmlzbUZyYW1ld29yayB7XHJcbiAgLy8gSlNPTiBrZXlzXHJcbiAgY29uc3QgTWV0YSA9ICdNZXRhJztcclxuICBjb25zdCBEdXJhdGlvbiA9ICdEdXJhdGlvbic7XHJcbiAgY29uc3QgTG9vcCA9ICdMb29wJztcclxuICBjb25zdCBDdXJ2ZUNvdW50ID0gJ0N1cnZlQ291bnQnO1xyXG4gIGNvbnN0IEZwcyA9ICdGcHMnO1xyXG4gIGNvbnN0IFRvdGFsU2VnbWVudENvdW50ID0gJ1RvdGFsU2VnbWVudENvdW50JztcclxuICBjb25zdCBUb3RhbFBvaW50Q291bnQgPSAnVG90YWxQb2ludENvdW50JztcclxuICBjb25zdCBDdXJ2ZXMgPSAnQ3VydmVzJztcclxuICBjb25zdCBUYXJnZXQgPSAnVGFyZ2V0JztcclxuICBjb25zdCBJZCA9ICdJZCc7XHJcbiAgY29uc3QgRmFkZUluVGltZSA9ICdGYWRlSW5UaW1lJztcclxuICBjb25zdCBGYWRlT3V0VGltZSA9ICdGYWRlT3V0VGltZSc7XHJcbiAgY29uc3QgU2VnbWVudHMgPSAnU2VnbWVudHMnO1xyXG4gIGNvbnN0IFVzZXJEYXRhID0gJ1VzZXJEYXRhJztcclxuICBjb25zdCBVc2VyRGF0YUNvdW50ID0gJ1VzZXJEYXRhQ291bnQnO1xyXG4gIGNvbnN0IFRvdGFsVXNlckRhdGFTaXplID0gJ1RvdGFsVXNlckRhdGFTaXplJztcclxuICBjb25zdCBUaW1lID0gJ1RpbWUnO1xyXG4gIGNvbnN0IFZhbHVlID0gJ1ZhbHVlJztcclxuXHJcbiAgLyoqXHJcbiAgICogbW90aW9uMy5qc29u44Gu44Kz44Oz44OG44OK44CCXHJcbiAgICovXHJcbiAgZXhwb3J0IGNsYXNzIEN1YmlzbU1vdGlvbkpzb24ge1xyXG4gICAgLyoqXHJcbiAgICAgKiDjgrPjg7Pjgrnjg4jjg6njgq/jgr9cclxuICAgICAqIEBwYXJhbSBidWZmZXIgbW90aW9uMy5qc29u44GM6Kqt44G/6L6844G+44KM44Gm44GE44KL44OQ44OD44OV44KhXHJcbiAgICAgKiBAcGFyYW0gc2l6ZSDjg5Djg4Pjg5XjgqHjga7jgrXjgqTjgrpcclxuICAgICAqL1xyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKGJ1ZmZlcjogQXJyYXlCdWZmZXIsIHNpemU6IG51bWJlcikge1xyXG4gICAgICB0aGlzLl9qc29uID0gQ3ViaXNtSnNvbi5jcmVhdGUoYnVmZmVyLCBzaXplKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOODh+OCueODiOODqeOCr+OCv+ebuOW9k+OBruWHpueQhlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgcmVsZWFzZSgpOiB2b2lkIHtcclxuICAgICAgQ3ViaXNtSnNvbi5kZWxldGUodGhpcy5fanNvbik7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDjg6Ljg7zjgrfjg6fjg7Pjga7plbfjgZXjgpLlj5blvpfjgZnjgotcclxuICAgICAqIEByZXR1cm4g44Oi44O844K344On44Oz44Gu6ZW344GVW+enkl1cclxuICAgICAqL1xyXG4gICAgcHVibGljIGdldE1vdGlvbkR1cmF0aW9uKCk6IG51bWJlciB7XHJcbiAgICAgIHJldHVybiB0aGlzLl9qc29uXHJcbiAgICAgICAgLmdldFJvb3QoKVxyXG4gICAgICAgIC5nZXRWYWx1ZUJ5U3RyaW5nKE1ldGEpXHJcbiAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoRHVyYXRpb24pXHJcbiAgICAgICAgLnRvRmxvYXQoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOODouODvOOCt+ODp+ODs+OBruODq+ODvOODl+aDheWgseOBruWPluW+l1xyXG4gICAgICogQHJldHVybiB0cnVlIOODq+ODvOODl+OBmeOCi1xyXG4gICAgICogQHJldHVybiBmYWxzZSDjg6vjg7zjg5fjgZfjgarjgYRcclxuICAgICAqL1xyXG4gICAgcHVibGljIGlzTW90aW9uTG9vcCgpOiBib29sZWFuIHtcclxuICAgICAgcmV0dXJuIHRoaXMuX2pzb25cclxuICAgICAgICAuZ2V0Um9vdCgpXHJcbiAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoTWV0YSlcclxuICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhMb29wKVxyXG4gICAgICAgIC50b0Jvb2xlYW4oKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOiOt+WPluWKqOS9nOabsue6v+eahOS4quaVsFxyXG4gICAgICogQHJldHVybiDliqjkvZzmm7Lnur/nmoTkuKrmlbBcclxuICAgICAqL1xyXG4gICAgcHVibGljIGdldE1vdGlvbkN1cnZlQ291bnQoKTogbnVtYmVyIHtcclxuICAgICAgcmV0dXJuIHRoaXMuX2pzb25cclxuICAgICAgICAuZ2V0Um9vdCgpXHJcbiAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoTWV0YSlcclxuICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhDdXJ2ZUNvdW50KVxyXG4gICAgICAgIC50b0ludCgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog44Oi44O844K344On44Oz44Gu44OV44Os44O844Og44Os44O844OI44Gu5Y+W5b6XXHJcbiAgICAgKiBAcmV0dXJuIOODleODrOODvOODoOODrOODvOODiFtGUFNdXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXRNb3Rpb25GcHMoKTogbnVtYmVyIHtcclxuICAgICAgcmV0dXJuIHRoaXMuX2pzb25cclxuICAgICAgICAuZ2V0Um9vdCgpXHJcbiAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoTWV0YSlcclxuICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhGcHMpXHJcbiAgICAgICAgLnRvRmxvYXQoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOODouODvOOCt+ODp+ODs+OBruOCu+OCsOODoeODs+ODiOOBrue3j+WQiOioiOOBruWPluW+l1xyXG4gICAgICogQHJldHVybiDjg6Ljg7zjgrfjg6fjg7Pjga7jgrvjgrDjg6Hjg7Pjg4jjga7lj5blvpdcclxuICAgICAqL1xyXG4gICAgcHVibGljIGdldE1vdGlvblRvdGFsU2VnbWVudENvdW50KCk6IG51bWJlciB7XHJcbiAgICAgIHJldHVybiB0aGlzLl9qc29uXHJcbiAgICAgICAgLmdldFJvb3QoKVxyXG4gICAgICAgIC5nZXRWYWx1ZUJ5U3RyaW5nKE1ldGEpXHJcbiAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoVG90YWxTZWdtZW50Q291bnQpXHJcbiAgICAgICAgLnRvSW50KCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDjg6Ljg7zjgrfjg6fjg7Pjga7jgqvjg7zjg5bjga7liLblvqHlupfjga7nt4/lkIjoqIjjga7lj5blvpdcclxuICAgICAqIEByZXR1cm4g44Oi44O844K344On44Oz44Gu44Kr44O844OW44Gu5Yi25b6h54K544Gu57eP5ZCI6KiIXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXRNb3Rpb25Ub3RhbFBvaW50Q291bnQoKTogbnVtYmVyIHtcclxuICAgICAgcmV0dXJuIHRoaXMuX2pzb25cclxuICAgICAgICAuZ2V0Um9vdCgpXHJcbiAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoTWV0YSlcclxuICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhUb3RhbFBvaW50Q291bnQpXHJcbiAgICAgICAgLnRvSW50KCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDjg6Ljg7zjgrfjg6fjg7Pjga7jg5Xjgqfjg7zjg4njgqTjg7PmmYLplpPjga7lrZjlnKhcclxuICAgICAqIEByZXR1cm4gdHJ1ZSDlrZjlnKjjgZnjgotcclxuICAgICAqIEByZXR1cm4gZmFsc2Ug5a2Y5Zyo44GX44Gq44GEXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBpc0V4aXN0TW90aW9uRmFkZUluVGltZSgpOiBib29sZWFuIHtcclxuICAgICAgcmV0dXJuICF0aGlzLl9qc29uXHJcbiAgICAgICAgLmdldFJvb3QoKVxyXG4gICAgICAgIC5nZXRWYWx1ZUJ5U3RyaW5nKE1ldGEpXHJcbiAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoRmFkZUluVGltZSlcclxuICAgICAgICAuaXNOdWxsKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDjg6Ljg7zjgrfjg6fjg7Pjga7jg5Xjgqfjg7zjg4njgqLjgqbjg4jmmYLplpPjga7lrZjlnKhcclxuICAgICAqIEByZXR1cm4gdHJ1ZSDlrZjlnKjjgZnjgotcclxuICAgICAqIEByZXR1cm4gZmFsc2Ug5a2Y5Zyo44GX44Gq44GEXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBpc0V4aXN0TW90aW9uRmFkZU91dFRpbWUoKTogYm9vbGVhbiB7XHJcbiAgICAgIHJldHVybiAhdGhpcy5fanNvblxyXG4gICAgICAgIC5nZXRSb290KClcclxuICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhNZXRhKVxyXG4gICAgICAgIC5nZXRWYWx1ZUJ5U3RyaW5nKEZhZGVPdXRUaW1lKVxyXG4gICAgICAgIC5pc051bGwoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOODouODvOOCt+ODp+ODs+OBruODleOCp+ODvOODieOCpOODs+aZgumWk+OBruWPluW+l1xyXG4gICAgICogQHJldHVybiDjg5Xjgqfjg7zjg4njgqTjg7PmmYLplpNb56eSXVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2V0TW90aW9uRmFkZUluVGltZSgpOiBudW1iZXIge1xyXG4gICAgICByZXR1cm4gdGhpcy5fanNvblxyXG4gICAgICAgIC5nZXRSb290KClcclxuICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhNZXRhKVxyXG4gICAgICAgIC5nZXRWYWx1ZUJ5U3RyaW5nKEZhZGVJblRpbWUpXHJcbiAgICAgICAgLnRvRmxvYXQoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOODouODvOOCt+ODp+ODs+OBruODleOCp+ODvOODieOCouOCpuODiOaZgumWk+OBruWPluW+l1xyXG4gICAgICogQHJldHVybiDjg5Xjgqfjg7zjg4njgqLjgqbjg4jmmYLplpNb56eSXVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2V0TW90aW9uRmFkZU91dFRpbWUoKTogbnVtYmVyIHtcclxuICAgICAgcmV0dXJuIHRoaXMuX2pzb25cclxuICAgICAgICAuZ2V0Um9vdCgpXHJcbiAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoTWV0YSlcclxuICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhGYWRlT3V0VGltZSlcclxuICAgICAgICAudG9GbG9hdCgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog44Oi44O844K344On44Oz44Gu44Kr44O844OW44Gu56iu6aGe44Gu5Y+W5b6XXHJcbiAgICAgKiBAcGFyYW0gY3VydmVJbmRleCDjgqvjg7zjg5bjga7jgqTjg7Pjg4fjg4Pjgq/jgrlcclxuICAgICAqIEByZXR1cm4g44Kr44O844OW44Gu56iu6aGeXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXRNb3Rpb25DdXJ2ZVRhcmdldChjdXJ2ZUluZGV4OiBudW1iZXIpOiBzdHJpbmcge1xyXG4gICAgICByZXR1cm4gdGhpcy5fanNvblxyXG4gICAgICAgIC5nZXRSb290KClcclxuICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhDdXJ2ZXMpXHJcbiAgICAgICAgLmdldFZhbHVlQnlJbmRleChjdXJ2ZUluZGV4KVxyXG4gICAgICAgIC5nZXRWYWx1ZUJ5U3RyaW5nKFRhcmdldClcclxuICAgICAgICAuZ2V0UmF3U3RyaW5nKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDjg6Ljg7zjgrfjg6fjg7Pjga7jgqvjg7zjg5bjga5JROOBruWPluW+l1xyXG4gICAgICogQHBhcmFtIGN1cnZlSW5kZXgg44Kr44O844OW44Gu44Kk44Oz44OH44OD44Kv44K5XHJcbiAgICAgKiBAcmV0dXJuIOOCq+ODvOODluOBrklEXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXRNb3Rpb25DdXJ2ZUlkKGN1cnZlSW5kZXg6IG51bWJlcik6IEN1YmlzbUlkSGFuZGxlIHtcclxuICAgICAgcmV0dXJuIEN1YmlzbUZyYW1ld29yay5nZXRJZE1hbmFnZXIoKS5nZXRJZChcclxuICAgICAgICB0aGlzLl9qc29uXHJcbiAgICAgICAgICAuZ2V0Um9vdCgpXHJcbiAgICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhDdXJ2ZXMpXHJcbiAgICAgICAgICAuZ2V0VmFsdWVCeUluZGV4KGN1cnZlSW5kZXgpXHJcbiAgICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhJZClcclxuICAgICAgICAgIC5nZXRSYXdTdHJpbmcoKVxyXG4gICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog44Oi44O844K344On44Oz44Gu44Kr44O844OW44Gu44OV44Kn44O844OJ44Kk44Oz5pmC6ZaT44Gu5a2Y5ZyoXHJcbiAgICAgKiBAcGFyYW0gY3VydmVJbmRleCDjgqvjg7zjg5bjga7jgqTjg7Pjg4fjg4Pjgq/jgrlcclxuICAgICAqIEByZXR1cm4gdHJ1ZSDlrZjlnKjjgZnjgotcclxuICAgICAqIEByZXR1cm4gZmFsc2Ug5a2Y5Zyo44GX44Gq44GEXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBpc0V4aXN0TW90aW9uQ3VydmVGYWRlSW5UaW1lKGN1cnZlSW5kZXg6IG51bWJlcik6IGJvb2xlYW4ge1xyXG4gICAgICByZXR1cm4gIXRoaXMuX2pzb25cclxuICAgICAgICAuZ2V0Um9vdCgpXHJcbiAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoQ3VydmVzKVxyXG4gICAgICAgIC5nZXRWYWx1ZUJ5SW5kZXgoY3VydmVJbmRleClcclxuICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhGYWRlSW5UaW1lKVxyXG4gICAgICAgIC5pc051bGwoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOODouODvOOCt+ODp+ODs+OBruOCq+ODvOODluOBruODleOCp+ODvOODieOCouOCpuODiOaZgumWk+OBruWtmOWcqFxyXG4gICAgICogQHBhcmFtIGN1cnZlSW5kZXgg44Kr44O844OW44Gu44Kk44Oz44OH44OD44Kv44K5XHJcbiAgICAgKiBAcmV0dXJuIHRydWUg5a2Y5Zyo44GZ44KLXHJcbiAgICAgKiBAcmV0dXJuIGZhbHNlIOWtmOWcqOOBl+OBquOBhFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgaXNFeGlzdE1vdGlvbkN1cnZlRmFkZU91dFRpbWUoY3VydmVJbmRleDogbnVtYmVyKTogYm9vbGVhbiB7XHJcbiAgICAgIHJldHVybiAhdGhpcy5fanNvblxyXG4gICAgICAgIC5nZXRSb290KClcclxuICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhDdXJ2ZXMpXHJcbiAgICAgICAgLmdldFZhbHVlQnlJbmRleChjdXJ2ZUluZGV4KVxyXG4gICAgICAgIC5nZXRWYWx1ZUJ5U3RyaW5nKEZhZGVPdXRUaW1lKVxyXG4gICAgICAgIC5pc051bGwoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOODouODvOOCt+ODp+ODs+OBruOCq+ODvOODluOBruODleOCp+ODvOODieOCpOODs+aZgumWk+OBruWPluW+l1xyXG4gICAgICogQHBhcmFtIGN1cnZlSW5kZXgg44Kr44O844OW44Gu44Kk44Oz44OH44OD44Kv44K5XHJcbiAgICAgKiBAcmV0dXJuIOODleOCp+ODvOODieOCpOODs+aZgumWk1vnp5JdXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXRNb3Rpb25DdXJ2ZUZhZGVJblRpbWUoY3VydmVJbmRleDogbnVtYmVyKTogbnVtYmVyIHtcclxuICAgICAgcmV0dXJuIHRoaXMuX2pzb25cclxuICAgICAgICAuZ2V0Um9vdCgpXHJcbiAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoQ3VydmVzKVxyXG4gICAgICAgIC5nZXRWYWx1ZUJ5SW5kZXgoY3VydmVJbmRleClcclxuICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhGYWRlSW5UaW1lKVxyXG4gICAgICAgIC50b0Zsb2F0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDjg6Ljg7zjgrfjg6fjg7Pjga7jgqvjg7zjg5bjga7jg5Xjgqfjg7zjg4njgqLjgqbjg4jmmYLplpPjga7lj5blvpdcclxuICAgICAqIEBwYXJhbSBjdXJ2ZUluZGV4IOOCq+ODvOODluOBruOCpOODs+ODh+ODg+OCr+OCuVxyXG4gICAgICogQHJldHVybiDjg5Xjgqfjg7zjg4njgqLjgqbjg4jmmYLplpNb56eSXVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2V0TW90aW9uQ3VydmVGYWRlT3V0VGltZShjdXJ2ZUluZGV4OiBudW1iZXIpOiBudW1iZXIge1xyXG4gICAgICByZXR1cm4gdGhpcy5fanNvblxyXG4gICAgICAgIC5nZXRSb290KClcclxuICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhDdXJ2ZXMpXHJcbiAgICAgICAgLmdldFZhbHVlQnlJbmRleChjdXJ2ZUluZGV4KVxyXG4gICAgICAgIC5nZXRWYWx1ZUJ5U3RyaW5nKEZhZGVPdXRUaW1lKVxyXG4gICAgICAgIC50b0Zsb2F0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDjg6Ljg7zjgrfjg6fjg7Pjga7jgqvjg7zjg5bjga7jgrvjgrDjg6Hjg7Pjg4jjga7lgIvmlbDjgpLlj5blvpfjgZnjgotcclxuICAgICAqIEBwYXJhbSBjdXJ2ZUluZGV4IOOCq+ODvOODluOBruOCpOODs+ODh+ODg+OCr+OCuVxyXG4gICAgICogQHJldHVybiDjg6Ljg7zjgrfjg6fjg7Pjga7jgqvjg7zjg5bjga7jgrvjgrDjg6Hjg7Pjg4jjga7lgIvmlbBcclxuICAgICAqL1xyXG4gICAgcHVibGljIGdldE1vdGlvbkN1cnZlU2VnbWVudENvdW50KGN1cnZlSW5kZXg6IG51bWJlcik6IG51bWJlciB7XHJcbiAgICAgIHJldHVybiB0aGlzLl9qc29uXHJcbiAgICAgICAgLmdldFJvb3QoKVxyXG4gICAgICAgIC5nZXRWYWx1ZUJ5U3RyaW5nKEN1cnZlcylcclxuICAgICAgICAuZ2V0VmFsdWVCeUluZGV4KGN1cnZlSW5kZXgpXHJcbiAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoU2VnbWVudHMpXHJcbiAgICAgICAgLmdldFZlY3RvcigpXHJcbiAgICAgICAgLmdldFNpemUoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOODouODvOOCt+ODp+ODs+OBruOCq+ODvOODluOBruOCu+OCsOODoeODs+ODiOOBruWApOOBruWPluW+l1xyXG4gICAgICogQHBhcmFtIGN1cnZlSW5kZXgg44Kr44O844OW44Gu44Kk44Oz44OH44OD44Kv44K5XHJcbiAgICAgKiBAcGFyYW0gc2VnbWVudEluZGV4IOOCu+OCsOODoeODs+ODiOOBruOCpOODs+ODh+ODg+OCr+OCuVxyXG4gICAgICogQHJldHVybiDjgrvjgrDjg6Hjg7Pjg4jjga7lgKRcclxuICAgICAqL1xyXG4gICAgcHVibGljIGdldE1vdGlvbkN1cnZlU2VnbWVudChcclxuICAgICAgY3VydmVJbmRleDogbnVtYmVyLFxyXG4gICAgICBzZWdtZW50SW5kZXg6IG51bWJlclxyXG4gICAgKTogbnVtYmVyIHtcclxuICAgICAgcmV0dXJuIHRoaXMuX2pzb25cclxuICAgICAgICAuZ2V0Um9vdCgpXHJcbiAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoQ3VydmVzKVxyXG4gICAgICAgIC5nZXRWYWx1ZUJ5SW5kZXgoY3VydmVJbmRleClcclxuICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhTZWdtZW50cylcclxuICAgICAgICAuZ2V0VmFsdWVCeUluZGV4KHNlZ21lbnRJbmRleClcclxuICAgICAgICAudG9GbG9hdCgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog6I635Y+W5LqL5Lu25Liq5pWwXHJcbiAgICAgKiBAcmV0dXJuIOOCpOODmeODs+ODiOOBruWAi+aVsFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2V0RXZlbnRDb3VudCgpOiBudW1iZXIge1xyXG4gICAgICByZXR1cm4gdGhpcy5fanNvblxyXG4gICAgICAgIC5nZXRSb290KClcclxuICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhNZXRhKVxyXG4gICAgICAgIC5nZXRWYWx1ZUJ5U3RyaW5nKFVzZXJEYXRhQ291bnQpXHJcbiAgICAgICAgLnRvSW50KCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiAg44Kk44OZ44Oz44OI44Gu57eP5paH5a2X5pWw44Gu5Y+W5b6XXHJcbiAgICAgKiBAcmV0dXJuIOOCpOODmeODs+ODiOOBrue3j+aWh+Wtl+aVsFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2V0VG90YWxFdmVudFZhbHVlU2l6ZSgpOiBudW1iZXIge1xyXG4gICAgICByZXR1cm4gdGhpcy5fanNvblxyXG4gICAgICAgIC5nZXRSb290KClcclxuICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhNZXRhKVxyXG4gICAgICAgIC5nZXRWYWx1ZUJ5U3RyaW5nKFRvdGFsVXNlckRhdGFTaXplKVxyXG4gICAgICAgIC50b0ludCgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog44Kk44OZ44Oz44OI44Gu5pmC6ZaT44Gu5Y+W5b6XXHJcbiAgICAgKiBAcGFyYW0gdXNlckRhdGFJbmRleCDjgqTjg5njg7Pjg4jjga7jgqTjg7Pjg4fjg4Pjgq/jgrlcclxuICAgICAqIEByZXR1cm4g44Kk44OZ44Oz44OI44Gu5pmC6ZaTW+enkl1cclxuICAgICAqL1xyXG4gICAgcHVibGljIGdldEV2ZW50VGltZSh1c2VyRGF0YUluZGV4OiBudW1iZXIpOiBudW1iZXIge1xyXG4gICAgICByZXR1cm4gdGhpcy5fanNvblxyXG4gICAgICAgIC5nZXRSb290KClcclxuICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhVc2VyRGF0YSlcclxuICAgICAgICAuZ2V0VmFsdWVCeUluZGV4KHVzZXJEYXRhSW5kZXgpXHJcbiAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoVGltZSlcclxuICAgICAgICAudG9JbnQoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOOCpOODmeODs+ODiOOBruWPluW+l1xyXG4gICAgICogQHBhcmFtIHVzZXJEYXRhSW5kZXgg44Kk44OZ44Oz44OI44Gu44Kk44Oz44OH44OD44Kv44K5XHJcbiAgICAgKiBAcmV0dXJuIOOCpOODmeODs+ODiOOBruaWh+Wtl+WIl1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2V0RXZlbnRWYWx1ZSh1c2VyRGF0YUluZGV4OiBudW1iZXIpOiBjc21TdHJpbmcge1xyXG4gICAgICByZXR1cm4gbmV3IGNzbVN0cmluZyhcclxuICAgICAgICB0aGlzLl9qc29uXHJcbiAgICAgICAgICAuZ2V0Um9vdCgpXHJcbiAgICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhVc2VyRGF0YSlcclxuICAgICAgICAgIC5nZXRWYWx1ZUJ5SW5kZXgodXNlckRhdGFJbmRleClcclxuICAgICAgICAgIC5nZXRWYWx1ZUJ5U3RyaW5nKFZhbHVlKVxyXG4gICAgICAgICAgLmdldFJhd1N0cmluZygpXHJcbiAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgX2pzb246IEN1YmlzbUpzb247IC8vIG1vdGlvbjMuanNvbuOBruODh+ODvOOCv1xyXG4gIH1cclxufVxyXG4iXSwibWFwcGluZ3MiOiI7OztBQU9BO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQU1BO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUUE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBR0E7QUFBQTtBQTdUQTtBQThUQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./Framework/src/motion/cubismmotionjson.ts\n");

/***/ }),

/***/ "./Framework/src/motion/cubismmotionmanager.ts":
/*!*****************************************************!*\
  !*** ./Framework/src/motion/cubismmotionmanager.ts ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Live2DCubismFramework = void 0;\r\nvar cubismmotionqueuemanager_1 = __webpack_require__(/*! ./cubismmotionqueuemanager */ \"./Framework/src/motion/cubismmotionqueuemanager.ts\");\r\nvar CubismMotionQueueManager = cubismmotionqueuemanager_1.Live2DCubismFramework.CubismMotionQueueManager;\r\nvar Live2DCubismFramework;\r\n(function (Live2DCubismFramework) {\r\n    var CubismMotionManager = (function (_super) {\r\n        __extends(CubismMotionManager, _super);\r\n        function CubismMotionManager() {\r\n            var _this = _super.call(this) || this;\r\n            _this._currentPriority = 0;\r\n            _this._reservePriority = 0;\r\n            return _this;\r\n        }\r\n        CubismMotionManager.prototype.getCurrentPriority = function () {\r\n            return this._currentPriority;\r\n        };\r\n        CubismMotionManager.prototype.getReservePriority = function () {\r\n            return this._reservePriority;\r\n        };\r\n        CubismMotionManager.prototype.setReservePriority = function (val) {\r\n            this._reservePriority = val;\r\n        };\r\n        CubismMotionManager.prototype.startMotionPriority = function (motion, autoDelete, priority) {\r\n            if (priority == this._reservePriority) {\r\n                this._reservePriority = 0;\r\n            }\r\n            this._currentPriority = priority;\r\n            return _super.prototype.startMotion.call(this, motion, autoDelete, this._userTimeSeconds);\r\n        };\r\n        CubismMotionManager.prototype.updateMotion = function (model, deltaTimeSeconds) {\r\n            this._userTimeSeconds += deltaTimeSeconds;\r\n            var updated = _super.prototype.doUpdateMotion.call(this, model, this._userTimeSeconds);\r\n            if (this.isFinished()) {\r\n                this._currentPriority = 0;\r\n            }\r\n            return updated;\r\n        };\r\n        CubismMotionManager.prototype.reserveMotion = function (priority) {\r\n            if (priority <= this._reservePriority ||\r\n                priority <= this._currentPriority) {\r\n                return false;\r\n            }\r\n            this._reservePriority = priority;\r\n            return true;\r\n        };\r\n        return CubismMotionManager;\r\n    }(CubismMotionQueueManager));\r\n    Live2DCubismFramework.CubismMotionManager = CubismMotionManager;\r\n})(Live2DCubismFramework = exports.Live2DCubismFramework || (exports.Live2DCubismFramework = {}));\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9GcmFtZXdvcmsvc3JjL21vdGlvbi9jdWJpc21tb3Rpb25tYW5hZ2VyLnRzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbGl2ZTJkLy4vRnJhbWV3b3JrL3NyYy9tb3Rpb24vY3ViaXNtbW90aW9ubWFuYWdlci50cz81ZmE2Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBDb3B5cmlnaHQoYykgTGl2ZTJEIEluYy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuICpcclxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgdGhlIExpdmUyRCBPcGVuIFNvZnR3YXJlIGxpY2Vuc2VcclxuICogdGhhdCBjYW4gYmUgZm91bmQgYXQgaHR0cHM6Ly93d3cubGl2ZTJkLmNvbS9ldWxhL2xpdmUyZC1vcGVuLXNvZnR3YXJlLWxpY2Vuc2UtYWdyZWVtZW50X2VuLmh0bWwuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgTGl2ZTJEQ3ViaXNtRnJhbWV3b3JrIGFzIGN1YmlzbW1vdGlvbnF1ZXVlbWFuYWdlciB9IGZyb20gJy4vY3ViaXNtbW90aW9ucXVldWVtYW5hZ2VyJztcclxuaW1wb3J0IHsgTGl2ZTJEQ3ViaXNtRnJhbWV3b3JrIGFzIGFjdWJpc21tb3Rpb24gfSBmcm9tICcuL2FjdWJpc21tb3Rpb24nO1xyXG5pbXBvcnQgeyBMaXZlMkRDdWJpc21GcmFtZXdvcmsgYXMgY3ViaXNtbW9kZWwgfSBmcm9tICcuLi9tb2RlbC9jdWJpc21tb2RlbCc7XHJcbmltcG9ydCBDdWJpc21Nb3Rpb25RdWV1ZUVudHJ5SGFuZGxlID0gY3ViaXNtbW90aW9ucXVldWVtYW5hZ2VyLkN1YmlzbU1vdGlvblF1ZXVlRW50cnlIYW5kbGU7XHJcbmltcG9ydCBDdWJpc21Nb2RlbCA9IGN1YmlzbW1vZGVsLkN1YmlzbU1vZGVsO1xyXG5pbXBvcnQgQUN1YmlzbU1vdGlvbiA9IGFjdWJpc21tb3Rpb24uQUN1YmlzbU1vdGlvbjtcclxuaW1wb3J0IEN1YmlzbU1vdGlvblF1ZXVlTWFuYWdlciA9IGN1YmlzbW1vdGlvbnF1ZXVlbWFuYWdlci5DdWJpc21Nb3Rpb25RdWV1ZU1hbmFnZXI7XHJcblxyXG5leHBvcnQgbmFtZXNwYWNlIExpdmUyREN1YmlzbUZyYW1ld29yayB7XHJcbiAgLyoqXHJcbiAgICog44Oi44O844K344On44Oz44Gu566h55CGXHJcbiAgICpcclxuICAgKiDjg6Ljg7zjgrfjg6fjg7Pjga7nrqHnkIbjgpLooYzjgYbjgq/jg6njgrlcclxuICAgKi9cclxuICBleHBvcnQgY2xhc3MgQ3ViaXNtTW90aW9uTWFuYWdlciBleHRlbmRzIEN1YmlzbU1vdGlvblF1ZXVlTWFuYWdlciB7XHJcbiAgICAvKipcclxuICAgICAqIOOCs+ODs+OCueODiOODqeOCr+OCv1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgIHN1cGVyKCk7XHJcbiAgICAgIHRoaXMuX2N1cnJlbnRQcmlvcml0eSA9IDA7XHJcbiAgICAgIHRoaXMuX3Jlc2VydmVQcmlvcml0eSA9IDA7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDlho3nlJ/kuK3jga7jg6Ljg7zjgrfjg6fjg7Pjga7lhKrlhYjluqbjga7lj5blvpdcclxuICAgICAqIEByZXR1cm4gIOODouODvOOCt+ODp+ODs+OBruWEquWFiOW6plxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2V0Q3VycmVudFByaW9yaXR5KCk6IG51bWJlciB7XHJcbiAgICAgIHJldHVybiB0aGlzLl9jdXJyZW50UHJpb3JpdHk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDkuojntITkuK3jga7jg6Ljg7zjgrfjg6fjg7Pjga7lhKrlhYjluqbjgpLlj5blvpfjgZnjgovjgIJcclxuICAgICAqIEByZXR1cm4gIOODouODvOOCt+ODp+ODs+OBruWEquWFiOW6plxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2V0UmVzZXJ2ZVByaW9yaXR5KCk6IG51bWJlciB7XHJcbiAgICAgIHJldHVybiB0aGlzLl9yZXNlcnZlUHJpb3JpdHk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDkuojntITkuK3jga7jg6Ljg7zjgrfjg6fjg7Pjga7lhKrlhYjluqbjgpLoqK3lrprjgZnjgovjgIJcclxuICAgICAqIEBwYXJhbSAgIHZhbCAgICAg5YSq5YWI5bqmXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzZXRSZXNlcnZlUHJpb3JpdHkodmFsOiBudW1iZXIpOiB2b2lkIHtcclxuICAgICAgdGhpcy5fcmVzZXJ2ZVByaW9yaXR5ID0gdmFsO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog6K6+5a6a5LyY5YWI57qn5ZCO5byA5aeL5Yqo5L2c44CCXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIG1vdGlvbiAgICAgICAgICDliqjkvZxcclxuICAgICAqIEBwYXJhbSBhdXRvRGVsZXRlICAgICAg5YaN55Sf44GM54up54yf44GX44Gf44Oi44O844K344On44Oz44Gu44Kk44Oz44K544K/44Oz44K544KS5YmK6Zmk44GZ44KL44Gq44KJdHJ1ZVxyXG4gICAgICogQHBhcmFtIHByaW9yaXR5ICAgICAgICDlhKrlhYjluqZcclxuICAgICAqIEByZXR1cm4gICAgICAgICAgICAgICAg6L+U5Zue5byA5aeL55qE5Yqo5L2c55qE6K+G5Yir5Y+356CB44CC55So5LqO5Yik5a6a5Liq5Yir5Yqo5L2c5piv5ZCm57uT5p2f55qESXNGaW5pc2hlZO+8iO+8ieWPguaVsOOAguaXoOazleW8gOWni+aXtuS4uuKAnC0x4oCdXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzdGFydE1vdGlvblByaW9yaXR5KFxyXG4gICAgICBtb3Rpb246IEFDdWJpc21Nb3Rpb24sXHJcbiAgICAgIGF1dG9EZWxldGU6IGJvb2xlYW4sXHJcbiAgICAgIHByaW9yaXR5OiBudW1iZXJcclxuICAgICk6IEN1YmlzbU1vdGlvblF1ZXVlRW50cnlIYW5kbGUge1xyXG4gICAgICBpZiAocHJpb3JpdHkgPT0gdGhpcy5fcmVzZXJ2ZVByaW9yaXR5KSB7XHJcbiAgICAgICAgdGhpcy5fcmVzZXJ2ZVByaW9yaXR5ID0gMDsgLy8g5LqI57SE44KS6Kej6ZmkXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHRoaXMuX2N1cnJlbnRQcmlvcml0eSA9IHByaW9yaXR5OyAvLyDlho3nlJ/kuK3jg6Ljg7zjgrfjg6fjg7Pjga7lhKrlhYjluqbjgpLoqK3lrppcclxuXHJcbiAgICAgIHJldHVybiBzdXBlci5zdGFydE1vdGlvbihtb3Rpb24sIGF1dG9EZWxldGUsIHRoaXMuX3VzZXJUaW1lU2Vjb25kcyk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDjg6Ljg7zjgrfjg6fjg7PjgpLmm7TmlrDjgZfjgabjgIHjg6Ljg4fjg6vjgavjg5Hjg6njg6Hjg7zjgr/lgKTjgpLlj43mmKDjgZnjgovjgIJcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gbW9kZWwgICDlr77osaHjga7jg6Ljg4fjg6tcclxuICAgICAqIEBwYXJhbSBkZWx0YVRpbWVTZWNvbmRzICAgIOODh+ODq+OCv+aZgumWk1vnp5JdXHJcbiAgICAgKiBAcmV0dXJuICB0cnVlICAgIOabtOaWsOOBleOCjOOBpuOBhOOCi1xyXG4gICAgICogQHJldHVybiAgZmFsc2UgICDmm7TmlrDjgZXjgozjgabjgYTjgarjgYRcclxuICAgICAqL1xyXG4gICAgcHVibGljIHVwZGF0ZU1vdGlvbihtb2RlbDogQ3ViaXNtTW9kZWwsIGRlbHRhVGltZVNlY29uZHM6IG51bWJlcik6IGJvb2xlYW4ge1xyXG4gICAgICB0aGlzLl91c2VyVGltZVNlY29uZHMgKz0gZGVsdGFUaW1lU2Vjb25kcztcclxuXHJcbiAgICAgIGNvbnN0IHVwZGF0ZWQ6IGJvb2xlYW4gPSBzdXBlci5kb1VwZGF0ZU1vdGlvbihcclxuICAgICAgICBtb2RlbCxcclxuICAgICAgICB0aGlzLl91c2VyVGltZVNlY29uZHNcclxuICAgICAgKTtcclxuXHJcbiAgICAgIGlmICh0aGlzLmlzRmluaXNoZWQoKSkge1xyXG4gICAgICAgIHRoaXMuX2N1cnJlbnRQcmlvcml0eSA9IDA7IC8vIOWGjeeUn+S4reOBruODouODvOOCt+ODp+ODs+OBruWEquWFiOW6puOCkuino+mZpFxyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gdXBkYXRlZDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOODouODvOOCt+ODp+ODs+OCkuS6iOe0hOOBmeOCi+OAglxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSAgIHByaW9yaXR5ICAgIOWEquWFiOW6plxyXG4gICAgICogQHJldHVybiAgdHJ1ZSAgICDkuojntITjgafjgY3jgZ9cclxuICAgICAqIEByZXR1cm4gIGZhbHNlICAg5LqI57SE44Gn44GN44Gq44GL44Gj44GfXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyByZXNlcnZlTW90aW9uKHByaW9yaXR5OiBudW1iZXIpOiBib29sZWFuIHtcclxuICAgICAgaWYgKFxyXG4gICAgICAgIHByaW9yaXR5IDw9IHRoaXMuX3Jlc2VydmVQcmlvcml0eSB8fFxyXG4gICAgICAgIHByaW9yaXR5IDw9IHRoaXMuX2N1cnJlbnRQcmlvcml0eVxyXG4gICAgICApIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHRoaXMuX3Jlc2VydmVQcmlvcml0eSA9IHByaW9yaXR5O1xyXG5cclxuICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgX2N1cnJlbnRQcmlvcml0eTogbnVtYmVyOyAvLyDnj77lnKjlho3nlJ/kuK3jga7jg6Ljg7zjgrfjg6fjg7Pjga7lhKrlhYjluqZcclxuICAgIF9yZXNlcnZlUHJpb3JpdHk6IG51bWJlcjsgLy8g5YaN55Sf5LqI5a6a44Gu44Oi44O844K344On44Oz44Gu5YSq5YWI5bqm44CC5YaN55Sf5Lit44GvMOOBq+OBquOCi+OAguODouODvOOCt+ODp+ODs+ODleOCoeOCpOODq+OCkuWIpeOCueODrOODg+ODieOBp+iqreOBv+i+vOOCgOOBqOOBjeOBruapn+iDveOAglxyXG4gIH1cclxufVxyXG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFPQTtBQU1BO0FBRUE7QUFBQTtBQU1BO0FBQUE7QUFJQTtBQUFBO0FBRUE7QUFDQTs7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQVVBO0FBS0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBVUE7QUFDQTtBQUVBO0FBS0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQVNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFJQTtBQUFBO0FBckdBO0FBc0dBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./Framework/src/motion/cubismmotionmanager.ts\n");

/***/ }),

/***/ "./Framework/src/motion/cubismmotionqueueentry.ts":
/*!********************************************************!*\
  !*** ./Framework/src/motion/cubismmotionqueueentry.ts ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Live2DCubismFramework = void 0;\r\nvar acubismmotion_1 = __webpack_require__(/*! ./acubismmotion */ \"./Framework/src/motion/acubismmotion.ts\");\r\nvar ACubismMotion = acubismmotion_1.Live2DCubismFramework.ACubismMotion;\r\nvar Live2DCubismFramework;\r\n(function (Live2DCubismFramework) {\r\n    var CubismMotionQueueEntry = (function () {\r\n        function CubismMotionQueueEntry() {\r\n            this._autoDelete = false;\r\n            this._motion = null;\r\n            this._available = true;\r\n            this._finished = false;\r\n            this._started = false;\r\n            this._startTimeSeconds = -1.0;\r\n            this._fadeInStartTimeSeconds = 0.0;\r\n            this._endTimeSeconds = -1.0;\r\n            this._stateTimeSeconds = 0.0;\r\n            this._stateWeight = 0.0;\r\n            this._lastEventCheckSeconds = 0.0;\r\n            this._motionQueueEntryHandle = this;\r\n        }\r\n        CubismMotionQueueEntry.prototype.release = function () {\r\n            if (this._autoDelete && this._motion) {\r\n                ACubismMotion.delete(this._motion);\r\n            }\r\n        };\r\n        CubismMotionQueueEntry.prototype.startFadeout = function (fadeoutSeconds, userTimeSeconds) {\r\n            var newEndTimeSeconds = userTimeSeconds + fadeoutSeconds;\r\n            if (this._endTimeSeconds < 0.0 ||\r\n                newEndTimeSeconds < this._endTimeSeconds) {\r\n                this._endTimeSeconds = newEndTimeSeconds;\r\n            }\r\n        };\r\n        CubismMotionQueueEntry.prototype.isFinished = function () {\r\n            return this._finished;\r\n        };\r\n        CubismMotionQueueEntry.prototype.isStarted = function () {\r\n            return this._started;\r\n        };\r\n        CubismMotionQueueEntry.prototype.getStartTime = function () {\r\n            return this._startTimeSeconds;\r\n        };\r\n        CubismMotionQueueEntry.prototype.getFadeInStartTime = function () {\r\n            return this._fadeInStartTimeSeconds;\r\n        };\r\n        CubismMotionQueueEntry.prototype.getEndTime = function () {\r\n            return this._endTimeSeconds;\r\n        };\r\n        CubismMotionQueueEntry.prototype.setStartTime = function (startTime) {\r\n            this._startTimeSeconds = startTime;\r\n        };\r\n        CubismMotionQueueEntry.prototype.setFadeInStartTime = function (startTime) {\r\n            this._fadeInStartTimeSeconds = startTime;\r\n        };\r\n        CubismMotionQueueEntry.prototype.setEndTime = function (endTime) {\r\n            this._endTimeSeconds = endTime;\r\n        };\r\n        CubismMotionQueueEntry.prototype.setIsFinished = function (f) {\r\n            this._finished = f;\r\n        };\r\n        CubismMotionQueueEntry.prototype.setIsStarted = function (f) {\r\n            this._started = f;\r\n        };\r\n        CubismMotionQueueEntry.prototype.isAvailable = function () {\r\n            return this._available;\r\n        };\r\n        CubismMotionQueueEntry.prototype.setIsAvailable = function (v) {\r\n            this._available = v;\r\n        };\r\n        CubismMotionQueueEntry.prototype.setState = function (timeSeconds, weight) {\r\n            this._stateTimeSeconds = timeSeconds;\r\n            this._stateWeight = weight;\r\n        };\r\n        CubismMotionQueueEntry.prototype.getStateTime = function () {\r\n            return this._stateTimeSeconds;\r\n        };\r\n        CubismMotionQueueEntry.prototype.getStateWeight = function () {\r\n            return this._stateWeight;\r\n        };\r\n        CubismMotionQueueEntry.prototype.getLastCheckEventTime = function () {\r\n            return this._lastEventCheckSeconds;\r\n        };\r\n        CubismMotionQueueEntry.prototype.setLastCheckEventTime = function (checkTime) {\r\n            this._lastEventCheckSeconds = checkTime;\r\n        };\r\n        return CubismMotionQueueEntry;\r\n    }());\r\n    Live2DCubismFramework.CubismMotionQueueEntry = CubismMotionQueueEntry;\r\n})(Live2DCubismFramework = exports.Live2DCubismFramework || (exports.Live2DCubismFramework = {}));\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9GcmFtZXdvcmsvc3JjL21vdGlvbi9jdWJpc21tb3Rpb25xdWV1ZWVudHJ5LnRzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbGl2ZTJkLy4vRnJhbWV3b3JrL3NyYy9tb3Rpb24vY3ViaXNtbW90aW9ucXVldWVlbnRyeS50cz9hOTFlIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBDb3B5cmlnaHQoYykgTGl2ZTJEIEluYy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuICpcclxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgdGhlIExpdmUyRCBPcGVuIFNvZnR3YXJlIGxpY2Vuc2VcclxuICogdGhhdCBjYW4gYmUgZm91bmQgYXQgaHR0cHM6Ly93d3cubGl2ZTJkLmNvbS9ldWxhL2xpdmUyZC1vcGVuLXNvZnR3YXJlLWxpY2Vuc2UtYWdyZWVtZW50X2VuLmh0bWwuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgTGl2ZTJEQ3ViaXNtRnJhbWV3b3JrIGFzIGFjdWJpc21tb3Rpb24gfSBmcm9tICcuL2FjdWJpc21tb3Rpb24nO1xyXG5pbXBvcnQgeyBMaXZlMkRDdWJpc21GcmFtZXdvcmsgYXMgY3ViaXNtbW90aW9ucXVldWVtYW5hZ2VyIH0gZnJvbSAnLi9jdWJpc21tb3Rpb25xdWV1ZW1hbmFnZXInO1xyXG5pbXBvcnQgQ3ViaXNtTW90aW9uUXVldWVFbnRyeUhhbmRsZSA9IGN1YmlzbW1vdGlvbnF1ZXVlbWFuYWdlci5DdWJpc21Nb3Rpb25RdWV1ZUVudHJ5SGFuZGxlO1xyXG5pbXBvcnQgQUN1YmlzbU1vdGlvbiA9IGFjdWJpc21tb3Rpb24uQUN1YmlzbU1vdGlvbjtcclxuXHJcbmV4cG9ydCBuYW1lc3BhY2UgTGl2ZTJEQ3ViaXNtRnJhbWV3b3JrIHtcclxuICAvKipcclxuICAgKiBDdWJpc21Nb3Rpb25RdWV1ZU1hbmFnZXLjgaflho3nlJ/jgZfjgabjgYTjgovlkITjg6Ljg7zjgrfjg6fjg7Pjga7nrqHnkIbjgq/jg6njgrnjgIJcclxuICAgKi9cclxuICBleHBvcnQgY2xhc3MgQ3ViaXNtTW90aW9uUXVldWVFbnRyeSB7XHJcbiAgICAvKipcclxuICAgICAqIOOCs+ODs+OCueODiOODqeOCr+OCv1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgIHRoaXMuX2F1dG9EZWxldGUgPSBmYWxzZTtcclxuICAgICAgdGhpcy5fbW90aW9uID0gbnVsbDtcclxuICAgICAgdGhpcy5fYXZhaWxhYmxlID0gdHJ1ZTtcclxuICAgICAgdGhpcy5fZmluaXNoZWQgPSBmYWxzZTtcclxuICAgICAgdGhpcy5fc3RhcnRlZCA9IGZhbHNlO1xyXG4gICAgICB0aGlzLl9zdGFydFRpbWVTZWNvbmRzID0gLTEuMDtcclxuICAgICAgdGhpcy5fZmFkZUluU3RhcnRUaW1lU2Vjb25kcyA9IDAuMDtcclxuICAgICAgdGhpcy5fZW5kVGltZVNlY29uZHMgPSAtMS4wO1xyXG4gICAgICB0aGlzLl9zdGF0ZVRpbWVTZWNvbmRzID0gMC4wO1xyXG4gICAgICB0aGlzLl9zdGF0ZVdlaWdodCA9IDAuMDtcclxuICAgICAgdGhpcy5fbGFzdEV2ZW50Q2hlY2tTZWNvbmRzID0gMC4wO1xyXG4gICAgICB0aGlzLl9tb3Rpb25RdWV1ZUVudHJ5SGFuZGxlID0gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOODh+OCueODiOODqeOCr+OCv+ebuOW9k+OBruWHpueQhlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgcmVsZWFzZSgpOiB2b2lkIHtcclxuICAgICAgaWYgKHRoaXMuX2F1dG9EZWxldGUgJiYgdGhpcy5fbW90aW9uKSB7XHJcbiAgICAgICAgQUN1YmlzbU1vdGlvbi5kZWxldGUodGhpcy5fbW90aW9uKTsgLy9cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog44OV44Kn44O844OJ44Ki44Km44OI44Gu6ZaL5aeLXHJcbiAgICAgKiBAcGFyYW0gZmFkZU91dFNlY29uZHMg44OV44Kn44O844OJ44Ki44Km44OI44Gr44GL44GL44KL5pmC6ZaTW+enkl1cclxuICAgICAqIEBwYXJhbSB1c2VyVGltZVNlY29uZHMg44OH44Or44K/5pmC6ZaT44Gu56mN566X5YCkW+enkl1cclxuICAgICAqL1xyXG4gICAgcHVibGljIHN0YXJ0RmFkZW91dChmYWRlb3V0U2Vjb25kczogbnVtYmVyLCB1c2VyVGltZVNlY29uZHM6IG51bWJlcik6IHZvaWQge1xyXG4gICAgICBjb25zdCBuZXdFbmRUaW1lU2Vjb25kczogbnVtYmVyID0gdXNlclRpbWVTZWNvbmRzICsgZmFkZW91dFNlY29uZHM7XHJcblxyXG4gICAgICBpZiAoXHJcbiAgICAgICAgdGhpcy5fZW5kVGltZVNlY29uZHMgPCAwLjAgfHxcclxuICAgICAgICBuZXdFbmRUaW1lU2Vjb25kcyA8IHRoaXMuX2VuZFRpbWVTZWNvbmRzXHJcbiAgICAgICkge1xyXG4gICAgICAgIHRoaXMuX2VuZFRpbWVTZWNvbmRzID0gbmV3RW5kVGltZVNlY29uZHM7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOODouODvOOCt+ODp+ODs+OBrue1guS6huOBrueiuuiqjVxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm4gdHJ1ZSDjg6Ljg7zjgrfjg6fjg7PjgYzntYLkuobjgZfjgZ9cclxuICAgICAqIEByZXR1cm4gZmFsc2Ug57WC5LqG44GX44Gm44GE44Gq44GEXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBpc0ZpbmlzaGVkKCk6IGJvb2xlYW4ge1xyXG4gICAgICByZXR1cm4gdGhpcy5fZmluaXNoZWQ7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDjg6Ljg7zjgrfjg6fjg7Pjga7plovlp4vjga7norroqo1cclxuICAgICAqIEByZXR1cm4gdHJ1ZSDjg6Ljg7zjgrfjg6fjg7PjgYzplovlp4vjgZfjgZ9cclxuICAgICAqIEByZXR1cm4gZmFsc2Ug6ZaL5aeL44GX44Gm44GE44Gq44GEXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBpc1N0YXJ0ZWQoKTogYm9vbGVhbiB7XHJcbiAgICAgIHJldHVybiB0aGlzLl9zdGFydGVkO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog44Oi44O844K344On44Oz44Gu6ZaL5aeL5pmC5Yi744Gu5Y+W5b6XXHJcbiAgICAgKiBAcmV0dXJuIOODouODvOOCt+ODp+ODs+OBrumWi+Wni+aZguWIu1vnp5JdXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXRTdGFydFRpbWUoKTogbnVtYmVyIHtcclxuICAgICAgcmV0dXJuIHRoaXMuX3N0YXJ0VGltZVNlY29uZHM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDjg5Xjgqfjg7zjg4njgqTjg7Pjga7plovlp4vmmYLliLvjga7lj5blvpdcclxuICAgICAqIEByZXR1cm4g44OV44Kn44O844OJ44Kk44Oz44Gu6ZaL5aeL5pmC5Yi7W+enkl1cclxuICAgICAqL1xyXG4gICAgcHVibGljIGdldEZhZGVJblN0YXJ0VGltZSgpOiBudW1iZXIge1xyXG4gICAgICByZXR1cm4gdGhpcy5fZmFkZUluU3RhcnRUaW1lU2Vjb25kcztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOODleOCp+ODvOODieOCpOODs+OBrue1guS6huaZguWIu+OBruWPluW+l1xyXG4gICAgICogQHJldHVybiDjg5Xjgqfjg7zjg4njgqTjg7Pjga7ntYLkuobmmYLliLvjga7lj5blvpdcclxuICAgICAqL1xyXG4gICAgcHVibGljIGdldEVuZFRpbWUoKTogbnVtYmVyIHtcclxuICAgICAgcmV0dXJuIHRoaXMuX2VuZFRpbWVTZWNvbmRzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog44Oi44O844K344On44Oz44Gu6ZaL5aeL5pmC5Yi744Gu6Kit5a6aXHJcbiAgICAgKiBAcGFyYW0gc3RhcnRUaW1lIOODouODvOOCt+ODp+ODs+OBrumWi+Wni+aZguWIu1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc2V0U3RhcnRUaW1lKHN0YXJ0VGltZTogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgIHRoaXMuX3N0YXJ0VGltZVNlY29uZHMgPSBzdGFydFRpbWU7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDjg5Xjgqfjg7zjg4njgqTjg7Pjga7plovlp4vmmYLliLvjga7oqK3lrppcclxuICAgICAqIEBwYXJhbSBzdGFydFRpbWUg44OV44Kn44O844OJ44Kk44Oz44Gu6ZaL5aeL5pmC5Yi7W+enkl1cclxuICAgICAqL1xyXG4gICAgcHVibGljIHNldEZhZGVJblN0YXJ0VGltZShzdGFydFRpbWU6IG51bWJlcik6IHZvaWQge1xyXG4gICAgICB0aGlzLl9mYWRlSW5TdGFydFRpbWVTZWNvbmRzID0gc3RhcnRUaW1lO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog44OV44Kn44O844OJ44Kk44Oz44Gu57WC5LqG5pmC5Yi744Gu6Kit5a6aXHJcbiAgICAgKiBAcGFyYW0gZW5kVGltZSDjg5Xjgqfjg7zjg4njgqTjg7Pjga7ntYLkuobmmYLliLtb56eSXVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc2V0RW5kVGltZShlbmRUaW1lOiBudW1iZXIpOiB2b2lkIHtcclxuICAgICAgdGhpcy5fZW5kVGltZVNlY29uZHMgPSBlbmRUaW1lO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog44Oi44O844K344On44Oz44Gu57WC5LqG44Gu6Kit5a6aXHJcbiAgICAgKiBAcGFyYW0gZiB0cnVl44Gq44KJ44Oi44O844K344On44Oz44Gu57WC5LqGXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzZXRJc0ZpbmlzaGVkKGY6IGJvb2xlYW4pOiB2b2lkIHtcclxuICAgICAgdGhpcy5fZmluaXNoZWQgPSBmO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog44Oi44O844K344On44Oz6ZaL5aeL44Gu6Kit5a6aXHJcbiAgICAgKiBAcGFyYW0gZiB0cnVl44Gq44KJ44Oi44O844K344On44Oz44Gu6ZaL5aeLXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzZXRJc1N0YXJ0ZWQoZjogYm9vbGVhbik6IHZvaWQge1xyXG4gICAgICB0aGlzLl9zdGFydGVkID0gZjtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOODouODvOOCt+ODp+ODs+OBruacieWKueaAp+OBrueiuuiqjVxyXG4gICAgICogQHJldHVybiB0cnVlIOODouODvOOCt+ODp+ODs+OBr+acieWKuVxyXG4gICAgICogQHJldHVybiBmYWxzZSDjg6Ljg7zjgrfjg6fjg7Pjga/nhKHlirlcclxuICAgICAqL1xyXG4gICAgcHVibGljIGlzQXZhaWxhYmxlKCk6IGJvb2xlYW4ge1xyXG4gICAgICByZXR1cm4gdGhpcy5fYXZhaWxhYmxlO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog44Oi44O844K344On44Oz44Gu5pyJ5Yq55oCn44Gu6Kit5a6aXHJcbiAgICAgKiBAcGFyYW0gdiB0cnVl44Gq44KJ44Oi44O844K344On44Oz44Gv5pyJ5Yq5XHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzZXRJc0F2YWlsYWJsZSh2OiBib29sZWFuKTogdm9pZCB7XHJcbiAgICAgIHRoaXMuX2F2YWlsYWJsZSA9IHY7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDjg6Ljg7zjgrfjg6fjg7Pjga7nirbmhYvjga7oqK3lrppcclxuICAgICAqIEBwYXJhbSB0aW1lU2Vjb25kcyDnj77lnKjmmYLliLtb56eSXVxyXG4gICAgICogQHBhcmFtIHdlaWdodCDjg6Ljg7zjgrfjg6fjg7PlsL7ph43jgb9cclxuICAgICAqL1xyXG4gICAgcHVibGljIHNldFN0YXRlKHRpbWVTZWNvbmRzOiBudW1iZXIsIHdlaWdodDogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgIHRoaXMuX3N0YXRlVGltZVNlY29uZHMgPSB0aW1lU2Vjb25kcztcclxuICAgICAgdGhpcy5fc3RhdGVXZWlnaHQgPSB3ZWlnaHQ7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDjg6Ljg7zjgrfjg6fjg7Pjga7nj77lnKjmmYLliLvjga7lj5blvpdcclxuICAgICAqIEByZXR1cm4g44Oi44O844K344On44Oz44Gu54++5Zyo5pmC5Yi7W+enkl1cclxuICAgICAqL1xyXG4gICAgcHVibGljIGdldFN0YXRlVGltZSgpOiBudW1iZXIge1xyXG4gICAgICByZXR1cm4gdGhpcy5fc3RhdGVUaW1lU2Vjb25kcztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOODouODvOOCt+ODp+ODs+OBrumHjeOBv+OBruWPluW+l1xyXG4gICAgICogQHJldHVybiDjg6Ljg7zjgrfjg6fjg7Pjga7ph43jgb9cclxuICAgICAqL1xyXG4gICAgcHVibGljIGdldFN0YXRlV2VpZ2h0KCk6IG51bWJlciB7XHJcbiAgICAgIHJldHVybiB0aGlzLl9zdGF0ZVdlaWdodDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOacgOW+jOOBq+OCpOODmeODs+ODiOOBrueZuueBq+OCkuODgeOCp+ODg+OCr+OBl+OBn+aZgumWk+OCkuWPluW+l1xyXG4gICAgICpcclxuICAgICAqIEByZXR1cm4g5pyA5b6M44Gr44Kk44OZ44Oz44OI44Gu55m654Gr44KS44OB44Kn44OD44Kv44GX44Gf5pmC6ZaTW+enkl1cclxuICAgICAqL1xyXG4gICAgcHVibGljIGdldExhc3RDaGVja0V2ZW50VGltZSgpOiBudW1iZXIge1xyXG4gICAgICByZXR1cm4gdGhpcy5fbGFzdEV2ZW50Q2hlY2tTZWNvbmRzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5pyA5b6M44Gr44Kk44OZ44Oz44OI44KS44OB44Kn44OD44Kv44GX44Gf5pmC6ZaT44KS6Kit5a6aXHJcbiAgICAgKiBAcGFyYW0gY2hlY2tUaW1lIOacgOW+jOOBq+OCpOODmeODs+ODiOOCkuODgeOCp+ODg+OCr+OBl+OBn+aZgumWk1vnp5JdXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzZXRMYXN0Q2hlY2tFdmVudFRpbWUoY2hlY2tUaW1lOiBudW1iZXIpOiB2b2lkIHtcclxuICAgICAgdGhpcy5fbGFzdEV2ZW50Q2hlY2tTZWNvbmRzID0gY2hlY2tUaW1lO1xyXG4gICAgfVxyXG5cclxuICAgIF9hdXRvRGVsZXRlOiBib29sZWFuOyAvLyDoh6rli5XliYrpmaRcclxuICAgIF9tb3Rpb246IEFDdWJpc21Nb3Rpb247IC8vIOODouODvOOCt+ODp+ODs1xyXG5cclxuICAgIF9hdmFpbGFibGU6IGJvb2xlYW47IC8vIOacieWKueWMluODleODqeOCsFxyXG4gICAgX2ZpbmlzaGVkOiBib29sZWFuOyAvLyDntYLkuobjg5Xjg6njgrBcclxuICAgIF9zdGFydGVkOiBib29sZWFuOyAvLyDplovlp4vjg5Xjg6njgrBcclxuICAgIF9zdGFydFRpbWVTZWNvbmRzOiBudW1iZXI7IC8vIOODouODvOOCt+ODp+ODs+WGjeeUn+mWi+Wni+aZguWIu1vnp5JdXHJcbiAgICBfZmFkZUluU3RhcnRUaW1lU2Vjb25kczogbnVtYmVyOyAvLyDjg5Xjgqfjg7zjg4njgqTjg7Pplovlp4vmmYLliLvvvIjjg6vjg7zjg5fjga7mmYLjga/liJ3lm57jga7jgb/vvIlb56eSXVxyXG4gICAgX2VuZFRpbWVTZWNvbmRzOiBudW1iZXI7IC8vIOe1guS6huS6iOWumuaZguWIu1vnp5JdXHJcbiAgICBfc3RhdGVUaW1lU2Vjb25kczogbnVtYmVyOyAvLyDmmYLliLvjga7nirbmhYtb56eSXVxyXG4gICAgX3N0YXRlV2VpZ2h0OiBudW1iZXI7IC8vIOmHjeOBv+OBrueKtuaFi1xyXG4gICAgX2xhc3RFdmVudENoZWNrU2Vjb25kczogbnVtYmVyOyAvLyDmnIDntYLjga5Nb3Rpb27lgbTjga7jg4Hjgqfjg4Pjgq/jgZfjgZ/mmYLplpNcclxuXHJcbiAgICBfbW90aW9uUXVldWVFbnRyeUhhbmRsZTogQ3ViaXNtTW90aW9uUXVldWVFbnRyeUhhbmRsZTsgLy8g5q+P5Liq5a6e5L6L5YW35pyJ5ZSv5LiA5YC855qE5qCH6K+G5Y+3XHJcbiAgfVxyXG59XHJcbiJdLCJtYXBwaW5ncyI6Ijs7O0FBT0E7QUFHQTtBQUVBO0FBQUE7QUFJQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBT0E7QUFDQTtBQUVBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFRQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQWdCQTtBQUFBO0FBek1BO0FBME1BOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./Framework/src/motion/cubismmotionqueueentry.ts\n");

/***/ }),

/***/ "./Framework/src/motion/cubismmotionqueuemanager.ts":
/*!**********************************************************!*\
  !*** ./Framework/src/motion/cubismmotionqueuemanager.ts ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Live2DCubismFramework = void 0;\r\nvar cubismmotionqueueentry_1 = __webpack_require__(/*! ./cubismmotionqueueentry */ \"./Framework/src/motion/cubismmotionqueueentry.ts\");\r\nvar csmvector_1 = __webpack_require__(/*! ../type/csmvector */ \"./Framework/src/type/csmvector.ts\");\r\nvar csmVector = csmvector_1.Live2DCubismFramework.csmVector;\r\nvar CubismMotionQueueEntry = cubismmotionqueueentry_1.Live2DCubismFramework.CubismMotionQueueEntry;\r\nvar Live2DCubismFramework;\r\n(function (Live2DCubismFramework) {\r\n    var CubismMotionQueueManager = (function () {\r\n        function CubismMotionQueueManager() {\r\n            this._userTimeSeconds = 0.0;\r\n            this._eventCallBack = null;\r\n            this._eventCustomData = null;\r\n            this._motions = new csmVector();\r\n        }\r\n        CubismMotionQueueManager.prototype.release = function () {\r\n            for (var i = 0; i < this._motions.getSize(); ++i) {\r\n                if (this._motions.at(i)) {\r\n                    this._motions.at(i).release();\r\n                    this._motions.set(i, void 0);\r\n                    this._motions.set(i, null);\r\n                }\r\n            }\r\n            this._motions = null;\r\n        };\r\n        CubismMotionQueueManager.prototype.startMotion = function (motion, autoDelete, userTimeSeconds) {\r\n            var _a;\r\n            if (motion == null) {\r\n                return Live2DCubismFramework.InvalidMotionQueueEntryHandleValue;\r\n            }\r\n            var motionQueueEntry = null;\r\n            for (var i = 0; i < this._motions.getSize(); ++i) {\r\n                motionQueueEntry = this._motions.at(i);\r\n                if (motionQueueEntry == null) {\r\n                    continue;\r\n                }\r\n                motionQueueEntry.startFadeout(motionQueueEntry._motion.getFadeOutTime(), userTimeSeconds);\r\n            }\r\n            motionQueueEntry = new CubismMotionQueueEntry();\r\n            motionQueueEntry._autoDelete = autoDelete;\r\n            motionQueueEntry._motion = motion;\r\n            if (((_a = motion === null || motion === void 0 ? void 0 : motion['_motionData']) === null || _a === void 0 ? void 0 : _a['curveCount']) < 100) {\r\n                this._motions.pushBack(motionQueueEntry);\r\n            }\r\n            return motionQueueEntry._motionQueueEntryHandle;\r\n        };\r\n        CubismMotionQueueManager.prototype.isFinished = function () {\r\n            for (var ite = this._motions.begin(); ite.notEqual(this._motions.end());) {\r\n                var motionQueueEntry = ite.ptr();\r\n                if (motionQueueEntry == null) {\r\n                    ite = this._motions.erase(ite);\r\n                    continue;\r\n                }\r\n                var motion = motionQueueEntry._motion;\r\n                if (motion == null) {\r\n                    motionQueueEntry.release();\r\n                    motionQueueEntry = void 0;\r\n                    motionQueueEntry = null;\r\n                    ite = this._motions.erase(ite);\r\n                    continue;\r\n                }\r\n                if (!motionQueueEntry.isFinished()) {\r\n                    return false;\r\n                }\r\n                else {\r\n                    ite.preIncrement();\r\n                }\r\n            }\r\n            return true;\r\n        };\r\n        CubismMotionQueueManager.prototype.isFinishedByHandle = function (motionQueueEntryNumber) {\r\n            for (var ite = this._motions.begin(); ite.notEqual(this._motions.end()); ite.increment()) {\r\n                var motionQueueEntry = ite.ptr();\r\n                if (motionQueueEntry == null) {\r\n                    continue;\r\n                }\r\n                if (motionQueueEntry._motionQueueEntryHandle == motionQueueEntryNumber &&\r\n                    !motionQueueEntry.isFinished()) {\r\n                    return false;\r\n                }\r\n            }\r\n            return true;\r\n        };\r\n        CubismMotionQueueManager.prototype.stopAllMotions = function () {\r\n            for (var ite = this._motions.begin(); ite.notEqual(this._motions.end());) {\r\n                var motionQueueEntry = ite.ptr();\r\n                if (motionQueueEntry == null) {\r\n                    ite = this._motions.erase(ite);\r\n                    continue;\r\n                }\r\n                motionQueueEntry.release();\r\n                motionQueueEntry = void 0;\r\n                motionQueueEntry = null;\r\n                ite = this._motions.erase(ite);\r\n            }\r\n        };\r\n        CubismMotionQueueManager.prototype.getCubismMotionQueueEntry = function (motionQueueEntryNumber) {\r\n            for (var ite = this._motions.begin(); ite.notEqual(this._motions.end()); ite.preIncrement()) {\r\n                var motionQueueEntry = ite.ptr();\r\n                if (motionQueueEntry == null) {\r\n                    continue;\r\n                }\r\n                if (motionQueueEntry._motionQueueEntryHandle == motionQueueEntryNumber) {\r\n                    return motionQueueEntry;\r\n                }\r\n            }\r\n            return null;\r\n        };\r\n        CubismMotionQueueManager.prototype.setEventCallback = function (callback, customData) {\r\n            if (customData === void 0) { customData = null; }\r\n            this._eventCallBack = callback;\r\n            this._eventCustomData = customData;\r\n        };\r\n        CubismMotionQueueManager.prototype.doUpdateMotion = function (model, userTimeSeconds) {\r\n            var updated = false;\r\n            for (var ite = this._motions.begin(); ite.notEqual(this._motions.end());) {\r\n                var motionQueueEntry = ite.ptr();\r\n                if (motionQueueEntry == null) {\r\n                    ite = this._motions.erase(ite);\r\n                    continue;\r\n                }\r\n                var motion = motionQueueEntry._motion;\r\n                if (motion == null) {\r\n                    motionQueueEntry.release();\r\n                    motionQueueEntry = void 0;\r\n                    motionQueueEntry = null;\r\n                    ite = this._motions.erase(ite);\r\n                    continue;\r\n                }\r\n                motion.updateParameters(model, motionQueueEntry, userTimeSeconds);\r\n                updated = true;\r\n                var firedList = motion.getFiredEvent(motionQueueEntry.getLastCheckEventTime() -\r\n                    motionQueueEntry.getStartTime(), userTimeSeconds - motionQueueEntry.getStartTime());\r\n                for (var i = 0; i < firedList.getSize(); ++i) {\r\n                    this._eventCallBack(this, firedList.at(i), this._eventCustomData);\r\n                }\r\n                motionQueueEntry.setLastCheckEventTime(userTimeSeconds);\r\n                if (motionQueueEntry.isFinished()) {\r\n                    motionQueueEntry.release();\r\n                    motionQueueEntry = void 0;\r\n                    motionQueueEntry = null;\r\n                    ite = this._motions.erase(ite);\r\n                }\r\n                else {\r\n                    ite.preIncrement();\r\n                }\r\n            }\r\n            return updated;\r\n        };\r\n        return CubismMotionQueueManager;\r\n    }());\r\n    Live2DCubismFramework.CubismMotionQueueManager = CubismMotionQueueManager;\r\n    Live2DCubismFramework.InvalidMotionQueueEntryHandleValue = -1;\r\n})(Live2DCubismFramework = exports.Live2DCubismFramework || (exports.Live2DCubismFramework = {}));\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9GcmFtZXdvcmsvc3JjL21vdGlvbi9jdWJpc21tb3Rpb25xdWV1ZW1hbmFnZXIudHMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9saXZlMmQvLi9GcmFtZXdvcmsvc3JjL21vdGlvbi9jdWJpc21tb3Rpb25xdWV1ZW1hbmFnZXIudHM/ZTU4NiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogQ29weXJpZ2h0KGMpIExpdmUyRCBJbmMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbiAqXHJcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IHRoZSBMaXZlMkQgT3BlbiBTb2Z0d2FyZSBsaWNlbnNlXHJcbiAqIHRoYXQgY2FuIGJlIGZvdW5kIGF0IGh0dHBzOi8vd3d3LmxpdmUyZC5jb20vZXVsYS9saXZlMmQtb3Blbi1zb2Z0d2FyZS1saWNlbnNlLWFncmVlbWVudF9lbi5odG1sLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IExpdmUyREN1YmlzbUZyYW1ld29yayBhcyBhY3ViaXNtbW90aW9uIH0gZnJvbSAnLi9hY3ViaXNtbW90aW9uJztcclxuaW1wb3J0IHsgTGl2ZTJEQ3ViaXNtRnJhbWV3b3JrIGFzIGN1YmlzbW1vdGlvbnF1ZXVlZW50cnkgfSBmcm9tICcuL2N1YmlzbW1vdGlvbnF1ZXVlZW50cnknO1xyXG5pbXBvcnQgeyBMaXZlMkRDdWJpc21GcmFtZXdvcmsgYXMgY3NtdmVjdG9yIH0gZnJvbSAnLi4vdHlwZS9jc212ZWN0b3InO1xyXG5pbXBvcnQgeyBMaXZlMkRDdWJpc21GcmFtZXdvcmsgYXMgY3ViaXNtbW9kZWwgfSBmcm9tICcuLi9tb2RlbC9jdWJpc21tb2RlbCc7XHJcbmltcG9ydCB7IExpdmUyREN1YmlzbUZyYW1ld29yayBhcyBjc21zdHJpbmcgfSBmcm9tICcuLi90eXBlL2NzbXN0cmluZyc7XHJcbmltcG9ydCBjc21TdHJpbmcgPSBjc21zdHJpbmcuY3NtU3RyaW5nO1xyXG5pbXBvcnQgQ3ViaXNtTW9kZWwgPSBjdWJpc21tb2RlbC5DdWJpc21Nb2RlbDtcclxuaW1wb3J0IGNzbVZlY3RvciA9IGNzbXZlY3Rvci5jc21WZWN0b3I7XHJcbmltcG9ydCBpdGVyYXRvciA9IGNzbXZlY3Rvci5pdGVyYXRvcjtcclxuaW1wb3J0IEN1YmlzbU1vdGlvblF1ZXVlRW50cnkgPSBjdWJpc21tb3Rpb25xdWV1ZWVudHJ5LkN1YmlzbU1vdGlvblF1ZXVlRW50cnk7XHJcbmltcG9ydCBBQ3ViaXNtTW90aW9uID0gYWN1YmlzbW1vdGlvbi5BQ3ViaXNtTW90aW9uO1xyXG5cclxuZXhwb3J0IG5hbWVzcGFjZSBMaXZlMkRDdWJpc21GcmFtZXdvcmsge1xyXG4gIC8qKlxyXG4gICAqIOODouODvOOCt+ODp+ODs+WGjeeUn+OBrueuoeeQhlxyXG4gICAqXHJcbiAgICog44Oi44O844K344On44Oz5YaN55Sf44Gu566h55CG55So44Kv44Op44K544CCQ3ViaXNtTW90aW9u44Oi44O844K344On44Oz44Gq44GpQUN1YmlzbU1vdGlvbuOBruOCteODluOCr+ODqeOCueOCkuWGjeeUn+OBmeOCi+OBn+OCgeOBq+S9v+eUqOOBmeOCi+OAglxyXG4gICAqXHJcbiAgICogQG5vdGUg5YaN55Sf5Lit44Gr5Yil44Gu44Oi44O844K344On44Oz44GMIFN0YXJ0TW90aW9uKCnjgZXjgozjgZ/loLTlkIjjga/jgIHmlrDjgZfjgYTjg6Ljg7zjgrfjg6fjg7Pjgavmu5HjgonjgYvjgavlpInljJbjgZfml6fjg6Ljg7zjgrfjg6fjg7Pjga/kuK3mlq3jgZnjgovjgIJcclxuICAgKiAgICAgICDooajmg4XnlKjjg6Ljg7zjgrfjg6fjg7PjgIHkvZPnlKjjg6Ljg7zjgrfjg6fjg7PjgarjganjgpLliIbjgZHjgabjg6Ljg7zjgrfjg6fjg7PljJbjgZfjgZ/loLTlkIjjgarjganjgIFcclxuICAgKiAgICAgICDopIfmlbDjga7jg6Ljg7zjgrfjg6fjg7PjgpLlkIzmmYLjgavlho3nlJ/jgZXjgZvjgovloLTlkIjjga/jgIHopIfmlbDjga5DdWJpc21Nb3Rpb25RdWV1ZU1hbmFnZXLjgqTjg7Pjgrnjgr/jg7PjgrnjgpLkvb/nlKjjgZnjgovjgIJcclxuICAgKi9cclxuICBleHBvcnQgY2xhc3MgQ3ViaXNtTW90aW9uUXVldWVNYW5hZ2VyIHtcclxuICAgIC8qKlxyXG4gICAgICog44Kz44Oz44K544OI44Op44Kv44K/XHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgdGhpcy5fdXNlclRpbWVTZWNvbmRzID0gMC4wO1xyXG4gICAgICB0aGlzLl9ldmVudENhbGxCYWNrID0gbnVsbDtcclxuICAgICAgdGhpcy5fZXZlbnRDdXN0b21EYXRhID0gbnVsbDtcclxuICAgICAgdGhpcy5fbW90aW9ucyA9IG5ldyBjc21WZWN0b3I8Q3ViaXNtTW90aW9uUXVldWVFbnRyeT4oKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOODh+OCueODiOODqeOCr+OCv1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgcmVsZWFzZSgpOiB2b2lkIHtcclxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9tb3Rpb25zLmdldFNpemUoKTsgKytpKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX21vdGlvbnMuYXQoaSkpIHtcclxuICAgICAgICAgIHRoaXMuX21vdGlvbnMuYXQoaSkucmVsZWFzZSgpO1xyXG4gICAgICAgICAgdGhpcy5fbW90aW9ucy5zZXQoaSwgdm9pZCAwKTtcclxuICAgICAgICAgIHRoaXMuX21vdGlvbnMuc2V0KGksIG51bGwpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgdGhpcy5fbW90aW9ucyA9IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDmjIflrprliqjkvZznmoTlvIDlp4tcclxuICAgICAqXHJcbiAgICAgKiDlvIDlp4vmjIflrprnmoTliqjkvZzjgILlpoLmnpzlt7Lnu4/mnInnm7jlkIznsbvlnovnmoTliqjkvZzvvIzliJnlr7nnjrDmnInliqjkvZznq4vnu5PmnZ/moIflv5fvvIzlvIDlp4vmt6Hlh7rjgIJcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gICBtb3Rpb24gICAgICAgICAgICAgIOW8gOWni+eahOWKqOS9nFxyXG4gICAgICogQHBhcmFtICAgYXV0b0RlbGV0ZSAgICAgICAgICDliKDpmaTmkq3mlL7nu5PmnZ/nmoTliqjkvZzlrp7kvosgdHJ1ZVxyXG4gICAgICogQHBhcmFtICAgdXNlclRpbWVTZWNvbmRzICAgICDlop7ph4/ml7bpl7TnmoTntK/orqHlgLxb56eSXVxyXG4gICAgICogQHJldHVybiAgICAgICAgICAgICAgICAgICAgICDov5Tlm57lvIDlp4vnmoTliqjkvZznmoTor4bliKvlj7fnoIHjgILnlKjkuo7liKTlrprkuKrliKvliqjkvZzmmK/lkKbnu5PmnZ/nmoRJc0ZpbmlzaGVk77yI77yJ5Y+C5pWw44CC5peg5rOV5byA5aeL5pe25Li64oCcLTHigJ1cclxuICAgICAqL1xyXG4gICAgcHVibGljIHN0YXJ0TW90aW9uKFxyXG4gICAgICBtb3Rpb246IEFDdWJpc21Nb3Rpb24sXHJcbiAgICAgIGF1dG9EZWxldGU6IGJvb2xlYW4sXHJcbiAgICAgIHVzZXJUaW1lU2Vjb25kczogbnVtYmVyXHJcbiAgICApOiBDdWJpc21Nb3Rpb25RdWV1ZUVudHJ5SGFuZGxlIHtcclxuICAgICAgaWYgKG1vdGlvbiA9PSBudWxsKSB7XHJcbiAgICAgICAgcmV0dXJuIEludmFsaWRNb3Rpb25RdWV1ZUVudHJ5SGFuZGxlVmFsdWU7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGxldCBtb3Rpb25RdWV1ZUVudHJ5OiBDdWJpc21Nb3Rpb25RdWV1ZUVudHJ5ID0gbnVsbDtcclxuICAgICAgXHJcbiAgICAgIC8v5aaC5p6c5bey57uP5pyJ5Yqo5L2c55qE6K+d5bCx56uL57uT5p2f5qCH5b+XXHJcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5fbW90aW9ucy5nZXRTaXplKCk7ICsraSkge1xyXG4gICAgICAgIG1vdGlvblF1ZXVlRW50cnkgPSB0aGlzLl9tb3Rpb25zLmF0KGkpO1xyXG4gICAgICAgIGlmIChtb3Rpb25RdWV1ZUVudHJ5ID09IG51bGwpIHtcclxuICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbW90aW9uUXVldWVFbnRyeS5zdGFydEZhZGVvdXQoXHJcbiAgICAgICAgICBtb3Rpb25RdWV1ZUVudHJ5Ll9tb3Rpb24uZ2V0RmFkZU91dFRpbWUoKSxcclxuICAgICAgICAgIHVzZXJUaW1lU2Vjb25kc1xyXG4gICAgICAgICk7IC8vIOW8gOWni+a3oeWHuuW5tumAgOWHulxyXG4gICAgICB9XHJcblxyXG4gICAgICBtb3Rpb25RdWV1ZUVudHJ5ID0gbmV3IEN1YmlzbU1vdGlvblF1ZXVlRW50cnkoKTsgLy8g6YCA5Ye65pe25Lii5byDXHJcbiAgICAgIG1vdGlvblF1ZXVlRW50cnkuX2F1dG9EZWxldGUgPSBhdXRvRGVsZXRlO1xyXG4gICAgICBtb3Rpb25RdWV1ZUVudHJ5Ll9tb3Rpb24gPSBtb3Rpb247XHJcbiAgICAgIC8vIGNvbnNvbGUubG9nKCdldmVudENvdW50Jyxtb3Rpb25bJ19tb3Rpb25EYXRhJ10pXHJcbiAgICAgIC8vIOa3u+WKoOi2hemikeWKqOS9nOaLpuaIquWZqO+8jOaNrua1i+ivle+8jGN1cnZlQ291bnTotoXov4cxMDDnmoTmqKHlnovkvJrlr7zoh7TliqjkvZzlvILluLgs5b6F5L+u5aSNIDIwMjAuOS4xMVxyXG4gICAgICBpZihtb3Rpb24/LlsnX21vdGlvbkRhdGEnXT8uWydjdXJ2ZUNvdW50J108MTAwKXtcclxuICAgICAgICB0aGlzLl9tb3Rpb25zLnB1c2hCYWNrKG1vdGlvblF1ZXVlRW50cnkpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gbW90aW9uUXVldWVFbnRyeS5fbW90aW9uUXVldWVFbnRyeUhhbmRsZTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOWFqOOBpuOBruODouODvOOCt+ODp+ODs+OBrue1guS6huOBrueiuuiqjVxyXG4gICAgICogQHJldHVybiB0cnVlIOWFqOOBpue1guS6huOBl+OBpuOBhOOCi1xyXG4gICAgICogQHJldHVybiBmYWxzZSDntYLkuobjgZfjgabjgYTjgarjgYRcclxuICAgICAqL1xyXG4gICAgcHVibGljIGlzRmluaXNoZWQoKTogYm9vbGVhbiB7XHJcbiAgICAgIC8vIC0tLS0tLS0g5Yem55CG44KS6KGM44GGIC0tLS0tLS1cclxuICAgICAgLy8g5pei44Gr44Oi44O844K344On44Oz44GM44GC44KM44Gw57WC5LqG44OV44Op44Kw44KS56uL44Gm44KLXHJcblxyXG4gICAgICBmb3IgKFxyXG4gICAgICAgIGxldCBpdGU6IGl0ZXJhdG9yPEN1YmlzbU1vdGlvblF1ZXVlRW50cnk+ID0gdGhpcy5fbW90aW9ucy5iZWdpbigpO1xyXG4gICAgICAgIGl0ZS5ub3RFcXVhbCh0aGlzLl9tb3Rpb25zLmVuZCgpKTtcclxuXHJcbiAgICAgICkge1xyXG4gICAgICAgIGxldCBtb3Rpb25RdWV1ZUVudHJ5OiBDdWJpc21Nb3Rpb25RdWV1ZUVudHJ5ID0gaXRlLnB0cigpO1xyXG5cclxuICAgICAgICBpZiAobW90aW9uUXVldWVFbnRyeSA9PSBudWxsKSB7XHJcbiAgICAgICAgICBpdGUgPSB0aGlzLl9tb3Rpb25zLmVyYXNlKGl0ZSk7IC8vIOWJiumZpFxyXG4gICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBtb3Rpb246IEFDdWJpc21Nb3Rpb24gPSBtb3Rpb25RdWV1ZUVudHJ5Ll9tb3Rpb247XHJcblxyXG4gICAgICAgIGlmIChtb3Rpb24gPT0gbnVsbCkge1xyXG4gICAgICAgICAgbW90aW9uUXVldWVFbnRyeS5yZWxlYXNlKCk7XHJcbiAgICAgICAgICBtb3Rpb25RdWV1ZUVudHJ5ID0gdm9pZCAwO1xyXG4gICAgICAgICAgbW90aW9uUXVldWVFbnRyeSA9IG51bGw7XHJcbiAgICAgICAgICBpdGUgPSB0aGlzLl9tb3Rpb25zLmVyYXNlKGl0ZSk7IC8vIOWJiumZpFxyXG4gICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyAtLS0tLSDntYLkuobmuIjjgb/jga7lh6bnkIbjgYzjgYLjgozjgbDliYrpmaTjgZnjgosgLS0tLS0tXHJcbiAgICAgICAgaWYgKCFtb3Rpb25RdWV1ZUVudHJ5LmlzRmluaXNoZWQoKSkge1xyXG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBpdGUucHJlSW5jcmVtZW50KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOaMh+WumuOBl+OBn+ODouODvOOCt+ODp+ODs+OBrue1guS6huOBrueiuuiqjVxyXG4gICAgICogQHBhcmFtIG1vdGlvblF1ZXVlRW50cnlOdW1iZXIg44Oi44O844K344On44Oz44Gu6K2Y5Yil55Wq5Y+3XHJcbiAgICAgKiBAcmV0dXJuIHRydWUg5YWo44Gm57WC5LqG44GX44Gm44GE44KLXHJcbiAgICAgKiBAcmV0dXJuIGZhbHNlIOe1guS6huOBl+OBpuOBhOOBquOBhFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgaXNGaW5pc2hlZEJ5SGFuZGxlKFxyXG4gICAgICBtb3Rpb25RdWV1ZUVudHJ5TnVtYmVyOiBDdWJpc21Nb3Rpb25RdWV1ZUVudHJ5SGFuZGxlXHJcbiAgICApOiBib29sZWFuIHtcclxuICAgICAgLy8g5pei44Gr44Oi44O844K344On44Oz44GM44GC44KM44Gw57WC5LqG44OV44Op44Kw44KS56uL44Gm44KLXHJcbiAgICAgIGZvciAoXHJcbiAgICAgICAgbGV0IGl0ZTogaXRlcmF0b3I8Q3ViaXNtTW90aW9uUXVldWVFbnRyeT4gPSB0aGlzLl9tb3Rpb25zLmJlZ2luKCk7XHJcbiAgICAgICAgaXRlLm5vdEVxdWFsKHRoaXMuX21vdGlvbnMuZW5kKCkpO1xyXG4gICAgICAgIGl0ZS5pbmNyZW1lbnQoKVxyXG4gICAgICApIHtcclxuICAgICAgICBjb25zdCBtb3Rpb25RdWV1ZUVudHJ5OiBDdWJpc21Nb3Rpb25RdWV1ZUVudHJ5ID0gaXRlLnB0cigpO1xyXG5cclxuICAgICAgICBpZiAobW90aW9uUXVldWVFbnRyeSA9PSBudWxsKSB7XHJcbiAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChcclxuICAgICAgICAgIG1vdGlvblF1ZXVlRW50cnkuX21vdGlvblF1ZXVlRW50cnlIYW5kbGUgPT0gbW90aW9uUXVldWVFbnRyeU51bWJlciAmJlxyXG4gICAgICAgICAgIW1vdGlvblF1ZXVlRW50cnkuaXNGaW5pc2hlZCgpXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5YWo44Gm44Gu44Oi44O844K344On44Oz44KS5YGc5q2i44GZ44KLXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzdG9wQWxsTW90aW9ucygpOiB2b2lkIHtcclxuICAgICAgLy8gLS0tLS0tLSDlh6bnkIbjgpLooYzjgYYgLS0tLS0tLVxyXG4gICAgICAvLyDml6Ljgavjg6Ljg7zjgrfjg6fjg7PjgYzjgYLjgozjgbDntYLkuobjg5Xjg6njgrDjgpLnq4vjgabjgotcclxuXHJcbiAgICAgIGZvciAoXHJcbiAgICAgICAgbGV0IGl0ZTogaXRlcmF0b3I8Q3ViaXNtTW90aW9uUXVldWVFbnRyeT4gPSB0aGlzLl9tb3Rpb25zLmJlZ2luKCk7XHJcbiAgICAgICAgaXRlLm5vdEVxdWFsKHRoaXMuX21vdGlvbnMuZW5kKCkpO1xyXG5cclxuICAgICAgKSB7XHJcbiAgICAgICAgbGV0IG1vdGlvblF1ZXVlRW50cnk6IEN1YmlzbU1vdGlvblF1ZXVlRW50cnkgPSBpdGUucHRyKCk7XHJcblxyXG4gICAgICAgIGlmIChtb3Rpb25RdWV1ZUVudHJ5ID09IG51bGwpIHtcclxuICAgICAgICAgIGl0ZSA9IHRoaXMuX21vdGlvbnMuZXJhc2UoaXRlKTtcclxuXHJcbiAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIC0tLS0tIOe1guS6hua4iOOBv+OBruWHpueQhuOBjOOBguOCjOOBsOWJiumZpOOBmeOCiyAtLS0tLS1cclxuICAgICAgICBtb3Rpb25RdWV1ZUVudHJ5LnJlbGVhc2UoKTtcclxuICAgICAgICBtb3Rpb25RdWV1ZUVudHJ5ID0gdm9pZCAwO1xyXG4gICAgICAgIG1vdGlvblF1ZXVlRW50cnkgPSBudWxsO1xyXG4gICAgICAgIGl0ZSA9IHRoaXMuX21vdGlvbnMuZXJhc2UoaXRlKTsgLy8g5YmK6ZmkXHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAgICAgKiDmjIflrprjgZfjgZ9DdWJpc21Nb3Rpb25RdWV1ZUVudHJ544Gu5Y+W5b6XXHJcblxyXG4gICAgICAgICAqIEBwYXJhbSAgIG1vdGlvblF1ZXVlRW50cnlOdW1iZXIgIOODouODvOOCt+ODp+ODs+OBruitmOWIpeeVquWPt1xyXG4gICAgICAgICAqIEByZXR1cm4gIOaMh+WumuOBl+OBn0N1YmlzbU1vdGlvblF1ZXVlRW50cnlcclxuICAgICAgICAgKiBAcmV0dXJuICBudWxsICAg6KaL44Gk44GL44KJ44Gq44GL44Gj44GfXHJcbiAgICAgICAgICovXHJcbiAgICBwdWJsaWMgZ2V0Q3ViaXNtTW90aW9uUXVldWVFbnRyeShcclxuICAgICAgbW90aW9uUXVldWVFbnRyeU51bWJlcjogYW55XHJcbiAgICApOiBDdWJpc21Nb3Rpb25RdWV1ZUVudHJ5IHtcclxuICAgICAgLy8tLS0tLS0tIOWHpueQhuOCkuihjOOBhiAtLS0tLS0tXHJcbiAgICAgIC8vIOaXouOBq+ODouODvOOCt+ODp+ODs+OBjOOBguOCjOOBsOe1guS6huODleODqeOCsOOCkueri+OBpuOCi1xyXG4gICAgICBmb3IgKFxyXG4gICAgICAgIGxldCBpdGU6IGl0ZXJhdG9yPEN1YmlzbU1vdGlvblF1ZXVlRW50cnk+ID0gdGhpcy5fbW90aW9ucy5iZWdpbigpO1xyXG4gICAgICAgIGl0ZS5ub3RFcXVhbCh0aGlzLl9tb3Rpb25zLmVuZCgpKTtcclxuICAgICAgICBpdGUucHJlSW5jcmVtZW50KClcclxuICAgICAgKSB7XHJcbiAgICAgICAgY29uc3QgbW90aW9uUXVldWVFbnRyeTogQ3ViaXNtTW90aW9uUXVldWVFbnRyeSA9IGl0ZS5wdHIoKTtcclxuXHJcbiAgICAgICAgaWYgKG1vdGlvblF1ZXVlRW50cnkgPT0gbnVsbCkge1xyXG4gICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoXHJcbiAgICAgICAgICBtb3Rpb25RdWV1ZUVudHJ5Ll9tb3Rpb25RdWV1ZUVudHJ5SGFuZGxlID09IG1vdGlvblF1ZXVlRW50cnlOdW1iZXJcclxuICAgICAgICApIHtcclxuICAgICAgICAgIHJldHVybiBtb3Rpb25RdWV1ZUVudHJ5O1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDjgqTjg5njg7Pjg4jjgpLlj5fjgZHlj5bjgotDYWxsYmFja+OBrueZu+mMslxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBjYWxsYmFjayDjgrPjg7zjg6vjg5Djg4Pjgq/plqLmlbBcclxuICAgICAqIEBwYXJhbSBjdXN0b21EYXRhIOOCs+ODvOODq+ODkOODg+OCr+OBq+i/lOOBleOCjOOCi+ODh+ODvOOCv1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc2V0RXZlbnRDYWxsYmFjayhcclxuICAgICAgY2FsbGJhY2s6IEN1YmlzbU1vdGlvbkV2ZW50RnVuY3Rpb24sXHJcbiAgICAgIGN1c3RvbURhdGE6IGFueSA9IG51bGxcclxuICAgICk6IHZvaWQge1xyXG4gICAgICB0aGlzLl9ldmVudENhbGxCYWNrID0gY2FsbGJhY2s7XHJcbiAgICAgIHRoaXMuX2V2ZW50Q3VzdG9tRGF0YSA9IGN1c3RvbURhdGE7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDjg6Ljg7zjgrfjg6fjg7PjgpLmm7TmlrDjgZfjgabjgIHjg6Ljg4fjg6vjgavjg5Hjg6njg6Hjg7zjgr/lgKTjgpLlj43mmKDjgZnjgovjgIJcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gICBtb2RlbCAgIOWvvuixoeOBruODouODh+ODq1xyXG4gICAgICogQHBhcmFtICAgdXNlclRpbWVTZWNvbmRzICAg44OH44Or44K/5pmC6ZaT44Gu56mN566X5YCkW+enkl1cclxuICAgICAqIEByZXR1cm4gIHRydWUgICAg44Oi44OH44Or44G444OR44Op44Oh44O844K/5YCk44Gu5Y+N5pig44GC44KKXHJcbiAgICAgKiBAcmV0dXJuICBmYWxzZSAgIOODouODh+ODq+OBuOODkeODqeODoeODvOOCv+WApOOBruWPjeaYoOOBquOBlyjjg6Ljg7zjgrfjg6fjg7Pjga7lpInljJbjgarjgZcpXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBkb1VwZGF0ZU1vdGlvbihcclxuICAgICAgbW9kZWw6IEN1YmlzbU1vZGVsLFxyXG4gICAgICB1c2VyVGltZVNlY29uZHM6IG51bWJlclxyXG4gICAgKTogYm9vbGVhbiB7XHJcbiAgICAgIGxldCB1cGRhdGVkID0gZmFsc2U7XHJcblxyXG4gICAgICAvLyAtLS0tLS0tIOWHpueQhuOCkuihjOOBhiAtLS0tLS0tLVxyXG4gICAgICAvLyDml6Ljgavjg6Ljg7zjgrfjg6fjg7PjgYzjgYLjgozjgbDntYLkuobjg5Xjg6njgrDjgpLnq4vjgabjgotcclxuXHJcbiAgICAgIGZvciAoXHJcbiAgICAgICAgbGV0IGl0ZTogaXRlcmF0b3I8Q3ViaXNtTW90aW9uUXVldWVFbnRyeT4gPSB0aGlzLl9tb3Rpb25zLmJlZ2luKCk7XHJcbiAgICAgICAgaXRlLm5vdEVxdWFsKHRoaXMuX21vdGlvbnMuZW5kKCkpO1xyXG5cclxuICAgICAgKSB7XHJcbiAgICAgICAgbGV0IG1vdGlvblF1ZXVlRW50cnk6IEN1YmlzbU1vdGlvblF1ZXVlRW50cnkgPSBpdGUucHRyKCk7XHJcblxyXG4gICAgICAgIGlmIChtb3Rpb25RdWV1ZUVudHJ5ID09IG51bGwpIHtcclxuICAgICAgICAgIGl0ZSA9IHRoaXMuX21vdGlvbnMuZXJhc2UoaXRlKTsgLy8g5YmK6ZmkXHJcbiAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IG1vdGlvbjogQUN1YmlzbU1vdGlvbiA9IG1vdGlvblF1ZXVlRW50cnkuX21vdGlvbjtcclxuXHJcbiAgICAgICAgaWYgKG1vdGlvbiA9PSBudWxsKSB7XHJcbiAgICAgICAgICBtb3Rpb25RdWV1ZUVudHJ5LnJlbGVhc2UoKTtcclxuICAgICAgICAgIG1vdGlvblF1ZXVlRW50cnkgPSB2b2lkIDA7XHJcbiAgICAgICAgICBtb3Rpb25RdWV1ZUVudHJ5ID0gbnVsbDtcclxuICAgICAgICAgIGl0ZSA9IHRoaXMuX21vdGlvbnMuZXJhc2UoaXRlKTsgLy8g5YmK6ZmkXHJcblxyXG4gICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyAtLS0tLS0g5YCk44KS5Y+N5pig44GZ44KLIC0tLS0tLVxyXG4gICAgICAgIG1vdGlvbi51cGRhdGVQYXJhbWV0ZXJzKG1vZGVsLCBtb3Rpb25RdWV1ZUVudHJ5LCB1c2VyVGltZVNlY29uZHMpO1xyXG4gICAgICAgIHVwZGF0ZWQgPSB0cnVlO1xyXG5cclxuICAgICAgICAvLyAtLS0tLS0g44Om44O844K244OI44Oq44Ks44O844Kk44OZ44Oz44OI44KS5qSc5p+744GZ44KLIC0tLS1cclxuICAgICAgICBjb25zdCBmaXJlZExpc3Q6IGNzbVZlY3Rvcjxjc21TdHJpbmc+ID0gbW90aW9uLmdldEZpcmVkRXZlbnQoXHJcbiAgICAgICAgICBtb3Rpb25RdWV1ZUVudHJ5LmdldExhc3RDaGVja0V2ZW50VGltZSgpIC1cclxuICAgICAgICAgICAgbW90aW9uUXVldWVFbnRyeS5nZXRTdGFydFRpbWUoKSxcclxuICAgICAgICAgIHVzZXJUaW1lU2Vjb25kcyAtIG1vdGlvblF1ZXVlRW50cnkuZ2V0U3RhcnRUaW1lKClcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZpcmVkTGlzdC5nZXRTaXplKCk7ICsraSkge1xyXG4gICAgICAgICAgdGhpcy5fZXZlbnRDYWxsQmFjayh0aGlzLCBmaXJlZExpc3QuYXQoaSksIHRoaXMuX2V2ZW50Q3VzdG9tRGF0YSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBtb3Rpb25RdWV1ZUVudHJ5LnNldExhc3RDaGVja0V2ZW50VGltZSh1c2VyVGltZVNlY29uZHMpO1xyXG5cclxuICAgICAgICAvLyAtLS0tLS0g57WC5LqG5riI44G/44Gu5Yem55CG44GM44GC44KM44Gw5YmK6Zmk44GZ44KLIC0tLS0tLVxyXG4gICAgICAgIGlmIChtb3Rpb25RdWV1ZUVudHJ5LmlzRmluaXNoZWQoKSkge1xyXG4gICAgICAgICAgbW90aW9uUXVldWVFbnRyeS5yZWxlYXNlKCk7XHJcbiAgICAgICAgICBtb3Rpb25RdWV1ZUVudHJ5ID0gdm9pZCAwO1xyXG4gICAgICAgICAgbW90aW9uUXVldWVFbnRyeSA9IG51bGw7XHJcbiAgICAgICAgICBpdGUgPSB0aGlzLl9tb3Rpb25zLmVyYXNlKGl0ZSk7IC8vIOWJiumZpFxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBpdGUucHJlSW5jcmVtZW50KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gdXBkYXRlZDtcclxuICAgIH1cclxuICAgIF91c2VyVGltZVNlY29uZHM6IG51bWJlcjsgLy8g44OH44Or44K/5pmC6ZaT44Gu56mN566X5YCkW+enkl1cclxuXHJcbiAgICBfbW90aW9uczogY3NtVmVjdG9yPEN1YmlzbU1vdGlvblF1ZXVlRW50cnk+OyAvLyDjg6Ljg7zjgrfjg6fjg7NcclxuICAgIF9ldmVudENhbGxCYWNrOiBDdWJpc21Nb3Rpb25FdmVudEZ1bmN0aW9uOyAvLyDjgrPjg7zjg6vjg5Djg4Pjgq/plqLmlbBcclxuICAgIF9ldmVudEN1c3RvbURhdGE6IGFueTsgLy8g44Kz44O844Or44OQ44OD44Kv44Gr5oi744GV44KM44KL44OH44O844K/XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDjgqTjg5njg7Pjg4jjga7jgrPjg7zjg6vjg5Djg4Pjgq/plqLmlbDjgpLlrprnvqlcclxuICAgKlxyXG4gICAqIOOCpOODmeODs+ODiOOBruOCs+ODvOODq+ODkOODg+OCr+OBq+eZu+mMsuOBp+OBjeOCi+mWouaVsOOBruWei+aDheWgsVxyXG4gICAqIEBwYXJhbSBjYWxsZXIgICAgICAgIOeZuueBq+OBl+OBn+OCpOODmeODs+ODiOOCkuWGjeeUn+OBleOBm+OBn0N1YmlzbU1vdGlvblF1ZXVlTWFuYWdlclxyXG4gICAqIEBwYXJhbSBldmVudFZhbHVlICAgIOeZuueBq+OBl+OBn+OCpOODmeODs+ODiOOBruaWh+Wtl+WIl+ODh+ODvOOCv1xyXG4gICAqIEBwYXJhbSBjdXN0b21EYXRhICAg44Kz44O844Or44OQ44OD44Kv44Gr6L+U44GV44KM44KL55m76Yyy5pmC44Gr5oyH5a6a44GV44KM44Gf44OH44O844K/XHJcbiAgICovXHJcbiAgZXhwb3J0IGludGVyZmFjZSBDdWJpc21Nb3Rpb25FdmVudEZ1bmN0aW9uIHtcclxuICAgIChcclxuICAgICAgY2FsbGVyOiBDdWJpc21Nb3Rpb25RdWV1ZU1hbmFnZXIsXHJcbiAgICAgIGV2ZW50VmFsdWU6IGNzbVN0cmluZyxcclxuICAgICAgY3VzdG9tRGF0YTogYW55XHJcbiAgICApOiB2b2lkO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog44Oi44O844K344On44Oz44Gu6K2Y5Yil55Wq5Y+3XHJcbiAgICpcclxuICAgKiDjg6Ljg7zjgrfjg6fjg7Pjga7orZjliKXnlarlj7fjga7lrprnvqlcclxuICAgKi9cclxuICBleHBvcnQgZGVjbGFyZSB0eXBlIEN1YmlzbU1vdGlvblF1ZXVlRW50cnlIYW5kbGUgPSBhbnk7XHJcbiAgZXhwb3J0IGNvbnN0IEludmFsaWRNb3Rpb25RdWV1ZUVudHJ5SGFuZGxlVmFsdWU6IEN1YmlzbU1vdGlvblF1ZXVlRW50cnlIYW5kbGUgPSAtMTtcclxufVxyXG4iXSwibWFwcGluZ3MiOiI7OztBQVFBO0FBQ0E7QUFLQTtBQUVBO0FBR0E7QUFBQTtBQVVBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFZQTs7QUFLQTtBQUNBO0FBQ0E7QUFFQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUlBO0FBRUE7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQU9BO0FBSUE7QUFLQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQVFBO0FBSUE7QUFLQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFJQTtBQUtBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFTQTtBQUtBO0FBS0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUdBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFRQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBVUE7QUFJQTtBQUtBO0FBS0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFHQTtBQUNBO0FBR0E7QUFFQTtBQUlBO0FBQ0E7QUFDQTtBQUVBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBTUE7QUFBQTtBQXZTQTtBQStUQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./Framework/src/motion/cubismmotionqueuemanager.ts\n");

/***/ }),

/***/ "./Framework/src/physics/cubismphysics.ts":
/*!************************************************!*\
  !*** ./Framework/src/physics/cubismphysics.ts ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Live2DCubismFramework = void 0;\r\nvar cubismphysicsinternal_1 = __webpack_require__(/*! ./cubismphysicsinternal */ \"./Framework/src/physics/cubismphysicsinternal.ts\");\r\nvar cubismvector2_1 = __webpack_require__(/*! ../math/cubismvector2 */ \"./Framework/src/math/cubismvector2.ts\");\r\nvar cubismmath_1 = __webpack_require__(/*! ../math/cubismmath */ \"./Framework/src/math/cubismmath.ts\");\r\nvar cubismphysicsjson_1 = __webpack_require__(/*! ./cubismphysicsjson */ \"./Framework/src/physics/cubismphysicsjson.ts\");\r\nvar CubismPhysicsJson = cubismphysicsjson_1.Live2DCubismFramework.CubismPhysicsJson;\r\nvar CubismMath = cubismmath_1.Live2DCubismFramework.CubismMath;\r\nvar CubismPhysicsRig = cubismphysicsinternal_1.Live2DCubismFramework.CubismPhysicsRig;\r\nvar CubismPhysicsSubRig = cubismphysicsinternal_1.Live2DCubismFramework.CubismPhysicsSubRig;\r\nvar CubismPhysicsInput = cubismphysicsinternal_1.Live2DCubismFramework.CubismPhysicsInput;\r\nvar CubismPhysicsOutput = cubismphysicsinternal_1.Live2DCubismFramework.CubismPhysicsOutput;\r\nvar CubismPhysicsParticle = cubismphysicsinternal_1.Live2DCubismFramework.CubismPhysicsParticle;\r\nvar CubismPhysicsSource = cubismphysicsinternal_1.Live2DCubismFramework.CubismPhysicsSource;\r\nvar CubismPhysicsTargetType = cubismphysicsinternal_1.Live2DCubismFramework.CubismPhysicsTargetType;\r\nvar CubismVector2 = cubismvector2_1.Live2DCubismFramework.CubismVector2;\r\nvar Live2DCubismFramework;\r\n(function (Live2DCubismFramework) {\r\n    var PhysicsTypeTagX = 'X';\r\n    var PhysicsTypeTagY = 'Y';\r\n    var PhysicsTypeTagAngle = 'Angle';\r\n    var AirResistance = 5.0;\r\n    var MaximumWeight = 100.0;\r\n    var MovementThreshold = 0.001;\r\n    var CubismPhysics = (function () {\r\n        function CubismPhysics() {\r\n            this._physicsRig = null;\r\n            this._options = new Options();\r\n            this._options.gravity.y = -1.0;\r\n            this._options.gravity.x = 0;\r\n            this._options.wind.x = 0;\r\n            this._options.wind.y = 0;\r\n        }\r\n        CubismPhysics.create = function (buffer, size) {\r\n            var ret = new CubismPhysics();\r\n            ret.parse(buffer, size);\r\n            ret._physicsRig.gravity.y = 0;\r\n            return ret;\r\n        };\r\n        CubismPhysics.delete = function (physics) {\r\n            if (physics != null) {\r\n                physics.release();\r\n                physics = null;\r\n            }\r\n        };\r\n        CubismPhysics.prototype.evaluate = function (model, deltaTimeSeconds) {\r\n            var totalAngle;\r\n            var weight;\r\n            var radAngle;\r\n            var outputValue;\r\n            var totalTranslation = new CubismVector2();\r\n            var currentSetting;\r\n            var currentInput;\r\n            var currentOutput;\r\n            var currentParticles;\r\n            var parameterValue;\r\n            var parameterMaximumValue;\r\n            var parameterMinimumValue;\r\n            var parameterDefaultValue;\r\n            parameterValue = model.getModel().parameters.values;\r\n            parameterMaximumValue = model.getModel().parameters.maximumValues;\r\n            parameterMinimumValue = model.getModel().parameters.minimumValues;\r\n            parameterDefaultValue = model.getModel().parameters.defaultValues;\r\n            for (var settingIndex = 0; settingIndex < this._physicsRig.subRigCount; ++settingIndex) {\r\n                totalAngle = { angle: 0.0 };\r\n                totalTranslation.x = 0.0;\r\n                totalTranslation.y = 0.0;\r\n                currentSetting = this._physicsRig.settings.at(settingIndex);\r\n                currentInput = this._physicsRig.inputs.get(currentSetting.baseInputIndex);\r\n                currentOutput = this._physicsRig.outputs.get(currentSetting.baseOutputIndex);\r\n                currentParticles = this._physicsRig.particles.get(currentSetting.baseParticleIndex);\r\n                for (var i = 0; i < currentSetting.inputCount; ++i) {\r\n                    weight = currentInput[i].weight / MaximumWeight;\r\n                    if (currentInput[i].sourceParameterIndex == -1) {\r\n                        currentInput[i].sourceParameterIndex = model.getParameterIndex(currentInput[i].source.id);\r\n                    }\r\n                    currentInput[i].getNormalizedParameterValue(totalTranslation, totalAngle, parameterValue[currentInput[i].sourceParameterIndex], parameterMinimumValue[currentInput[i].sourceParameterIndex], parameterMaximumValue[currentInput[i].sourceParameterIndex], parameterDefaultValue[currentInput[i].sourceParameterIndex], currentSetting.normalizationPosition, currentSetting.normalizationAngle, currentInput[0].reflect, weight);\r\n                }\r\n                radAngle = CubismMath.degreesToRadian(-totalAngle.angle);\r\n                totalTranslation.x =\r\n                    totalTranslation.x * CubismMath.cos(radAngle) -\r\n                        totalTranslation.y * CubismMath.sin(radAngle);\r\n                totalTranslation.y =\r\n                    totalTranslation.x * CubismMath.sin(radAngle) +\r\n                        totalTranslation.y * CubismMath.cos(radAngle);\r\n                updateParticles(currentParticles, currentSetting.particleCount, totalTranslation, totalAngle.angle, this._options.wind, MovementThreshold * currentSetting.normalizationPosition.maximum, deltaTimeSeconds, AirResistance);\r\n                for (var i = 0; i < currentSetting.outputCount; ++i) {\r\n                    var particleIndex = currentOutput[i].vertexIndex;\r\n                    if (particleIndex < 1 ||\r\n                        particleIndex >= currentSetting.particleCount) {\r\n                        break;\r\n                    }\r\n                    if (currentOutput[i].destinationParameterIndex == -1) {\r\n                        currentOutput[i].destinationParameterIndex = model.getParameterIndex(currentOutput[i].destination.id);\r\n                    }\r\n                    var translation = new CubismVector2();\r\n                    translation.x =\r\n                        currentParticles[particleIndex].position.x -\r\n                            currentParticles[particleIndex - 1].position.x;\r\n                    translation.y =\r\n                        currentParticles[particleIndex].position.y -\r\n                            currentParticles[particleIndex - 1].position.y;\r\n                    outputValue = currentOutput[i].getValue(translation, currentParticles, particleIndex, currentOutput[i].reflect, this._options.gravity);\r\n                    var destinationParameterIndex = currentOutput[i].destinationParameterIndex;\r\n                    var outParameterValue = !Float32Array.prototype.slice &&\r\n                        'subarray' in Float32Array.prototype\r\n                        ? JSON.parse(JSON.stringify(parameterValue.subarray(destinationParameterIndex)))\r\n                        : parameterValue.slice(destinationParameterIndex);\r\n                    updateOutputParameterValue(outParameterValue, parameterMinimumValue[destinationParameterIndex], parameterMaximumValue[destinationParameterIndex], outputValue, currentOutput[i]);\r\n                    for (var offset = destinationParameterIndex, outParamIndex = 0; offset < parameterValue.length; offset++, outParamIndex++) {\r\n                        parameterValue[offset] = outParameterValue[outParamIndex];\r\n                    }\r\n                }\r\n            }\r\n        };\r\n        CubismPhysics.prototype.setOptions = function (options) {\r\n            this._options = options;\r\n        };\r\n        CubismPhysics.prototype.getOption = function () {\r\n            return this._options;\r\n        };\r\n        CubismPhysics.prototype.release = function () {\r\n            this._physicsRig = void 0;\r\n            this._physicsRig = null;\r\n        };\r\n        CubismPhysics.prototype.parse = function (physicsJson, size) {\r\n            this._physicsRig = new CubismPhysicsRig();\r\n            var json = new CubismPhysicsJson(physicsJson, size);\r\n            this._physicsRig.gravity = json.getGravity();\r\n            this._physicsRig.wind = json.getWind();\r\n            this._physicsRig.subRigCount = json.getSubRigCount();\r\n            this._physicsRig.settings.updateSize(this._physicsRig.subRigCount, CubismPhysicsSubRig, true);\r\n            this._physicsRig.inputs.updateSize(json.getTotalInputCount(), CubismPhysicsInput, true);\r\n            this._physicsRig.outputs.updateSize(json.getTotalOutputCount(), CubismPhysicsOutput, true);\r\n            this._physicsRig.particles.updateSize(json.getVertexCount(), CubismPhysicsParticle, true);\r\n            var inputIndex = 0, outputIndex = 0, particleIndex = 0;\r\n            for (var i = 0; i < this._physicsRig.settings.getSize(); ++i) {\r\n                this._physicsRig.settings.at(i).normalizationPosition.minimum = json.getNormalizationPositionMinimumValue(i);\r\n                this._physicsRig.settings.at(i).normalizationPosition.maximum = json.getNormalizationPositionMaximumValue(i);\r\n                this._physicsRig.settings.at(i).normalizationPosition.defalut = json.getNormalizationPositionDefaultValue(i);\r\n                this._physicsRig.settings.at(i).normalizationAngle.minimum = json.getNormalizationAngleMinimumValue(i);\r\n                this._physicsRig.settings.at(i).normalizationAngle.maximum = json.getNormalizationAngleMaximumValue(i);\r\n                this._physicsRig.settings.at(i).normalizationAngle.defalut = json.getNormalizationAngleDefaultValue(i);\r\n                this._physicsRig.settings.at(i).inputCount = json.getInputCount(i);\r\n                this._physicsRig.settings.at(i).baseInputIndex = inputIndex;\r\n                for (var j = 0; j < this._physicsRig.settings.at(i).inputCount; ++j) {\r\n                    this._physicsRig.inputs.at(inputIndex + j).sourceParameterIndex = -1;\r\n                    this._physicsRig.inputs.at(inputIndex + j).weight = json.getInputWeight(i, j);\r\n                    this._physicsRig.inputs.at(inputIndex + j).reflect = json.getInputReflect(i, j);\r\n                    if (json.getInputType(i, j) == PhysicsTypeTagX) {\r\n                        this._physicsRig.inputs.at(inputIndex + j).type =\r\n                            CubismPhysicsSource.CubismPhysicsSource_X;\r\n                        this._physicsRig.inputs.at(inputIndex + j).getNormalizedParameterValue = getInputTranslationXFromNormalizedParameterValue;\r\n                    }\r\n                    else if (json.getInputType(i, j) == PhysicsTypeTagY) {\r\n                        this._physicsRig.inputs.at(inputIndex + j).type =\r\n                            CubismPhysicsSource.CubismPhysicsSource_Y;\r\n                        this._physicsRig.inputs.at(inputIndex + j).getNormalizedParameterValue = getInputTranslationYFromNormalizedParamterValue;\r\n                    }\r\n                    else if (json.getInputType(i, j) == PhysicsTypeTagAngle) {\r\n                        this._physicsRig.inputs.at(inputIndex + j).type =\r\n                            CubismPhysicsSource.CubismPhysicsSource_Angle;\r\n                        this._physicsRig.inputs.at(inputIndex + j).getNormalizedParameterValue = getInputAngleFromNormalizedParameterValue;\r\n                    }\r\n                    this._physicsRig.inputs.at(inputIndex + j).source.targetType =\r\n                        CubismPhysicsTargetType.CubismPhysicsTargetType_Parameter;\r\n                    this._physicsRig.inputs.at(inputIndex + j).source.id = json.getInputSourceId(i, j);\r\n                }\r\n                inputIndex += this._physicsRig.settings.at(i).inputCount;\r\n                this._physicsRig.settings.at(i).outputCount = json.getOutputCount(i);\r\n                this._physicsRig.settings.at(i).baseOutputIndex = outputIndex;\r\n                for (var j = 0; j < this._physicsRig.settings.at(i).outputCount; ++j) {\r\n                    this._physicsRig.outputs.at(outputIndex + j).destinationParameterIndex = -1;\r\n                    this._physicsRig.outputs.at(outputIndex + j).vertexIndex = json.getOutputVertexIndex(i, j);\r\n                    this._physicsRig.outputs.at(outputIndex + j).angleScale = json.getOutputAngleScale(i, j);\r\n                    this._physicsRig.outputs.at(outputIndex + j).weight = json.getOutputWeight(i, j);\r\n                    this._physicsRig.outputs.at(outputIndex + j).destination.targetType =\r\n                        CubismPhysicsTargetType.CubismPhysicsTargetType_Parameter;\r\n                    this._physicsRig.outputs.at(outputIndex + j).destination.id = json.getOutputDestinationId(i, j);\r\n                    if (json.getOutputType(i, j) == PhysicsTypeTagX) {\r\n                        this._physicsRig.outputs.at(outputIndex + j).type =\r\n                            CubismPhysicsSource.CubismPhysicsSource_X;\r\n                        this._physicsRig.outputs.at(outputIndex + j).getValue = getOutputTranslationX;\r\n                        this._physicsRig.outputs.at(outputIndex + j).getScale = getOutputScaleTranslationX;\r\n                    }\r\n                    else if (json.getOutputType(i, j) == PhysicsTypeTagY) {\r\n                        this._physicsRig.outputs.at(outputIndex + j).type =\r\n                            CubismPhysicsSource.CubismPhysicsSource_Y;\r\n                        this._physicsRig.outputs.at(outputIndex + j).getValue = getOutputTranslationY;\r\n                        this._physicsRig.outputs.at(outputIndex + j).getScale = getOutputScaleTranslationY;\r\n                    }\r\n                    else if (json.getOutputType(i, j) == PhysicsTypeTagAngle) {\r\n                        this._physicsRig.outputs.at(outputIndex + j).type =\r\n                            CubismPhysicsSource.CubismPhysicsSource_Angle;\r\n                        this._physicsRig.outputs.at(outputIndex + j).getValue = getOutputAngle;\r\n                        this._physicsRig.outputs.at(outputIndex + j).getScale = getOutputScaleAngle;\r\n                    }\r\n                    this._physicsRig.outputs.at(outputIndex + j).reflect = json.getOutputReflect(i, j);\r\n                }\r\n                outputIndex += this._physicsRig.settings.at(i).outputCount;\r\n                this._physicsRig.settings.at(i).particleCount = json.getParticleCount(i);\r\n                this._physicsRig.settings.at(i).baseParticleIndex = particleIndex;\r\n                for (var j = 0; j < this._physicsRig.settings.at(i).particleCount; ++j) {\r\n                    this._physicsRig.particles.at(particleIndex + j).mobility = json.getParticleMobility(i, j);\r\n                    this._physicsRig.particles.at(particleIndex + j).delay = json.getParticleDelay(i, j);\r\n                    this._physicsRig.particles.at(particleIndex + j).acceleration = json.getParticleAcceleration(i, j);\r\n                    this._physicsRig.particles.at(particleIndex + j).radius = json.getParticleRadius(i, j);\r\n                    this._physicsRig.particles.at(particleIndex + j).position = json.getParticlePosition(i, j);\r\n                }\r\n                particleIndex += this._physicsRig.settings.at(i).particleCount;\r\n            }\r\n            this.initialize();\r\n            json.release();\r\n            json = void 0;\r\n            json = null;\r\n        };\r\n        CubismPhysics.prototype.initialize = function () {\r\n            var strand;\r\n            var currentSetting;\r\n            var radius;\r\n            for (var settingIndex = 0; settingIndex < this._physicsRig.subRigCount; ++settingIndex) {\r\n                currentSetting = this._physicsRig.settings.at(settingIndex);\r\n                strand = this._physicsRig.particles.get(currentSetting.baseParticleIndex);\r\n                strand[0].initialPosition = new CubismVector2(0.0, 0.0);\r\n                strand[0].lastPosition = new CubismVector2(strand[0].initialPosition.x, strand[0].initialPosition.y);\r\n                strand[0].lastGravity = new CubismVector2(0.0, -1.0);\r\n                strand[0].lastGravity.y *= -1.0;\r\n                strand[0].velocity = new CubismVector2(0.0, 0.0);\r\n                strand[0].force = new CubismVector2(0.0, 0.0);\r\n                for (var i = 1; i < currentSetting.particleCount; ++i) {\r\n                    radius = new CubismVector2(0.0, 0.0);\r\n                    radius.y = strand[i].radius;\r\n                    strand[i].initialPosition = new CubismVector2(strand[i - 1].initialPosition.x + radius.x, strand[i - 1].initialPosition.y + radius.y);\r\n                    strand[i].position = new CubismVector2(strand[i].initialPosition.x, strand[i].initialPosition.y);\r\n                    strand[i].lastPosition = new CubismVector2(strand[i].initialPosition.x, strand[i].initialPosition.y);\r\n                    strand[i].lastGravity = new CubismVector2(0.0, -1.0);\r\n                    strand[i].lastGravity.y *= -1.0;\r\n                    strand[i].velocity = new CubismVector2(0.0, 0.0);\r\n                    strand[i].force = new CubismVector2(0.0, 0.0);\r\n                }\r\n            }\r\n        };\r\n        return CubismPhysics;\r\n    }());\r\n    Live2DCubismFramework.CubismPhysics = CubismPhysics;\r\n    var Options = (function () {\r\n        function Options() {\r\n            this.gravity = new CubismVector2(0, 0);\r\n            this.wind = new CubismVector2(0, 0);\r\n        }\r\n        return Options;\r\n    }());\r\n    Live2DCubismFramework.Options = Options;\r\n    function sign(value) {\r\n        var ret = 0;\r\n        if (value > 0.0) {\r\n            ret = 1;\r\n        }\r\n        else if (value < 0.0) {\r\n            ret = -1;\r\n        }\r\n        return ret;\r\n    }\r\n    function getInputTranslationXFromNormalizedParameterValue(targetTranslation, targetAngle, value, parameterMinimumValue, parameterMaximumValue, parameterDefaultValue, normalizationPosition, normalizationAngle, isInverted, weight) {\r\n        targetTranslation.x +=\r\n            normalizeParameterValue(value, parameterMinimumValue, parameterMaximumValue, parameterDefaultValue, normalizationPosition.minimum, normalizationPosition.maximum, normalizationPosition.defalut, isInverted) * weight;\r\n    }\r\n    function getInputTranslationYFromNormalizedParamterValue(targetTranslation, targetAngle, value, parameterMinimumValue, parameterMaximumValue, parameterDefaultValue, normalizationPosition, normalizationAngle, isInverted, weight) {\r\n        targetTranslation.y +=\r\n            normalizeParameterValue(value, parameterMinimumValue, parameterMaximumValue, parameterDefaultValue, normalizationPosition.minimum, normalizationPosition.maximum, normalizationPosition.defalut, isInverted) * weight;\r\n    }\r\n    function getInputAngleFromNormalizedParameterValue(targetTranslation, targetAngle, value, parameterMinimumValue, parameterMaximumValue, parameterDefaultValue, normalizaitionPosition, normalizationAngle, isInverted, weight) {\r\n        targetAngle.angle +=\r\n            normalizeParameterValue(value, parameterMinimumValue, parameterMaximumValue, parameterDefaultValue, normalizationAngle.minimum, normalizationAngle.maximum, normalizationAngle.defalut, isInverted) * weight;\r\n    }\r\n    function getOutputTranslationX(translation, particles, particleIndex, isInverted, parentGravity) {\r\n        var outputValue = translation.x;\r\n        if (isInverted) {\r\n            outputValue *= -1.0;\r\n        }\r\n        return outputValue;\r\n    }\r\n    function getOutputTranslationY(translation, particles, particleIndex, isInverted, parentGravity) {\r\n        var outputValue = translation.y;\r\n        if (isInverted) {\r\n            outputValue *= -1.0;\r\n        }\r\n        return outputValue;\r\n    }\r\n    function getOutputAngle(translation, particles, particleIndex, isInverted, parentGravity) {\r\n        var outputValue;\r\n        if (particleIndex >= 2) {\r\n            parentGravity = particles[particleIndex - 1].position.substract(particles[particleIndex - 2].position);\r\n        }\r\n        else {\r\n            parentGravity = parentGravity.multiplyByScaler(-1.0);\r\n        }\r\n        outputValue = CubismMath.directionToRadian(parentGravity, translation);\r\n        if (isInverted) {\r\n            outputValue *= -1.0;\r\n        }\r\n        return outputValue;\r\n    }\r\n    function getRangeValue(min, max) {\r\n        var maxValue = CubismMath.max(min, max);\r\n        var minValue = CubismMath.min(min, max);\r\n        return CubismMath.abs(maxValue - minValue);\r\n    }\r\n    function getDefaultValue(min, max) {\r\n        var minValue = CubismMath.min(min, max);\r\n        return minValue + getRangeValue(min, max) / 2.0;\r\n    }\r\n    function getOutputScaleTranslationX(translationScale, angleScale) {\r\n        return JSON.parse(JSON.stringify(translationScale.x));\r\n    }\r\n    function getOutputScaleTranslationY(translationScale, angleScale) {\r\n        return JSON.parse(JSON.stringify(translationScale.y));\r\n    }\r\n    function getOutputScaleAngle(translationScale, angleScale) {\r\n        return JSON.parse(JSON.stringify(angleScale));\r\n    }\r\n    function updateParticles(strand, strandCount, totalTranslation, totalAngle, windDirection, thresholdValue, deltaTimeSeconds, airResistance) {\r\n        var totalRadian;\r\n        var delay;\r\n        var radian;\r\n        var currentGravity;\r\n        var direction = new CubismVector2(0.0, 0.0);\r\n        var velocity = new CubismVector2(0.0, 0.0);\r\n        var force = new CubismVector2(0.0, 0.0);\r\n        var newDirection = new CubismVector2(0.0, 0.0);\r\n        strand[0].position = new CubismVector2(totalTranslation.x, totalTranslation.y);\r\n        totalRadian = CubismMath.degreesToRadian(totalAngle);\r\n        currentGravity = CubismMath.radianToDirection(totalRadian);\r\n        currentGravity.normalize();\r\n        for (var i = 1; i < strandCount; ++i) {\r\n            strand[i].force = currentGravity\r\n                .multiplyByScaler(strand[i].acceleration)\r\n                .add(windDirection);\r\n            strand[i].lastPosition = new CubismVector2(strand[i].position.x, strand[i].position.y);\r\n            delay = strand[i].delay * deltaTimeSeconds * 30.0;\r\n            direction = strand[i].position.substract(strand[i - 1].position);\r\n            radian =\r\n                CubismMath.directionToRadian(strand[i].lastGravity, currentGravity) /\r\n                    airResistance;\r\n            direction.x =\r\n                CubismMath.cos(radian) * direction.x -\r\n                    direction.y * CubismMath.sin(radian);\r\n            direction.y =\r\n                CubismMath.sin(radian) * direction.x +\r\n                    direction.y * CubismMath.cos(radian);\r\n            strand[i].position = strand[i - 1].position.add(direction);\r\n            velocity = strand[i].velocity.multiplyByScaler(delay);\r\n            force = strand[i].force.multiplyByScaler(delay).multiplyByScaler(delay);\r\n            strand[i].position = strand[i].position.add(velocity).add(force);\r\n            newDirection = strand[i].position.substract(strand[i - 1].position);\r\n            newDirection.normalize();\r\n            strand[i].position = strand[i - 1].position.add(newDirection.multiplyByScaler(strand[i].radius));\r\n            if (CubismMath.abs(strand[i].position.x) < thresholdValue) {\r\n                strand[i].position.x = 0.0;\r\n            }\r\n            if (delay != 0.0) {\r\n                strand[i].velocity = strand[i].position.substract(strand[i].lastPosition);\r\n                strand[i].velocity = strand[i].velocity.divisionByScalar(delay);\r\n                strand[i].velocity = strand[i].velocity.multiplyByScaler(strand[i].mobility);\r\n            }\r\n            strand[i].force = new CubismVector2(0.0, 0.0);\r\n            strand[i].lastGravity = new CubismVector2(currentGravity.x, currentGravity.y);\r\n        }\r\n    }\r\n    function updateOutputParameterValue(parameterValue, parameterValueMinimum, parameterValueMaximum, translation, output) {\r\n        var outputScale;\r\n        var value;\r\n        var weight;\r\n        outputScale = output.getScale(output.translationScale, output.angleScale);\r\n        value = translation * outputScale;\r\n        if (value < parameterValueMinimum) {\r\n            if (value < output.valueBelowMinimum) {\r\n                output.valueBelowMinimum = value;\r\n            }\r\n            value = parameterValueMinimum;\r\n        }\r\n        else if (value > parameterValueMaximum) {\r\n            if (value > output.valueExceededMaximum) {\r\n                output.valueExceededMaximum = value;\r\n            }\r\n            value = parameterValueMaximum;\r\n        }\r\n        weight = output.weight / MaximumWeight;\r\n        if (weight >= 1.0) {\r\n            parameterValue[0] = value;\r\n        }\r\n        else {\r\n            value = parameterValue[0] * (1.0 - weight) + value * weight;\r\n            parameterValue[0] = value;\r\n        }\r\n    }\r\n    function normalizeParameterValue(value, parameterMinimum, parameterMaximum, parameterDefault, normalizedMinimum, normalizedMaximum, normalizedDefault, isInverted) {\r\n        var result = 0.0;\r\n        var maxValue = CubismMath.max(parameterMaximum, parameterMinimum);\r\n        if (maxValue < value) {\r\n            value = maxValue;\r\n        }\r\n        var minValue = CubismMath.min(parameterMaximum, parameterMinimum);\r\n        if (minValue > value) {\r\n            value = minValue;\r\n        }\r\n        var minNormValue = CubismMath.min(normalizedMinimum, normalizedMaximum);\r\n        var maxNormValue = CubismMath.max(normalizedMinimum, normalizedMaximum);\r\n        var middleNormValue = normalizedDefault;\r\n        var middleValue = getDefaultValue(minValue, maxValue);\r\n        var paramValue = value - middleValue;\r\n        switch (sign(paramValue)) {\r\n            case 1: {\r\n                var nLength = maxNormValue - middleNormValue;\r\n                var pLength = maxValue - middleValue;\r\n                if (pLength != 0.0) {\r\n                    result = paramValue * (nLength / pLength);\r\n                    result += middleNormValue;\r\n                }\r\n                break;\r\n            }\r\n            case -1: {\r\n                var nLength = minNormValue - middleNormValue;\r\n                var pLength = minValue - middleValue;\r\n                if (pLength != 0.0) {\r\n                    result = paramValue * (nLength / pLength);\r\n                    result += middleNormValue;\r\n                }\r\n                break;\r\n            }\r\n            case 0: {\r\n                result = middleNormValue;\r\n                break;\r\n            }\r\n            default: {\r\n                break;\r\n            }\r\n        }\r\n        return isInverted ? result : result * -1.0;\r\n    }\r\n})(Live2DCubismFramework = exports.Live2DCubismFramework || (exports.Live2DCubismFramework = {}));\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9GcmFtZXdvcmsvc3JjL3BoeXNpY3MvY3ViaXNtcGh5c2ljcy50cy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL2xpdmUyZC8uL0ZyYW1ld29yay9zcmMvcGh5c2ljcy9jdWJpc21waHlzaWNzLnRzP2VmODgiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIENvcHlyaWdodChjKSBMaXZlMkQgSW5jLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4gKlxyXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSB0aGUgTGl2ZTJEIE9wZW4gU29mdHdhcmUgbGljZW5zZVxyXG4gKiB0aGF0IGNhbiBiZSBmb3VuZCBhdCBodHRwczovL3d3dy5saXZlMmQuY29tL2V1bGEvbGl2ZTJkLW9wZW4tc29mdHdhcmUtbGljZW5zZS1hZ3JlZW1lbnRfZW4uaHRtbC5cclxuICovXHJcblxyXG5pbXBvcnQgeyBMaXZlMkRDdWJpc21GcmFtZXdvcmsgYXMgY3ViaXNtcGh5c2ljc2ludGVybmFsIH0gZnJvbSAnLi9jdWJpc21waHlzaWNzaW50ZXJuYWwnO1xyXG5pbXBvcnQgeyBMaXZlMkRDdWJpc21GcmFtZXdvcmsgYXMgY3ViaXNtbW9kZWwgfSBmcm9tICcuLi9tb2RlbC9jdWJpc21tb2RlbCc7XHJcbmltcG9ydCB7IExpdmUyREN1YmlzbUZyYW1ld29yayBhcyBjdWJpc212ZWN0b3IyIH0gZnJvbSAnLi4vbWF0aC9jdWJpc212ZWN0b3IyJztcclxuaW1wb3J0IHsgTGl2ZTJEQ3ViaXNtRnJhbWV3b3JrIGFzIGN1YmlzbW1hdGggfSBmcm9tICcuLi9tYXRoL2N1YmlzbW1hdGgnO1xyXG5pbXBvcnQgeyBMaXZlMkRDdWJpc21GcmFtZXdvcmsgYXMgY3ViaXNtcGh5c2ljc2pzb24gfSBmcm9tICcuL2N1YmlzbXBoeXNpY3Nqc29uJztcclxuaW1wb3J0IEN1YmlzbVBoeXNpY3NKc29uID0gY3ViaXNtcGh5c2ljc2pzb24uQ3ViaXNtUGh5c2ljc0pzb247XHJcbmltcG9ydCBDdWJpc21NYXRoID0gY3ViaXNtbWF0aC5DdWJpc21NYXRoO1xyXG5pbXBvcnQgQ3ViaXNtUGh5c2ljc1JpZyA9IGN1YmlzbXBoeXNpY3NpbnRlcm5hbC5DdWJpc21QaHlzaWNzUmlnO1xyXG5pbXBvcnQgQ3ViaXNtUGh5c2ljc1N1YlJpZyA9IGN1YmlzbXBoeXNpY3NpbnRlcm5hbC5DdWJpc21QaHlzaWNzU3ViUmlnO1xyXG5pbXBvcnQgQ3ViaXNtUGh5c2ljc0lucHV0ID0gY3ViaXNtcGh5c2ljc2ludGVybmFsLkN1YmlzbVBoeXNpY3NJbnB1dDtcclxuaW1wb3J0IEN1YmlzbVBoeXNpY3NPdXRwdXQgPSBjdWJpc21waHlzaWNzaW50ZXJuYWwuQ3ViaXNtUGh5c2ljc091dHB1dDtcclxuaW1wb3J0IEN1YmlzbVBoeXNpY3NQYXJ0aWNsZSA9IGN1YmlzbXBoeXNpY3NpbnRlcm5hbC5DdWJpc21QaHlzaWNzUGFydGljbGU7XHJcbmltcG9ydCBDdWJpc21QaHlzaWNzU291cmNlID0gY3ViaXNtcGh5c2ljc2ludGVybmFsLkN1YmlzbVBoeXNpY3NTb3VyY2U7XHJcbmltcG9ydCBDdWJpc21QaHlzaWNzVGFyZ2V0VHlwZSA9IGN1YmlzbXBoeXNpY3NpbnRlcm5hbC5DdWJpc21QaHlzaWNzVGFyZ2V0VHlwZTtcclxuaW1wb3J0IEN1YmlzbVBoeXNpY3NOb3JtYWxpemF0aW9uID0gY3ViaXNtcGh5c2ljc2ludGVybmFsLkN1YmlzbVBoeXNpY3NOb3JtYWxpemF0aW9uO1xyXG5pbXBvcnQgQ3ViaXNtVmVjdG9yMiA9IGN1YmlzbXZlY3RvcjIuQ3ViaXNtVmVjdG9yMjtcclxuaW1wb3J0IEN1YmlzbU1vZGVsID0gY3ViaXNtbW9kZWwuQ3ViaXNtTW9kZWw7XHJcblxyXG5leHBvcnQgbmFtZXNwYWNlIExpdmUyREN1YmlzbUZyYW1ld29yayB7XHJcbiAgLy8gcGh5c2ljcyB0eXBlcyB0YWdzLlxyXG4gIGNvbnN0IFBoeXNpY3NUeXBlVGFnWCA9ICdYJztcclxuICBjb25zdCBQaHlzaWNzVHlwZVRhZ1kgPSAnWSc7XHJcbiAgY29uc3QgUGh5c2ljc1R5cGVUYWdBbmdsZSA9ICdBbmdsZSc7XHJcblxyXG4gIC8vIENvbnN0YW50IG9mIGFpciByZXNpc3RhbmNlLlxyXG4gIGNvbnN0IEFpclJlc2lzdGFuY2UgPSA1LjA7XHJcblxyXG4gIC8vIENvbnN0YW50IG9mIG1heGltdW0gd2VpZ2h0IG9mIGlucHV0IGFuZCBvdXRwdXQgcmF0aW8uXHJcbiAgY29uc3QgTWF4aW11bVdlaWdodCA9IDEwMC4wO1xyXG5cclxuICAvLyBDb25zdGFudCBvZiB0aHJlc2hvbGQgb2YgbW92ZW1lbnQuXHJcbiAgY29uc3QgTW92ZW1lbnRUaHJlc2hvbGQgPSAwLjAwMTtcclxuXHJcbiAgLyoqXHJcbiAgICog54mp55CG5ryU566X44Kv44Op44K5XHJcbiAgICovXHJcbiAgZXhwb3J0IGNsYXNzIEN1YmlzbVBoeXNpY3Mge1xyXG4gICAgLyoqXHJcbiAgICAgKiDjgqTjg7Pjgrnjgr/jg7Pjgrnjga7kvZzmiJBcclxuICAgICAqIEBwYXJhbSBidWZmZXIgICAgcGh5c2ljczMuanNvbuOBjOiqreOBv+i+vOOBvuOCjOOBpuOBhOOCi+ODkOODg+ODleOCoVxyXG4gICAgICogQHBhcmFtIHNpemUgICAgICDjg5Djg4Pjg5XjgqHjga7jgrXjgqTjgrpcclxuICAgICAqIEByZXR1cm4g5L2c5oiQ44GV44KM44Gf44Kk44Oz44K544K/44Oz44K5XHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKGJ1ZmZlcjogQXJyYXlCdWZmZXIsIHNpemU6IG51bWJlcik6IEN1YmlzbVBoeXNpY3Mge1xyXG4gICAgICBjb25zdCByZXQ6IEN1YmlzbVBoeXNpY3MgPSBuZXcgQ3ViaXNtUGh5c2ljcygpO1xyXG5cclxuICAgICAgcmV0LnBhcnNlKGJ1ZmZlciwgc2l6ZSk7XHJcbiAgICAgIHJldC5fcGh5c2ljc1JpZy5ncmF2aXR5LnkgPSAwO1xyXG5cclxuICAgICAgcmV0dXJuIHJldDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOOCpOODs+OCueOCv+ODs+OCueOCkuegtOajhOOBmeOCi1xyXG4gICAgICogQHBhcmFtIHBoeXNpY3Mg56C05qOE44GZ44KL44Kk44Oz44K544K/44Oz44K5XHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzdGF0aWMgZGVsZXRlKHBoeXNpY3M6IEN1YmlzbVBoeXNpY3MpOiB2b2lkIHtcclxuICAgICAgaWYgKHBoeXNpY3MgIT0gbnVsbCkge1xyXG4gICAgICAgIHBoeXNpY3MucmVsZWFzZSgpO1xyXG4gICAgICAgIHBoeXNpY3MgPSBudWxsO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDniannkIbmvJTnrpfjga7oqZXkvqFcclxuICAgICAqIEBwYXJhbSBtb2RlbCDniannkIbmvJTnrpfjga7ntZDmnpzjgpLpgannlKjjgZnjgovjg6Ljg4fjg6tcclxuICAgICAqIEBwYXJhbSBkZWx0YVRpbWVTZWNvbmRzIOODh+ODq+OCv+aZgumWk1vnp5JdXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBldmFsdWF0ZShtb2RlbDogQ3ViaXNtTW9kZWwsIGRlbHRhVGltZVNlY29uZHM6IG51bWJlcik6IHZvaWQge1xyXG4gICAgICBsZXQgdG90YWxBbmdsZTogeyBhbmdsZTogbnVtYmVyIH07XHJcbiAgICAgIGxldCB3ZWlnaHQ6IG51bWJlcjtcclxuICAgICAgbGV0IHJhZEFuZ2xlOiBudW1iZXI7XHJcbiAgICAgIGxldCBvdXRwdXRWYWx1ZTogbnVtYmVyO1xyXG4gICAgICBjb25zdCB0b3RhbFRyYW5zbGF0aW9uOiBDdWJpc21WZWN0b3IyID0gbmV3IEN1YmlzbVZlY3RvcjIoKTtcclxuICAgICAgbGV0IGN1cnJlbnRTZXR0aW5nOiBDdWJpc21QaHlzaWNzU3ViUmlnO1xyXG4gICAgICBsZXQgY3VycmVudElucHV0OiBDdWJpc21QaHlzaWNzSW5wdXRbXTtcclxuICAgICAgbGV0IGN1cnJlbnRPdXRwdXQ6IEN1YmlzbVBoeXNpY3NPdXRwdXRbXTtcclxuICAgICAgbGV0IGN1cnJlbnRQYXJ0aWNsZXM6IEN1YmlzbVBoeXNpY3NQYXJ0aWNsZVtdO1xyXG5cclxuICAgICAgbGV0IHBhcmFtZXRlclZhbHVlOiBGbG9hdDMyQXJyYXk7XHJcbiAgICAgIGxldCBwYXJhbWV0ZXJNYXhpbXVtVmFsdWU6IEZsb2F0MzJBcnJheTtcclxuICAgICAgbGV0IHBhcmFtZXRlck1pbmltdW1WYWx1ZTogRmxvYXQzMkFycmF5O1xyXG4gICAgICBsZXQgcGFyYW1ldGVyRGVmYXVsdFZhbHVlOiBGbG9hdDMyQXJyYXk7XHJcblxyXG4gICAgICBwYXJhbWV0ZXJWYWx1ZSA9IG1vZGVsLmdldE1vZGVsKCkucGFyYW1ldGVycy52YWx1ZXM7XHJcbiAgICAgIHBhcmFtZXRlck1heGltdW1WYWx1ZSA9IG1vZGVsLmdldE1vZGVsKCkucGFyYW1ldGVycy5tYXhpbXVtVmFsdWVzO1xyXG4gICAgICBwYXJhbWV0ZXJNaW5pbXVtVmFsdWUgPSBtb2RlbC5nZXRNb2RlbCgpLnBhcmFtZXRlcnMubWluaW11bVZhbHVlcztcclxuICAgICAgcGFyYW1ldGVyRGVmYXVsdFZhbHVlID0gbW9kZWwuZ2V0TW9kZWwoKS5wYXJhbWV0ZXJzLmRlZmF1bHRWYWx1ZXM7XHJcblxyXG4gICAgICBmb3IgKFxyXG4gICAgICAgIGxldCBzZXR0aW5nSW5kZXggPSAwO1xyXG4gICAgICAgIHNldHRpbmdJbmRleCA8IHRoaXMuX3BoeXNpY3NSaWcuc3ViUmlnQ291bnQ7XHJcbiAgICAgICAgKytzZXR0aW5nSW5kZXhcclxuICAgICAgKSB7XHJcbiAgICAgICAgdG90YWxBbmdsZSA9IHsgYW5nbGU6IDAuMCB9O1xyXG4gICAgICAgIHRvdGFsVHJhbnNsYXRpb24ueCA9IDAuMDtcclxuICAgICAgICB0b3RhbFRyYW5zbGF0aW9uLnkgPSAwLjA7XHJcbiAgICAgICAgY3VycmVudFNldHRpbmcgPSB0aGlzLl9waHlzaWNzUmlnLnNldHRpbmdzLmF0KHNldHRpbmdJbmRleCk7XHJcbiAgICAgICAgY3VycmVudElucHV0ID0gdGhpcy5fcGh5c2ljc1JpZy5pbnB1dHMuZ2V0KFxyXG4gICAgICAgICAgY3VycmVudFNldHRpbmcuYmFzZUlucHV0SW5kZXhcclxuICAgICAgICApO1xyXG4gICAgICAgIGN1cnJlbnRPdXRwdXQgPSB0aGlzLl9waHlzaWNzUmlnLm91dHB1dHMuZ2V0KFxyXG4gICAgICAgICAgY3VycmVudFNldHRpbmcuYmFzZU91dHB1dEluZGV4XHJcbiAgICAgICAgKTtcclxuICAgICAgICBjdXJyZW50UGFydGljbGVzID0gdGhpcy5fcGh5c2ljc1JpZy5wYXJ0aWNsZXMuZ2V0KFxyXG4gICAgICAgICAgY3VycmVudFNldHRpbmcuYmFzZVBhcnRpY2xlSW5kZXhcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICAvLyBMb2FkIGlucHV0IHBhcmFtZXRlcnNcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGN1cnJlbnRTZXR0aW5nLmlucHV0Q291bnQ7ICsraSkge1xyXG4gICAgICAgICAgd2VpZ2h0ID0gY3VycmVudElucHV0W2ldLndlaWdodCAvIE1heGltdW1XZWlnaHQ7XHJcblxyXG4gICAgICAgICAgaWYgKGN1cnJlbnRJbnB1dFtpXS5zb3VyY2VQYXJhbWV0ZXJJbmRleCA9PSAtMSkge1xyXG4gICAgICAgICAgICBjdXJyZW50SW5wdXRbaV0uc291cmNlUGFyYW1ldGVySW5kZXggPSBtb2RlbC5nZXRQYXJhbWV0ZXJJbmRleChcclxuICAgICAgICAgICAgICBjdXJyZW50SW5wdXRbaV0uc291cmNlLmlkXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgY3VycmVudElucHV0W2ldLmdldE5vcm1hbGl6ZWRQYXJhbWV0ZXJWYWx1ZShcclxuICAgICAgICAgICAgdG90YWxUcmFuc2xhdGlvbixcclxuICAgICAgICAgICAgdG90YWxBbmdsZSxcclxuICAgICAgICAgICAgcGFyYW1ldGVyVmFsdWVbY3VycmVudElucHV0W2ldLnNvdXJjZVBhcmFtZXRlckluZGV4XSxcclxuICAgICAgICAgICAgcGFyYW1ldGVyTWluaW11bVZhbHVlW2N1cnJlbnRJbnB1dFtpXS5zb3VyY2VQYXJhbWV0ZXJJbmRleF0sXHJcbiAgICAgICAgICAgIHBhcmFtZXRlck1heGltdW1WYWx1ZVtjdXJyZW50SW5wdXRbaV0uc291cmNlUGFyYW1ldGVySW5kZXhdLFxyXG4gICAgICAgICAgICBwYXJhbWV0ZXJEZWZhdWx0VmFsdWVbY3VycmVudElucHV0W2ldLnNvdXJjZVBhcmFtZXRlckluZGV4XSxcclxuICAgICAgICAgICAgY3VycmVudFNldHRpbmcubm9ybWFsaXphdGlvblBvc2l0aW9uLFxyXG4gICAgICAgICAgICBjdXJyZW50U2V0dGluZy5ub3JtYWxpemF0aW9uQW5nbGUsXHJcbiAgICAgICAgICAgIGN1cnJlbnRJbnB1dFswXS5yZWZsZWN0LFxyXG4gICAgICAgICAgICB3ZWlnaHRcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByYWRBbmdsZSA9IEN1YmlzbU1hdGguZGVncmVlc1RvUmFkaWFuKC10b3RhbEFuZ2xlLmFuZ2xlKTtcclxuXHJcbiAgICAgICAgdG90YWxUcmFuc2xhdGlvbi54ID1cclxuICAgICAgICAgIHRvdGFsVHJhbnNsYXRpb24ueCAqIEN1YmlzbU1hdGguY29zKHJhZEFuZ2xlKSAtXHJcbiAgICAgICAgICB0b3RhbFRyYW5zbGF0aW9uLnkgKiBDdWJpc21NYXRoLnNpbihyYWRBbmdsZSk7XHJcbiAgICAgICAgdG90YWxUcmFuc2xhdGlvbi55ID1cclxuICAgICAgICAgIHRvdGFsVHJhbnNsYXRpb24ueCAqIEN1YmlzbU1hdGguc2luKHJhZEFuZ2xlKSArXHJcbiAgICAgICAgICB0b3RhbFRyYW5zbGF0aW9uLnkgKiBDdWJpc21NYXRoLmNvcyhyYWRBbmdsZSk7XHJcblxyXG4gICAgICAgIC8vIENhbGN1bGF0ZSBwYXJ0aWNsZXMgcG9zaXRpb24uXHJcbiAgICAgICAgdXBkYXRlUGFydGljbGVzKFxyXG4gICAgICAgICAgY3VycmVudFBhcnRpY2xlcyxcclxuICAgICAgICAgIGN1cnJlbnRTZXR0aW5nLnBhcnRpY2xlQ291bnQsXHJcbiAgICAgICAgICB0b3RhbFRyYW5zbGF0aW9uLFxyXG4gICAgICAgICAgdG90YWxBbmdsZS5hbmdsZSxcclxuICAgICAgICAgIHRoaXMuX29wdGlvbnMud2luZCxcclxuICAgICAgICAgIE1vdmVtZW50VGhyZXNob2xkICogY3VycmVudFNldHRpbmcubm9ybWFsaXphdGlvblBvc2l0aW9uLm1heGltdW0sXHJcbiAgICAgICAgICBkZWx0YVRpbWVTZWNvbmRzLFxyXG4gICAgICAgICAgQWlyUmVzaXN0YW5jZVxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIC8vIFVwZGF0ZSBvdXRwdXQgcGFyYW1ldGVycy5cclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGN1cnJlbnRTZXR0aW5nLm91dHB1dENvdW50OyArK2kpIHtcclxuICAgICAgICAgIGNvbnN0IHBhcnRpY2xlSW5kZXggPSBjdXJyZW50T3V0cHV0W2ldLnZlcnRleEluZGV4O1xyXG5cclxuICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgcGFydGljbGVJbmRleCA8IDEgfHxcclxuICAgICAgICAgICAgcGFydGljbGVJbmRleCA+PSBjdXJyZW50U2V0dGluZy5wYXJ0aWNsZUNvdW50XHJcbiAgICAgICAgICApIHtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgaWYgKGN1cnJlbnRPdXRwdXRbaV0uZGVzdGluYXRpb25QYXJhbWV0ZXJJbmRleCA9PSAtMSkge1xyXG4gICAgICAgICAgICBjdXJyZW50T3V0cHV0W1xyXG4gICAgICAgICAgICAgIGlcclxuICAgICAgICAgICAgXS5kZXN0aW5hdGlvblBhcmFtZXRlckluZGV4ID0gbW9kZWwuZ2V0UGFyYW1ldGVySW5kZXgoXHJcbiAgICAgICAgICAgICAgY3VycmVudE91dHB1dFtpXS5kZXN0aW5hdGlvbi5pZFxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGNvbnN0IHRyYW5zbGF0aW9uOiBDdWJpc21WZWN0b3IyID0gbmV3IEN1YmlzbVZlY3RvcjIoKTtcclxuICAgICAgICAgIHRyYW5zbGF0aW9uLnggPVxyXG4gICAgICAgICAgICBjdXJyZW50UGFydGljbGVzW3BhcnRpY2xlSW5kZXhdLnBvc2l0aW9uLnggLVxyXG4gICAgICAgICAgICBjdXJyZW50UGFydGljbGVzW3BhcnRpY2xlSW5kZXggLSAxXS5wb3NpdGlvbi54O1xyXG4gICAgICAgICAgdHJhbnNsYXRpb24ueSA9XHJcbiAgICAgICAgICAgIGN1cnJlbnRQYXJ0aWNsZXNbcGFydGljbGVJbmRleF0ucG9zaXRpb24ueSAtXHJcbiAgICAgICAgICAgIGN1cnJlbnRQYXJ0aWNsZXNbcGFydGljbGVJbmRleCAtIDFdLnBvc2l0aW9uLnk7XHJcblxyXG4gICAgICAgICAgb3V0cHV0VmFsdWUgPSBjdXJyZW50T3V0cHV0W2ldLmdldFZhbHVlKFxyXG4gICAgICAgICAgICB0cmFuc2xhdGlvbixcclxuICAgICAgICAgICAgY3VycmVudFBhcnRpY2xlcyxcclxuICAgICAgICAgICAgcGFydGljbGVJbmRleCxcclxuICAgICAgICAgICAgY3VycmVudE91dHB1dFtpXS5yZWZsZWN0LFxyXG4gICAgICAgICAgICB0aGlzLl9vcHRpb25zLmdyYXZpdHlcclxuICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgY29uc3QgZGVzdGluYXRpb25QYXJhbWV0ZXJJbmRleDogbnVtYmVyID1cclxuICAgICAgICAgICAgY3VycmVudE91dHB1dFtpXS5kZXN0aW5hdGlvblBhcmFtZXRlckluZGV4O1xyXG4gICAgICAgICAgY29uc3Qgb3V0UGFyYW1ldGVyVmFsdWU6IEZsb2F0MzJBcnJheSA9XHJcbiAgICAgICAgICAgICFGbG9hdDMyQXJyYXkucHJvdG90eXBlLnNsaWNlICYmXHJcbiAgICAgICAgICAgICdzdWJhcnJheScgaW4gRmxvYXQzMkFycmF5LnByb3RvdHlwZVxyXG4gICAgICAgICAgICAgID8gSlNPTi5wYXJzZShcclxuICAgICAgICAgICAgICAgICAgSlNPTi5zdHJpbmdpZnkoXHJcbiAgICAgICAgICAgICAgICAgICAgcGFyYW1ldGVyVmFsdWUuc3ViYXJyYXkoZGVzdGluYXRpb25QYXJhbWV0ZXJJbmRleClcclxuICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgKSAvLyDlgKTmuKHjgZfjgZnjgovjgZ/jgoHjgIFKU09OLnBhcnNlLCBKU09OLnN0cmluZ2lmeVxyXG4gICAgICAgICAgICAgIDogcGFyYW1ldGVyVmFsdWUuc2xpY2UoZGVzdGluYXRpb25QYXJhbWV0ZXJJbmRleCk7XHJcblxyXG4gICAgICAgICAgdXBkYXRlT3V0cHV0UGFyYW1ldGVyVmFsdWUoXHJcbiAgICAgICAgICAgIG91dFBhcmFtZXRlclZhbHVlLFxyXG4gICAgICAgICAgICBwYXJhbWV0ZXJNaW5pbXVtVmFsdWVbZGVzdGluYXRpb25QYXJhbWV0ZXJJbmRleF0sXHJcbiAgICAgICAgICAgIHBhcmFtZXRlck1heGltdW1WYWx1ZVtkZXN0aW5hdGlvblBhcmFtZXRlckluZGV4XSxcclxuICAgICAgICAgICAgb3V0cHV0VmFsdWUsXHJcbiAgICAgICAgICAgIGN1cnJlbnRPdXRwdXRbaV1cclxuICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgLy8g5YCk44KS5Y+N5pigXHJcbiAgICAgICAgICBmb3IgKFxyXG4gICAgICAgICAgICBsZXQgb2Zmc2V0OiBudW1iZXIgPSBkZXN0aW5hdGlvblBhcmFtZXRlckluZGV4LCBvdXRQYXJhbUluZGV4ID0gMDtcclxuICAgICAgICAgICAgb2Zmc2V0IDwgcGFyYW1ldGVyVmFsdWUubGVuZ3RoO1xyXG4gICAgICAgICAgICBvZmZzZXQrKywgb3V0UGFyYW1JbmRleCsrXHJcbiAgICAgICAgICApIHtcclxuICAgICAgICAgICAgcGFyYW1ldGVyVmFsdWVbb2Zmc2V0XSA9IG91dFBhcmFtZXRlclZhbHVlW291dFBhcmFtSW5kZXhdO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog44Kq44OX44K344On44Oz44Gu6Kit5a6aXHJcbiAgICAgKiBAcGFyYW0gb3B0aW9ucyDjgqrjg5fjgrfjg6fjg7NcclxuICAgICAqL1xyXG4gICAgcHVibGljIHNldE9wdGlvbnMob3B0aW9uczogT3B0aW9ucyk6IHZvaWQge1xyXG4gICAgICB0aGlzLl9vcHRpb25zID0gb3B0aW9ucztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOOCquODl+OCt+ODp+ODs+OBruWPluW+l1xyXG4gICAgICogQHJldHVybiDjgqrjg5fjgrfjg6fjg7NcclxuICAgICAqL1xyXG4gICAgcHVibGljIGdldE9wdGlvbigpOiBPcHRpb25zIHtcclxuICAgICAgcmV0dXJuIHRoaXMuX29wdGlvbnM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDjgrPjg7Pjgrnjg4jjg6njgq/jgr9cclxuICAgICAqL1xyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICB0aGlzLl9waHlzaWNzUmlnID0gbnVsbDtcclxuXHJcbiAgICAgIC8vIHNldCBkZWZhdWx0IG9wdGlvbnNcclxuICAgICAgdGhpcy5fb3B0aW9ucyA9IG5ldyBPcHRpb25zKCk7XHJcbiAgICAgIHRoaXMuX29wdGlvbnMuZ3Jhdml0eS55ID0gLTEuMDtcclxuICAgICAgdGhpcy5fb3B0aW9ucy5ncmF2aXR5LnggPSAwO1xyXG4gICAgICB0aGlzLl9vcHRpb25zLndpbmQueCA9IDA7XHJcbiAgICAgIHRoaXMuX29wdGlvbnMud2luZC55ID0gMDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOODh+OCueODiOODqeOCr+OCv+ebuOW9k+OBruWHpueQhlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgcmVsZWFzZSgpOiB2b2lkIHtcclxuICAgICAgdGhpcy5fcGh5c2ljc1JpZyA9IHZvaWQgMDtcclxuICAgICAgdGhpcy5fcGh5c2ljc1JpZyA9IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBwaHlzaWNzMy5qc29u44KS44OR44O844K544GZ44KL44CCXHJcbiAgICAgKiBAcGFyYW0gcGh5c2ljc0pzb24gcGh5c2ljczMuanNvbuOBjOiqreOBv+i+vOOBvuOCjOOBpuOBhOOCi+ODkOODg+ODleOCoVxyXG4gICAgICogQHBhcmFtIHNpemUg44OQ44OD44OV44Kh44Gu44K144Kk44K6XHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBwYXJzZShwaHlzaWNzSnNvbjogQXJyYXlCdWZmZXIsIHNpemU6IG51bWJlcik6IHZvaWQge1xyXG4gICAgICB0aGlzLl9waHlzaWNzUmlnID0gbmV3IEN1YmlzbVBoeXNpY3NSaWcoKTtcclxuXHJcbiAgICAgIGxldCBqc29uOiBDdWJpc21QaHlzaWNzSnNvbiA9IG5ldyBDdWJpc21QaHlzaWNzSnNvbihwaHlzaWNzSnNvbiwgc2l6ZSk7XHJcblxyXG4gICAgICB0aGlzLl9waHlzaWNzUmlnLmdyYXZpdHkgPSBqc29uLmdldEdyYXZpdHkoKTtcclxuICAgICAgdGhpcy5fcGh5c2ljc1JpZy53aW5kID0ganNvbi5nZXRXaW5kKCk7XHJcbiAgICAgIHRoaXMuX3BoeXNpY3NSaWcuc3ViUmlnQ291bnQgPSBqc29uLmdldFN1YlJpZ0NvdW50KCk7XHJcblxyXG4gICAgICB0aGlzLl9waHlzaWNzUmlnLnNldHRpbmdzLnVwZGF0ZVNpemUoXHJcbiAgICAgICAgdGhpcy5fcGh5c2ljc1JpZy5zdWJSaWdDb3VudCxcclxuICAgICAgICBDdWJpc21QaHlzaWNzU3ViUmlnLFxyXG4gICAgICAgIHRydWVcclxuICAgICAgKTtcclxuICAgICAgdGhpcy5fcGh5c2ljc1JpZy5pbnB1dHMudXBkYXRlU2l6ZShcclxuICAgICAgICBqc29uLmdldFRvdGFsSW5wdXRDb3VudCgpLFxyXG4gICAgICAgIEN1YmlzbVBoeXNpY3NJbnB1dCxcclxuICAgICAgICB0cnVlXHJcbiAgICAgICk7XHJcbiAgICAgIHRoaXMuX3BoeXNpY3NSaWcub3V0cHV0cy51cGRhdGVTaXplKFxyXG4gICAgICAgIGpzb24uZ2V0VG90YWxPdXRwdXRDb3VudCgpLFxyXG4gICAgICAgIEN1YmlzbVBoeXNpY3NPdXRwdXQsXHJcbiAgICAgICAgdHJ1ZVxyXG4gICAgICApO1xyXG4gICAgICB0aGlzLl9waHlzaWNzUmlnLnBhcnRpY2xlcy51cGRhdGVTaXplKFxyXG4gICAgICAgIGpzb24uZ2V0VmVydGV4Q291bnQoKSxcclxuICAgICAgICBDdWJpc21QaHlzaWNzUGFydGljbGUsXHJcbiAgICAgICAgdHJ1ZVxyXG4gICAgICApO1xyXG5cclxuICAgICAgbGV0IGlucHV0SW5kZXggPSAwLFxyXG4gICAgICAgIG91dHB1dEluZGV4ID0gMCxcclxuICAgICAgICBwYXJ0aWNsZUluZGV4ID0gMDtcclxuXHJcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5fcGh5c2ljc1JpZy5zZXR0aW5ncy5nZXRTaXplKCk7ICsraSkge1xyXG4gICAgICAgIHRoaXMuX3BoeXNpY3NSaWcuc2V0dGluZ3MuYXQoXHJcbiAgICAgICAgICBpXHJcbiAgICAgICAgKS5ub3JtYWxpemF0aW9uUG9zaXRpb24ubWluaW11bSA9IGpzb24uZ2V0Tm9ybWFsaXphdGlvblBvc2l0aW9uTWluaW11bVZhbHVlKFxyXG4gICAgICAgICAgaVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgdGhpcy5fcGh5c2ljc1JpZy5zZXR0aW5ncy5hdChcclxuICAgICAgICAgIGlcclxuICAgICAgICApLm5vcm1hbGl6YXRpb25Qb3NpdGlvbi5tYXhpbXVtID0ganNvbi5nZXROb3JtYWxpemF0aW9uUG9zaXRpb25NYXhpbXVtVmFsdWUoXHJcbiAgICAgICAgICBpXHJcbiAgICAgICAgKTtcclxuICAgICAgICB0aGlzLl9waHlzaWNzUmlnLnNldHRpbmdzLmF0KFxyXG4gICAgICAgICAgaVxyXG4gICAgICAgICkubm9ybWFsaXphdGlvblBvc2l0aW9uLmRlZmFsdXQgPSBqc29uLmdldE5vcm1hbGl6YXRpb25Qb3NpdGlvbkRlZmF1bHRWYWx1ZShcclxuICAgICAgICAgIGlcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICB0aGlzLl9waHlzaWNzUmlnLnNldHRpbmdzLmF0KFxyXG4gICAgICAgICAgaVxyXG4gICAgICAgICkubm9ybWFsaXphdGlvbkFuZ2xlLm1pbmltdW0gPSBqc29uLmdldE5vcm1hbGl6YXRpb25BbmdsZU1pbmltdW1WYWx1ZShcclxuICAgICAgICAgIGlcclxuICAgICAgICApO1xyXG4gICAgICAgIHRoaXMuX3BoeXNpY3NSaWcuc2V0dGluZ3MuYXQoXHJcbiAgICAgICAgICBpXHJcbiAgICAgICAgKS5ub3JtYWxpemF0aW9uQW5nbGUubWF4aW11bSA9IGpzb24uZ2V0Tm9ybWFsaXphdGlvbkFuZ2xlTWF4aW11bVZhbHVlKFxyXG4gICAgICAgICAgaVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgdGhpcy5fcGh5c2ljc1JpZy5zZXR0aW5ncy5hdChcclxuICAgICAgICAgIGlcclxuICAgICAgICApLm5vcm1hbGl6YXRpb25BbmdsZS5kZWZhbHV0ID0ganNvbi5nZXROb3JtYWxpemF0aW9uQW5nbGVEZWZhdWx0VmFsdWUoXHJcbiAgICAgICAgICBpXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgLy8gSW5wdXRcclxuICAgICAgICB0aGlzLl9waHlzaWNzUmlnLnNldHRpbmdzLmF0KGkpLmlucHV0Q291bnQgPSBqc29uLmdldElucHV0Q291bnQoaSk7XHJcbiAgICAgICAgdGhpcy5fcGh5c2ljc1JpZy5zZXR0aW5ncy5hdChpKS5iYXNlSW5wdXRJbmRleCA9IGlucHV0SW5kZXg7XHJcblxyXG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgdGhpcy5fcGh5c2ljc1JpZy5zZXR0aW5ncy5hdChpKS5pbnB1dENvdW50OyArK2opIHtcclxuICAgICAgICAgIHRoaXMuX3BoeXNpY3NSaWcuaW5wdXRzLmF0KGlucHV0SW5kZXggKyBqKS5zb3VyY2VQYXJhbWV0ZXJJbmRleCA9IC0xO1xyXG4gICAgICAgICAgdGhpcy5fcGh5c2ljc1JpZy5pbnB1dHMuYXQoXHJcbiAgICAgICAgICAgIGlucHV0SW5kZXggKyBqXHJcbiAgICAgICAgICApLndlaWdodCA9IGpzb24uZ2V0SW5wdXRXZWlnaHQoaSwgaik7XHJcbiAgICAgICAgICB0aGlzLl9waHlzaWNzUmlnLmlucHV0cy5hdChcclxuICAgICAgICAgICAgaW5wdXRJbmRleCArIGpcclxuICAgICAgICAgICkucmVmbGVjdCA9IGpzb24uZ2V0SW5wdXRSZWZsZWN0KGksIGopO1xyXG5cclxuICAgICAgICAgIGlmIChqc29uLmdldElucHV0VHlwZShpLCBqKSA9PSBQaHlzaWNzVHlwZVRhZ1gpIHtcclxuICAgICAgICAgICAgdGhpcy5fcGh5c2ljc1JpZy5pbnB1dHMuYXQoaW5wdXRJbmRleCArIGopLnR5cGUgPVxyXG4gICAgICAgICAgICAgIEN1YmlzbVBoeXNpY3NTb3VyY2UuQ3ViaXNtUGh5c2ljc1NvdXJjZV9YO1xyXG4gICAgICAgICAgICB0aGlzLl9waHlzaWNzUmlnLmlucHV0cy5hdChcclxuICAgICAgICAgICAgICBpbnB1dEluZGV4ICsgalxyXG4gICAgICAgICAgICApLmdldE5vcm1hbGl6ZWRQYXJhbWV0ZXJWYWx1ZSA9IGdldElucHV0VHJhbnNsYXRpb25YRnJvbU5vcm1hbGl6ZWRQYXJhbWV0ZXJWYWx1ZTtcclxuICAgICAgICAgIH0gZWxzZSBpZiAoanNvbi5nZXRJbnB1dFR5cGUoaSwgaikgPT0gUGh5c2ljc1R5cGVUYWdZKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3BoeXNpY3NSaWcuaW5wdXRzLmF0KGlucHV0SW5kZXggKyBqKS50eXBlID1cclxuICAgICAgICAgICAgICBDdWJpc21QaHlzaWNzU291cmNlLkN1YmlzbVBoeXNpY3NTb3VyY2VfWTtcclxuICAgICAgICAgICAgdGhpcy5fcGh5c2ljc1JpZy5pbnB1dHMuYXQoXHJcbiAgICAgICAgICAgICAgaW5wdXRJbmRleCArIGpcclxuICAgICAgICAgICAgKS5nZXROb3JtYWxpemVkUGFyYW1ldGVyVmFsdWUgPSBnZXRJbnB1dFRyYW5zbGF0aW9uWUZyb21Ob3JtYWxpemVkUGFyYW10ZXJWYWx1ZTtcclxuICAgICAgICAgIH0gZWxzZSBpZiAoanNvbi5nZXRJbnB1dFR5cGUoaSwgaikgPT0gUGh5c2ljc1R5cGVUYWdBbmdsZSkge1xyXG4gICAgICAgICAgICB0aGlzLl9waHlzaWNzUmlnLmlucHV0cy5hdChpbnB1dEluZGV4ICsgaikudHlwZSA9XHJcbiAgICAgICAgICAgICAgQ3ViaXNtUGh5c2ljc1NvdXJjZS5DdWJpc21QaHlzaWNzU291cmNlX0FuZ2xlO1xyXG4gICAgICAgICAgICB0aGlzLl9waHlzaWNzUmlnLmlucHV0cy5hdChcclxuICAgICAgICAgICAgICBpbnB1dEluZGV4ICsgalxyXG4gICAgICAgICAgICApLmdldE5vcm1hbGl6ZWRQYXJhbWV0ZXJWYWx1ZSA9IGdldElucHV0QW5nbGVGcm9tTm9ybWFsaXplZFBhcmFtZXRlclZhbHVlO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIHRoaXMuX3BoeXNpY3NSaWcuaW5wdXRzLmF0KGlucHV0SW5kZXggKyBqKS5zb3VyY2UudGFyZ2V0VHlwZSA9XHJcbiAgICAgICAgICAgIEN1YmlzbVBoeXNpY3NUYXJnZXRUeXBlLkN1YmlzbVBoeXNpY3NUYXJnZXRUeXBlX1BhcmFtZXRlcjtcclxuICAgICAgICAgIHRoaXMuX3BoeXNpY3NSaWcuaW5wdXRzLmF0KFxyXG4gICAgICAgICAgICBpbnB1dEluZGV4ICsgalxyXG4gICAgICAgICAgKS5zb3VyY2UuaWQgPSBqc29uLmdldElucHV0U291cmNlSWQoaSwgaik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlucHV0SW5kZXggKz0gdGhpcy5fcGh5c2ljc1JpZy5zZXR0aW5ncy5hdChpKS5pbnB1dENvdW50O1xyXG5cclxuICAgICAgICAvLyBPdXRwdXRcclxuICAgICAgICB0aGlzLl9waHlzaWNzUmlnLnNldHRpbmdzLmF0KGkpLm91dHB1dENvdW50ID0ganNvbi5nZXRPdXRwdXRDb3VudChpKTtcclxuICAgICAgICB0aGlzLl9waHlzaWNzUmlnLnNldHRpbmdzLmF0KGkpLmJhc2VPdXRwdXRJbmRleCA9IG91dHB1dEluZGV4O1xyXG5cclxuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHRoaXMuX3BoeXNpY3NSaWcuc2V0dGluZ3MuYXQoaSkub3V0cHV0Q291bnQ7ICsraikge1xyXG4gICAgICAgICAgdGhpcy5fcGh5c2ljc1JpZy5vdXRwdXRzLmF0KFxyXG4gICAgICAgICAgICBvdXRwdXRJbmRleCArIGpcclxuICAgICAgICAgICkuZGVzdGluYXRpb25QYXJhbWV0ZXJJbmRleCA9IC0xO1xyXG4gICAgICAgICAgdGhpcy5fcGh5c2ljc1JpZy5vdXRwdXRzLmF0KFxyXG4gICAgICAgICAgICBvdXRwdXRJbmRleCArIGpcclxuICAgICAgICAgICkudmVydGV4SW5kZXggPSBqc29uLmdldE91dHB1dFZlcnRleEluZGV4KGksIGopO1xyXG4gICAgICAgICAgdGhpcy5fcGh5c2ljc1JpZy5vdXRwdXRzLmF0KFxyXG4gICAgICAgICAgICBvdXRwdXRJbmRleCArIGpcclxuICAgICAgICAgICkuYW5nbGVTY2FsZSA9IGpzb24uZ2V0T3V0cHV0QW5nbGVTY2FsZShpLCBqKTtcclxuICAgICAgICAgIHRoaXMuX3BoeXNpY3NSaWcub3V0cHV0cy5hdChcclxuICAgICAgICAgICAgb3V0cHV0SW5kZXggKyBqXHJcbiAgICAgICAgICApLndlaWdodCA9IGpzb24uZ2V0T3V0cHV0V2VpZ2h0KGksIGopO1xyXG4gICAgICAgICAgdGhpcy5fcGh5c2ljc1JpZy5vdXRwdXRzLmF0KG91dHB1dEluZGV4ICsgaikuZGVzdGluYXRpb24udGFyZ2V0VHlwZSA9XHJcbiAgICAgICAgICAgIEN1YmlzbVBoeXNpY3NUYXJnZXRUeXBlLkN1YmlzbVBoeXNpY3NUYXJnZXRUeXBlX1BhcmFtZXRlcjtcclxuXHJcbiAgICAgICAgICB0aGlzLl9waHlzaWNzUmlnLm91dHB1dHMuYXQoXHJcbiAgICAgICAgICAgIG91dHB1dEluZGV4ICsgalxyXG4gICAgICAgICAgKS5kZXN0aW5hdGlvbi5pZCA9IGpzb24uZ2V0T3V0cHV0RGVzdGluYXRpb25JZChpLCBqKTtcclxuXHJcbiAgICAgICAgICBpZiAoanNvbi5nZXRPdXRwdXRUeXBlKGksIGopID09IFBoeXNpY3NUeXBlVGFnWCkge1xyXG4gICAgICAgICAgICB0aGlzLl9waHlzaWNzUmlnLm91dHB1dHMuYXQob3V0cHV0SW5kZXggKyBqKS50eXBlID1cclxuICAgICAgICAgICAgICBDdWJpc21QaHlzaWNzU291cmNlLkN1YmlzbVBoeXNpY3NTb3VyY2VfWDtcclxuICAgICAgICAgICAgdGhpcy5fcGh5c2ljc1JpZy5vdXRwdXRzLmF0KFxyXG4gICAgICAgICAgICAgIG91dHB1dEluZGV4ICsgalxyXG4gICAgICAgICAgICApLmdldFZhbHVlID0gZ2V0T3V0cHV0VHJhbnNsYXRpb25YO1xyXG4gICAgICAgICAgICB0aGlzLl9waHlzaWNzUmlnLm91dHB1dHMuYXQoXHJcbiAgICAgICAgICAgICAgb3V0cHV0SW5kZXggKyBqXHJcbiAgICAgICAgICAgICkuZ2V0U2NhbGUgPSBnZXRPdXRwdXRTY2FsZVRyYW5zbGF0aW9uWDtcclxuICAgICAgICAgIH0gZWxzZSBpZiAoanNvbi5nZXRPdXRwdXRUeXBlKGksIGopID09IFBoeXNpY3NUeXBlVGFnWSkge1xyXG4gICAgICAgICAgICB0aGlzLl9waHlzaWNzUmlnLm91dHB1dHMuYXQob3V0cHV0SW5kZXggKyBqKS50eXBlID1cclxuICAgICAgICAgICAgICBDdWJpc21QaHlzaWNzU291cmNlLkN1YmlzbVBoeXNpY3NTb3VyY2VfWTtcclxuICAgICAgICAgICAgdGhpcy5fcGh5c2ljc1JpZy5vdXRwdXRzLmF0KFxyXG4gICAgICAgICAgICAgIG91dHB1dEluZGV4ICsgalxyXG4gICAgICAgICAgICApLmdldFZhbHVlID0gZ2V0T3V0cHV0VHJhbnNsYXRpb25ZO1xyXG4gICAgICAgICAgICB0aGlzLl9waHlzaWNzUmlnLm91dHB1dHMuYXQoXHJcbiAgICAgICAgICAgICAgb3V0cHV0SW5kZXggKyBqXHJcbiAgICAgICAgICAgICkuZ2V0U2NhbGUgPSBnZXRPdXRwdXRTY2FsZVRyYW5zbGF0aW9uWTtcclxuICAgICAgICAgIH0gZWxzZSBpZiAoanNvbi5nZXRPdXRwdXRUeXBlKGksIGopID09IFBoeXNpY3NUeXBlVGFnQW5nbGUpIHtcclxuICAgICAgICAgICAgdGhpcy5fcGh5c2ljc1JpZy5vdXRwdXRzLmF0KG91dHB1dEluZGV4ICsgaikudHlwZSA9XHJcbiAgICAgICAgICAgICAgQ3ViaXNtUGh5c2ljc1NvdXJjZS5DdWJpc21QaHlzaWNzU291cmNlX0FuZ2xlO1xyXG4gICAgICAgICAgICB0aGlzLl9waHlzaWNzUmlnLm91dHB1dHMuYXQoXHJcbiAgICAgICAgICAgICAgb3V0cHV0SW5kZXggKyBqXHJcbiAgICAgICAgICAgICkuZ2V0VmFsdWUgPSBnZXRPdXRwdXRBbmdsZTtcclxuICAgICAgICAgICAgdGhpcy5fcGh5c2ljc1JpZy5vdXRwdXRzLmF0KFxyXG4gICAgICAgICAgICAgIG91dHB1dEluZGV4ICsgalxyXG4gICAgICAgICAgICApLmdldFNjYWxlID0gZ2V0T3V0cHV0U2NhbGVBbmdsZTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICB0aGlzLl9waHlzaWNzUmlnLm91dHB1dHMuYXQoXHJcbiAgICAgICAgICAgIG91dHB1dEluZGV4ICsgalxyXG4gICAgICAgICAgKS5yZWZsZWN0ID0ganNvbi5nZXRPdXRwdXRSZWZsZWN0KGksIGopO1xyXG4gICAgICAgIH1cclxuICAgICAgICBvdXRwdXRJbmRleCArPSB0aGlzLl9waHlzaWNzUmlnLnNldHRpbmdzLmF0KGkpLm91dHB1dENvdW50O1xyXG5cclxuICAgICAgICAvLyBQYXJ0aWNsZVxyXG4gICAgICAgIHRoaXMuX3BoeXNpY3NSaWcuc2V0dGluZ3MuYXQoaSkucGFydGljbGVDb3VudCA9IGpzb24uZ2V0UGFydGljbGVDb3VudChcclxuICAgICAgICAgIGlcclxuICAgICAgICApO1xyXG4gICAgICAgIHRoaXMuX3BoeXNpY3NSaWcuc2V0dGluZ3MuYXQoaSkuYmFzZVBhcnRpY2xlSW5kZXggPSBwYXJ0aWNsZUluZGV4O1xyXG5cclxuICAgICAgICBmb3IgKFxyXG4gICAgICAgICAgbGV0IGogPSAwO1xyXG4gICAgICAgICAgaiA8IHRoaXMuX3BoeXNpY3NSaWcuc2V0dGluZ3MuYXQoaSkucGFydGljbGVDb3VudDtcclxuICAgICAgICAgICsralxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgdGhpcy5fcGh5c2ljc1JpZy5wYXJ0aWNsZXMuYXQoXHJcbiAgICAgICAgICAgIHBhcnRpY2xlSW5kZXggKyBqXHJcbiAgICAgICAgICApLm1vYmlsaXR5ID0ganNvbi5nZXRQYXJ0aWNsZU1vYmlsaXR5KGksIGopO1xyXG4gICAgICAgICAgdGhpcy5fcGh5c2ljc1JpZy5wYXJ0aWNsZXMuYXQoXHJcbiAgICAgICAgICAgIHBhcnRpY2xlSW5kZXggKyBqXHJcbiAgICAgICAgICApLmRlbGF5ID0ganNvbi5nZXRQYXJ0aWNsZURlbGF5KGksIGopO1xyXG4gICAgICAgICAgdGhpcy5fcGh5c2ljc1JpZy5wYXJ0aWNsZXMuYXQoXHJcbiAgICAgICAgICAgIHBhcnRpY2xlSW5kZXggKyBqXHJcbiAgICAgICAgICApLmFjY2VsZXJhdGlvbiA9IGpzb24uZ2V0UGFydGljbGVBY2NlbGVyYXRpb24oaSwgaik7XHJcbiAgICAgICAgICB0aGlzLl9waHlzaWNzUmlnLnBhcnRpY2xlcy5hdChcclxuICAgICAgICAgICAgcGFydGljbGVJbmRleCArIGpcclxuICAgICAgICAgICkucmFkaXVzID0ganNvbi5nZXRQYXJ0aWNsZVJhZGl1cyhpLCBqKTtcclxuICAgICAgICAgIHRoaXMuX3BoeXNpY3NSaWcucGFydGljbGVzLmF0KFxyXG4gICAgICAgICAgICBwYXJ0aWNsZUluZGV4ICsgalxyXG4gICAgICAgICAgKS5wb3NpdGlvbiA9IGpzb24uZ2V0UGFydGljbGVQb3NpdGlvbihpLCBqKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHBhcnRpY2xlSW5kZXggKz0gdGhpcy5fcGh5c2ljc1JpZy5zZXR0aW5ncy5hdChpKS5wYXJ0aWNsZUNvdW50O1xyXG4gICAgICB9XHJcblxyXG4gICAgICB0aGlzLmluaXRpYWxpemUoKTtcclxuXHJcbiAgICAgIGpzb24ucmVsZWFzZSgpO1xyXG4gICAgICBqc29uID0gdm9pZCAwO1xyXG4gICAgICBqc29uID0gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOWIneacn+WMluOBmeOCi1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgaW5pdGlhbGl6ZSgpOiB2b2lkIHtcclxuICAgICAgbGV0IHN0cmFuZDogQ3ViaXNtUGh5c2ljc1BhcnRpY2xlW107XHJcbiAgICAgIGxldCBjdXJyZW50U2V0dGluZzogQ3ViaXNtUGh5c2ljc1N1YlJpZztcclxuICAgICAgbGV0IHJhZGl1czogQ3ViaXNtVmVjdG9yMjtcclxuXHJcbiAgICAgIGZvciAoXHJcbiAgICAgICAgbGV0IHNldHRpbmdJbmRleCA9IDA7XHJcbiAgICAgICAgc2V0dGluZ0luZGV4IDwgdGhpcy5fcGh5c2ljc1JpZy5zdWJSaWdDb3VudDtcclxuICAgICAgICArK3NldHRpbmdJbmRleFxyXG4gICAgICApIHtcclxuICAgICAgICBjdXJyZW50U2V0dGluZyA9IHRoaXMuX3BoeXNpY3NSaWcuc2V0dGluZ3MuYXQoc2V0dGluZ0luZGV4KTtcclxuICAgICAgICBzdHJhbmQgPSB0aGlzLl9waHlzaWNzUmlnLnBhcnRpY2xlcy5nZXQoXHJcbiAgICAgICAgICBjdXJyZW50U2V0dGluZy5iYXNlUGFydGljbGVJbmRleFxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIC8vIEluaXRpYWxpemUgdGhlIHRvcCBvZiBwYXJ0aWNsZS5cclxuICAgICAgICBzdHJhbmRbMF0uaW5pdGlhbFBvc2l0aW9uID0gbmV3IEN1YmlzbVZlY3RvcjIoMC4wLCAwLjApO1xyXG4gICAgICAgIHN0cmFuZFswXS5sYXN0UG9zaXRpb24gPSBuZXcgQ3ViaXNtVmVjdG9yMihcclxuICAgICAgICAgIHN0cmFuZFswXS5pbml0aWFsUG9zaXRpb24ueCxcclxuICAgICAgICAgIHN0cmFuZFswXS5pbml0aWFsUG9zaXRpb24ueVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgc3RyYW5kWzBdLmxhc3RHcmF2aXR5ID0gbmV3IEN1YmlzbVZlY3RvcjIoMC4wLCAtMS4wKTtcclxuICAgICAgICBzdHJhbmRbMF0ubGFzdEdyYXZpdHkueSAqPSAtMS4wO1xyXG4gICAgICAgIHN0cmFuZFswXS52ZWxvY2l0eSA9IG5ldyBDdWJpc21WZWN0b3IyKDAuMCwgMC4wKTtcclxuICAgICAgICBzdHJhbmRbMF0uZm9yY2UgPSBuZXcgQ3ViaXNtVmVjdG9yMigwLjAsIDAuMCk7XHJcblxyXG4gICAgICAgIC8vIEluaXRpYWxpemUgcGFyaXRjbGVzLlxyXG4gICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgY3VycmVudFNldHRpbmcucGFydGljbGVDb3VudDsgKytpKSB7XHJcbiAgICAgICAgICByYWRpdXMgPSBuZXcgQ3ViaXNtVmVjdG9yMigwLjAsIDAuMCk7XHJcbiAgICAgICAgICByYWRpdXMueSA9IHN0cmFuZFtpXS5yYWRpdXM7XHJcbiAgICAgICAgICBzdHJhbmRbaV0uaW5pdGlhbFBvc2l0aW9uID0gbmV3IEN1YmlzbVZlY3RvcjIoXHJcbiAgICAgICAgICAgIHN0cmFuZFtpIC0gMV0uaW5pdGlhbFBvc2l0aW9uLnggKyByYWRpdXMueCxcclxuICAgICAgICAgICAgc3RyYW5kW2kgLSAxXS5pbml0aWFsUG9zaXRpb24ueSArIHJhZGl1cy55XHJcbiAgICAgICAgICApO1xyXG4gICAgICAgICAgc3RyYW5kW2ldLnBvc2l0aW9uID0gbmV3IEN1YmlzbVZlY3RvcjIoXHJcbiAgICAgICAgICAgIHN0cmFuZFtpXS5pbml0aWFsUG9zaXRpb24ueCxcclxuICAgICAgICAgICAgc3RyYW5kW2ldLmluaXRpYWxQb3NpdGlvbi55XHJcbiAgICAgICAgICApO1xyXG4gICAgICAgICAgc3RyYW5kW2ldLmxhc3RQb3NpdGlvbiA9IG5ldyBDdWJpc21WZWN0b3IyKFxyXG4gICAgICAgICAgICBzdHJhbmRbaV0uaW5pdGlhbFBvc2l0aW9uLngsXHJcbiAgICAgICAgICAgIHN0cmFuZFtpXS5pbml0aWFsUG9zaXRpb24ueVxyXG4gICAgICAgICAgKTtcclxuICAgICAgICAgIHN0cmFuZFtpXS5sYXN0R3Jhdml0eSA9IG5ldyBDdWJpc21WZWN0b3IyKDAuMCwgLTEuMCk7XHJcbiAgICAgICAgICBzdHJhbmRbaV0ubGFzdEdyYXZpdHkueSAqPSAtMS4wO1xyXG4gICAgICAgICAgc3RyYW5kW2ldLnZlbG9jaXR5ID0gbmV3IEN1YmlzbVZlY3RvcjIoMC4wLCAwLjApO1xyXG4gICAgICAgICAgc3RyYW5kW2ldLmZvcmNlID0gbmV3IEN1YmlzbVZlY3RvcjIoMC4wLCAwLjApO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIF9waHlzaWNzUmlnOiBDdWJpc21QaHlzaWNzUmlnOyAvLyDniannkIbmvJTnrpfjga7jg4fjg7zjgr9cclxuICAgIF9vcHRpb25zOiBPcHRpb25zOyAvLyDjgqrjg5fjgrfjg6fjg7NcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOeJqeeQhua8lOeul+OBruOCquODl+OCt+ODp+ODs1xyXG4gICAqL1xyXG4gIGV4cG9ydCBjbGFzcyBPcHRpb25zIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICB0aGlzLmdyYXZpdHkgPSBuZXcgQ3ViaXNtVmVjdG9yMigwLCAwKTtcclxuICAgICAgdGhpcy53aW5kID0gbmV3IEN1YmlzbVZlY3RvcjIoMCwgMCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ3Jhdml0eTogQ3ViaXNtVmVjdG9yMjsgLy8g6YeN5Yqb5pa55ZCRXHJcbiAgICB3aW5kOiBDdWJpc21WZWN0b3IyOyAvLyDpoqjjga7mlrnlkJFcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldHMgc2lnbi5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB2YWx1ZSBFdmFsdWF0aW9uIHRhcmdldCB2YWx1ZS5cclxuICAgKlxyXG4gICAqIEByZXR1cm4gU2lnbiBvZiB2YWx1ZS5cclxuICAgKi9cclxuICBmdW5jdGlvbiBzaWduKHZhbHVlOiBudW1iZXIpOiBudW1iZXIge1xyXG4gICAgbGV0IHJldCA9IDA7XHJcblxyXG4gICAgaWYgKHZhbHVlID4gMC4wKSB7XHJcbiAgICAgIHJldCA9IDE7XHJcbiAgICB9IGVsc2UgaWYgKHZhbHVlIDwgMC4wKSB7XHJcbiAgICAgIHJldCA9IC0xO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiByZXQ7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBnZXRJbnB1dFRyYW5zbGF0aW9uWEZyb21Ob3JtYWxpemVkUGFyYW1ldGVyVmFsdWUoXHJcbiAgICB0YXJnZXRUcmFuc2xhdGlvbjogQ3ViaXNtVmVjdG9yMixcclxuICAgIHRhcmdldEFuZ2xlOiB7IGFuZ2xlOiBudW1iZXIgfSxcclxuICAgIHZhbHVlOiBudW1iZXIsXHJcbiAgICBwYXJhbWV0ZXJNaW5pbXVtVmFsdWU6IG51bWJlcixcclxuICAgIHBhcmFtZXRlck1heGltdW1WYWx1ZTogbnVtYmVyLFxyXG4gICAgcGFyYW1ldGVyRGVmYXVsdFZhbHVlOiBudW1iZXIsXHJcbiAgICBub3JtYWxpemF0aW9uUG9zaXRpb246IEN1YmlzbVBoeXNpY3NOb3JtYWxpemF0aW9uLFxyXG4gICAgbm9ybWFsaXphdGlvbkFuZ2xlOiBDdWJpc21QaHlzaWNzTm9ybWFsaXphdGlvbixcclxuICAgIGlzSW52ZXJ0ZWQ6IGJvb2xlYW4sXHJcbiAgICB3ZWlnaHQ6IG51bWJlclxyXG4gICk6IHZvaWQge1xyXG4gICAgdGFyZ2V0VHJhbnNsYXRpb24ueCArPVxyXG4gICAgICBub3JtYWxpemVQYXJhbWV0ZXJWYWx1ZShcclxuICAgICAgICB2YWx1ZSxcclxuICAgICAgICBwYXJhbWV0ZXJNaW5pbXVtVmFsdWUsXHJcbiAgICAgICAgcGFyYW1ldGVyTWF4aW11bVZhbHVlLFxyXG4gICAgICAgIHBhcmFtZXRlckRlZmF1bHRWYWx1ZSxcclxuICAgICAgICBub3JtYWxpemF0aW9uUG9zaXRpb24ubWluaW11bSxcclxuICAgICAgICBub3JtYWxpemF0aW9uUG9zaXRpb24ubWF4aW11bSxcclxuICAgICAgICBub3JtYWxpemF0aW9uUG9zaXRpb24uZGVmYWx1dCxcclxuICAgICAgICBpc0ludmVydGVkXHJcbiAgICAgICkgKiB3ZWlnaHQ7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBnZXRJbnB1dFRyYW5zbGF0aW9uWUZyb21Ob3JtYWxpemVkUGFyYW10ZXJWYWx1ZShcclxuICAgIHRhcmdldFRyYW5zbGF0aW9uOiBDdWJpc21WZWN0b3IyLFxyXG4gICAgdGFyZ2V0QW5nbGU6IHsgYW5nbGU6IG51bWJlciB9LFxyXG4gICAgdmFsdWU6IG51bWJlcixcclxuICAgIHBhcmFtZXRlck1pbmltdW1WYWx1ZTogbnVtYmVyLFxyXG4gICAgcGFyYW1ldGVyTWF4aW11bVZhbHVlOiBudW1iZXIsXHJcbiAgICBwYXJhbWV0ZXJEZWZhdWx0VmFsdWU6IG51bWJlcixcclxuICAgIG5vcm1hbGl6YXRpb25Qb3NpdGlvbjogQ3ViaXNtUGh5c2ljc05vcm1hbGl6YXRpb24sXHJcbiAgICBub3JtYWxpemF0aW9uQW5nbGU6IEN1YmlzbVBoeXNpY3NOb3JtYWxpemF0aW9uLFxyXG4gICAgaXNJbnZlcnRlZDogYm9vbGVhbixcclxuICAgIHdlaWdodDogbnVtYmVyXHJcbiAgKTogdm9pZCB7XHJcbiAgICB0YXJnZXRUcmFuc2xhdGlvbi55ICs9XHJcbiAgICAgIG5vcm1hbGl6ZVBhcmFtZXRlclZhbHVlKFxyXG4gICAgICAgIHZhbHVlLFxyXG4gICAgICAgIHBhcmFtZXRlck1pbmltdW1WYWx1ZSxcclxuICAgICAgICBwYXJhbWV0ZXJNYXhpbXVtVmFsdWUsXHJcbiAgICAgICAgcGFyYW1ldGVyRGVmYXVsdFZhbHVlLFxyXG4gICAgICAgIG5vcm1hbGl6YXRpb25Qb3NpdGlvbi5taW5pbXVtLFxyXG4gICAgICAgIG5vcm1hbGl6YXRpb25Qb3NpdGlvbi5tYXhpbXVtLFxyXG4gICAgICAgIG5vcm1hbGl6YXRpb25Qb3NpdGlvbi5kZWZhbHV0LFxyXG4gICAgICAgIGlzSW52ZXJ0ZWRcclxuICAgICAgKSAqIHdlaWdodDtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGdldElucHV0QW5nbGVGcm9tTm9ybWFsaXplZFBhcmFtZXRlclZhbHVlKFxyXG4gICAgdGFyZ2V0VHJhbnNsYXRpb246IEN1YmlzbVZlY3RvcjIsXHJcbiAgICB0YXJnZXRBbmdsZTogeyBhbmdsZTogbnVtYmVyIH0sXHJcbiAgICB2YWx1ZTogbnVtYmVyLFxyXG4gICAgcGFyYW1ldGVyTWluaW11bVZhbHVlOiBudW1iZXIsXHJcbiAgICBwYXJhbWV0ZXJNYXhpbXVtVmFsdWU6IG51bWJlcixcclxuICAgIHBhcmFtZXRlckRlZmF1bHRWYWx1ZTogbnVtYmVyLFxyXG4gICAgbm9ybWFsaXphaXRpb25Qb3NpdGlvbjogQ3ViaXNtUGh5c2ljc05vcm1hbGl6YXRpb24sXHJcbiAgICBub3JtYWxpemF0aW9uQW5nbGU6IEN1YmlzbVBoeXNpY3NOb3JtYWxpemF0aW9uLFxyXG4gICAgaXNJbnZlcnRlZDogYm9vbGVhbixcclxuICAgIHdlaWdodDogbnVtYmVyXHJcbiAgKTogdm9pZCB7XHJcbiAgICB0YXJnZXRBbmdsZS5hbmdsZSArPVxyXG4gICAgICBub3JtYWxpemVQYXJhbWV0ZXJWYWx1ZShcclxuICAgICAgICB2YWx1ZSxcclxuICAgICAgICBwYXJhbWV0ZXJNaW5pbXVtVmFsdWUsXHJcbiAgICAgICAgcGFyYW1ldGVyTWF4aW11bVZhbHVlLFxyXG4gICAgICAgIHBhcmFtZXRlckRlZmF1bHRWYWx1ZSxcclxuICAgICAgICBub3JtYWxpemF0aW9uQW5nbGUubWluaW11bSxcclxuICAgICAgICBub3JtYWxpemF0aW9uQW5nbGUubWF4aW11bSxcclxuICAgICAgICBub3JtYWxpemF0aW9uQW5nbGUuZGVmYWx1dCxcclxuICAgICAgICBpc0ludmVydGVkXHJcbiAgICAgICkgKiB3ZWlnaHQ7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBnZXRPdXRwdXRUcmFuc2xhdGlvblgoXHJcbiAgICB0cmFuc2xhdGlvbjogQ3ViaXNtVmVjdG9yMixcclxuICAgIHBhcnRpY2xlczogQ3ViaXNtUGh5c2ljc1BhcnRpY2xlW10sXHJcbiAgICBwYXJ0aWNsZUluZGV4OiBudW1iZXIsXHJcbiAgICBpc0ludmVydGVkOiBib29sZWFuLFxyXG4gICAgcGFyZW50R3Jhdml0eTogQ3ViaXNtVmVjdG9yMlxyXG4gICk6IG51bWJlciB7XHJcbiAgICBsZXQgb3V0cHV0VmFsdWU6IG51bWJlciA9IHRyYW5zbGF0aW9uLng7XHJcblxyXG4gICAgaWYgKGlzSW52ZXJ0ZWQpIHtcclxuICAgICAgb3V0cHV0VmFsdWUgKj0gLTEuMDtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gb3V0cHV0VmFsdWU7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBnZXRPdXRwdXRUcmFuc2xhdGlvblkoXHJcbiAgICB0cmFuc2xhdGlvbjogQ3ViaXNtVmVjdG9yMixcclxuICAgIHBhcnRpY2xlczogQ3ViaXNtUGh5c2ljc1BhcnRpY2xlW10sXHJcbiAgICBwYXJ0aWNsZUluZGV4OiBudW1iZXIsXHJcbiAgICBpc0ludmVydGVkOiBib29sZWFuLFxyXG4gICAgcGFyZW50R3Jhdml0eTogQ3ViaXNtVmVjdG9yMlxyXG4gICk6IG51bWJlciB7XHJcbiAgICBsZXQgb3V0cHV0VmFsdWU6IG51bWJlciA9IHRyYW5zbGF0aW9uLnk7XHJcblxyXG4gICAgaWYgKGlzSW52ZXJ0ZWQpIHtcclxuICAgICAgb3V0cHV0VmFsdWUgKj0gLTEuMDtcclxuICAgIH1cclxuICAgIHJldHVybiBvdXRwdXRWYWx1ZTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGdldE91dHB1dEFuZ2xlKFxyXG4gICAgdHJhbnNsYXRpb246IEN1YmlzbVZlY3RvcjIsXHJcbiAgICBwYXJ0aWNsZXM6IEN1YmlzbVBoeXNpY3NQYXJ0aWNsZVtdLFxyXG4gICAgcGFydGljbGVJbmRleDogbnVtYmVyLFxyXG4gICAgaXNJbnZlcnRlZDogYm9vbGVhbixcclxuICAgIHBhcmVudEdyYXZpdHk6IEN1YmlzbVZlY3RvcjJcclxuICApOiBudW1iZXIge1xyXG4gICAgbGV0IG91dHB1dFZhbHVlOiBudW1iZXI7XHJcblxyXG4gICAgaWYgKHBhcnRpY2xlSW5kZXggPj0gMikge1xyXG4gICAgICBwYXJlbnRHcmF2aXR5ID0gcGFydGljbGVzW3BhcnRpY2xlSW5kZXggLSAxXS5wb3NpdGlvbi5zdWJzdHJhY3QoXHJcbiAgICAgICAgcGFydGljbGVzW3BhcnRpY2xlSW5kZXggLSAyXS5wb3NpdGlvblxyXG4gICAgICApO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcGFyZW50R3Jhdml0eSA9IHBhcmVudEdyYXZpdHkubXVsdGlwbHlCeVNjYWxlcigtMS4wKTtcclxuICAgIH1cclxuXHJcbiAgICBvdXRwdXRWYWx1ZSA9IEN1YmlzbU1hdGguZGlyZWN0aW9uVG9SYWRpYW4ocGFyZW50R3Jhdml0eSwgdHJhbnNsYXRpb24pO1xyXG5cclxuICAgIGlmIChpc0ludmVydGVkKSB7XHJcbiAgICAgIG91dHB1dFZhbHVlICo9IC0xLjA7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIG91dHB1dFZhbHVlO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gZ2V0UmFuZ2VWYWx1ZShtaW46IG51bWJlciwgbWF4OiBudW1iZXIpOiBudW1iZXIge1xyXG4gICAgY29uc3QgbWF4VmFsdWU6IG51bWJlciA9IEN1YmlzbU1hdGgubWF4KG1pbiwgbWF4KTtcclxuICAgIGNvbnN0IG1pblZhbHVlOiBudW1iZXIgPSBDdWJpc21NYXRoLm1pbihtaW4sIG1heCk7XHJcblxyXG4gICAgcmV0dXJuIEN1YmlzbU1hdGguYWJzKG1heFZhbHVlIC0gbWluVmFsdWUpO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gZ2V0RGVmYXVsdFZhbHVlKG1pbjogbnVtYmVyLCBtYXg6IG51bWJlcik6IG51bWJlciB7XHJcbiAgICBjb25zdCBtaW5WYWx1ZTogbnVtYmVyID0gQ3ViaXNtTWF0aC5taW4obWluLCBtYXgpO1xyXG4gICAgcmV0dXJuIG1pblZhbHVlICsgZ2V0UmFuZ2VWYWx1ZShtaW4sIG1heCkgLyAyLjA7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBnZXRPdXRwdXRTY2FsZVRyYW5zbGF0aW9uWChcclxuICAgIHRyYW5zbGF0aW9uU2NhbGU6IEN1YmlzbVZlY3RvcjIsXHJcbiAgICBhbmdsZVNjYWxlOiBudW1iZXJcclxuICApOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodHJhbnNsYXRpb25TY2FsZS54KSk7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBnZXRPdXRwdXRTY2FsZVRyYW5zbGF0aW9uWShcclxuICAgIHRyYW5zbGF0aW9uU2NhbGU6IEN1YmlzbVZlY3RvcjIsXHJcbiAgICBhbmdsZVNjYWxlOiBudW1iZXJcclxuICApOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodHJhbnNsYXRpb25TY2FsZS55KSk7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBnZXRPdXRwdXRTY2FsZUFuZ2xlKFxyXG4gICAgdHJhbnNsYXRpb25TY2FsZTogQ3ViaXNtVmVjdG9yMixcclxuICAgIGFuZ2xlU2NhbGU6IG51bWJlclxyXG4gICk6IG51bWJlciB7XHJcbiAgICByZXR1cm4gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShhbmdsZVNjYWxlKSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBVcGRhdGVzIHBhcnRpY2xlcy5cclxuICAgKlxyXG4gICAqIEBwYXJhbSBzdHJhbmQgICAgICAgICAgICAgICAgVGFyZ2V0IGFycmF5IG9mIHBhcnRpY2xlLlxyXG4gICAqIEBwYXJhbSBzdHJhbmRDb3VudCAgICAgICAgICAgQ291bnQgb2YgcGFydGljbGUuXHJcbiAgICogQHBhcmFtIHRvdGFsVHJhbnNsYXRpb24gICAgICBUb3RhbCB0cmFuc2xhdGlvbiB2YWx1ZS5cclxuICAgKiBAcGFyYW0gdG90YWxBbmdsZSAgICAgICAgICAgIFRvdGFsIGFuZ2xlLlxyXG4gICAqIEBwYXJhbSB3aW5kRGlyZWN0aW9uICAgICAgICAgRGlyZWN0aW9uIG9mIFdpbmQuXHJcbiAgICogQHBhcmFtIHRocmVzaG9sZFZhbHVlICAgICAgICBUaHJlc2hvbGQgb2YgbW92ZW1lbnQuXHJcbiAgICogQHBhcmFtIGRlbHRhVGltZVNlY29uZHMgICAgICBEZWx0YSB0aW1lLlxyXG4gICAqIEBwYXJhbSBhaXJSZXNpc3RhbmNlICAgICAgICAgQWlyIHJlc2lzdGFuY2UuXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gdXBkYXRlUGFydGljbGVzKFxyXG4gICAgc3RyYW5kOiBDdWJpc21QaHlzaWNzUGFydGljbGVbXSxcclxuICAgIHN0cmFuZENvdW50OiBudW1iZXIsXHJcbiAgICB0b3RhbFRyYW5zbGF0aW9uOiBDdWJpc21WZWN0b3IyLFxyXG4gICAgdG90YWxBbmdsZTogbnVtYmVyLFxyXG4gICAgd2luZERpcmVjdGlvbjogQ3ViaXNtVmVjdG9yMixcclxuICAgIHRocmVzaG9sZFZhbHVlOiBudW1iZXIsXHJcbiAgICBkZWx0YVRpbWVTZWNvbmRzOiBudW1iZXIsXHJcbiAgICBhaXJSZXNpc3RhbmNlOiBudW1iZXJcclxuICApIHtcclxuICAgIGxldCB0b3RhbFJhZGlhbjogbnVtYmVyO1xyXG4gICAgbGV0IGRlbGF5OiBudW1iZXI7XHJcbiAgICBsZXQgcmFkaWFuOiBudW1iZXI7XHJcbiAgICBsZXQgY3VycmVudEdyYXZpdHk6IEN1YmlzbVZlY3RvcjI7XHJcbiAgICBsZXQgZGlyZWN0aW9uOiBDdWJpc21WZWN0b3IyID0gbmV3IEN1YmlzbVZlY3RvcjIoMC4wLCAwLjApO1xyXG4gICAgbGV0IHZlbG9jaXR5OiBDdWJpc21WZWN0b3IyID0gbmV3IEN1YmlzbVZlY3RvcjIoMC4wLCAwLjApO1xyXG4gICAgbGV0IGZvcmNlOiBDdWJpc21WZWN0b3IyID0gbmV3IEN1YmlzbVZlY3RvcjIoMC4wLCAwLjApO1xyXG4gICAgbGV0IG5ld0RpcmVjdGlvbjogQ3ViaXNtVmVjdG9yMiA9IG5ldyBDdWJpc21WZWN0b3IyKDAuMCwgMC4wKTtcclxuXHJcbiAgICBzdHJhbmRbMF0ucG9zaXRpb24gPSBuZXcgQ3ViaXNtVmVjdG9yMihcclxuICAgICAgdG90YWxUcmFuc2xhdGlvbi54LFxyXG4gICAgICB0b3RhbFRyYW5zbGF0aW9uLnlcclxuICAgICk7XHJcblxyXG4gICAgdG90YWxSYWRpYW4gPSBDdWJpc21NYXRoLmRlZ3JlZXNUb1JhZGlhbih0b3RhbEFuZ2xlKTtcclxuICAgIGN1cnJlbnRHcmF2aXR5ID0gQ3ViaXNtTWF0aC5yYWRpYW5Ub0RpcmVjdGlvbih0b3RhbFJhZGlhbik7XHJcbiAgICBjdXJyZW50R3Jhdml0eS5ub3JtYWxpemUoKTtcclxuXHJcbiAgICBmb3IgKGxldCBpID0gMTsgaSA8IHN0cmFuZENvdW50OyArK2kpIHtcclxuICAgICAgc3RyYW5kW2ldLmZvcmNlID0gY3VycmVudEdyYXZpdHlcclxuICAgICAgICAubXVsdGlwbHlCeVNjYWxlcihzdHJhbmRbaV0uYWNjZWxlcmF0aW9uKVxyXG4gICAgICAgIC5hZGQod2luZERpcmVjdGlvbik7XHJcblxyXG4gICAgICBzdHJhbmRbaV0ubGFzdFBvc2l0aW9uID0gbmV3IEN1YmlzbVZlY3RvcjIoXHJcbiAgICAgICAgc3RyYW5kW2ldLnBvc2l0aW9uLngsXHJcbiAgICAgICAgc3RyYW5kW2ldLnBvc2l0aW9uLnlcclxuICAgICAgKTtcclxuXHJcbiAgICAgIGRlbGF5ID0gc3RyYW5kW2ldLmRlbGF5ICogZGVsdGFUaW1lU2Vjb25kcyAqIDMwLjA7XHJcblxyXG4gICAgICBkaXJlY3Rpb24gPSBzdHJhbmRbaV0ucG9zaXRpb24uc3Vic3RyYWN0KHN0cmFuZFtpIC0gMV0ucG9zaXRpb24pO1xyXG5cclxuICAgICAgcmFkaWFuID1cclxuICAgICAgICBDdWJpc21NYXRoLmRpcmVjdGlvblRvUmFkaWFuKHN0cmFuZFtpXS5sYXN0R3Jhdml0eSwgY3VycmVudEdyYXZpdHkpIC9cclxuICAgICAgICBhaXJSZXNpc3RhbmNlO1xyXG5cclxuICAgICAgZGlyZWN0aW9uLnggPVxyXG4gICAgICAgIEN1YmlzbU1hdGguY29zKHJhZGlhbikgKiBkaXJlY3Rpb24ueCAtXHJcbiAgICAgICAgZGlyZWN0aW9uLnkgKiBDdWJpc21NYXRoLnNpbihyYWRpYW4pO1xyXG4gICAgICBkaXJlY3Rpb24ueSA9XHJcbiAgICAgICAgQ3ViaXNtTWF0aC5zaW4ocmFkaWFuKSAqIGRpcmVjdGlvbi54ICtcclxuICAgICAgICBkaXJlY3Rpb24ueSAqIEN1YmlzbU1hdGguY29zKHJhZGlhbik7XHJcblxyXG4gICAgICBzdHJhbmRbaV0ucG9zaXRpb24gPSBzdHJhbmRbaSAtIDFdLnBvc2l0aW9uLmFkZChkaXJlY3Rpb24pO1xyXG5cclxuICAgICAgdmVsb2NpdHkgPSBzdHJhbmRbaV0udmVsb2NpdHkubXVsdGlwbHlCeVNjYWxlcihkZWxheSk7XHJcbiAgICAgIGZvcmNlID0gc3RyYW5kW2ldLmZvcmNlLm11bHRpcGx5QnlTY2FsZXIoZGVsYXkpLm11bHRpcGx5QnlTY2FsZXIoZGVsYXkpO1xyXG5cclxuICAgICAgc3RyYW5kW2ldLnBvc2l0aW9uID0gc3RyYW5kW2ldLnBvc2l0aW9uLmFkZCh2ZWxvY2l0eSkuYWRkKGZvcmNlKTtcclxuXHJcbiAgICAgIG5ld0RpcmVjdGlvbiA9IHN0cmFuZFtpXS5wb3NpdGlvbi5zdWJzdHJhY3Qoc3RyYW5kW2kgLSAxXS5wb3NpdGlvbik7XHJcbiAgICAgIG5ld0RpcmVjdGlvbi5ub3JtYWxpemUoKTtcclxuXHJcbiAgICAgIHN0cmFuZFtpXS5wb3NpdGlvbiA9IHN0cmFuZFtpIC0gMV0ucG9zaXRpb24uYWRkKFxyXG4gICAgICAgIG5ld0RpcmVjdGlvbi5tdWx0aXBseUJ5U2NhbGVyKHN0cmFuZFtpXS5yYWRpdXMpXHJcbiAgICAgICk7XHJcblxyXG4gICAgICBpZiAoQ3ViaXNtTWF0aC5hYnMoc3RyYW5kW2ldLnBvc2l0aW9uLngpIDwgdGhyZXNob2xkVmFsdWUpIHtcclxuICAgICAgICBzdHJhbmRbaV0ucG9zaXRpb24ueCA9IDAuMDtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKGRlbGF5ICE9IDAuMCkge1xyXG4gICAgICAgIHN0cmFuZFtpXS52ZWxvY2l0eSA9IHN0cmFuZFtpXS5wb3NpdGlvbi5zdWJzdHJhY3QoXHJcbiAgICAgICAgICBzdHJhbmRbaV0ubGFzdFBvc2l0aW9uXHJcbiAgICAgICAgKTtcclxuICAgICAgICBzdHJhbmRbaV0udmVsb2NpdHkgPSBzdHJhbmRbaV0udmVsb2NpdHkuZGl2aXNpb25CeVNjYWxhcihkZWxheSk7XHJcbiAgICAgICAgc3RyYW5kW2ldLnZlbG9jaXR5ID0gc3RyYW5kW2ldLnZlbG9jaXR5Lm11bHRpcGx5QnlTY2FsZXIoXHJcbiAgICAgICAgICBzdHJhbmRbaV0ubW9iaWxpdHlcclxuICAgICAgICApO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBzdHJhbmRbaV0uZm9yY2UgPSBuZXcgQ3ViaXNtVmVjdG9yMigwLjAsIDAuMCk7XHJcbiAgICAgIHN0cmFuZFtpXS5sYXN0R3Jhdml0eSA9IG5ldyBDdWJpc21WZWN0b3IyKFxyXG4gICAgICAgIGN1cnJlbnRHcmF2aXR5LngsXHJcbiAgICAgICAgY3VycmVudEdyYXZpdHkueVxyXG4gICAgICApO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogVXBkYXRlcyBvdXRwdXQgcGFyYW1ldGVyIHZhbHVlLlxyXG4gICAqIEBwYXJhbSBwYXJhbWV0ZXJWYWx1ZSAgICAgICAgICAgIFRhcmdldCBwYXJhbWV0ZXIgdmFsdWUuXHJcbiAgICogQHBhcmFtIHBhcmFtZXRlclZhbHVlTWluaW11bSAgICAgTWluaW11bSBvZiBwYXJhbWV0ZXIgdmFsdWUuXHJcbiAgICogQHBhcmFtIHBhcmFtZXRlclZhbHVlTWF4aW11bSAgICAgTWF4aW11bSBvZiBwYXJhbWV0ZXIgdmFsdWUuXHJcbiAgICogQHBhcmFtIHRyYW5zbGF0aW9uICAgICAgICAgICAgICAgVHJhbnNsYXRpb24gdmFsdWUuXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gdXBkYXRlT3V0cHV0UGFyYW1ldGVyVmFsdWUoXHJcbiAgICBwYXJhbWV0ZXJWYWx1ZTogRmxvYXQzMkFycmF5LFxyXG4gICAgcGFyYW1ldGVyVmFsdWVNaW5pbXVtOiBudW1iZXIsXHJcbiAgICBwYXJhbWV0ZXJWYWx1ZU1heGltdW06IG51bWJlcixcclxuICAgIHRyYW5zbGF0aW9uOiBudW1iZXIsXHJcbiAgICBvdXRwdXQ6IEN1YmlzbVBoeXNpY3NPdXRwdXRcclxuICApOiB2b2lkIHtcclxuICAgIGxldCBvdXRwdXRTY2FsZTogbnVtYmVyO1xyXG4gICAgbGV0IHZhbHVlOiBudW1iZXI7XHJcbiAgICBsZXQgd2VpZ2h0OiBudW1iZXI7XHJcblxyXG4gICAgb3V0cHV0U2NhbGUgPSBvdXRwdXQuZ2V0U2NhbGUob3V0cHV0LnRyYW5zbGF0aW9uU2NhbGUsIG91dHB1dC5hbmdsZVNjYWxlKTtcclxuXHJcbiAgICB2YWx1ZSA9IHRyYW5zbGF0aW9uICogb3V0cHV0U2NhbGU7XHJcblxyXG4gICAgaWYgKHZhbHVlIDwgcGFyYW1ldGVyVmFsdWVNaW5pbXVtKSB7XHJcbiAgICAgIGlmICh2YWx1ZSA8IG91dHB1dC52YWx1ZUJlbG93TWluaW11bSkge1xyXG4gICAgICAgIG91dHB1dC52YWx1ZUJlbG93TWluaW11bSA9IHZhbHVlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB2YWx1ZSA9IHBhcmFtZXRlclZhbHVlTWluaW11bTtcclxuICAgIH0gZWxzZSBpZiAodmFsdWUgPiBwYXJhbWV0ZXJWYWx1ZU1heGltdW0pIHtcclxuICAgICAgaWYgKHZhbHVlID4gb3V0cHV0LnZhbHVlRXhjZWVkZWRNYXhpbXVtKSB7XHJcbiAgICAgICAgb3V0cHV0LnZhbHVlRXhjZWVkZWRNYXhpbXVtID0gdmFsdWU7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHZhbHVlID0gcGFyYW1ldGVyVmFsdWVNYXhpbXVtO1xyXG4gICAgfVxyXG5cclxuICAgIHdlaWdodCA9IG91dHB1dC53ZWlnaHQgLyBNYXhpbXVtV2VpZ2h0O1xyXG5cclxuICAgIGlmICh3ZWlnaHQgPj0gMS4wKSB7XHJcbiAgICAgIHBhcmFtZXRlclZhbHVlWzBdID0gdmFsdWU7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB2YWx1ZSA9IHBhcmFtZXRlclZhbHVlWzBdICogKDEuMCAtIHdlaWdodCkgKyB2YWx1ZSAqIHdlaWdodDtcclxuICAgICAgcGFyYW1ldGVyVmFsdWVbMF0gPSB2YWx1ZTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIG5vcm1hbGl6ZVBhcmFtZXRlclZhbHVlKFxyXG4gICAgdmFsdWU6IG51bWJlcixcclxuICAgIHBhcmFtZXRlck1pbmltdW06IG51bWJlcixcclxuICAgIHBhcmFtZXRlck1heGltdW06IG51bWJlcixcclxuICAgIHBhcmFtZXRlckRlZmF1bHQ6IG51bWJlcixcclxuICAgIG5vcm1hbGl6ZWRNaW5pbXVtOiBudW1iZXIsXHJcbiAgICBub3JtYWxpemVkTWF4aW11bTogbnVtYmVyLFxyXG4gICAgbm9ybWFsaXplZERlZmF1bHQ6IG51bWJlcixcclxuICAgIGlzSW52ZXJ0ZWQ6IGJvb2xlYW5cclxuICApIHtcclxuICAgIGxldCByZXN1bHQgPSAwLjA7XHJcblxyXG4gICAgY29uc3QgbWF4VmFsdWU6IG51bWJlciA9IEN1YmlzbU1hdGgubWF4KHBhcmFtZXRlck1heGltdW0sIHBhcmFtZXRlck1pbmltdW0pO1xyXG5cclxuICAgIGlmIChtYXhWYWx1ZSA8IHZhbHVlKSB7XHJcbiAgICAgIHZhbHVlID0gbWF4VmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgbWluVmFsdWU6IG51bWJlciA9IEN1YmlzbU1hdGgubWluKHBhcmFtZXRlck1heGltdW0sIHBhcmFtZXRlck1pbmltdW0pO1xyXG5cclxuICAgIGlmIChtaW5WYWx1ZSA+IHZhbHVlKSB7XHJcbiAgICAgIHZhbHVlID0gbWluVmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgbWluTm9ybVZhbHVlOiBudW1iZXIgPSBDdWJpc21NYXRoLm1pbihcclxuICAgICAgbm9ybWFsaXplZE1pbmltdW0sXHJcbiAgICAgIG5vcm1hbGl6ZWRNYXhpbXVtXHJcbiAgICApO1xyXG4gICAgY29uc3QgbWF4Tm9ybVZhbHVlOiBudW1iZXIgPSBDdWJpc21NYXRoLm1heChcclxuICAgICAgbm9ybWFsaXplZE1pbmltdW0sXHJcbiAgICAgIG5vcm1hbGl6ZWRNYXhpbXVtXHJcbiAgICApO1xyXG4gICAgY29uc3QgbWlkZGxlTm9ybVZhbHVlOiBudW1iZXIgPSBub3JtYWxpemVkRGVmYXVsdDtcclxuXHJcbiAgICBjb25zdCBtaWRkbGVWYWx1ZTogbnVtYmVyID0gZ2V0RGVmYXVsdFZhbHVlKG1pblZhbHVlLCBtYXhWYWx1ZSk7XHJcbiAgICBjb25zdCBwYXJhbVZhbHVlOiBudW1iZXIgPSB2YWx1ZSAtIG1pZGRsZVZhbHVlO1xyXG5cclxuICAgIHN3aXRjaCAoc2lnbihwYXJhbVZhbHVlKSkge1xyXG4gICAgICBjYXNlIDE6IHtcclxuICAgICAgICBjb25zdCBuTGVuZ3RoOiBudW1iZXIgPSBtYXhOb3JtVmFsdWUgLSBtaWRkbGVOb3JtVmFsdWU7XHJcbiAgICAgICAgY29uc3QgcExlbmd0aDogbnVtYmVyID0gbWF4VmFsdWUgLSBtaWRkbGVWYWx1ZTtcclxuXHJcbiAgICAgICAgaWYgKHBMZW5ndGggIT0gMC4wKSB7XHJcbiAgICAgICAgICByZXN1bHQgPSBwYXJhbVZhbHVlICogKG5MZW5ndGggLyBwTGVuZ3RoKTtcclxuICAgICAgICAgIHJlc3VsdCArPSBtaWRkbGVOb3JtVmFsdWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG4gICAgICBjYXNlIC0xOiB7XHJcbiAgICAgICAgY29uc3Qgbkxlbmd0aDogbnVtYmVyID0gbWluTm9ybVZhbHVlIC0gbWlkZGxlTm9ybVZhbHVlO1xyXG4gICAgICAgIGNvbnN0IHBMZW5ndGg6IG51bWJlciA9IG1pblZhbHVlIC0gbWlkZGxlVmFsdWU7XHJcblxyXG4gICAgICAgIGlmIChwTGVuZ3RoICE9IDAuMCkge1xyXG4gICAgICAgICAgcmVzdWx0ID0gcGFyYW1WYWx1ZSAqIChuTGVuZ3RoIC8gcExlbmd0aCk7XHJcbiAgICAgICAgICByZXN1bHQgKz0gbWlkZGxlTm9ybVZhbHVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuICAgICAgY2FzZSAwOiB7XHJcbiAgICAgICAgcmVzdWx0ID0gbWlkZGxlTm9ybVZhbHVlO1xyXG5cclxuICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG4gICAgICBkZWZhdWx0OiB7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gaXNJbnZlcnRlZCA/IHJlc3VsdCA6IHJlc3VsdCAqIC0xLjA7XHJcbiAgfVxyXG59XHJcbiJdLCJtYXBwaW5ncyI6Ijs7O0FBT0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUdBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFHQTtBQUdBO0FBR0E7QUFLQTtBQTJNQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBN01BO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBR0E7QUFLQTtBQUNBO0FBRUE7QUFDQTtBQUdBO0FBRUE7QUFZQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFZQTtBQUNBO0FBRUE7QUFFQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBS0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBUUE7QUFFQTtBQUVBO0FBQ0E7QUFLQTtBQUVBO0FBU0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBbUJBO0FBQ0E7QUFDQTtBQUNBO0FBT0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFLQTtBQUtBO0FBS0E7QUFNQTtBQUlBO0FBQ0E7QUFLQTtBQUtBO0FBTUE7QUFLQTtBQUtBO0FBT0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUdBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBRUE7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBR0E7QUFHQTtBQUdBO0FBR0E7QUFDQTtBQUVBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUdBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUdBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUdBO0FBRUE7QUFHQTtBQUNBO0FBR0E7QUFHQTtBQUVBO0FBS0E7QUFHQTtBQUdBO0FBR0E7QUFHQTtBQUdBO0FBRUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBS0E7QUFDQTtBQUtBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFJQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFBQTtBQXZlQTtBQTRlQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFBQTtBQVJBO0FBaUJBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFZQTtBQUNBO0FBVUE7QUFFQTtBQVlBO0FBQ0E7QUFVQTtBQUVBO0FBWUE7QUFDQTtBQVVBO0FBRUE7QUFPQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQU9BO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBT0E7QUFFQTtBQUNBO0FBR0E7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUlBO0FBQ0E7QUFFQTtBQUlBO0FBQ0E7QUFFQTtBQUlBO0FBQ0E7QUFjQTtBQVVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUtBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFLQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFJQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBR0E7QUFDQTtBQUdBO0FBRUE7QUFDQTtBQUlBO0FBQ0E7QUFTQTtBQU9BO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQVVBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBSUE7QUFJQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./Framework/src/physics/cubismphysics.ts\n");

/***/ }),

/***/ "./Framework/src/physics/cubismphysicsinternal.ts":
/*!********************************************************!*\
  !*** ./Framework/src/physics/cubismphysicsinternal.ts ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Live2DCubismFramework = void 0;\r\nvar cubismvector2_1 = __webpack_require__(/*! ../math/cubismvector2 */ \"./Framework/src/math/cubismvector2.ts\");\r\nvar csmvector_1 = __webpack_require__(/*! ../type/csmvector */ \"./Framework/src/type/csmvector.ts\");\r\nvar csmVector = csmvector_1.Live2DCubismFramework.csmVector;\r\nvar CubismVector2 = cubismvector2_1.Live2DCubismFramework.CubismVector2;\r\nvar Live2DCubismFramework;\r\n(function (Live2DCubismFramework) {\r\n    var CubismPhysicsTargetType;\r\n    (function (CubismPhysicsTargetType) {\r\n        CubismPhysicsTargetType[CubismPhysicsTargetType[\"CubismPhysicsTargetType_Parameter\"] = 0] = \"CubismPhysicsTargetType_Parameter\";\r\n    })(CubismPhysicsTargetType = Live2DCubismFramework.CubismPhysicsTargetType || (Live2DCubismFramework.CubismPhysicsTargetType = {}));\r\n    var CubismPhysicsSource;\r\n    (function (CubismPhysicsSource) {\r\n        CubismPhysicsSource[CubismPhysicsSource[\"CubismPhysicsSource_X\"] = 0] = \"CubismPhysicsSource_X\";\r\n        CubismPhysicsSource[CubismPhysicsSource[\"CubismPhysicsSource_Y\"] = 1] = \"CubismPhysicsSource_Y\";\r\n        CubismPhysicsSource[CubismPhysicsSource[\"CubismPhysicsSource_Angle\"] = 2] = \"CubismPhysicsSource_Angle\";\r\n    })(CubismPhysicsSource = Live2DCubismFramework.CubismPhysicsSource || (Live2DCubismFramework.CubismPhysicsSource = {}));\r\n    var PhysicsJsonEffectiveForces = (function () {\r\n        function PhysicsJsonEffectiveForces() {\r\n            this.gravity = new CubismVector2(0, 0);\r\n            this.wind = new CubismVector2(0, 0);\r\n        }\r\n        return PhysicsJsonEffectiveForces;\r\n    }());\r\n    Live2DCubismFramework.PhysicsJsonEffectiveForces = PhysicsJsonEffectiveForces;\r\n    var CubismPhysicsParameter = (function () {\r\n        function CubismPhysicsParameter() {\r\n        }\r\n        return CubismPhysicsParameter;\r\n    }());\r\n    Live2DCubismFramework.CubismPhysicsParameter = CubismPhysicsParameter;\r\n    var CubismPhysicsNormalization = (function () {\r\n        function CubismPhysicsNormalization() {\r\n        }\r\n        return CubismPhysicsNormalization;\r\n    }());\r\n    Live2DCubismFramework.CubismPhysicsNormalization = CubismPhysicsNormalization;\r\n    var CubismPhysicsParticle = (function () {\r\n        function CubismPhysicsParticle() {\r\n            this.initialPosition = new CubismVector2(0, 0);\r\n            this.position = new CubismVector2(0, 0);\r\n            this.lastPosition = new CubismVector2(0, 0);\r\n            this.lastGravity = new CubismVector2(0, 0);\r\n            this.force = new CubismVector2(0, 0);\r\n            this.velocity = new CubismVector2(0, 0);\r\n        }\r\n        return CubismPhysicsParticle;\r\n    }());\r\n    Live2DCubismFramework.CubismPhysicsParticle = CubismPhysicsParticle;\r\n    var CubismPhysicsSubRig = (function () {\r\n        function CubismPhysicsSubRig() {\r\n            this.normalizationPosition = new CubismPhysicsNormalization();\r\n            this.normalizationAngle = new CubismPhysicsNormalization();\r\n        }\r\n        return CubismPhysicsSubRig;\r\n    }());\r\n    Live2DCubismFramework.CubismPhysicsSubRig = CubismPhysicsSubRig;\r\n    var CubismPhysicsInput = (function () {\r\n        function CubismPhysicsInput() {\r\n            this.source = new CubismPhysicsParameter();\r\n        }\r\n        return CubismPhysicsInput;\r\n    }());\r\n    Live2DCubismFramework.CubismPhysicsInput = CubismPhysicsInput;\r\n    var CubismPhysicsOutput = (function () {\r\n        function CubismPhysicsOutput() {\r\n            this.destination = new CubismPhysicsParameter();\r\n            this.translationScale = new CubismVector2(0, 0);\r\n        }\r\n        return CubismPhysicsOutput;\r\n    }());\r\n    Live2DCubismFramework.CubismPhysicsOutput = CubismPhysicsOutput;\r\n    var CubismPhysicsRig = (function () {\r\n        function CubismPhysicsRig() {\r\n            this.settings = new csmVector();\r\n            this.inputs = new csmVector();\r\n            this.outputs = new csmVector();\r\n            this.particles = new csmVector();\r\n            this.gravity = new CubismVector2(0, 0);\r\n            this.wind = new CubismVector2(0, 0);\r\n        }\r\n        return CubismPhysicsRig;\r\n    }());\r\n    Live2DCubismFramework.CubismPhysicsRig = CubismPhysicsRig;\r\n})(Live2DCubismFramework = exports.Live2DCubismFramework || (exports.Live2DCubismFramework = {}));\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9GcmFtZXdvcmsvc3JjL3BoeXNpY3MvY3ViaXNtcGh5c2ljc2ludGVybmFsLnRzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbGl2ZTJkLy4vRnJhbWV3b3JrL3NyYy9waHlzaWNzL2N1YmlzbXBoeXNpY3NpbnRlcm5hbC50cz84ZjM1Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBDb3B5cmlnaHQoYykgTGl2ZTJEIEluYy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuICpcclxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgdGhlIExpdmUyRCBPcGVuIFNvZnR3YXJlIGxpY2Vuc2VcclxuICogdGhhdCBjYW4gYmUgZm91bmQgYXQgaHR0cHM6Ly93d3cubGl2ZTJkLmNvbS9ldWxhL2xpdmUyZC1vcGVuLXNvZnR3YXJlLWxpY2Vuc2UtYWdyZWVtZW50X2VuLmh0bWwuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgTGl2ZTJEQ3ViaXNtRnJhbWV3b3JrIGFzIGN1YmlzbXZlY3RvcjIgfSBmcm9tICcuLi9tYXRoL2N1YmlzbXZlY3RvcjInO1xyXG5pbXBvcnQgeyBMaXZlMkRDdWJpc21GcmFtZXdvcmsgYXMgY3ViaXNtaWQgfSBmcm9tICcuLi9pZC9jdWJpc21pZCc7XHJcbmltcG9ydCB7IExpdmUyREN1YmlzbUZyYW1ld29yayBhcyBjc212ZWN0b3IgfSBmcm9tICcuLi90eXBlL2NzbXZlY3Rvcic7XHJcbmltcG9ydCBjc21WZWN0b3IgPSBjc212ZWN0b3IuY3NtVmVjdG9yO1xyXG5pbXBvcnQgQ3ViaXNtSWRIYW5kbGUgPSBjdWJpc21pZC5DdWJpc21JZEhhbmRsZTtcclxuaW1wb3J0IEN1YmlzbVZlY3RvcjIgPSBjdWJpc212ZWN0b3IyLkN1YmlzbVZlY3RvcjI7XHJcblxyXG5leHBvcnQgbmFtZXNwYWNlIExpdmUyREN1YmlzbUZyYW1ld29yayB7XHJcbiAgLyoqXHJcbiAgICog54mp55CG5ryU566X44Gu6YGp55So5YWI44Gu56iu6aGeXHJcbiAgICovXHJcbiAgZXhwb3J0IGVudW0gQ3ViaXNtUGh5c2ljc1RhcmdldFR5cGUge1xyXG4gICAgQ3ViaXNtUGh5c2ljc1RhcmdldFR5cGVfUGFyYW1ldGVyIC8vIOODkeODqeODoeODvOOCv+OBq+WvvuOBl+OBpumBqeeUqFxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog54mp55CG5ryU566X44Gu5YWl5Yqb44Gu56iu6aGeXHJcbiAgICovXHJcbiAgZXhwb3J0IGVudW0gQ3ViaXNtUGh5c2ljc1NvdXJjZSB7XHJcbiAgICBDdWJpc21QaHlzaWNzU291cmNlX1gsIC8vIFjou7jjga7kvY3nva7jgYvjgolcclxuICAgIEN1YmlzbVBoeXNpY3NTb3VyY2VfWSwgLy8gWei7uOOBruS9jee9ruOBi+OCiVxyXG4gICAgQ3ViaXNtUGh5c2ljc1NvdXJjZV9BbmdsZSAvLyDop5LluqbjgYvjgolcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBicmllZiDniannkIbmvJTnrpfjgafkvb/nlKjjgZnjgovlpJbpg6jjga7liptcclxuICAgKlxyXG4gICAqIOeJqeeQhua8lOeul+OBp+S9v+eUqOOBmeOCi+WklumDqOOBruWKm+OAglxyXG4gICAqL1xyXG4gIGV4cG9ydCBjbGFzcyBQaHlzaWNzSnNvbkVmZmVjdGl2ZUZvcmNlcyB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgdGhpcy5ncmF2aXR5ID0gbmV3IEN1YmlzbVZlY3RvcjIoMCwgMCk7XHJcbiAgICAgIHRoaXMud2luZCA9IG5ldyBDdWJpc21WZWN0b3IyKDAsIDApO1xyXG4gICAgfVxyXG4gICAgZ3Jhdml0eTogQ3ViaXNtVmVjdG9yMjsgLy8g6YeN5YqbXHJcbiAgICB3aW5kOiBDdWJpc21WZWN0b3IyOyAvLyDpoqhcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOeJqeeQhua8lOeul+OBruODkeODqeODoeODvOOCv+aDheWgsVxyXG4gICAqL1xyXG4gIGV4cG9ydCBjbGFzcyBDdWJpc21QaHlzaWNzUGFyYW1ldGVyIHtcclxuICAgIGlkOiBDdWJpc21JZEhhbmRsZTsgLy8g44OR44Op44Oh44O844K/XHJcbiAgICB0YXJnZXRUeXBlOiBDdWJpc21QaHlzaWNzVGFyZ2V0VHlwZTsgLy8g6YGp55So5YWI44Gu56iu6aGeXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDniannkIbmvJTnrpfjga7mraPopo/ljJbmg4XloLFcclxuICAgKi9cclxuICBleHBvcnQgY2xhc3MgQ3ViaXNtUGh5c2ljc05vcm1hbGl6YXRpb24ge1xyXG4gICAgbWluaW11bTogbnVtYmVyOyAvLyDmnIDlpKflgKRcclxuICAgIG1heGltdW06IG51bWJlcjsgLy8g5pyA5bCP5YCkXHJcbiAgICBkZWZhbHV0OiBudW1iZXI7IC8vIOODh+ODleOCqeODq+ODiOWApFxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog54mp55CG5ryU566X44Gu5ryU566X5aeU5L2/55So44GZ44KL54mp55CG54K544Gu5oOF5aCxXHJcbiAgICovXHJcbiAgZXhwb3J0IGNsYXNzIEN1YmlzbVBoeXNpY3NQYXJ0aWNsZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgdGhpcy5pbml0aWFsUG9zaXRpb24gPSBuZXcgQ3ViaXNtVmVjdG9yMigwLCAwKTtcclxuICAgICAgdGhpcy5wb3NpdGlvbiA9IG5ldyBDdWJpc21WZWN0b3IyKDAsIDApO1xyXG4gICAgICB0aGlzLmxhc3RQb3NpdGlvbiA9IG5ldyBDdWJpc21WZWN0b3IyKDAsIDApO1xyXG4gICAgICB0aGlzLmxhc3RHcmF2aXR5ID0gbmV3IEN1YmlzbVZlY3RvcjIoMCwgMCk7XHJcbiAgICAgIHRoaXMuZm9yY2UgPSBuZXcgQ3ViaXNtVmVjdG9yMigwLCAwKTtcclxuICAgICAgdGhpcy52ZWxvY2l0eSA9IG5ldyBDdWJpc21WZWN0b3IyKDAsIDApO1xyXG4gICAgfVxyXG5cclxuICAgIGluaXRpYWxQb3NpdGlvbjogQ3ViaXNtVmVjdG9yMjsgLy8g5Yid5pyf5L2N572uXHJcbiAgICBtb2JpbGl0eTogbnVtYmVyOyAvLyDli5XjgY3jgoTjgZnjgZVcclxuICAgIGRlbGF5OiBudW1iZXI7IC8vIOmBheOCjFxyXG4gICAgYWNjZWxlcmF0aW9uOiBudW1iZXI7IC8vIOWKoOmAn+W6plxyXG4gICAgcmFkaXVzOiBudW1iZXI7IC8vIOi3nembolxyXG4gICAgcG9zaXRpb246IEN1YmlzbVZlY3RvcjI7IC8vIOePvuWcqOOBruS9jee9rlxyXG4gICAgbGFzdFBvc2l0aW9uOiBDdWJpc21WZWN0b3IyOyAvLyDmnIDlvozjga7kvY3nva5cclxuICAgIGxhc3RHcmF2aXR5OiBDdWJpc21WZWN0b3IyOyAvLyDmnIDlvozjga7ph43liptcclxuICAgIGZvcmNlOiBDdWJpc21WZWN0b3IyOyAvLyDnj77lnKjjgYvjgYvjgaPjgabjgYTjgovliptcclxuICAgIHZlbG9jaXR5OiBDdWJpc21WZWN0b3IyOyAvLyDnj77lnKjjga7pgJ/luqZcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOeJqeeQhua8lOeul+OBrueJqeeQhueCueOBrueuoeeQhlxyXG4gICAqL1xyXG4gIGV4cG9ydCBjbGFzcyBDdWJpc21QaHlzaWNzU3ViUmlnIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICB0aGlzLm5vcm1hbGl6YXRpb25Qb3NpdGlvbiA9IG5ldyBDdWJpc21QaHlzaWNzTm9ybWFsaXphdGlvbigpO1xyXG4gICAgICB0aGlzLm5vcm1hbGl6YXRpb25BbmdsZSA9IG5ldyBDdWJpc21QaHlzaWNzTm9ybWFsaXphdGlvbigpO1xyXG4gICAgfVxyXG4gICAgaW5wdXRDb3VudDogbnVtYmVyOyAvLyDlhaXlipvjga7lgIvmlbBcclxuICAgIG91dHB1dENvdW50OiBudW1iZXI7IC8vIOWHuuWKm+OBruWAi+aVsFxyXG4gICAgcGFydGljbGVDb3VudDogbnVtYmVyOyAvLyDniannkIbngrnjga7lgIvmlbBcclxuICAgIGJhc2VJbnB1dEluZGV4OiBudW1iZXI7IC8vIOWFpeWKm+OBruacgOWIneOBruOCpOODs+ODh+ODg+OCr+OCuVxyXG4gICAgYmFzZU91dHB1dEluZGV4OiBudW1iZXI7IC8vIOWHuuWKm+OBruacgOWIneOBruOCpOODs+ODh+ODg+OCr+OCuVxyXG4gICAgYmFzZVBhcnRpY2xlSW5kZXg6IG51bWJlcjsgLy8g54mp55CG54K544Gu5pyA5Yid44Gu44Kk44Oz44OH44OD44Kv44K5XHJcbiAgICBub3JtYWxpemF0aW9uUG9zaXRpb246IEN1YmlzbVBoeXNpY3NOb3JtYWxpemF0aW9uOyAvLyDmraPopo/ljJbjgZXjgozjgZ/kvY3nva5cclxuICAgIG5vcm1hbGl6YXRpb25BbmdsZTogQ3ViaXNtUGh5c2ljc05vcm1hbGl6YXRpb247IC8vIOato+imj+WMluOBleOCjOOBn+inkuW6plxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog5q2j6KaP5YyW44GV44KM44Gf44OR44Op44Oh44O844K/44Gu5Y+W5b6X6Zai5pWw44Gu5a6j6KiAXHJcbiAgICogQHBhcmFtIHRhcmdldFRyYW5zbGF0aW9uICAgICAvLyDmvJTnrpfntZDmnpzjga7np7vli5XlgKRcclxuICAgKiBAcGFyYW0gdGFyZ2V0QW5nbGUgICAgICAgICAgIC8vIOa8lOeul+e1kOaenOOBruinkuW6plxyXG4gICAqIEBwYXJhbSB2YWx1ZSAgICAgICAgICAgICAgICAgLy8g44OR44Op44Oh44O844K/44Gu5YCkXHJcbiAgICogQHBhcmFtIHBhcmFtZXRlck1pbmltdW5WYWx1ZSAvLyDjg5Hjg6njg6Hjg7zjgr/jga7mnIDlsI/lgKRcclxuICAgKiBAcGFyYW0gcGFyYW1ldGVyTWF4aW11bVZhbHVlIC8vIOODkeODqeODoeODvOOCv+OBruacgOWkp+WApFxyXG4gICAqIEBwYXJhbSBwYXJhbWV0ZXJEZWZhdWx0VmFsdWUgLy8g44OR44Op44Oh44O844K/44Gu44OH44OV44Kp44Or44OI5YCkXHJcbiAgICogQHBhcmFtIG5vcm1hbGl6YXRpb25Qb3NpdGlvbiAvLyDmraPopo/ljJbjgZXjgozjgZ/kvY3nva5cclxuICAgKiBAcGFyYW0gbm9ybWFsaXphdGlvbkFuZ2xlICAgIC8vIOato+imj+WMluOBleOCjOOBn+inkuW6plxyXG4gICAqIEBwYXJhbSBpc0ludmVydGVkICAgICAgICAgICAgLy8g5YCk44GM5Y+N6Lui44GV44KM44Gm44GE44KL44GL77yfXHJcbiAgICogQHBhcmFtIHdlaWdodCAgICAgICAgICAgICAgICAvLyDph43jgb9cclxuICAgKi9cclxuICBleHBvcnQgaW50ZXJmYWNlIG5vcm1hbGl6ZWRQaHlzaWNzUGFyYW1ldGVyVmFsdWVHZXR0ZXIge1xyXG4gICAgKFxyXG4gICAgICB0YXJnZXRUcmFuc2xhdGlvbjogQ3ViaXNtVmVjdG9yMixcclxuICAgICAgdGFyZ2V0QW5nbGU6IHsgYW5nbGU6IG51bWJlciB9LFxyXG4gICAgICB2YWx1ZTogbnVtYmVyLFxyXG4gICAgICBwYXJhbWV0ZXJNaW5pbXVuVmFsdWU6IG51bWJlcixcclxuICAgICAgcGFyYW1ldGVyTWF4aW11bVZhbHVlOiBudW1iZXIsXHJcbiAgICAgIHBhcmFtZXRlckRlZmF1bHRWYWx1ZTogbnVtYmVyLFxyXG4gICAgICBub3JtYWxpemF0aW9uUG9zaXRpb246IEN1YmlzbVBoeXNpY3NOb3JtYWxpemF0aW9uLFxyXG4gICAgICBub3JtYWxpemF0aW9uQW5nbGU6IEN1YmlzbVBoeXNpY3NOb3JtYWxpemF0aW9uLFxyXG4gICAgICBpc0ludmVydGVkOiBib29sZWFuLFxyXG4gICAgICB3ZWlnaHQ6IG51bWJlclxyXG4gICAgKTogdm9pZDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOeJqeeQhua8lOeul+OBruWApOOBruWPluW+l+mWouaVsOOBruWuo+iogFxyXG4gICAqIEBwYXJhbSB0cmFuc2xhdGlvbiDnp7vli5XlgKRcclxuICAgKiBAcGFyYW0gcGFydGljbGVzIOeJqeeQhueCueOBruODquOCueODiFxyXG4gICAqIEBwYXJhbSBpc0ludmVydGVkIOWApOOBjOWPjeaYoOOBleOCjOOBpuOBhOOCi+OBi1xyXG4gICAqIEBwYXJhbSBwYXJlbnRHcmF2aXR5IOmHjeWKm1xyXG4gICAqIEByZXR1cm4g5YCkXHJcbiAgICovXHJcbiAgZXhwb3J0IGludGVyZmFjZSBwaHlzaWNzVmFsdWVHZXR0ZXIge1xyXG4gICAgKFxyXG4gICAgICB0cmFuc2xhdGlvbjogQ3ViaXNtVmVjdG9yMixcclxuICAgICAgcGFydGljbGVzOiBDdWJpc21QaHlzaWNzUGFydGljbGVbXSxcclxuICAgICAgcGFydGljbGVJbmRleDogbnVtYmVyLFxyXG4gICAgICBpc0ludmVydGVkOiBib29sZWFuLFxyXG4gICAgICBwYXJlbnRHcmF2aXR5OiBDdWJpc21WZWN0b3IyXHJcbiAgICApOiBudW1iZXI7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDniannkIbmvJTnrpfjga7jgrnjgrHjg7zjg6vjga7lj5blvpfplqLmlbDjga7lrqPoqIBcclxuICAgKiBAcGFyYW0gdHJhbnNsYXRpb25TY2FsZSDnp7vli5XlgKTjga7jgrnjgrHjg7zjg6tcclxuICAgKiBAcGFyYW0gYW5nbGVTY2FsZSAgICDop5Lluqbjga7jgrnjgrHjg7zjg6tcclxuICAgKiBAcmV0dXJuIOOCueOCseODvOODq+WApFxyXG4gICAqL1xyXG4gIGV4cG9ydCBpbnRlcmZhY2UgcGh5c2ljc1NjYWxlR2V0dGVyIHtcclxuICAgICh0cmFuc2xhdGlvblNjYWxlOiBDdWJpc21WZWN0b3IyLCBhbmdsZVNjYWxlOiBudW1iZXIpOiBudW1iZXI7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDniannkIbmvJTnrpfjga7lhaXlipvmg4XloLFcclxuICAgKi9cclxuICBleHBvcnQgY2xhc3MgQ3ViaXNtUGh5c2ljc0lucHV0IHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICB0aGlzLnNvdXJjZSA9IG5ldyBDdWJpc21QaHlzaWNzUGFyYW1ldGVyKCk7XHJcbiAgICB9XHJcbiAgICBzb3VyY2U6IEN1YmlzbVBoeXNpY3NQYXJhbWV0ZXI7IC8vIOWFpeWKm+WFg+OBruODkeODqeODoeODvOOCv1xyXG4gICAgc291cmNlUGFyYW1ldGVySW5kZXg6IG51bWJlcjsgLy8g5YWl5Yqb5YWD44Gu44OR44Op44Oh44O844K/44Gu44Kk44Oz44OH44OD44Kv44K5XHJcbiAgICB3ZWlnaHQ6IG51bWJlcjsgLy8g6YeN44G/XHJcbiAgICB0eXBlOiBudW1iZXI7IC8vIOWFpeWKm+OBrueorumhnlxyXG4gICAgcmVmbGVjdDogYm9vbGVhbjsgLy8g5YCk44GM5Y+N6Lui44GV44KM44Gm44GE44KL44GL44Gp44GG44GLXHJcbiAgICBnZXROb3JtYWxpemVkUGFyYW1ldGVyVmFsdWU6IG5vcm1hbGl6ZWRQaHlzaWNzUGFyYW1ldGVyVmFsdWVHZXR0ZXI7IC8vIOato+imj+WMluOBleOCjOOBn+ODkeODqeODoeODvOOCv+WApOOBruWPluW+l+mWouaVsFxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQGJyaWVmIOeJqeeQhua8lOeul+OBruWHuuWKm+aDheWgsVxyXG4gICAqXHJcbiAgICog54mp55CG5ryU566X44Gu5Ye65Yqb5oOF5aCx44CCXHJcbiAgICovXHJcbiAgZXhwb3J0IGNsYXNzIEN1YmlzbVBoeXNpY3NPdXRwdXQge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgIHRoaXMuZGVzdGluYXRpb24gPSBuZXcgQ3ViaXNtUGh5c2ljc1BhcmFtZXRlcigpO1xyXG4gICAgICB0aGlzLnRyYW5zbGF0aW9uU2NhbGUgPSBuZXcgQ3ViaXNtVmVjdG9yMigwLCAwKTtcclxuICAgIH1cclxuXHJcbiAgICBkZXN0aW5hdGlvbjogQ3ViaXNtUGh5c2ljc1BhcmFtZXRlcjsgLy8g5Ye65Yqb5YWI44Gu44OR44Op44Oh44O844K/XHJcbiAgICBkZXN0aW5hdGlvblBhcmFtZXRlckluZGV4OiBudW1iZXI7IC8vIOWHuuWKm+WFiOOBruODkeODqeODoeODvOOCv+OBruOCpOODs+ODh+ODg+OCr+OCuVxyXG4gICAgdmVydGV4SW5kZXg6IG51bWJlcjsgLy8g5oyv44KK5a2Q44Gu44Kk44Oz44OH44OD44Kv44K5XHJcbiAgICB0cmFuc2xhdGlvblNjYWxlOiBDdWJpc21WZWN0b3IyOyAvLyDnp7vli5XlgKTjga7jgrnjgrHjg7zjg6tcclxuICAgIGFuZ2xlU2NhbGU6IG51bWJlcjsgLy8g6KeS5bqm44Gu44K544Kx44O844OrXHJcbiAgICB3ZWlnaHQ6IG51bWJlcjsgLy8g6YeN44G/XHJcbiAgICB0eXBlOiBDdWJpc21QaHlzaWNzU291cmNlOyAvLyDlh7rlipvjga7nqK7poZ5cclxuICAgIHJlZmxlY3Q6IGJvb2xlYW47IC8vIOWApOOBjOWPjei7ouOBleOCjOOBpuOBhOOCi+OBi+OBqeOBhuOBi1xyXG4gICAgdmFsdWVCZWxvd01pbmltdW06IG51bWJlcjsgLy8g5pyA5bCP5YCk44KS5LiL5Zue44Gj44Gf5pmC44Gu5YCkXHJcbiAgICB2YWx1ZUV4Y2VlZGVkTWF4aW11bTogbnVtYmVyOyAvLyDmnIDlpKflgKTjgpLjgZPjgYjjgZ/mmYLjga7lgKRcclxuICAgIGdldFZhbHVlOiBwaHlzaWNzVmFsdWVHZXR0ZXI7IC8vIOeJqeeQhua8lOeul+OBruWApOOBruWPluW+l+mWouaVsFxyXG4gICAgZ2V0U2NhbGU6IHBoeXNpY3NTY2FsZUdldHRlcjsgLy8g54mp55CG5ryU566X44Gu44K544Kx44O844Or5YCk44Gu5Y+W5b6X6Zai5pWwXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAYnJpZWYg54mp55CG5ryU566X44Gu44OH44O844K/XHJcbiAgICpcclxuICAgKiDniannkIbmvJTnrpfjga7jg4fjg7zjgr/jgIJcclxuICAgKi9cclxuICBleHBvcnQgY2xhc3MgQ3ViaXNtUGh5c2ljc1JpZyB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgdGhpcy5zZXR0aW5ncyA9IG5ldyBjc21WZWN0b3I8Q3ViaXNtUGh5c2ljc1N1YlJpZz4oKTtcclxuICAgICAgdGhpcy5pbnB1dHMgPSBuZXcgY3NtVmVjdG9yPEN1YmlzbVBoeXNpY3NJbnB1dD4oKTtcclxuICAgICAgdGhpcy5vdXRwdXRzID0gbmV3IGNzbVZlY3RvcjxDdWJpc21QaHlzaWNzT3V0cHV0PigpO1xyXG4gICAgICB0aGlzLnBhcnRpY2xlcyA9IG5ldyBjc21WZWN0b3I8Q3ViaXNtUGh5c2ljc1BhcnRpY2xlPigpO1xyXG4gICAgICB0aGlzLmdyYXZpdHkgPSBuZXcgQ3ViaXNtVmVjdG9yMigwLCAwKTtcclxuICAgICAgdGhpcy53aW5kID0gbmV3IEN1YmlzbVZlY3RvcjIoMCwgMCk7XHJcbiAgICB9XHJcblxyXG4gICAgc3ViUmlnQ291bnQ6IG51bWJlcjsgLy8g54mp55CG5ryU566X44Gu54mp55CG54K544Gu5YCL5pWwXHJcbiAgICBzZXR0aW5nczogY3NtVmVjdG9yPEN1YmlzbVBoeXNpY3NTdWJSaWc+OyAvLyDniannkIbmvJTnrpfjga7niannkIbngrnjga7nrqHnkIbjga7jg6rjgrnjg4hcclxuICAgIGlucHV0czogY3NtVmVjdG9yPEN1YmlzbVBoeXNpY3NJbnB1dD47IC8vIOeJqeeQhua8lOeul+OBruWFpeWKm+OBruODquOCueODiFxyXG4gICAgb3V0cHV0czogY3NtVmVjdG9yPEN1YmlzbVBoeXNpY3NPdXRwdXQ+OyAvLyDniannkIbmvJTnrpfjga7lh7rlipvjga7jg6rjgrnjg4hcclxuICAgIHBhcnRpY2xlczogY3NtVmVjdG9yPEN1YmlzbVBoeXNpY3NQYXJ0aWNsZT47IC8vIOeJqeeQhua8lOeul+OBrueJqeeQhueCueOBruODquOCueODiFxyXG4gICAgZ3Jhdml0eTogQ3ViaXNtVmVjdG9yMjsgLy8g6YeN5YqbXHJcbiAgICB3aW5kOiBDdWJpc21WZWN0b3IyOyAvLyDpoqhcclxuICB9XHJcbn1cclxuIl0sIm1hcHBpbmdzIjoiOzs7QUFPQTtBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBQUE7QUFJQTtBQUFBO0FBQ0E7QUFDQTtBQUtBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUFBO0FBUEE7QUFZQTtBQUFBO0FBR0E7QUFBQTtBQUFBO0FBSEE7QUFRQTtBQUFBO0FBSUE7QUFBQTtBQUFBO0FBSkE7QUFTQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFZQTtBQUFBO0FBcEJBO0FBeUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFTQTtBQUFBO0FBYkE7QUEwRUE7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQUFBO0FBVkE7QUFpQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWNBO0FBQUE7QUFsQkE7QUF5QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBU0E7QUFBQTtBQWpCQTtBQWtCQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./Framework/src/physics/cubismphysicsinternal.ts\n");

/***/ }),

/***/ "./Framework/src/physics/cubismphysicsjson.ts":
/*!****************************************************!*\
  !*** ./Framework/src/physics/cubismphysicsjson.ts ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Live2DCubismFramework = void 0;\r\nvar cubismjson_1 = __webpack_require__(/*! ../utils/cubismjson */ \"./Framework/src/utils/cubismjson.ts\");\r\nvar cubismvector2_1 = __webpack_require__(/*! ../math/cubismvector2 */ \"./Framework/src/math/cubismvector2.ts\");\r\nvar live2dcubismframework_1 = __webpack_require__(/*! ../live2dcubismframework */ \"./Framework/src/live2dcubismframework.ts\");\r\nvar CubismFramework = live2dcubismframework_1.Live2DCubismFramework.CubismFramework;\r\nvar CubismVector2 = cubismvector2_1.Live2DCubismFramework.CubismVector2;\r\nvar CubismJson = cubismjson_1.Live2DCubismFramework.CubismJson;\r\nvar Live2DCubismFramework;\r\n(function (Live2DCubismFramework) {\r\n    var Position = 'Position';\r\n    var X = 'X';\r\n    var Y = 'Y';\r\n    var Angle = 'Angle';\r\n    var Type = 'Type';\r\n    var Id = 'Id';\r\n    var Meta = 'Meta';\r\n    var EffectiveForces = 'EffectiveForces';\r\n    var TotalInputCount = 'TotalInputCount';\r\n    var TotalOutputCount = 'TotalOutputCount';\r\n    var PhysicsSettingCount = 'PhysicsSettingCount';\r\n    var Gravity = 'Gravity';\r\n    var Wind = 'Wind';\r\n    var VertexCount = 'VertexCount';\r\n    var PhysicsSettings = 'PhysicsSettings';\r\n    var Normalization = 'Normalization';\r\n    var Minimum = 'Minimum';\r\n    var Maximum = 'Maximum';\r\n    var Default = 'Default';\r\n    var Reflect = 'Reflect';\r\n    var Weight = 'Weight';\r\n    var Input = 'Input';\r\n    var Source = 'Source';\r\n    var Output = 'Output';\r\n    var Scale = 'Scale';\r\n    var VertexIndex = 'VertexIndex';\r\n    var Destination = 'Destination';\r\n    var Vertices = 'Vertices';\r\n    var Mobility = 'Mobility';\r\n    var Delay = 'Delay';\r\n    var Radius = 'Radius';\r\n    var Acceleration = 'Acceleration';\r\n    var CubismPhysicsJson = (function () {\r\n        function CubismPhysicsJson(buffer, size) {\r\n            this._json = CubismJson.create(buffer, size);\r\n        }\r\n        CubismPhysicsJson.prototype.release = function () {\r\n            CubismJson.delete(this._json);\r\n        };\r\n        CubismPhysicsJson.prototype.getGravity = function () {\r\n            var ret = new CubismVector2(0, 0);\r\n            ret.x = this._json\r\n                .getRoot()\r\n                .getValueByString(Meta)\r\n                .getValueByString(EffectiveForces)\r\n                .getValueByString(Gravity)\r\n                .getValueByString(X)\r\n                .toFloat();\r\n            ret.y = this._json\r\n                .getRoot()\r\n                .getValueByString(Meta)\r\n                .getValueByString(EffectiveForces)\r\n                .getValueByString(Gravity)\r\n                .getValueByString(Y)\r\n                .toFloat();\r\n            return ret;\r\n        };\r\n        CubismPhysicsJson.prototype.getWind = function () {\r\n            var ret = new CubismVector2(0, 0);\r\n            ret.x = this._json\r\n                .getRoot()\r\n                .getValueByString(Meta)\r\n                .getValueByString(EffectiveForces)\r\n                .getValueByString(Wind)\r\n                .getValueByString(X)\r\n                .toFloat();\r\n            ret.y = this._json\r\n                .getRoot()\r\n                .getValueByString(Meta)\r\n                .getValueByString(EffectiveForces)\r\n                .getValueByString(Wind)\r\n                .getValueByString(Y)\r\n                .toFloat();\r\n            return ret;\r\n        };\r\n        CubismPhysicsJson.prototype.getSubRigCount = function () {\r\n            return this._json\r\n                .getRoot()\r\n                .getValueByString(Meta)\r\n                .getValueByString(PhysicsSettingCount)\r\n                .toInt();\r\n        };\r\n        CubismPhysicsJson.prototype.getTotalInputCount = function () {\r\n            return this._json\r\n                .getRoot()\r\n                .getValueByString(Meta)\r\n                .getValueByString(TotalInputCount)\r\n                .toInt();\r\n        };\r\n        CubismPhysicsJson.prototype.getTotalOutputCount = function () {\r\n            return this._json\r\n                .getRoot()\r\n                .getValueByString(Meta)\r\n                .getValueByString(TotalOutputCount)\r\n                .toInt();\r\n        };\r\n        CubismPhysicsJson.prototype.getVertexCount = function () {\r\n            return this._json\r\n                .getRoot()\r\n                .getValueByString(Meta)\r\n                .getValueByString(VertexCount)\r\n                .toInt();\r\n        };\r\n        CubismPhysicsJson.prototype.getNormalizationPositionMinimumValue = function (physicsSettingIndex) {\r\n            return this._json\r\n                .getRoot()\r\n                .getValueByString(PhysicsSettings)\r\n                .getValueByIndex(physicsSettingIndex)\r\n                .getValueByString(Normalization)\r\n                .getValueByString(Position)\r\n                .getValueByString(Minimum)\r\n                .toFloat();\r\n        };\r\n        CubismPhysicsJson.prototype.getNormalizationPositionMaximumValue = function (physicsSettingIndex) {\r\n            return this._json\r\n                .getRoot()\r\n                .getValueByString(PhysicsSettings)\r\n                .getValueByIndex(physicsSettingIndex)\r\n                .getValueByString(Normalization)\r\n                .getValueByString(Position)\r\n                .getValueByString(Maximum)\r\n                .toFloat();\r\n        };\r\n        CubismPhysicsJson.prototype.getNormalizationPositionDefaultValue = function (physicsSettingIndex) {\r\n            return this._json\r\n                .getRoot()\r\n                .getValueByString(PhysicsSettings)\r\n                .getValueByIndex(physicsSettingIndex)\r\n                .getValueByString(Normalization)\r\n                .getValueByString(Position)\r\n                .getValueByString(Default)\r\n                .toFloat();\r\n        };\r\n        CubismPhysicsJson.prototype.getNormalizationAngleMinimumValue = function (physicsSettingIndex) {\r\n            return this._json\r\n                .getRoot()\r\n                .getValueByString(PhysicsSettings)\r\n                .getValueByIndex(physicsSettingIndex)\r\n                .getValueByString(Normalization)\r\n                .getValueByString(Angle)\r\n                .getValueByString(Minimum)\r\n                .toFloat();\r\n        };\r\n        CubismPhysicsJson.prototype.getNormalizationAngleMaximumValue = function (physicsSettingIndex) {\r\n            return this._json\r\n                .getRoot()\r\n                .getValueByString(PhysicsSettings)\r\n                .getValueByIndex(physicsSettingIndex)\r\n                .getValueByString(Normalization)\r\n                .getValueByString(Angle)\r\n                .getValueByString(Maximum)\r\n                .toFloat();\r\n        };\r\n        CubismPhysicsJson.prototype.getNormalizationAngleDefaultValue = function (physicsSettingIndex) {\r\n            return this._json\r\n                .getRoot()\r\n                .getValueByString(PhysicsSettings)\r\n                .getValueByIndex(physicsSettingIndex)\r\n                .getValueByString(Normalization)\r\n                .getValueByString(Angle)\r\n                .getValueByString(Default)\r\n                .toFloat();\r\n        };\r\n        CubismPhysicsJson.prototype.getInputCount = function (physicsSettingIndex) {\r\n            return this._json\r\n                .getRoot()\r\n                .getValueByString(PhysicsSettings)\r\n                .getValueByIndex(physicsSettingIndex)\r\n                .getValueByString(Input)\r\n                .getVector()\r\n                .getSize();\r\n        };\r\n        CubismPhysicsJson.prototype.getInputWeight = function (physicsSettingIndex, inputIndex) {\r\n            return this._json\r\n                .getRoot()\r\n                .getValueByString(PhysicsSettings)\r\n                .getValueByIndex(physicsSettingIndex)\r\n                .getValueByString(Input)\r\n                .getValueByIndex(inputIndex)\r\n                .getValueByString(Weight)\r\n                .toFloat();\r\n        };\r\n        CubismPhysicsJson.prototype.getInputReflect = function (physicsSettingIndex, inputIndex) {\r\n            return this._json\r\n                .getRoot()\r\n                .getValueByString(PhysicsSettings)\r\n                .getValueByIndex(physicsSettingIndex)\r\n                .getValueByString(Input)\r\n                .getValueByIndex(inputIndex)\r\n                .getValueByString(Reflect)\r\n                .toBoolean();\r\n        };\r\n        CubismPhysicsJson.prototype.getInputType = function (physicsSettingIndex, inputIndex) {\r\n            return this._json\r\n                .getRoot()\r\n                .getValueByString(PhysicsSettings)\r\n                .getValueByIndex(physicsSettingIndex)\r\n                .getValueByString(Input)\r\n                .getValueByIndex(inputIndex)\r\n                .getValueByString(Type)\r\n                .getRawString();\r\n        };\r\n        CubismPhysicsJson.prototype.getInputSourceId = function (physicsSettingIndex, inputIndex) {\r\n            return CubismFramework.getIdManager().getId(this._json\r\n                .getRoot()\r\n                .getValueByString(PhysicsSettings)\r\n                .getValueByIndex(physicsSettingIndex)\r\n                .getValueByString(Input)\r\n                .getValueByIndex(inputIndex)\r\n                .getValueByString(Source)\r\n                .getValueByString(Id)\r\n                .getRawString());\r\n        };\r\n        CubismPhysicsJson.prototype.getOutputCount = function (physicsSettingIndex) {\r\n            return this._json\r\n                .getRoot()\r\n                .getValueByString(PhysicsSettings)\r\n                .getValueByIndex(physicsSettingIndex)\r\n                .getValueByString(Output)\r\n                .getVector()\r\n                .getSize();\r\n        };\r\n        CubismPhysicsJson.prototype.getOutputVertexIndex = function (physicsSettingIndex, outputIndex) {\r\n            return this._json\r\n                .getRoot()\r\n                .getValueByString(PhysicsSettings)\r\n                .getValueByIndex(physicsSettingIndex)\r\n                .getValueByString(Output)\r\n                .getValueByIndex(outputIndex)\r\n                .getValueByString(VertexIndex)\r\n                .toInt();\r\n        };\r\n        CubismPhysicsJson.prototype.getOutputAngleScale = function (physicsSettingIndex, outputIndex) {\r\n            return this._json\r\n                .getRoot()\r\n                .getValueByString(PhysicsSettings)\r\n                .getValueByIndex(physicsSettingIndex)\r\n                .getValueByString(Output)\r\n                .getValueByIndex(outputIndex)\r\n                .getValueByString(Scale)\r\n                .toFloat();\r\n        };\r\n        CubismPhysicsJson.prototype.getOutputWeight = function (physicsSettingIndex, outputIndex) {\r\n            return this._json\r\n                .getRoot()\r\n                .getValueByString(PhysicsSettings)\r\n                .getValueByIndex(physicsSettingIndex)\r\n                .getValueByString(Output)\r\n                .getValueByIndex(outputIndex)\r\n                .getValueByString(Weight)\r\n                .toFloat();\r\n        };\r\n        CubismPhysicsJson.prototype.getOutputDestinationId = function (physicsSettingIndex, outputIndex) {\r\n            return CubismFramework.getIdManager().getId(this._json\r\n                .getRoot()\r\n                .getValueByString(PhysicsSettings)\r\n                .getValueByIndex(physicsSettingIndex)\r\n                .getValueByString(Output)\r\n                .getValueByIndex(outputIndex)\r\n                .getValueByString(Destination)\r\n                .getValueByString(Id)\r\n                .getRawString());\r\n        };\r\n        CubismPhysicsJson.prototype.getOutputType = function (physicsSettingIndex, outputIndex) {\r\n            return this._json\r\n                .getRoot()\r\n                .getValueByString(PhysicsSettings)\r\n                .getValueByIndex(physicsSettingIndex)\r\n                .getValueByString(Output)\r\n                .getValueByIndex(outputIndex)\r\n                .getValueByString(Type)\r\n                .getRawString();\r\n        };\r\n        CubismPhysicsJson.prototype.getOutputReflect = function (physicsSettingIndex, outputIndex) {\r\n            return this._json\r\n                .getRoot()\r\n                .getValueByString(PhysicsSettings)\r\n                .getValueByIndex(physicsSettingIndex)\r\n                .getValueByString(Output)\r\n                .getValueByIndex(outputIndex)\r\n                .getValueByString(Reflect)\r\n                .toBoolean();\r\n        };\r\n        CubismPhysicsJson.prototype.getParticleCount = function (physicsSettingIndex) {\r\n            return this._json\r\n                .getRoot()\r\n                .getValueByString(PhysicsSettings)\r\n                .getValueByIndex(physicsSettingIndex)\r\n                .getValueByString(Vertices)\r\n                .getVector()\r\n                .getSize();\r\n        };\r\n        CubismPhysicsJson.prototype.getParticleMobility = function (physicsSettingIndex, vertexIndex) {\r\n            return this._json\r\n                .getRoot()\r\n                .getValueByString(PhysicsSettings)\r\n                .getValueByIndex(physicsSettingIndex)\r\n                .getValueByString(Vertices)\r\n                .getValueByIndex(vertexIndex)\r\n                .getValueByString(Mobility)\r\n                .toFloat();\r\n        };\r\n        CubismPhysicsJson.prototype.getParticleDelay = function (physicsSettingIndex, vertexIndex) {\r\n            return this._json\r\n                .getRoot()\r\n                .getValueByString(PhysicsSettings)\r\n                .getValueByIndex(physicsSettingIndex)\r\n                .getValueByString(Vertices)\r\n                .getValueByIndex(vertexIndex)\r\n                .getValueByString(Delay)\r\n                .toFloat();\r\n        };\r\n        CubismPhysicsJson.prototype.getParticleAcceleration = function (physicsSettingIndex, vertexIndex) {\r\n            return this._json\r\n                .getRoot()\r\n                .getValueByString(PhysicsSettings)\r\n                .getValueByIndex(physicsSettingIndex)\r\n                .getValueByString(Vertices)\r\n                .getValueByIndex(vertexIndex)\r\n                .getValueByString(Acceleration)\r\n                .toFloat();\r\n        };\r\n        CubismPhysicsJson.prototype.getParticleRadius = function (physicsSettingIndex, vertexIndex) {\r\n            return this._json\r\n                .getRoot()\r\n                .getValueByString(PhysicsSettings)\r\n                .getValueByIndex(physicsSettingIndex)\r\n                .getValueByString(Vertices)\r\n                .getValueByIndex(vertexIndex)\r\n                .getValueByString(Radius)\r\n                .toInt();\r\n        };\r\n        CubismPhysicsJson.prototype.getParticlePosition = function (physicsSettingIndex, vertexIndex) {\r\n            var ret = new CubismVector2(0, 0);\r\n            ret.x = this._json\r\n                .getRoot()\r\n                .getValueByString(PhysicsSettings)\r\n                .getValueByIndex(physicsSettingIndex)\r\n                .getValueByString(Vertices)\r\n                .getValueByIndex(vertexIndex)\r\n                .getValueByString(Position)\r\n                .getValueByString(X)\r\n                .toFloat();\r\n            ret.y = this._json\r\n                .getRoot()\r\n                .getValueByString(PhysicsSettings)\r\n                .getValueByIndex(physicsSettingIndex)\r\n                .getValueByString(Vertices)\r\n                .getValueByIndex(vertexIndex)\r\n                .getValueByString(Position)\r\n                .getValueByString(Y)\r\n                .toFloat();\r\n            return ret;\r\n        };\r\n        return CubismPhysicsJson;\r\n    }());\r\n    Live2DCubismFramework.CubismPhysicsJson = CubismPhysicsJson;\r\n})(Live2DCubismFramework = exports.Live2DCubismFramework || (exports.Live2DCubismFramework = {}));\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9GcmFtZXdvcmsvc3JjL3BoeXNpY3MvY3ViaXNtcGh5c2ljc2pzb24udHMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9saXZlMmQvLi9GcmFtZXdvcmsvc3JjL3BoeXNpY3MvY3ViaXNtcGh5c2ljc2pzb24udHM/MzAyOCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogQ29weXJpZ2h0KGMpIExpdmUyRCBJbmMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbiAqXHJcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IHRoZSBMaXZlMkQgT3BlbiBTb2Z0d2FyZSBsaWNlbnNlXHJcbiAqIHRoYXQgY2FuIGJlIGZvdW5kIGF0IGh0dHBzOi8vd3d3LmxpdmUyZC5jb20vZXVsYS9saXZlMmQtb3Blbi1zb2Z0d2FyZS1saWNlbnNlLWFncmVlbWVudF9lbi5odG1sLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IExpdmUyREN1YmlzbUZyYW1ld29yayBhcyBjdWJpc21qc29uIH0gZnJvbSAnLi4vdXRpbHMvY3ViaXNtanNvbic7XHJcbmltcG9ydCB7IExpdmUyREN1YmlzbUZyYW1ld29yayBhcyBjdWJpc212ZWN0b3IyIH0gZnJvbSAnLi4vbWF0aC9jdWJpc212ZWN0b3IyJztcclxuaW1wb3J0IHsgTGl2ZTJEQ3ViaXNtRnJhbWV3b3JrIGFzIGN1YmlzbWlkIH0gZnJvbSAnLi4vaWQvY3ViaXNtaWQnO1xyXG5pbXBvcnQgeyBMaXZlMkRDdWJpc21GcmFtZXdvcmsgYXMgY3ViaXNtZnJhbWV3b3JrIH0gZnJvbSAnLi4vbGl2ZTJkY3ViaXNtZnJhbWV3b3JrJztcclxuaW1wb3J0IEN1YmlzbUZyYW1ld29yayA9IGN1YmlzbWZyYW1ld29yay5DdWJpc21GcmFtZXdvcms7XHJcbmltcG9ydCBDdWJpc21JZEhhbmRsZSA9IGN1YmlzbWlkLkN1YmlzbUlkSGFuZGxlO1xyXG5pbXBvcnQgQ3ViaXNtVmVjdG9yMiA9IGN1YmlzbXZlY3RvcjIuQ3ViaXNtVmVjdG9yMjtcclxuaW1wb3J0IEN1YmlzbUpzb24gPSBjdWJpc21qc29uLkN1YmlzbUpzb247XHJcblxyXG5leHBvcnQgbmFtZXNwYWNlIExpdmUyREN1YmlzbUZyYW1ld29yayB7XHJcbiAgLy8gSlNPTiBrZXlzXHJcbiAgY29uc3QgUG9zaXRpb24gPSAnUG9zaXRpb24nO1xyXG4gIGNvbnN0IFggPSAnWCc7XHJcbiAgY29uc3QgWSA9ICdZJztcclxuICBjb25zdCBBbmdsZSA9ICdBbmdsZSc7XHJcbiAgY29uc3QgVHlwZSA9ICdUeXBlJztcclxuICBjb25zdCBJZCA9ICdJZCc7XHJcblxyXG4gIC8vIE1ldGFcclxuICBjb25zdCBNZXRhID0gJ01ldGEnO1xyXG4gIGNvbnN0IEVmZmVjdGl2ZUZvcmNlcyA9ICdFZmZlY3RpdmVGb3JjZXMnO1xyXG4gIGNvbnN0IFRvdGFsSW5wdXRDb3VudCA9ICdUb3RhbElucHV0Q291bnQnO1xyXG4gIGNvbnN0IFRvdGFsT3V0cHV0Q291bnQgPSAnVG90YWxPdXRwdXRDb3VudCc7XHJcbiAgY29uc3QgUGh5c2ljc1NldHRpbmdDb3VudCA9ICdQaHlzaWNzU2V0dGluZ0NvdW50JztcclxuICBjb25zdCBHcmF2aXR5ID0gJ0dyYXZpdHknO1xyXG4gIGNvbnN0IFdpbmQgPSAnV2luZCc7XHJcbiAgY29uc3QgVmVydGV4Q291bnQgPSAnVmVydGV4Q291bnQnO1xyXG5cclxuICAvLyBQaHlzaWNzU2V0dGluZ3NcclxuICBjb25zdCBQaHlzaWNzU2V0dGluZ3MgPSAnUGh5c2ljc1NldHRpbmdzJztcclxuICBjb25zdCBOb3JtYWxpemF0aW9uID0gJ05vcm1hbGl6YXRpb24nO1xyXG4gIGNvbnN0IE1pbmltdW0gPSAnTWluaW11bSc7XHJcbiAgY29uc3QgTWF4aW11bSA9ICdNYXhpbXVtJztcclxuICBjb25zdCBEZWZhdWx0ID0gJ0RlZmF1bHQnO1xyXG4gIGNvbnN0IFJlZmxlY3QgPSAnUmVmbGVjdCc7XHJcbiAgY29uc3QgV2VpZ2h0ID0gJ1dlaWdodCc7XHJcblxyXG4gIC8vIElucHV0XHJcbiAgY29uc3QgSW5wdXQgPSAnSW5wdXQnO1xyXG4gIGNvbnN0IFNvdXJjZSA9ICdTb3VyY2UnO1xyXG5cclxuICAvLyBPdXRwdXRcclxuICBjb25zdCBPdXRwdXQgPSAnT3V0cHV0JztcclxuICBjb25zdCBTY2FsZSA9ICdTY2FsZSc7XHJcbiAgY29uc3QgVmVydGV4SW5kZXggPSAnVmVydGV4SW5kZXgnO1xyXG4gIGNvbnN0IERlc3RpbmF0aW9uID0gJ0Rlc3RpbmF0aW9uJztcclxuXHJcbiAgLy8gUGFydGljbGVcclxuICBjb25zdCBWZXJ0aWNlcyA9ICdWZXJ0aWNlcyc7XHJcbiAgY29uc3QgTW9iaWxpdHkgPSAnTW9iaWxpdHknO1xyXG4gIGNvbnN0IERlbGF5ID0gJ0RlbGF5JztcclxuICBjb25zdCBSYWRpdXMgPSAnUmFkaXVzJztcclxuICBjb25zdCBBY2NlbGVyYXRpb24gPSAnQWNjZWxlcmF0aW9uJztcclxuXHJcbiAgLyoqXHJcbiAgICogcGh5c2ljczMuanNvbuOBruOCs+ODs+ODhuODiuOAglxyXG4gICAqL1xyXG4gIGV4cG9ydCBjbGFzcyBDdWJpc21QaHlzaWNzSnNvbiB7XHJcbiAgICAvKipcclxuICAgICAqIOOCs+ODs+OCueODiOODqeOCr+OCv1xyXG4gICAgICogQHBhcmFtIGJ1ZmZlciBwaHlzaWNzMy5qc29u44GM6Kqt44G/6L6844G+44KM44Gm44GE44KL44OQ44OD44OV44KhXHJcbiAgICAgKiBAcGFyYW0gc2l6ZSDjg5Djg4Pjg5XjgqHjga7jgrXjgqTjgrpcclxuICAgICAqL1xyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKGJ1ZmZlcjogQXJyYXlCdWZmZXIsIHNpemU6IG51bWJlcikge1xyXG4gICAgICB0aGlzLl9qc29uID0gQ3ViaXNtSnNvbi5jcmVhdGUoYnVmZmVyLCBzaXplKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOODh+OCueODiOODqeOCr+OCv+ebuOW9k+OBruWHpueQhlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgcmVsZWFzZSgpOiB2b2lkIHtcclxuICAgICAgQ3ViaXNtSnNvbi5kZWxldGUodGhpcy5fanNvbik7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDph43lipvjga7lj5blvpdcclxuICAgICAqIEByZXR1cm4g6YeN5YqbXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXRHcmF2aXR5KCk6IEN1YmlzbVZlY3RvcjIge1xyXG4gICAgICBjb25zdCByZXQ6IEN1YmlzbVZlY3RvcjIgPSBuZXcgQ3ViaXNtVmVjdG9yMigwLCAwKTtcclxuICAgICAgcmV0LnggPSB0aGlzLl9qc29uXHJcbiAgICAgICAgLmdldFJvb3QoKVxyXG4gICAgICAgIC5nZXRWYWx1ZUJ5U3RyaW5nKE1ldGEpXHJcbiAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoRWZmZWN0aXZlRm9yY2VzKVxyXG4gICAgICAgIC5nZXRWYWx1ZUJ5U3RyaW5nKEdyYXZpdHkpXHJcbiAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoWClcclxuICAgICAgICAudG9GbG9hdCgpO1xyXG4gICAgICByZXQueSA9IHRoaXMuX2pzb25cclxuICAgICAgICAuZ2V0Um9vdCgpXHJcbiAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoTWV0YSlcclxuICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhFZmZlY3RpdmVGb3JjZXMpXHJcbiAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoR3Jhdml0eSlcclxuICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhZKVxyXG4gICAgICAgIC50b0Zsb2F0KCk7XHJcbiAgICAgIHJldHVybiByZXQ7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDpoqjjga7lj5blvpdcclxuICAgICAqIEByZXR1cm4g6aKoXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXRXaW5kKCk6IEN1YmlzbVZlY3RvcjIge1xyXG4gICAgICBjb25zdCByZXQ6IEN1YmlzbVZlY3RvcjIgPSBuZXcgQ3ViaXNtVmVjdG9yMigwLCAwKTtcclxuICAgICAgcmV0LnggPSB0aGlzLl9qc29uXHJcbiAgICAgICAgLmdldFJvb3QoKVxyXG4gICAgICAgIC5nZXRWYWx1ZUJ5U3RyaW5nKE1ldGEpXHJcbiAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoRWZmZWN0aXZlRm9yY2VzKVxyXG4gICAgICAgIC5nZXRWYWx1ZUJ5U3RyaW5nKFdpbmQpXHJcbiAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoWClcclxuICAgICAgICAudG9GbG9hdCgpO1xyXG4gICAgICByZXQueSA9IHRoaXMuX2pzb25cclxuICAgICAgICAuZ2V0Um9vdCgpXHJcbiAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoTWV0YSlcclxuICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhFZmZlY3RpdmVGb3JjZXMpXHJcbiAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoV2luZClcclxuICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhZKVxyXG4gICAgICAgIC50b0Zsb2F0KCk7XHJcbiAgICAgIHJldHVybiByZXQ7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDniannkIblupfjga7nrqHnkIbjga7lgIvmlbDjga7lj5blvpdcclxuICAgICAqIEByZXR1cm4g54mp55CG5bqX44Gu566h55CG44Gu5YCL5pWwXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXRTdWJSaWdDb3VudCgpOiBudW1iZXIge1xyXG4gICAgICByZXR1cm4gdGhpcy5fanNvblxyXG4gICAgICAgIC5nZXRSb290KClcclxuICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhNZXRhKVxyXG4gICAgICAgIC5nZXRWYWx1ZUJ5U3RyaW5nKFBoeXNpY3NTZXR0aW5nQ291bnQpXHJcbiAgICAgICAgLnRvSW50KCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDlhaXlipvjga7nt4/lkIjoqIjjga7lj5blvpdcclxuICAgICAqIEByZXR1cm4g5YWl5Yqb44Gu57eP5ZCI6KiIXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXRUb3RhbElucHV0Q291bnQoKTogbnVtYmVyIHtcclxuICAgICAgcmV0dXJuIHRoaXMuX2pzb25cclxuICAgICAgICAuZ2V0Um9vdCgpXHJcbiAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoTWV0YSlcclxuICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhUb3RhbElucHV0Q291bnQpXHJcbiAgICAgICAgLnRvSW50KCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDlh7rlipvjga7nt4/lkIjoqIjjga7lj5blvpdcclxuICAgICAqIEByZXR1cm4g5Ye65Yqb44Gu57eP5ZCI6KiIXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXRUb3RhbE91dHB1dENvdW50KCk6IG51bWJlciB7XHJcbiAgICAgIHJldHVybiB0aGlzLl9qc29uXHJcbiAgICAgICAgLmdldFJvb3QoKVxyXG4gICAgICAgIC5nZXRWYWx1ZUJ5U3RyaW5nKE1ldGEpXHJcbiAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoVG90YWxPdXRwdXRDb3VudClcclxuICAgICAgICAudG9JbnQoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOeJqeeQhueCueOBruWAi+aVsOOBruWPluW+l1xyXG4gICAgICogQHJldHVybiDniannkIbngrnjga7lgIvmlbBcclxuICAgICAqL1xyXG4gICAgcHVibGljIGdldFZlcnRleENvdW50KCk6IG51bWJlciB7XHJcbiAgICAgIHJldHVybiB0aGlzLl9qc29uXHJcbiAgICAgICAgLmdldFJvb3QoKVxyXG4gICAgICAgIC5nZXRWYWx1ZUJ5U3RyaW5nKE1ldGEpXHJcbiAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoVmVydGV4Q291bnQpXHJcbiAgICAgICAgLnRvSW50KCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDmraPopo/ljJbjgZXjgozjgZ/kvY3nva7jga7mnIDlsI/lgKTjga7lj5blvpdcclxuICAgICAqIEBwYXJhbSBwaHlzaWNzU2V0dGluZ0luZGV4IOeJqeeQhua8lOeul+OBruioreWumuOBruOCpOODs+ODh+ODg+OCr+OCuVxyXG4gICAgICogQHJldHVybiDmraPopo/ljJbjgZXjgozjgZ/kvY3nva7jga7mnIDlsI/lgKRcclxuICAgICAqL1xyXG4gICAgcHVibGljIGdldE5vcm1hbGl6YXRpb25Qb3NpdGlvbk1pbmltdW1WYWx1ZShcclxuICAgICAgcGh5c2ljc1NldHRpbmdJbmRleDogbnVtYmVyXHJcbiAgICApOiBudW1iZXIge1xyXG4gICAgICByZXR1cm4gdGhpcy5fanNvblxyXG4gICAgICAgIC5nZXRSb290KClcclxuICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhQaHlzaWNzU2V0dGluZ3MpXHJcbiAgICAgICAgLmdldFZhbHVlQnlJbmRleChwaHlzaWNzU2V0dGluZ0luZGV4KVxyXG4gICAgICAgIC5nZXRWYWx1ZUJ5U3RyaW5nKE5vcm1hbGl6YXRpb24pXHJcbiAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoUG9zaXRpb24pXHJcbiAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoTWluaW11bSlcclxuICAgICAgICAudG9GbG9hdCgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5q2j6KaP5YyW44GV44KM44Gf5L2N572u44Gu5pyA5aSn5YCk44Gu5Y+W5b6XXHJcbiAgICAgKiBAcGFyYW0gcGh5c2ljc1NldHRpbmdJbmRleCDniannkIbmvJTnrpfjga7oqK3lrprjga7jgqTjg7Pjg4fjg4Pjgq/jgrlcclxuICAgICAqIEByZXR1cm4g5q2j6KaP5YyW44GV44KM44Gf5L2N572u44Gu5pyA5aSn5YCkXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXROb3JtYWxpemF0aW9uUG9zaXRpb25NYXhpbXVtVmFsdWUoXHJcbiAgICAgIHBoeXNpY3NTZXR0aW5nSW5kZXg6IG51bWJlclxyXG4gICAgKTogbnVtYmVyIHtcclxuICAgICAgcmV0dXJuIHRoaXMuX2pzb25cclxuICAgICAgICAuZ2V0Um9vdCgpXHJcbiAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoUGh5c2ljc1NldHRpbmdzKVxyXG4gICAgICAgIC5nZXRWYWx1ZUJ5SW5kZXgocGh5c2ljc1NldHRpbmdJbmRleClcclxuICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhOb3JtYWxpemF0aW9uKVxyXG4gICAgICAgIC5nZXRWYWx1ZUJ5U3RyaW5nKFBvc2l0aW9uKVxyXG4gICAgICAgIC5nZXRWYWx1ZUJ5U3RyaW5nKE1heGltdW0pXHJcbiAgICAgICAgLnRvRmxvYXQoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOato+imj+WMluOBleOCjOOBn+S9jee9ruOBruODh+ODleOCqeODq+ODiOWApOOBruWPluW+l1xyXG4gICAgICogQHBhcmFtIHBoeXNpY3NTZXR0aW5nSW5kZXgg54mp55CG5ryU566X44Gu6Kit5a6a44Gu44Kk44Oz44OH44OD44Kv44K5XHJcbiAgICAgKiBAcmV0dXJuIOato+imj+WMluOBleOCjOOBn+S9jee9ruOBruODh+ODleOCqeODq+ODiOWApFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2V0Tm9ybWFsaXphdGlvblBvc2l0aW9uRGVmYXVsdFZhbHVlKFxyXG4gICAgICBwaHlzaWNzU2V0dGluZ0luZGV4OiBudW1iZXJcclxuICAgICk6IG51bWJlciB7XHJcbiAgICAgIHJldHVybiB0aGlzLl9qc29uXHJcbiAgICAgICAgLmdldFJvb3QoKVxyXG4gICAgICAgIC5nZXRWYWx1ZUJ5U3RyaW5nKFBoeXNpY3NTZXR0aW5ncylcclxuICAgICAgICAuZ2V0VmFsdWVCeUluZGV4KHBoeXNpY3NTZXR0aW5nSW5kZXgpXHJcbiAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoTm9ybWFsaXphdGlvbilcclxuICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhQb3NpdGlvbilcclxuICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhEZWZhdWx0KVxyXG4gICAgICAgIC50b0Zsb2F0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDmraPopo/ljJbjgZXjgozjgZ/op5Lluqbjga7mnIDlsI/lgKTjga7lj5blvpdcclxuICAgICAqIEBwYXJhbSBwaHlzaWNzU2V0dGluZ0luZGV4IOeJqeeQhua8lOeul+OBruioreWumuOBruOCpOODs+ODh+ODg+OCr+OCuVxyXG4gICAgICogQHJldHVybiDmraPopo/ljJbjgZXjgozjgZ/op5Lluqbjga7mnIDlsI/lgKRcclxuICAgICAqL1xyXG4gICAgcHVibGljIGdldE5vcm1hbGl6YXRpb25BbmdsZU1pbmltdW1WYWx1ZShcclxuICAgICAgcGh5c2ljc1NldHRpbmdJbmRleDogbnVtYmVyXHJcbiAgICApOiBudW1iZXIge1xyXG4gICAgICByZXR1cm4gdGhpcy5fanNvblxyXG4gICAgICAgIC5nZXRSb290KClcclxuICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhQaHlzaWNzU2V0dGluZ3MpXHJcbiAgICAgICAgLmdldFZhbHVlQnlJbmRleChwaHlzaWNzU2V0dGluZ0luZGV4KVxyXG4gICAgICAgIC5nZXRWYWx1ZUJ5U3RyaW5nKE5vcm1hbGl6YXRpb24pXHJcbiAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoQW5nbGUpXHJcbiAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoTWluaW11bSlcclxuICAgICAgICAudG9GbG9hdCgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5q2j6KaP5YyW44GV44KM44Gf6KeS5bqm44Gu5pyA5aSn5YCk44Gu5Y+W5b6XXHJcbiAgICAgKiBAcGFyYW0gcGh5c2ljc1NldHRpbmdJbmRleFxyXG4gICAgICogQHJldHVybiDmraPopo/ljJbjgZXjgozjgZ/op5Lluqbjga7mnIDlpKflgKRcclxuICAgICAqL1xyXG4gICAgcHVibGljIGdldE5vcm1hbGl6YXRpb25BbmdsZU1heGltdW1WYWx1ZShcclxuICAgICAgcGh5c2ljc1NldHRpbmdJbmRleDogbnVtYmVyXHJcbiAgICApOiBudW1iZXIge1xyXG4gICAgICByZXR1cm4gdGhpcy5fanNvblxyXG4gICAgICAgIC5nZXRSb290KClcclxuICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhQaHlzaWNzU2V0dGluZ3MpXHJcbiAgICAgICAgLmdldFZhbHVlQnlJbmRleChwaHlzaWNzU2V0dGluZ0luZGV4KVxyXG4gICAgICAgIC5nZXRWYWx1ZUJ5U3RyaW5nKE5vcm1hbGl6YXRpb24pXHJcbiAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoQW5nbGUpXHJcbiAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoTWF4aW11bSlcclxuICAgICAgICAudG9GbG9hdCgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5q2j6KaP5YyW44GV44KM44Gf6KeS5bqm44Gu44OH44OV44Kp44Or44OI5YCk44Gu5Y+W5b6XXHJcbiAgICAgKiBAcGFyYW0gcGh5c2ljc1NldHRpbmdJbmRleCDniannkIbmvJTnrpfjga7oqK3lrprjga7jgqTjg7Pjg4fjg4Pjgq/jgrlcclxuICAgICAqIEByZXR1cm4g5q2j6KaP5YyW44GV44KM44Gf6KeS5bqm44Gu44OH44OV44Kp44Or44OI5YCkXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXROb3JtYWxpemF0aW9uQW5nbGVEZWZhdWx0VmFsdWUoXHJcbiAgICAgIHBoeXNpY3NTZXR0aW5nSW5kZXg6IG51bWJlclxyXG4gICAgKTogbnVtYmVyIHtcclxuICAgICAgcmV0dXJuIHRoaXMuX2pzb25cclxuICAgICAgICAuZ2V0Um9vdCgpXHJcbiAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoUGh5c2ljc1NldHRpbmdzKVxyXG4gICAgICAgIC5nZXRWYWx1ZUJ5SW5kZXgocGh5c2ljc1NldHRpbmdJbmRleClcclxuICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhOb3JtYWxpemF0aW9uKVxyXG4gICAgICAgIC5nZXRWYWx1ZUJ5U3RyaW5nKEFuZ2xlKVxyXG4gICAgICAgIC5nZXRWYWx1ZUJ5U3RyaW5nKERlZmF1bHQpXHJcbiAgICAgICAgLnRvRmxvYXQoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOWFpeWKm+OBruWAi+aVsOOBruWPluW+l1xyXG4gICAgICogQHBhcmFtIHBoeXNpY3NTZXR0aW5nSW5kZXgg54mp55CG5ryU566X44Gu6Kit5a6a44Gu44Kk44Oz44OH44OD44Kv44K5XHJcbiAgICAgKiBAcmV0dXJuIOWFpeWKm+OBruWAi+aVsFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2V0SW5wdXRDb3VudChwaHlzaWNzU2V0dGluZ0luZGV4OiBudW1iZXIpOiBudW1iZXIge1xyXG4gICAgICByZXR1cm4gdGhpcy5fanNvblxyXG4gICAgICAgIC5nZXRSb290KClcclxuICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhQaHlzaWNzU2V0dGluZ3MpXHJcbiAgICAgICAgLmdldFZhbHVlQnlJbmRleChwaHlzaWNzU2V0dGluZ0luZGV4KVxyXG4gICAgICAgIC5nZXRWYWx1ZUJ5U3RyaW5nKElucHV0KVxyXG4gICAgICAgIC5nZXRWZWN0b3IoKVxyXG4gICAgICAgIC5nZXRTaXplKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDlhaXlipvjga7ph43jgb/jga7lj5blvpdcclxuICAgICAqIEBwYXJhbSBwaHlzaWNzU2V0dGluZ0luZGV4IOeJqeeQhua8lOeul+OBruioreWumuOBruOCpOODs+ODh+ODg+OCr+OCuVxyXG4gICAgICogQHBhcmFtIGlucHV0SW5kZXgg5YWl5Yqb44Gu44Kk44Oz44OH44OD44Kv44K5XHJcbiAgICAgKiBAcmV0dXJuIOWFpeWKm+OBrumHjeOBv1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2V0SW5wdXRXZWlnaHQoXHJcbiAgICAgIHBoeXNpY3NTZXR0aW5nSW5kZXg6IG51bWJlcixcclxuICAgICAgaW5wdXRJbmRleDogbnVtYmVyXHJcbiAgICApOiBudW1iZXIge1xyXG4gICAgICByZXR1cm4gdGhpcy5fanNvblxyXG4gICAgICAgIC5nZXRSb290KClcclxuICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhQaHlzaWNzU2V0dGluZ3MpXHJcbiAgICAgICAgLmdldFZhbHVlQnlJbmRleChwaHlzaWNzU2V0dGluZ0luZGV4KVxyXG4gICAgICAgIC5nZXRWYWx1ZUJ5U3RyaW5nKElucHV0KVxyXG4gICAgICAgIC5nZXRWYWx1ZUJ5SW5kZXgoaW5wdXRJbmRleClcclxuICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhXZWlnaHQpXHJcbiAgICAgICAgLnRvRmxvYXQoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOWFpeWKm+OBruWPjei7ouOBruWPluW+l1xyXG4gICAgICogQHBhcmFtIHBoeXNpY3NTZXR0aW5nSW5kZXgg54mp55CG5ryU566X44Gu6Kit5a6a44Gu44Kk44Oz44OH44OD44Kv44K5XHJcbiAgICAgKiBAcGFyYW0gaW5wdXRJbmRleCDlhaXlipvjga7jgqTjg7Pjg4fjg4Pjgq/jgrlcclxuICAgICAqIEByZXR1cm4g5YWl5Yqb44Gu5Y+N6LuiXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXRJbnB1dFJlZmxlY3QoXHJcbiAgICAgIHBoeXNpY3NTZXR0aW5nSW5kZXg6IG51bWJlcixcclxuICAgICAgaW5wdXRJbmRleDogbnVtYmVyXHJcbiAgICApOiBib29sZWFuIHtcclxuICAgICAgcmV0dXJuIHRoaXMuX2pzb25cclxuICAgICAgICAuZ2V0Um9vdCgpXHJcbiAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoUGh5c2ljc1NldHRpbmdzKVxyXG4gICAgICAgIC5nZXRWYWx1ZUJ5SW5kZXgocGh5c2ljc1NldHRpbmdJbmRleClcclxuICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhJbnB1dClcclxuICAgICAgICAuZ2V0VmFsdWVCeUluZGV4KGlucHV0SW5kZXgpXHJcbiAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoUmVmbGVjdClcclxuICAgICAgICAudG9Cb29sZWFuKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDlhaXlipvjga7nqK7poZ7jga7lj5blvpdcclxuICAgICAqIEBwYXJhbSBwaHlzaWNzU2V0dGluZ0luZGV4IOeJqeeQhua8lOeul+OBruioreWumuOBruOCpOODs+ODh+ODg+OCr+OCuVxyXG4gICAgICogQHBhcmFtIGlucHV0SW5kZXgg5YWl5Yqb44Gu44Kk44Oz44OH44OD44Kv44K5XHJcbiAgICAgKiBAcmV0dXJuIOWFpeWKm+OBrueorumhnlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2V0SW5wdXRUeXBlKFxyXG4gICAgICBwaHlzaWNzU2V0dGluZ0luZGV4OiBudW1iZXIsXHJcbiAgICAgIGlucHV0SW5kZXg6IG51bWJlclxyXG4gICAgKTogc3RyaW5nIHtcclxuICAgICAgcmV0dXJuIHRoaXMuX2pzb25cclxuICAgICAgICAuZ2V0Um9vdCgpXHJcbiAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoUGh5c2ljc1NldHRpbmdzKVxyXG4gICAgICAgIC5nZXRWYWx1ZUJ5SW5kZXgocGh5c2ljc1NldHRpbmdJbmRleClcclxuICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhJbnB1dClcclxuICAgICAgICAuZ2V0VmFsdWVCeUluZGV4KGlucHV0SW5kZXgpXHJcbiAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoVHlwZSlcclxuICAgICAgICAuZ2V0UmF3U3RyaW5nKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDlhaXlipvlhYPjga5JROOBruWPluW+l1xyXG4gICAgICogQHBhcmFtIHBoeXNpY3NTZXR0aW5nSW5kZXgg54mp55CG5ryU566X44Gu6Kit5a6a44Gu44Kk44Oz44OH44OD44Kv44K5XHJcbiAgICAgKiBAcGFyYW0gaW5wdXRJbmRleCDlhaXlipvjga7jgqTjg7Pjg4fjg4Pjgq/jgrlcclxuICAgICAqIEByZXR1cm4g5YWl5Yqb5YWD44GuSURcclxuICAgICAqL1xyXG4gICAgcHVibGljIGdldElucHV0U291cmNlSWQoXHJcbiAgICAgIHBoeXNpY3NTZXR0aW5nSW5kZXg6IG51bWJlcixcclxuICAgICAgaW5wdXRJbmRleDogbnVtYmVyXHJcbiAgICApOiBDdWJpc21JZEhhbmRsZSB7XHJcbiAgICAgIHJldHVybiBDdWJpc21GcmFtZXdvcmsuZ2V0SWRNYW5hZ2VyKCkuZ2V0SWQoXHJcbiAgICAgICAgdGhpcy5fanNvblxyXG4gICAgICAgICAgLmdldFJvb3QoKVxyXG4gICAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoUGh5c2ljc1NldHRpbmdzKVxyXG4gICAgICAgICAgLmdldFZhbHVlQnlJbmRleChwaHlzaWNzU2V0dGluZ0luZGV4KVxyXG4gICAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoSW5wdXQpXHJcbiAgICAgICAgICAuZ2V0VmFsdWVCeUluZGV4KGlucHV0SW5kZXgpXHJcbiAgICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhTb3VyY2UpXHJcbiAgICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhJZClcclxuICAgICAgICAgIC5nZXRSYXdTdHJpbmcoKVxyXG4gICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5Ye65Yqb44Gu5YCL5pWw44Gu5Y+W5b6XXHJcbiAgICAgKiBAcGFyYW0gcGh5c2ljc1NldHRpbmdJbmRleCDniannkIbmvJTnrpfjga7oqK3lrprjga7jgqTjg7Pjg4fjg4Pjgq/jgrlcclxuICAgICAqIEByZXR1cm4g5Ye65Yqb44Gu5YCL5pWwXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXRPdXRwdXRDb3VudChwaHlzaWNzU2V0dGluZ0luZGV4OiBudW1iZXIpOiBudW1iZXIge1xyXG4gICAgICByZXR1cm4gdGhpcy5fanNvblxyXG4gICAgICAgIC5nZXRSb290KClcclxuICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhQaHlzaWNzU2V0dGluZ3MpXHJcbiAgICAgICAgLmdldFZhbHVlQnlJbmRleChwaHlzaWNzU2V0dGluZ0luZGV4KVxyXG4gICAgICAgIC5nZXRWYWx1ZUJ5U3RyaW5nKE91dHB1dClcclxuICAgICAgICAuZ2V0VmVjdG9yKClcclxuICAgICAgICAuZ2V0U2l6ZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5Ye65Yqb44Gu54mp55CG54K544Gu44Kk44Oz44OH44OD44Kv44K544Gu5Y+W5b6XXHJcbiAgICAgKiBAcGFyYW0gcGh5c2ljc1NldHRpbmdJbmRleCDniannkIbmvJTnrpfjga7oqK3lrprjga7jgqTjg7Pjg4fjg4Pjgq/jgrlcclxuICAgICAqIEBwYXJhbSBvdXRwdXRJbmRleCDlh7rlipvjga7jgqTjg7Pjg4fjg4Pjgq/jgrlcclxuICAgICAqIEByZXR1cm4g5Ye65Yqb44Gu54mp55CG54K544Gu44Kk44Oz44OH44OD44Kv44K5XHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXRPdXRwdXRWZXJ0ZXhJbmRleChcclxuICAgICAgcGh5c2ljc1NldHRpbmdJbmRleDogbnVtYmVyLFxyXG4gICAgICBvdXRwdXRJbmRleDogbnVtYmVyXHJcbiAgICApOiBudW1iZXIge1xyXG4gICAgICByZXR1cm4gdGhpcy5fanNvblxyXG4gICAgICAgIC5nZXRSb290KClcclxuICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhQaHlzaWNzU2V0dGluZ3MpXHJcbiAgICAgICAgLmdldFZhbHVlQnlJbmRleChwaHlzaWNzU2V0dGluZ0luZGV4KVxyXG4gICAgICAgIC5nZXRWYWx1ZUJ5U3RyaW5nKE91dHB1dClcclxuICAgICAgICAuZ2V0VmFsdWVCeUluZGV4KG91dHB1dEluZGV4KVxyXG4gICAgICAgIC5nZXRWYWx1ZUJ5U3RyaW5nKFZlcnRleEluZGV4KVxyXG4gICAgICAgIC50b0ludCgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5Ye65Yqb44Gu6KeS5bqm44Gu44K544Kx44O844Or44KS5Y+W5b6X44GZ44KLXHJcbiAgICAgKiBAcGFyYW0gcGh5c2ljc1NldHRpbmdJbmRleCDniannkIbmvJTnrpfjga7oqK3lrprjga7jgqTjg7Pjg4fjg4Pjgq/jgrlcclxuICAgICAqIEBwYXJhbSBvdXRwdXRJbmRleCDlh7rlipvjga7jgqTjg7Pjg4fjg4Pjgq/jgrlcclxuICAgICAqIEByZXR1cm4g5Ye65Yqb44Gu6KeS5bqm44Gu44K544Kx44O844OrXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXRPdXRwdXRBbmdsZVNjYWxlKFxyXG4gICAgICBwaHlzaWNzU2V0dGluZ0luZGV4OiBudW1iZXIsXHJcbiAgICAgIG91dHB1dEluZGV4OiBudW1iZXJcclxuICAgICk6IG51bWJlciB7XHJcbiAgICAgIHJldHVybiB0aGlzLl9qc29uXHJcbiAgICAgICAgLmdldFJvb3QoKVxyXG4gICAgICAgIC5nZXRWYWx1ZUJ5U3RyaW5nKFBoeXNpY3NTZXR0aW5ncylcclxuICAgICAgICAuZ2V0VmFsdWVCeUluZGV4KHBoeXNpY3NTZXR0aW5nSW5kZXgpXHJcbiAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoT3V0cHV0KVxyXG4gICAgICAgIC5nZXRWYWx1ZUJ5SW5kZXgob3V0cHV0SW5kZXgpXHJcbiAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoU2NhbGUpXHJcbiAgICAgICAgLnRvRmxvYXQoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOWHuuWKm+OBrumHjeOBv+OBruWPluW+l1xyXG4gICAgICogQHBhcmFtIHBoeXNpY3NTZXR0aW5nSW5kZXgg54mp55CG5ryU566X44Gu6Kit5a6a44Gu44Kk44Oz44OH44OD44Kv44K5XHJcbiAgICAgKiBAcGFyYW0gb3V0cHV0SW5kZXgg5Ye65Yqb44Gu44Kk44Oz44OH44OD44Kv44K5XHJcbiAgICAgKiBAcmV0dXJuIOWHuuWKm+OBrumHjeOBv1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2V0T3V0cHV0V2VpZ2h0KFxyXG4gICAgICBwaHlzaWNzU2V0dGluZ0luZGV4OiBudW1iZXIsXHJcbiAgICAgIG91dHB1dEluZGV4OiBudW1iZXJcclxuICAgICk6IG51bWJlciB7XHJcbiAgICAgIHJldHVybiB0aGlzLl9qc29uXHJcbiAgICAgICAgLmdldFJvb3QoKVxyXG4gICAgICAgIC5nZXRWYWx1ZUJ5U3RyaW5nKFBoeXNpY3NTZXR0aW5ncylcclxuICAgICAgICAuZ2V0VmFsdWVCeUluZGV4KHBoeXNpY3NTZXR0aW5nSW5kZXgpXHJcbiAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoT3V0cHV0KVxyXG4gICAgICAgIC5nZXRWYWx1ZUJ5SW5kZXgob3V0cHV0SW5kZXgpXHJcbiAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoV2VpZ2h0KVxyXG4gICAgICAgIC50b0Zsb2F0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDlh7rlipvlhYjjga5JROOBruWPluW+l1xyXG4gICAgICogQHBhcmFtIHBoeXNpY3NTZXR0aW5nSW5kZXgg54mp55CG5ryU566X44Gu6Kit5a6a44Gu44Kk44Oz44OH44OD44Kv44K5XHJcbiAgICAgKiBAcGFyYW0gb3V0cHV0SW5kZXgg5Ye65Yqb44Gu44Kk44Oz44OH44OD44Kv44K5XHJcbiAgICAgKiBAcmV0dXJuIOWHuuWKm+WFiOOBrklEXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXRPdXRwdXREZXN0aW5hdGlvbklkKFxyXG4gICAgICBwaHlzaWNzU2V0dGluZ0luZGV4OiBudW1iZXIsXHJcbiAgICAgIG91dHB1dEluZGV4OiBudW1iZXJcclxuICAgICk6IEN1YmlzbUlkSGFuZGxlIHtcclxuICAgICAgcmV0dXJuIEN1YmlzbUZyYW1ld29yay5nZXRJZE1hbmFnZXIoKS5nZXRJZChcclxuICAgICAgICB0aGlzLl9qc29uXHJcbiAgICAgICAgICAuZ2V0Um9vdCgpXHJcbiAgICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhQaHlzaWNzU2V0dGluZ3MpXHJcbiAgICAgICAgICAuZ2V0VmFsdWVCeUluZGV4KHBoeXNpY3NTZXR0aW5nSW5kZXgpXHJcbiAgICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhPdXRwdXQpXHJcbiAgICAgICAgICAuZ2V0VmFsdWVCeUluZGV4KG91dHB1dEluZGV4KVxyXG4gICAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoRGVzdGluYXRpb24pXHJcbiAgICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhJZClcclxuICAgICAgICAgIC5nZXRSYXdTdHJpbmcoKVxyXG4gICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5Ye65Yqb44Gu56iu6aGe44Gu5Y+W5b6XXHJcbiAgICAgKiBAcGFyYW0gcGh5c2ljc1NldHRpbmdJbmRleCDniannkIbmvJTnrpfjga7oqK3lrprjga7jgqTjg7Pjg4fjg4Pjgq/jgrlcclxuICAgICAqIEBwYXJhbSBvdXRwdXRJbmRleCDlh7rlipvjga7jgqTjg7Pjg4fjg4Pjgq/jgrlcclxuICAgICAqIEByZXR1cm4g5Ye65Yqb44Gu56iu6aGeXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXRPdXRwdXRUeXBlKFxyXG4gICAgICBwaHlzaWNzU2V0dGluZ0luZGV4OiBudW1iZXIsXHJcbiAgICAgIG91dHB1dEluZGV4OiBudW1iZXJcclxuICAgICk6IHN0cmluZyB7XHJcbiAgICAgIHJldHVybiB0aGlzLl9qc29uXHJcbiAgICAgICAgLmdldFJvb3QoKVxyXG4gICAgICAgIC5nZXRWYWx1ZUJ5U3RyaW5nKFBoeXNpY3NTZXR0aW5ncylcclxuICAgICAgICAuZ2V0VmFsdWVCeUluZGV4KHBoeXNpY3NTZXR0aW5nSW5kZXgpXHJcbiAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoT3V0cHV0KVxyXG4gICAgICAgIC5nZXRWYWx1ZUJ5SW5kZXgob3V0cHV0SW5kZXgpXHJcbiAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoVHlwZSlcclxuICAgICAgICAuZ2V0UmF3U3RyaW5nKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDlh7rlipvjga7lj43ou6Ljga7lj5blvpdcclxuICAgICAqIEBwYXJhbSBwaHlzaWNzU2V0dGluZ0luZGV4IOeJqeeQhua8lOeul+OBruOCpOODs+ODh+ODg+OCr+OCuVxyXG4gICAgICogQHBhcmFtIG91dHB1dEluZGV4IOWHuuWKm+OBruOCpOODs+ODh+ODg+OCr+OCuVxyXG4gICAgICogQHJldHVybiDlh7rlipvjga7lj43ou6JcclxuICAgICAqL1xyXG4gICAgcHVibGljIGdldE91dHB1dFJlZmxlY3QoXHJcbiAgICAgIHBoeXNpY3NTZXR0aW5nSW5kZXg6IG51bWJlcixcclxuICAgICAgb3V0cHV0SW5kZXg6IG51bWJlclxyXG4gICAgKTogYm9vbGVhbiB7XHJcbiAgICAgIHJldHVybiB0aGlzLl9qc29uXHJcbiAgICAgICAgLmdldFJvb3QoKVxyXG4gICAgICAgIC5nZXRWYWx1ZUJ5U3RyaW5nKFBoeXNpY3NTZXR0aW5ncylcclxuICAgICAgICAuZ2V0VmFsdWVCeUluZGV4KHBoeXNpY3NTZXR0aW5nSW5kZXgpXHJcbiAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoT3V0cHV0KVxyXG4gICAgICAgIC5nZXRWYWx1ZUJ5SW5kZXgob3V0cHV0SW5kZXgpXHJcbiAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoUmVmbGVjdClcclxuICAgICAgICAudG9Cb29sZWFuKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDniannkIbngrnjga7lgIvmlbDjga7lj5blvpdcclxuICAgICAqIEBwYXJhbSBwaHlzaWNzU2V0dGluZ0luZGV4IOeJqeeQhua8lOeul+eUt+ioreWumuOBruOCpOODs+ODh+ODg+OCr+OCuVxyXG4gICAgICogQHJldHVybiDniannkIbngrnjga7lgIvmlbBcclxuICAgICAqL1xyXG4gICAgcHVibGljIGdldFBhcnRpY2xlQ291bnQocGh5c2ljc1NldHRpbmdJbmRleDogbnVtYmVyKTogbnVtYmVyIHtcclxuICAgICAgcmV0dXJuIHRoaXMuX2pzb25cclxuICAgICAgICAuZ2V0Um9vdCgpXHJcbiAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoUGh5c2ljc1NldHRpbmdzKVxyXG4gICAgICAgIC5nZXRWYWx1ZUJ5SW5kZXgocGh5c2ljc1NldHRpbmdJbmRleClcclxuICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhWZXJ0aWNlcylcclxuICAgICAgICAuZ2V0VmVjdG9yKClcclxuICAgICAgICAuZ2V0U2l6ZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog54mp55CG54K544Gu5YuV44GN44KE44GZ44GV44Gu5Y+W5b6XXHJcbiAgICAgKiBAcGFyYW0gcGh5c2ljc1NldHRpbmdJbmRleCDniannkIbmvJTnrpfjga7oqK3lrprjga7jgqTjg7Pjg4fjg4Pjgq/jgrlcclxuICAgICAqIEBwYXJhbSB2ZXJ0ZXhJbmRleCDniannkIbngrnjga7jgqTjg7Pjg4fjg4Pjgq/jgrlcclxuICAgICAqIEByZXR1cm4g54mp55CG54K544Gu5YuV44GN44KE44GZ44GVXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXRQYXJ0aWNsZU1vYmlsaXR5KFxyXG4gICAgICBwaHlzaWNzU2V0dGluZ0luZGV4OiBudW1iZXIsXHJcbiAgICAgIHZlcnRleEluZGV4OiBudW1iZXJcclxuICAgICk6IG51bWJlciB7XHJcbiAgICAgIHJldHVybiB0aGlzLl9qc29uXHJcbiAgICAgICAgLmdldFJvb3QoKVxyXG4gICAgICAgIC5nZXRWYWx1ZUJ5U3RyaW5nKFBoeXNpY3NTZXR0aW5ncylcclxuICAgICAgICAuZ2V0VmFsdWVCeUluZGV4KHBoeXNpY3NTZXR0aW5nSW5kZXgpXHJcbiAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoVmVydGljZXMpXHJcbiAgICAgICAgLmdldFZhbHVlQnlJbmRleCh2ZXJ0ZXhJbmRleClcclxuICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhNb2JpbGl0eSlcclxuICAgICAgICAudG9GbG9hdCgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog54mp55CG54K544Gu6YGF44KM44Gu5Y+W5b6XXHJcbiAgICAgKiBAcGFyYW0gcGh5c2ljc1NldHRpbmdJbmRleCDniannkIbmvJTnrpfjga7oqK3lrprjga7jgqTjg7Pjg4fjg4Pjgq/jgrlcclxuICAgICAqIEBwYXJhbSB2ZXJ0ZXhJbmRleCDniannkIbngrnjga7jgqTjg7Pjg4fjg4Pjgq/jgrlcclxuICAgICAqIEByZXR1cm4g54mp55CG54K544Gu6YGF44KMXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXRQYXJ0aWNsZURlbGF5KFxyXG4gICAgICBwaHlzaWNzU2V0dGluZ0luZGV4OiBudW1iZXIsXHJcbiAgICAgIHZlcnRleEluZGV4OiBudW1iZXJcclxuICAgICk6IG51bWJlciB7XHJcbiAgICAgIHJldHVybiB0aGlzLl9qc29uXHJcbiAgICAgICAgLmdldFJvb3QoKVxyXG4gICAgICAgIC5nZXRWYWx1ZUJ5U3RyaW5nKFBoeXNpY3NTZXR0aW5ncylcclxuICAgICAgICAuZ2V0VmFsdWVCeUluZGV4KHBoeXNpY3NTZXR0aW5nSW5kZXgpXHJcbiAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoVmVydGljZXMpXHJcbiAgICAgICAgLmdldFZhbHVlQnlJbmRleCh2ZXJ0ZXhJbmRleClcclxuICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhEZWxheSlcclxuICAgICAgICAudG9GbG9hdCgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog54mp55CG54K544Gu5Yqg6YCf5bqm44Gu5Y+W5b6XXHJcbiAgICAgKiBAcGFyYW0gcGh5c2ljc1NldHRpbmdJbmRleCDniannkIbmvJTnrpfjga7oqK3lrppcclxuICAgICAqIEBwYXJhbSB2ZXJ0ZXhJbmRleCDniannkIbngrnjga7jgqTjg7Pjg4fjg4Pjgq/jgrlcclxuICAgICAqIEByZXR1cm4g54mp55CG54K544Gu5Yqg6YCf5bqmXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXRQYXJ0aWNsZUFjY2VsZXJhdGlvbihcclxuICAgICAgcGh5c2ljc1NldHRpbmdJbmRleDogbnVtYmVyLFxyXG4gICAgICB2ZXJ0ZXhJbmRleDogbnVtYmVyXHJcbiAgICApOiBudW1iZXIge1xyXG4gICAgICByZXR1cm4gdGhpcy5fanNvblxyXG4gICAgICAgIC5nZXRSb290KClcclxuICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhQaHlzaWNzU2V0dGluZ3MpXHJcbiAgICAgICAgLmdldFZhbHVlQnlJbmRleChwaHlzaWNzU2V0dGluZ0luZGV4KVxyXG4gICAgICAgIC5nZXRWYWx1ZUJ5U3RyaW5nKFZlcnRpY2VzKVxyXG4gICAgICAgIC5nZXRWYWx1ZUJ5SW5kZXgodmVydGV4SW5kZXgpXHJcbiAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoQWNjZWxlcmF0aW9uKVxyXG4gICAgICAgIC50b0Zsb2F0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDniannkIbngrnjga7ot53pm6Ljga7lj5blvpdcclxuICAgICAqIEBwYXJhbSBwaHlzaWNzU2V0dGluZ0luZGV4IOeJqeeQhua8lOeul+OBruioreWumuOBruOCpOODs+ODh+ODg+OCr+OCuVxyXG4gICAgICogQHBhcmFtIHZlcnRleEluZGV4IOeJqeeQhueCueOBruOCpOODs+ODh+ODg+OCr+OCuVxyXG4gICAgICogQHJldHVybiDniannkIbngrnjga7ot53pm6JcclxuICAgICAqL1xyXG4gICAgcHVibGljIGdldFBhcnRpY2xlUmFkaXVzKFxyXG4gICAgICBwaHlzaWNzU2V0dGluZ0luZGV4OiBudW1iZXIsXHJcbiAgICAgIHZlcnRleEluZGV4OiBudW1iZXJcclxuICAgICk6IG51bWJlciB7XHJcbiAgICAgIHJldHVybiB0aGlzLl9qc29uXHJcbiAgICAgICAgLmdldFJvb3QoKVxyXG4gICAgICAgIC5nZXRWYWx1ZUJ5U3RyaW5nKFBoeXNpY3NTZXR0aW5ncylcclxuICAgICAgICAuZ2V0VmFsdWVCeUluZGV4KHBoeXNpY3NTZXR0aW5nSW5kZXgpXHJcbiAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoVmVydGljZXMpXHJcbiAgICAgICAgLmdldFZhbHVlQnlJbmRleCh2ZXJ0ZXhJbmRleClcclxuICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhSYWRpdXMpXHJcbiAgICAgICAgLnRvSW50KCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDniannkIbngrnjga7kvY3nva7jga7lj5blvpdcclxuICAgICAqIEBwYXJhbSBwaHlzaWNzU2V0dGluZ0luZGV4IOeJqeeQhua8lOeul+OBruioreWumuOBruOCpOODs+ODh+ODg+OCr+OCuVxyXG4gICAgICogQHBhcmFtIHZlcnRleEluZGUg54mp55CG54K544Gu44Kk44Oz44OH44OD44Kv44K5XHJcbiAgICAgKiBAcmV0dXJuIOeJqeeQhueCueOBruS9jee9rlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2V0UGFydGljbGVQb3NpdGlvbihcclxuICAgICAgcGh5c2ljc1NldHRpbmdJbmRleDogbnVtYmVyLFxyXG4gICAgICB2ZXJ0ZXhJbmRleDogbnVtYmVyXHJcbiAgICApOiBDdWJpc21WZWN0b3IyIHtcclxuICAgICAgY29uc3QgcmV0OiBDdWJpc21WZWN0b3IyID0gbmV3IEN1YmlzbVZlY3RvcjIoMCwgMCk7XHJcbiAgICAgIHJldC54ID0gdGhpcy5fanNvblxyXG4gICAgICAgIC5nZXRSb290KClcclxuICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhQaHlzaWNzU2V0dGluZ3MpXHJcbiAgICAgICAgLmdldFZhbHVlQnlJbmRleChwaHlzaWNzU2V0dGluZ0luZGV4KVxyXG4gICAgICAgIC5nZXRWYWx1ZUJ5U3RyaW5nKFZlcnRpY2VzKVxyXG4gICAgICAgIC5nZXRWYWx1ZUJ5SW5kZXgodmVydGV4SW5kZXgpXHJcbiAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoUG9zaXRpb24pXHJcbiAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoWClcclxuICAgICAgICAudG9GbG9hdCgpO1xyXG4gICAgICByZXQueSA9IHRoaXMuX2pzb25cclxuICAgICAgICAuZ2V0Um9vdCgpXHJcbiAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoUGh5c2ljc1NldHRpbmdzKVxyXG4gICAgICAgIC5nZXRWYWx1ZUJ5SW5kZXgocGh5c2ljc1NldHRpbmdJbmRleClcclxuICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhWZXJ0aWNlcylcclxuICAgICAgICAuZ2V0VmFsdWVCeUluZGV4KHZlcnRleEluZGV4KVxyXG4gICAgICAgIC5nZXRWYWx1ZUJ5U3RyaW5nKFBvc2l0aW9uKVxyXG4gICAgICAgIC5nZXRWYWx1ZUJ5U3RyaW5nKFkpXHJcbiAgICAgICAgLnRvRmxvYXQoKTtcclxuICAgICAgcmV0dXJuIHJldDtcclxuICAgIH1cclxuXHJcbiAgICBfanNvbjogQ3ViaXNtSnNvbjsgLy8gcGh5c2ljczMuanNvbuODh+ODvOOCv1xyXG4gIH1cclxufVxyXG4iXSwibWFwcGluZ3MiOiI7OztBQU9BO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFNQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBT0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBT0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVFBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUUE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFRQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVFBO0FBSUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFRQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVFBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUUE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFRQTtBQUlBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBUUE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFRQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVFBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUUE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFRQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVFBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUUE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUFBO0FBdmtCQTtBQXdrQkE7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./Framework/src/physics/cubismphysicsjson.ts\n");

/***/ }),

/***/ "./Framework/src/rendering/cubismrenderer.ts":
/*!***************************************************!*\
  !*** ./Framework/src/rendering/cubismrenderer.ts ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Live2DCubismFramework = void 0;\r\nvar cubismmatrix44_1 = __webpack_require__(/*! ../math/cubismmatrix44 */ \"./Framework/src/math/cubismmatrix44.ts\");\r\nvar CubismMatrix44 = cubismmatrix44_1.Live2DCubismFramework.CubismMatrix44;\r\nvar Live2DCubismFramework;\r\n(function (Live2DCubismFramework) {\r\n    var CubismRenderer = (function () {\r\n        function CubismRenderer() {\r\n            this._isCulling = false;\r\n            this._isPremultipliedAlpha = false;\r\n            this._anisortopy = 0.0;\r\n            this._model = null;\r\n            this._modelColor = new CubismTextureColor();\r\n            this._mvpMatrix4x4 = new CubismMatrix44();\r\n            this._mvpMatrix4x4.loadIdentity();\r\n        }\r\n        CubismRenderer.create = function () {\r\n            return null;\r\n        };\r\n        CubismRenderer.delete = function (renderer) {\r\n            renderer = null;\r\n        };\r\n        CubismRenderer.prototype.initialize = function (model) {\r\n            this._model = model;\r\n        };\r\n        CubismRenderer.prototype.drawModel = function () {\r\n            if (this.getModel() == null)\r\n                return;\r\n            this.doDrawModel();\r\n        };\r\n        CubismRenderer.prototype.setMvpMatrix = function (matrix44) {\r\n            this._mvpMatrix4x4.setMatrix(matrix44.getArray());\r\n        };\r\n        CubismRenderer.prototype.getMvpMatrix = function () {\r\n            return this._mvpMatrix4x4;\r\n        };\r\n        CubismRenderer.prototype.setModelColor = function (red, green, blue, alpha) {\r\n            if (red < 0.0) {\r\n                red = 0.0;\r\n            }\r\n            else if (red > 1.0) {\r\n                red = 1.0;\r\n            }\r\n            if (green < 0.0) {\r\n                green = 0.0;\r\n            }\r\n            else if (green > 1.0) {\r\n                green = 1.0;\r\n            }\r\n            if (blue < 0.0) {\r\n                blue = 0.0;\r\n            }\r\n            else if (blue > 1.0) {\r\n                blue = 1.0;\r\n            }\r\n            if (alpha < 0.0) {\r\n                alpha = 0.0;\r\n            }\r\n            else if (alpha > 1.0) {\r\n                alpha = 1.0;\r\n            }\r\n            this._modelColor.R = red;\r\n            this._modelColor.G = green;\r\n            this._modelColor.B = blue;\r\n            this._modelColor.A = alpha;\r\n        };\r\n        CubismRenderer.prototype.getModelColor = function () {\r\n            return JSON.parse(JSON.stringify(this._modelColor));\r\n        };\r\n        CubismRenderer.prototype.setIsPremultipliedAlpha = function (enable) {\r\n            this._isPremultipliedAlpha = enable;\r\n        };\r\n        CubismRenderer.prototype.isPremultipliedAlpha = function () {\r\n            return this._isPremultipliedAlpha;\r\n        };\r\n        CubismRenderer.prototype.setIsCulling = function (culling) {\r\n            this._isCulling = culling;\r\n        };\r\n        CubismRenderer.prototype.isCulling = function () {\r\n            return this._isCulling;\r\n        };\r\n        CubismRenderer.prototype.setAnisotropy = function (n) {\r\n            this._anisortopy = n;\r\n        };\r\n        CubismRenderer.prototype.getAnisotropy = function () {\r\n            return this._anisortopy;\r\n        };\r\n        CubismRenderer.prototype.getModel = function () {\r\n            return this._model;\r\n        };\r\n        return CubismRenderer;\r\n    }());\r\n    Live2DCubismFramework.CubismRenderer = CubismRenderer;\r\n    var CubismBlendMode;\r\n    (function (CubismBlendMode) {\r\n        CubismBlendMode[CubismBlendMode[\"CubismBlendMode_Normal\"] = 0] = \"CubismBlendMode_Normal\";\r\n        CubismBlendMode[CubismBlendMode[\"CubismBlendMode_Additive\"] = 1] = \"CubismBlendMode_Additive\";\r\n        CubismBlendMode[CubismBlendMode[\"CubismBlendMode_Multiplicative\"] = 2] = \"CubismBlendMode_Multiplicative\";\r\n    })(CubismBlendMode = Live2DCubismFramework.CubismBlendMode || (Live2DCubismFramework.CubismBlendMode = {}));\r\n    var CubismTextureColor = (function () {\r\n        function CubismTextureColor() {\r\n            this.R = 1.0;\r\n            this.G = 1.0;\r\n            this.B = 1.0;\r\n            this.A = 1.0;\r\n        }\r\n        return CubismTextureColor;\r\n    }());\r\n    Live2DCubismFramework.CubismTextureColor = CubismTextureColor;\r\n})(Live2DCubismFramework = exports.Live2DCubismFramework || (exports.Live2DCubismFramework = {}));\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9GcmFtZXdvcmsvc3JjL3JlbmRlcmluZy9jdWJpc21yZW5kZXJlci50cy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL2xpdmUyZC8uL0ZyYW1ld29yay9zcmMvcmVuZGVyaW5nL2N1YmlzbXJlbmRlcmVyLnRzPzdmZmYiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIENvcHlyaWdodChjKSBMaXZlMkQgSW5jLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4gKlxyXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSB0aGUgTGl2ZTJEIE9wZW4gU29mdHdhcmUgbGljZW5zZVxyXG4gKiB0aGF0IGNhbiBiZSBmb3VuZCBhdCBodHRwczovL3d3dy5saXZlMmQuY29tL2V1bGEvbGl2ZTJkLW9wZW4tc29mdHdhcmUtbGljZW5zZS1hZ3JlZW1lbnRfZW4uaHRtbC5cclxuICovXHJcblxyXG5pbXBvcnQgeyBMaXZlMkRDdWJpc21GcmFtZXdvcmsgYXMgY3ViaXNtbWF0cml4NDQgfSBmcm9tICcuLi9tYXRoL2N1YmlzbW1hdHJpeDQ0JztcclxuaW1wb3J0IHsgTGl2ZTJEQ3ViaXNtRnJhbWV3b3JrIGFzIGN1YmlzbW1vZGVsIH0gZnJvbSAnLi4vbW9kZWwvY3ViaXNtbW9kZWwnO1xyXG5pbXBvcnQgQ3ViaXNtTW9kZWwgPSBjdWJpc21tb2RlbC5DdWJpc21Nb2RlbDtcclxuaW1wb3J0IEN1YmlzbU1hdHJpeDQ0ID0gY3ViaXNtbWF0cml4NDQuQ3ViaXNtTWF0cml4NDQ7XHJcblxyXG5leHBvcnQgbmFtZXNwYWNlIExpdmUyREN1YmlzbUZyYW1ld29yayB7XHJcbiAgLyoqXHJcbiAgICog44Oi44OH44Or5o+P55S744KS5Yem55CG44GZ44KL44Os44Oz44OA44OpXHJcbiAgICpcclxuICAgKiDjgrXjg5bjgq/jg6njgrnjgavnkrDlooPkvp3lrZjjga7mj4/nlLvlkb3ku6TjgpLoqJjov7DjgZnjgovjgIJcclxuICAgKi9cclxuICBleHBvcnQgYWJzdHJhY3QgY2xhc3MgQ3ViaXNtUmVuZGVyZXIge1xyXG4gICAgLyoqXHJcbiAgICAgKiDjg6zjg7Pjg4Djg6njga7jgqTjg7Pjgrnjgr/jg7PjgrnjgpLnlJ/miJDjgZfjgablj5blvpfjgZnjgotcclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJuIOODrOODs+ODgOODqeOBruOCpOODs+OCueOCv+ODs+OCuVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSgpOiBDdWJpc21SZW5kZXJlciB7XHJcbiAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog44Os44Oz44OA44Op44Gu44Kk44Oz44K544K/44Oz44K544KS6Kej5pS+44GZ44KLXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzdGF0aWMgZGVsZXRlKHJlbmRlcmVyOiBDdWJpc21SZW5kZXJlcik6IHZvaWQge1xyXG4gICAgICByZW5kZXJlciA9IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDjg6zjg7Pjg4Djg6njga7liJ3mnJ/ljJblh6bnkIbjgpLlrp/ooYzjgZnjgotcclxuICAgICAqIOW8leaVsOOBq+a4oeOBl+OBn+ODouODh+ODq+OBi+OCieODrOODs+ODgOODqeOBruWIneacn+WMluWHpueQhuOBq+W/heimgeOBquaDheWgseOCkuWPluOCiuWHuuOBmeOBk+OBqOOBjOOBp+OBjeOCi1xyXG4gICAgICogQHBhcmFtIG1vZGVsIOODouODh+ODq+OBruOCpOODs+OCueOCv+ODs+OCuVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgaW5pdGlhbGl6ZShtb2RlbDogQ3ViaXNtTW9kZWwpOiB2b2lkIHtcclxuICAgICAgdGhpcy5fbW9kZWwgPSBtb2RlbDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOODouODh+ODq+OCkuaPj+eUu+OBmeOCi1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZHJhd01vZGVsKCk6IHZvaWQge1xyXG4gICAgICBpZiAodGhpcy5nZXRNb2RlbCgpID09IG51bGwpIHJldHVybjtcclxuXHJcbiAgICAgIHRoaXMuZG9EcmF3TW9kZWwoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIE1vZGVsLVZpZXctUHJvamVjdGlvbiDooYzliJfjgpLjgrvjg4Pjg4jjgZnjgotcclxuICAgICAqIOmFjeWIl+OBr+ikh+ijveOBleOCjOOCi+OBruOBp+OAgeWFg+OBrumFjeWIl+OBr+WkluOBp+egtOajhOOBl+OBpuiJr+OBhFxyXG4gICAgICogQHBhcmFtIG1hdHJpeDQ0IE1vZGVsLVZpZXctUHJvamVjdGlvbiDooYzliJdcclxuICAgICAqL1xyXG4gICAgcHVibGljIHNldE12cE1hdHJpeChtYXRyaXg0NDogQ3ViaXNtTWF0cml4NDQpOiB2b2lkIHtcclxuICAgICAgdGhpcy5fbXZwTWF0cml4NHg0LnNldE1hdHJpeChtYXRyaXg0NC5nZXRBcnJheSgpKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIE1vZGVsLVZpZXctUHJvamVjdGlvbiDooYzliJfjgpLlj5blvpfjgZnjgotcclxuICAgICAqIEByZXR1cm4gTW9kZWwtVmlldy1Qcm9qZWN0aW9uIOihjOWIl1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2V0TXZwTWF0cml4KCk6IEN1YmlzbU1hdHJpeDQ0IHtcclxuICAgICAgcmV0dXJuIHRoaXMuX212cE1hdHJpeDR4NDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOODouODh+ODq+OBruiJsuOCkuOCu+ODg+ODiOOBmeOCi1xyXG4gICAgICog5ZCE6ImyMC4wfjEuMOOBrumWk+OBp+aMh+WumuOBmeOCi++8iDEuMOOBjOaomea6luOBrueKtuaFi++8iVxyXG4gICAgICogQHBhcmFtIHJlZCDotaTjg4Hjg6Pjg7Pjg43jg6vjga7lgKRcclxuICAgICAqIEBwYXJhbSBncmVlbiDnt5Hjg4Hjg6Pjg7Pjg43jg6vjga7lgKRcclxuICAgICAqIEBwYXJhbSBibHVlIOmdkuODgeODo+ODs+ODjeODq+OBruWApFxyXG4gICAgICogQHBhcmFtIGFscGhhIM6x44OB44Oj44Oz44ON44Or44Gu5YCkXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzZXRNb2RlbENvbG9yKFxyXG4gICAgICByZWQ6IG51bWJlcixcclxuICAgICAgZ3JlZW46IG51bWJlcixcclxuICAgICAgYmx1ZTogbnVtYmVyLFxyXG4gICAgICBhbHBoYTogbnVtYmVyXHJcbiAgICApOiB2b2lkIHtcclxuICAgICAgaWYgKHJlZCA8IDAuMCkge1xyXG4gICAgICAgIHJlZCA9IDAuMDtcclxuICAgICAgfSBlbHNlIGlmIChyZWQgPiAxLjApIHtcclxuICAgICAgICByZWQgPSAxLjA7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChncmVlbiA8IDAuMCkge1xyXG4gICAgICAgIGdyZWVuID0gMC4wO1xyXG4gICAgICB9IGVsc2UgaWYgKGdyZWVuID4gMS4wKSB7XHJcbiAgICAgICAgZ3JlZW4gPSAxLjA7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChibHVlIDwgMC4wKSB7XHJcbiAgICAgICAgYmx1ZSA9IDAuMDtcclxuICAgICAgfSBlbHNlIGlmIChibHVlID4gMS4wKSB7XHJcbiAgICAgICAgYmx1ZSA9IDEuMDtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKGFscGhhIDwgMC4wKSB7XHJcbiAgICAgICAgYWxwaGEgPSAwLjA7XHJcbiAgICAgIH0gZWxzZSBpZiAoYWxwaGEgPiAxLjApIHtcclxuICAgICAgICBhbHBoYSA9IDEuMDtcclxuICAgICAgfVxyXG5cclxuICAgICAgdGhpcy5fbW9kZWxDb2xvci5SID0gcmVkO1xyXG4gICAgICB0aGlzLl9tb2RlbENvbG9yLkcgPSBncmVlbjtcclxuICAgICAgdGhpcy5fbW9kZWxDb2xvci5CID0gYmx1ZTtcclxuICAgICAgdGhpcy5fbW9kZWxDb2xvci5BID0gYWxwaGE7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDjg6Ljg4fjg6vjga7oibLjgpLlj5blvpfjgZnjgotcclxuICAgICAqIOWQhOiJsjAuMH4xLjDjga7plpPjgafmjIflrprjgZnjgosoMS4w44GM5qiZ5rqW44Gu54q25oWLKVxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm4gUkdCQeOBruOCq+ODqeODvOaDheWgsVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2V0TW9kZWxDb2xvcigpOiBDdWJpc21UZXh0dXJlQ29sb3Ige1xyXG4gICAgICByZXR1cm4gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0aGlzLl9tb2RlbENvbG9yKSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDkuZfnrpfmuIjjgb/OseOBruacieWKueODu+eEoeWKueOCkuOCu+ODg+ODiOOBmeOCi1xyXG4gICAgICog5pyJ5Yq544Gr44GZ44KL44Gq44KJdHJ1ZeOAgeeEoeWKueOBq+OBmeOCi+OBquOCiWZhbHNl44KS44K744OD44OI44GZ44KLXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzZXRJc1ByZW11bHRpcGxpZWRBbHBoYShlbmFibGU6IGJvb2xlYW4pOiB2b2lkIHtcclxuICAgICAgdGhpcy5faXNQcmVtdWx0aXBsaWVkQWxwaGEgPSBlbmFibGU7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDkuZfnrpfmuIjjgb/OseOBruacieWKueODu+eEoeWKueOCkuWPluW+l+OBmeOCi1xyXG4gICAgICogQHJldHVybiB0cnVlIOS5l+eul+a4iOOBv+OBrs6x5pyJ5Yq5XHJcbiAgICAgKiBAcmV0dXJuIGZhbHNlIOS5l+eul+a4iOOBv+OBrs6x54Sh5Yq5XHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBpc1ByZW11bHRpcGxpZWRBbHBoYSgpOiBib29sZWFuIHtcclxuICAgICAgcmV0dXJuIHRoaXMuX2lzUHJlbXVsdGlwbGllZEFscGhhO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog44Kr44Oq44Oz44Kw77yI54mH6Z2i5o+P55S777yJ44Gu5pyJ5Yq544O754Sh5Yq544KS44K744OD44OI44GZ44KL44CCXHJcbiAgICAgKiDmnInlirnjgavjgZnjgovjgarjgol0cnVl44CB54Sh5Yq544Gr44GZ44KL44Gq44KJZmFsc2XjgpLjgrvjg4Pjg4jjgZnjgotcclxuICAgICAqL1xyXG4gICAgcHVibGljIHNldElzQ3VsbGluZyhjdWxsaW5nOiBib29sZWFuKTogdm9pZCB7XHJcbiAgICAgIHRoaXMuX2lzQ3VsbGluZyA9IGN1bGxpbmc7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDjgqvjg6rjg7PjgrDvvIjniYfpnaLmj4/nlLvvvInjga7mnInlirnjg7vnhKHlirnjgpLlj5blvpfjgZnjgovjgIJcclxuICAgICAqIEByZXR1cm4gdHJ1ZSDjgqvjg6rjg7PjgrDmnInlirlcclxuICAgICAqIEByZXR1cm4gZmFsc2Ug44Kr44Oq44Oz44Kw54Sh5Yq5XHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBpc0N1bGxpbmcoKTogYm9vbGVhbiB7XHJcbiAgICAgIHJldHVybiB0aGlzLl9pc0N1bGxpbmc7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDjg4bjgq/jgrnjg4Hjg6Pjga7nlbDmlrnmgKfjg5XjgqPjg6vjgr/jg6rjg7PjgrDjga7jg5Hjg6njg6Hjg7zjgr/jgpLjgrvjg4Pjg4jjgZnjgotcclxuICAgICAqIOODkeODqeODoeODvOOCv+WApOOBruW9semfv+W6puOBr+ODrOODs+ODgOODqeOBruWun+ijheOBq+S+neWtmOOBmeOCi1xyXG4gICAgICogQHBhcmFtIG4g44OR44Op44Oh44O844K/44Gu5YCkXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzZXRBbmlzb3Ryb3B5KG46IG51bWJlcik6IHZvaWQge1xyXG4gICAgICB0aGlzLl9hbmlzb3J0b3B5ID0gbjtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOODhuOCr+OCueODgeODo+OBrueVsOaWueaAp+ODleOCo+ODq+OCv+ODquODs+OCsOOBruODkeODqeODoeODvOOCv+OCkuOCu+ODg+ODiOOBmeOCi1xyXG4gICAgICogQHJldHVybiDnlbDmlrnmgKfjg5XjgqPjg6vjgr/jg6rjg7PjgrDjga7jg5Hjg6njg6Hjg7zjgr9cclxuICAgICAqL1xyXG4gICAgcHVibGljIGdldEFuaXNvdHJvcHkoKTogbnVtYmVyIHtcclxuICAgICAgcmV0dXJuIHRoaXMuX2FuaXNvcnRvcHk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDjg6zjg7Pjg4Djg6rjg7PjgrDjgZnjgovjg6Ljg4fjg6vjgpLlj5blvpfjgZnjgotcclxuICAgICAqIEByZXR1cm4g44Os44Oz44OA44Oq44Oz44Kw44GZ44KL44Oi44OH44OrXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXRNb2RlbCgpOiBDdWJpc21Nb2RlbCB7XHJcbiAgICAgIHJldHVybiB0aGlzLl9tb2RlbDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOOCs+ODs+OCueODiOODqeOCr+OCv1xyXG4gICAgICovXHJcbiAgICBwcm90ZWN0ZWQgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgIHRoaXMuX2lzQ3VsbGluZyA9IGZhbHNlO1xyXG4gICAgICB0aGlzLl9pc1ByZW11bHRpcGxpZWRBbHBoYSA9IGZhbHNlO1xyXG4gICAgICB0aGlzLl9hbmlzb3J0b3B5ID0gMC4wO1xyXG4gICAgICB0aGlzLl9tb2RlbCA9IG51bGw7XHJcbiAgICAgIHRoaXMuX21vZGVsQ29sb3IgPSBuZXcgQ3ViaXNtVGV4dHVyZUNvbG9yKCk7XHJcblxyXG4gICAgICAvLyDljZjkvY3ooYzliJfjgavliJ3mnJ/ljJZcclxuICAgICAgdGhpcy5fbXZwTWF0cml4NHg0ID0gbmV3IEN1YmlzbU1hdHJpeDQ0KCk7XHJcbiAgICAgIHRoaXMuX212cE1hdHJpeDR4NC5sb2FkSWRlbnRpdHkoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOODouODh+ODq+aPj+eUu+OBruWun+ijhVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgYWJzdHJhY3QgZG9EcmF3TW9kZWwoKTogdm9pZDtcclxuXHJcbiAgICAvKipcclxuICAgICAqIOaPj+eUu+OCquODluOCuOOCp+OCr+ODiO+8iOOCouODvOODiOODoeODg+OCt+ODpe+8ieOCkuaPj+eUu+OBmeOCi1xyXG4gICAgICog44Od44Oq44K044Oz44Oh44OD44K344Ol44Go44OG44Kv44K544OB44Oj55Wq5Y+344KS44K744OD44OI44Gn5rih44GZ44CCXHJcbiAgICAgKiBAcGFyYW0gdGV4dHVyZU5vIOaPj+eUu+OBmeOCi+ODhuOCr+OCueODgeODo+eVquWPt1xyXG4gICAgICogQHBhcmFtIGluZGV4Q291bnQg5o+P55S744Kq44OW44K444Kn44Kv44OI44Gu44Kk44Oz44OH44OD44Kv44K55YCkXHJcbiAgICAgKiBAcGFyYW0gdmVydGV4Q291bnQg44Od44Oq44K044Oz44Oh44OD44K344Ol44Gu6aCC54K55pWwXHJcbiAgICAgKiBAcGFyYW0gaW5kZXhBcnJheSDjg53jg6rjgrTjg7Pjg6Hjg4Pjgrfjg6XpoILngrnjga7jgqTjg7Pjg4fjg4Pjgq/jgrnphY3liJdcclxuICAgICAqIEBwYXJhbSB2ZXJ0ZXhBcnJheSDjg53jg6rjgrTjg7Pjg6Hjg4Pjgrfjg6Xjga7poILngrnphY3liJdcclxuICAgICAqIEBwYXJhbSB1dkFycmF5IHV26YWN5YiXXHJcbiAgICAgKiBAcGFyYW0gb3BhY2l0eSDkuI3pgI/mmI7luqZcclxuICAgICAqIEBwYXJhbSBjb2xvckJsZW5kTW9kZSDjgqvjg6njg7zjg5bjg6zjg7Pjg4fjgqPjg7PjgrDjga7jgr/jgqTjg5dcclxuICAgICAqIEBwYXJhbSBpbnZlcnRlZE1hc2sg44Oe44K544Kv5L2/55So5pmC44Gu44Oe44K544Kv44Gu5Y+N6Lui5L2/55SoXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBhYnN0cmFjdCBkcmF3TWVzaChcclxuICAgICAgdGV4dHVyZU5vOiBudW1iZXIsXHJcbiAgICAgIGluZGV4Q291bnQ6IG51bWJlcixcclxuICAgICAgdmVydGV4Q291bnQ6IG51bWJlcixcclxuICAgICAgaW5kZXhBcnJheTogVWludDE2QXJyYXksXHJcbiAgICAgIHZlcnRleEFycmF5OiBGbG9hdDMyQXJyYXksXHJcbiAgICAgIHV2QXJyYXk6IEZsb2F0MzJBcnJheSxcclxuICAgICAgb3BhY2l0eTogbnVtYmVyLFxyXG4gICAgICBjb2xvckJsZW5kTW9kZTogQ3ViaXNtQmxlbmRNb2RlLFxyXG4gICAgICBpbnZlcnRlZE1hc2s6IGJvb2xlYW5cclxuICAgICk6IHZvaWQ7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDjg6zjg7Pjg4Djg6njgYzkv53mjIHjgZnjgovpnZnnmoTjgarjg6rjgr3jg7zjgrnjgpLplovmlL7jgZnjgotcclxuICAgICAqL1xyXG4gICAgcHVibGljIHN0YXRpYyBzdGF0aWNSZWxlYXNlOiBGdW5jdGlvbjtcclxuXHJcbiAgICBwcm90ZWN0ZWQgX212cE1hdHJpeDR4NDogQ3ViaXNtTWF0cml4NDQ7IC8vIE1vZGVsLVZpZXctUHJvamVjdGlvbiDooYzliJdcclxuICAgIHByb3RlY3RlZCBfbW9kZWxDb2xvcjogQ3ViaXNtVGV4dHVyZUNvbG9yOyAvLyDjg6Ljg4fjg6voh6rkvZPjga7jgqvjg6njg7zvvIhSR0JB77yJXHJcbiAgICBwcm90ZWN0ZWQgX2lzQ3VsbGluZzogYm9vbGVhbjsgLy8g44Kr44Oq44Oz44Kw44GM5pyJ5Yq544Gq44KJdHJ1ZVxyXG4gICAgcHJvdGVjdGVkIF9pc1ByZW11bHRpcGxpZWRBbHBoYTogYm9vbGVhbjsgLy8g5LmX566X5riI44G/zrHjgarjgol0cnVlXHJcbiAgICBwcm90ZWN0ZWQgX2FuaXNvcnRvcHk6IGFueTsgLy8g44OG44Kv44K544OB44Oj44Gu55Ww5pa55oCn44OV44Kj44Or44K/44Oq44Oz44Kw44Gu44OR44Op44Oh44O844K/XHJcbiAgICBwcm90ZWN0ZWQgX21vZGVsOiBDdWJpc21Nb2RlbDsgLy8g44Os44Oz44OA44Oq44Oz44Kw5a++6LGh44Gu44Oi44OH44OrXHJcbiAgfVxyXG5cclxuICBleHBvcnQgZW51bSBDdWJpc21CbGVuZE1vZGUge1xyXG4gICAgQ3ViaXNtQmxlbmRNb2RlX05vcm1hbCA9IDAsIC8vIOmAmuW4uFxyXG4gICAgQ3ViaXNtQmxlbmRNb2RlX0FkZGl0aXZlID0gMSwgLy8g5Yqg566XXHJcbiAgICBDdWJpc21CbGVuZE1vZGVfTXVsdGlwbGljYXRpdmUgPSAyIC8vIOS5l+eul1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog44OG44Kv44K544OB44Oj44Gu6Imy44KSUkdCQeOBp+aJseOBhuOBn+OCgeOBruOCr+ODqeOCuVxyXG4gICAqL1xyXG4gIGV4cG9ydCBjbGFzcyBDdWJpc21UZXh0dXJlQ29sb3Ige1xyXG4gICAgLyoqXHJcbiAgICAgKiDjgrPjg7Pjgrnjg4jjg6njgq/jgr9cclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgIHRoaXMuUiA9IDEuMDtcclxuICAgICAgdGhpcy5HID0gMS4wO1xyXG4gICAgICB0aGlzLkIgPSAxLjA7XHJcbiAgICAgIHRoaXMuQSA9IDEuMDtcclxuICAgIH1cclxuXHJcbiAgICBSOiBudW1iZXI7IC8vIOi1pOODgeODo+ODs+ODjeODq1xyXG4gICAgRzogbnVtYmVyOyAvLyDnt5Hjg4Hjg6Pjg7Pjg43jg6tcclxuICAgIEI6IG51bWJlcjsgLy8g6Z2S44OB44Oj44Oz44ON44OrXHJcbiAgICBBOiBudW1iZXI7IC8vIM6x44OB44Oj44Oz44ON44OrXHJcbiAgfVxyXG59XHJcbiJdLCJtYXBwaW5ncyI6Ijs7O0FBT0E7QUFHQTtBQUVBO0FBQUE7QUFNQTtBQXdLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUE1S0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQVVBO0FBTUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVFBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQTBEQTtBQUFBO0FBN05BO0FBK05BO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFBQTtBQWZBO0FBZ0JBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./Framework/src/rendering/cubismrenderer.ts\n");

/***/ }),

/***/ "./Framework/src/rendering/cubismrenderer_webgl.ts":
/*!*********************************************************!*\
  !*** ./Framework/src/rendering/cubismrenderer_webgl.ts ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Live2DCubismFramework = void 0;\r\nvar live2dcubismframework_1 = __webpack_require__(/*! ../live2dcubismframework */ \"./Framework/src/live2dcubismframework.ts\");\r\nvar csmrectf_1 = __webpack_require__(/*! ../type/csmrectf */ \"./Framework/src/type/csmrectf.ts\");\r\nvar cubismrenderer_1 = __webpack_require__(/*! ./cubismrenderer */ \"./Framework/src/rendering/cubismrenderer.ts\");\r\nvar cubismmatrix44_1 = __webpack_require__(/*! ../math/cubismmatrix44 */ \"./Framework/src/math/cubismmatrix44.ts\");\r\nvar csmmap_1 = __webpack_require__(/*! ../type/csmmap */ \"./Framework/src/type/csmmap.ts\");\r\nvar csmvector_1 = __webpack_require__(/*! ../type/csmvector */ \"./Framework/src/type/csmvector.ts\");\r\nvar cubismdebug_1 = __webpack_require__(/*! ../utils/cubismdebug */ \"./Framework/src/utils/cubismdebug.ts\");\r\nvar Constant = live2dcubismframework_1.Live2DCubismFramework.Constant;\r\nvar CubismMatrix44 = cubismmatrix44_1.Live2DCubismFramework.CubismMatrix44;\r\nvar csmRect = csmrectf_1.Live2DCubismFramework.csmRect;\r\nvar csmMap = csmmap_1.Live2DCubismFramework.csmMap;\r\nvar csmVector = csmvector_1.Live2DCubismFramework.csmVector;\r\nvar CubismRenderer = cubismrenderer_1.Live2DCubismFramework.CubismRenderer;\r\nvar CubismBlendMode = cubismrenderer_1.Live2DCubismFramework.CubismBlendMode;\r\nvar CubismTextureColor = cubismrenderer_1.Live2DCubismFramework.CubismTextureColor;\r\nvar Live2DCubismFramework;\r\n(function (Live2DCubismFramework) {\r\n    var ColorChannelCount = 4;\r\n    var shaderCount = 10;\r\n    var s_instance;\r\n    var s_viewport;\r\n    var s_fbo;\r\n    var CubismClippingManager_WebGL = (function () {\r\n        function CubismClippingManager_WebGL() {\r\n            this._maskRenderTexture = null;\r\n            this._colorBuffer = null;\r\n            this._currentFrameNo = 0;\r\n            this._clippingMaskBufferSize = 256;\r\n            this._clippingContextListForMask = new csmVector();\r\n            this._clippingContextListForDraw = new csmVector();\r\n            this._channelColors = new csmVector();\r\n            this._tmpBoundsOnModel = new csmRect();\r\n            this._tmpMatrix = new CubismMatrix44();\r\n            this._tmpMatrixForMask = new CubismMatrix44();\r\n            this._tmpMatrixForDraw = new CubismMatrix44();\r\n            this._maskTexture = null;\r\n            var tmp = new CubismTextureColor();\r\n            tmp.R = 1.0;\r\n            tmp.G = 0.0;\r\n            tmp.B = 0.0;\r\n            tmp.A = 0.0;\r\n            this._channelColors.pushBack(tmp);\r\n            tmp = new CubismTextureColor();\r\n            tmp.R = 0.0;\r\n            tmp.G = 1.0;\r\n            tmp.B = 0.0;\r\n            tmp.A = 0.0;\r\n            this._channelColors.pushBack(tmp);\r\n            tmp = new CubismTextureColor();\r\n            tmp.R = 0.0;\r\n            tmp.G = 0.0;\r\n            tmp.B = 1.0;\r\n            tmp.A = 0.0;\r\n            this._channelColors.pushBack(tmp);\r\n            tmp = new CubismTextureColor();\r\n            tmp.R = 0.0;\r\n            tmp.G = 0.0;\r\n            tmp.B = 0.0;\r\n            tmp.A = 1.0;\r\n            this._channelColors.pushBack(tmp);\r\n        }\r\n        CubismClippingManager_WebGL.prototype.getChannelFlagAsColor = function (channelNo) {\r\n            return this._channelColors.at(channelNo);\r\n        };\r\n        CubismClippingManager_WebGL.prototype.getMaskRenderTexture = function () {\r\n            var ret = 0;\r\n            if (this._maskTexture && this._maskTexture.texture != 0) {\r\n                this._maskTexture.frameNo = this._currentFrameNo;\r\n                ret = this._maskTexture.texture;\r\n            }\r\n            if (ret == 0) {\r\n                var size = this._clippingMaskBufferSize;\r\n                this._colorBuffer = this.gl.createTexture();\r\n                this.gl.bindTexture(this.gl.TEXTURE_2D, this._colorBuffer);\r\n                this.gl.texImage2D(this.gl.TEXTURE_2D, 0, this.gl.RGBA, size, size, 0, this.gl.RGBA, this.gl.UNSIGNED_BYTE, null);\r\n                this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_WRAP_S, this.gl.CLAMP_TO_EDGE);\r\n                this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_WRAP_T, this.gl.CLAMP_TO_EDGE);\r\n                this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_MIN_FILTER, this.gl.LINEAR);\r\n                this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_MAG_FILTER, this.gl.LINEAR);\r\n                this.gl.bindTexture(this.gl.TEXTURE_2D, null);\r\n                ret = this.gl.createFramebuffer();\r\n                this.gl.bindFramebuffer(this.gl.FRAMEBUFFER, ret);\r\n                this.gl.framebufferTexture2D(this.gl.FRAMEBUFFER, this.gl.COLOR_ATTACHMENT0, this.gl.TEXTURE_2D, this._colorBuffer, 0);\r\n                this.gl.bindFramebuffer(this.gl.FRAMEBUFFER, s_fbo);\r\n                this._maskTexture = new CubismRenderTextureResource(this._currentFrameNo, ret);\r\n            }\r\n            return ret;\r\n        };\r\n        CubismClippingManager_WebGL.prototype.setGL = function (gl) {\r\n            this.gl = gl;\r\n        };\r\n        CubismClippingManager_WebGL.prototype.calcClippedDrawTotalBounds = function (model, clippingContext) {\r\n            var clippedDrawTotalMinX = Number.MAX_VALUE;\r\n            var clippedDrawTotalMinY = Number.MAX_VALUE;\r\n            var clippedDrawTotalMaxX = Number.MIN_VALUE;\r\n            var clippedDrawTotalMaxY = Number.MIN_VALUE;\r\n            var clippedDrawCount = clippingContext._clippedDrawableIndexList.length;\r\n            for (var clippedDrawableIndex = 0; clippedDrawableIndex < clippedDrawCount; clippedDrawableIndex++) {\r\n                var drawableIndex = clippingContext._clippedDrawableIndexList[clippedDrawableIndex];\r\n                var drawableVertexCount = model.getDrawableVertexCount(drawableIndex);\r\n                var drawableVertexes = model.getDrawableVertices(drawableIndex);\r\n                var minX = Number.MAX_VALUE;\r\n                var minY = Number.MAX_VALUE;\r\n                var maxX = Number.MIN_VALUE;\r\n                var maxY = Number.MIN_VALUE;\r\n                var loop = drawableVertexCount * Constant.vertexStep;\r\n                for (var pi = Constant.vertexOffset; pi < loop; pi += Constant.vertexStep) {\r\n                    var x = drawableVertexes[pi];\r\n                    var y = drawableVertexes[pi + 1];\r\n                    if (x < minX) {\r\n                        minX = x;\r\n                    }\r\n                    if (x > maxX) {\r\n                        maxX = x;\r\n                    }\r\n                    if (y < minY) {\r\n                        minY = y;\r\n                    }\r\n                    if (y > maxY) {\r\n                        maxY = y;\r\n                    }\r\n                }\r\n                if (minX == Number.MAX_VALUE) {\r\n                    continue;\r\n                }\r\n                if (minX < clippedDrawTotalMinX) {\r\n                    clippedDrawTotalMinX = minX;\r\n                }\r\n                if (minY < clippedDrawTotalMinY) {\r\n                    clippedDrawTotalMinY = minY;\r\n                }\r\n                if (maxX > clippedDrawTotalMaxX) {\r\n                    clippedDrawTotalMaxX = maxX;\r\n                }\r\n                if (maxY > clippedDrawTotalMaxY) {\r\n                    clippedDrawTotalMaxY = maxY;\r\n                }\r\n                if (clippedDrawTotalMinX == Number.MAX_VALUE) {\r\n                    clippingContext._allClippedDrawRect.x = 0.0;\r\n                    clippingContext._allClippedDrawRect.y = 0.0;\r\n                    clippingContext._allClippedDrawRect.width = 0.0;\r\n                    clippingContext._allClippedDrawRect.height = 0.0;\r\n                    clippingContext._isUsing = false;\r\n                }\r\n                else {\r\n                    clippingContext._isUsing = true;\r\n                    var w = clippedDrawTotalMaxX - clippedDrawTotalMinX;\r\n                    var h = clippedDrawTotalMaxY - clippedDrawTotalMinY;\r\n                    clippingContext._allClippedDrawRect.x = clippedDrawTotalMinX;\r\n                    clippingContext._allClippedDrawRect.y = clippedDrawTotalMinY;\r\n                    clippingContext._allClippedDrawRect.width = w;\r\n                    clippingContext._allClippedDrawRect.height = h;\r\n                }\r\n            }\r\n        };\r\n        CubismClippingManager_WebGL.prototype.release = function () {\r\n            for (var i = 0; i < this._clippingContextListForMask.getSize(); i++) {\r\n                if (this._clippingContextListForMask.at(i)) {\r\n                    this._clippingContextListForMask.at(i).release();\r\n                    this._clippingContextListForMask.set(i, void 0);\r\n                }\r\n                this._clippingContextListForMask.set(i, null);\r\n            }\r\n            this._clippingContextListForMask = null;\r\n            for (var i = 0; i < this._clippingContextListForDraw.getSize(); i++) {\r\n                this._clippingContextListForDraw.set(i, null);\r\n            }\r\n            this._clippingContextListForDraw = null;\r\n            if (this._maskTexture) {\r\n                this.gl.deleteFramebuffer(this._maskTexture.texture);\r\n                this._maskTexture = null;\r\n            }\r\n            for (var i = 0; i < this._channelColors.getSize(); i++) {\r\n                this._channelColors.set(i, null);\r\n            }\r\n            this._channelColors = null;\r\n            this.gl.deleteTexture(this._colorBuffer);\r\n            this._colorBuffer = null;\r\n        };\r\n        CubismClippingManager_WebGL.prototype.initialize = function (model, drawableCount, drawableMasks, drawableMaskCounts) {\r\n            for (var i = 0; i < drawableCount; i++) {\r\n                if (drawableMaskCounts[i] <= 0) {\r\n                    this._clippingContextListForDraw.pushBack(null);\r\n                    continue;\r\n                }\r\n                var clippingContext = this.findSameClip(drawableMasks[i], drawableMaskCounts[i]);\r\n                if (clippingContext == null) {\r\n                    clippingContext = new CubismClippingContext(this, drawableMasks[i], drawableMaskCounts[i]);\r\n                    this._clippingContextListForMask.pushBack(clippingContext);\r\n                }\r\n                clippingContext.addClippedDrawable(i);\r\n                this._clippingContextListForDraw.pushBack(clippingContext);\r\n            }\r\n        };\r\n        CubismClippingManager_WebGL.prototype.setupClippingContext = function (model, renderer) {\r\n            this._currentFrameNo++;\r\n            var usingClipCount = 0;\r\n            for (var clipIndex = 0; clipIndex < this._clippingContextListForMask.getSize(); clipIndex++) {\r\n                var cc = this._clippingContextListForMask.at(clipIndex);\r\n                this.calcClippedDrawTotalBounds(model, cc);\r\n                if (cc._isUsing) {\r\n                    usingClipCount++;\r\n                }\r\n            }\r\n            if (usingClipCount > 0) {\r\n                this.gl.viewport(0, 0, this._clippingMaskBufferSize, this._clippingMaskBufferSize);\r\n                this._maskRenderTexture = this.getMaskRenderTexture();\r\n                var modelToWorldF = renderer.getMvpMatrix();\r\n                renderer.preDraw();\r\n                this.setupLayoutBounds(usingClipCount);\r\n                this.gl.bindFramebuffer(this.gl.FRAMEBUFFER, this._maskRenderTexture);\r\n                this.gl.clearColor(1.0, 1.0, 1.0, 1.0);\r\n                this.gl.clear(this.gl.COLOR_BUFFER_BIT);\r\n                for (var clipIndex = 0; clipIndex < this._clippingContextListForMask.getSize(); clipIndex++) {\r\n                    var clipContext = this._clippingContextListForMask.at(clipIndex);\r\n                    var allClipedDrawRect = clipContext._allClippedDrawRect;\r\n                    var layoutBoundsOnTex01 = clipContext._layoutBounds;\r\n                    var MARGIN = 0.05;\r\n                    this._tmpBoundsOnModel.setRect(allClipedDrawRect);\r\n                    this._tmpBoundsOnModel.expand(allClipedDrawRect.width * MARGIN, allClipedDrawRect.height * MARGIN);\r\n                    var scaleX = layoutBoundsOnTex01.width / this._tmpBoundsOnModel.width;\r\n                    var scaleY = layoutBoundsOnTex01.height / this._tmpBoundsOnModel.height;\r\n                    {\r\n                        this._tmpMatrix.loadIdentity();\r\n                        {\r\n                            this._tmpMatrix.translateRelative(-1.0, -1.0);\r\n                            this._tmpMatrix.scaleRelative(2.0, 2.0);\r\n                        }\r\n                        {\r\n                            this._tmpMatrix.translateRelative(layoutBoundsOnTex01.x, layoutBoundsOnTex01.y);\r\n                            this._tmpMatrix.scaleRelative(scaleX, scaleY);\r\n                            this._tmpMatrix.translateRelative(-this._tmpBoundsOnModel.x, -this._tmpBoundsOnModel.y);\r\n                        }\r\n                        this._tmpMatrixForMask.setMatrix(this._tmpMatrix.getArray());\r\n                    }\r\n                    {\r\n                        this._tmpMatrix.loadIdentity();\r\n                        {\r\n                            this._tmpMatrix.translateRelative(layoutBoundsOnTex01.x, layoutBoundsOnTex01.y);\r\n                            this._tmpMatrix.scaleRelative(scaleX, scaleY);\r\n                            this._tmpMatrix.translateRelative(-this._tmpBoundsOnModel.x, -this._tmpBoundsOnModel.y);\r\n                        }\r\n                        this._tmpMatrixForDraw.setMatrix(this._tmpMatrix.getArray());\r\n                    }\r\n                    clipContext._matrixForMask.setMatrix(this._tmpMatrixForMask.getArray());\r\n                    clipContext._matrixForDraw.setMatrix(this._tmpMatrixForDraw.getArray());\r\n                    var clipDrawCount = clipContext._clippingIdCount;\r\n                    for (var i = 0; i < clipDrawCount; i++) {\r\n                        var clipDrawIndex = clipContext._clippingIdList[i];\r\n                        if (!model.getDrawableDynamicFlagVertexPositionsDidChange(clipDrawIndex)) {\r\n                            continue;\r\n                        }\r\n                        renderer.setIsCulling(model.getDrawableCulling(clipDrawIndex) != false);\r\n                        renderer.setClippingContextBufferForMask(clipContext);\r\n                        renderer.drawMesh(model.getDrawableTextureIndices(clipDrawIndex), model.getDrawableVertexIndexCount(clipDrawIndex), model.getDrawableVertexCount(clipDrawIndex), model.getDrawableVertexIndices(clipDrawIndex), model.getDrawableVertices(clipDrawIndex), model.getDrawableVertexUvs(clipDrawIndex), model.getDrawableOpacity(clipDrawIndex), CubismBlendMode.CubismBlendMode_Normal, false);\r\n                    }\r\n                }\r\n                this.gl.bindFramebuffer(this.gl.FRAMEBUFFER, s_fbo);\r\n                renderer.setClippingContextBufferForMask(null);\r\n                this.gl.viewport(s_viewport[0], s_viewport[1], s_viewport[2], s_viewport[3]);\r\n            }\r\n        };\r\n        CubismClippingManager_WebGL.prototype.findSameClip = function (drawableMasks, drawableMaskCounts) {\r\n            for (var i = 0; i < this._clippingContextListForMask.getSize(); i++) {\r\n                var clippingContext = this._clippingContextListForMask.at(i);\r\n                var count = clippingContext._clippingIdCount;\r\n                if (count != drawableMaskCounts) {\r\n                    continue;\r\n                }\r\n                var sameCount = 0;\r\n                for (var j = 0; j < count; j++) {\r\n                    var clipId = clippingContext._clippingIdList[j];\r\n                    for (var k = 0; k < count; k++) {\r\n                        if (drawableMasks[k] == clipId) {\r\n                            sameCount++;\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n                if (sameCount == count) {\r\n                    return clippingContext;\r\n                }\r\n            }\r\n            return null;\r\n        };\r\n        CubismClippingManager_WebGL.prototype.setupLayoutBounds = function (usingClipCount) {\r\n            var div = usingClipCount / ColorChannelCount;\r\n            var mod = usingClipCount % ColorChannelCount;\r\n            div = ~~div;\r\n            mod = ~~mod;\r\n            var curClipIndex = 0;\r\n            for (var channelNo = 0; channelNo < ColorChannelCount; channelNo++) {\r\n                var layoutCount = div + (channelNo < mod ? 1 : 0);\r\n                if (layoutCount == 0) {\r\n                }\r\n                else if (layoutCount == 1) {\r\n                    var clipContext = this._clippingContextListForMask.at(curClipIndex++);\r\n                    clipContext._layoutChannelNo = channelNo;\r\n                    clipContext._layoutBounds.x = 0.0;\r\n                    clipContext._layoutBounds.y = 0.0;\r\n                    clipContext._layoutBounds.width = 1.0;\r\n                    clipContext._layoutBounds.height = 1.0;\r\n                }\r\n                else if (layoutCount == 2) {\r\n                    for (var i = 0; i < layoutCount; i++) {\r\n                        var xpos = i % 2;\r\n                        xpos = ~~xpos;\r\n                        var cc = this._clippingContextListForMask.at(curClipIndex++);\r\n                        cc._layoutChannelNo = channelNo;\r\n                        cc._layoutBounds.x = xpos * 0.5;\r\n                        cc._layoutBounds.y = 0.0;\r\n                        cc._layoutBounds.width = 0.5;\r\n                        cc._layoutBounds.height = 1.0;\r\n                    }\r\n                }\r\n                else if (layoutCount <= 4) {\r\n                    for (var i = 0; i < layoutCount; i++) {\r\n                        var xpos = i % 2;\r\n                        var ypos = i / 2;\r\n                        xpos = ~~xpos;\r\n                        ypos = ~~ypos;\r\n                        var cc = this._clippingContextListForMask.at(curClipIndex++);\r\n                        cc._layoutChannelNo = channelNo;\r\n                        cc._layoutBounds.x = xpos * 0.5;\r\n                        cc._layoutBounds.y = ypos * 0.5;\r\n                        cc._layoutBounds.width = 0.5;\r\n                        cc._layoutBounds.height = 0.5;\r\n                    }\r\n                }\r\n                else if (layoutCount <= 9) {\r\n                    for (var i = 0; i < layoutCount; i++) {\r\n                        var xpos = i % 3;\r\n                        var ypos = i / 3;\r\n                        xpos = ~~xpos;\r\n                        ypos = ~~ypos;\r\n                        var cc = this._clippingContextListForMask.at(curClipIndex++);\r\n                        cc._layoutChannelNo = channelNo;\r\n                        cc._layoutBounds.x = xpos / 3.0;\r\n                        cc._layoutBounds.y = ypos / 3.0;\r\n                        cc._layoutBounds.width = 1.0 / 3.0;\r\n                        cc._layoutBounds.height = 1.0 / 3.0;\r\n                    }\r\n                }\r\n                else {\r\n                    cubismdebug_1.CubismLogError('not supported mask count : {0}', layoutCount);\r\n                }\r\n            }\r\n        };\r\n        CubismClippingManager_WebGL.prototype.getColorBuffer = function () {\r\n            return this._colorBuffer;\r\n        };\r\n        CubismClippingManager_WebGL.prototype.getClippingContextListForDraw = function () {\r\n            return this._clippingContextListForDraw;\r\n        };\r\n        CubismClippingManager_WebGL.prototype.setClippingMaskBufferSize = function (size) {\r\n            this._clippingMaskBufferSize = size;\r\n        };\r\n        CubismClippingManager_WebGL.prototype.getClippingMaskBufferSize = function () {\r\n            return this._clippingMaskBufferSize;\r\n        };\r\n        return CubismClippingManager_WebGL;\r\n    }());\r\n    Live2DCubismFramework.CubismClippingManager_WebGL = CubismClippingManager_WebGL;\r\n    var CubismRenderTextureResource = (function () {\r\n        function CubismRenderTextureResource(frameNo, texture) {\r\n            this.frameNo = frameNo;\r\n            this.texture = texture;\r\n        }\r\n        return CubismRenderTextureResource;\r\n    }());\r\n    Live2DCubismFramework.CubismRenderTextureResource = CubismRenderTextureResource;\r\n    var CubismClippingContext = (function () {\r\n        function CubismClippingContext(manager, clippingDrawableIndices, clipCount) {\r\n            this._owner = manager;\r\n            this._clippingIdList = clippingDrawableIndices;\r\n            this._clippingIdCount = clipCount;\r\n            this._allClippedDrawRect = new csmRect();\r\n            this._layoutBounds = new csmRect();\r\n            this._clippedDrawableIndexList = [];\r\n            this._matrixForMask = new CubismMatrix44();\r\n            this._matrixForDraw = new CubismMatrix44();\r\n        }\r\n        CubismClippingContext.prototype.release = function () {\r\n            if (this._layoutBounds != null) {\r\n                this._layoutBounds = null;\r\n            }\r\n            if (this._allClippedDrawRect != null) {\r\n                this._allClippedDrawRect = null;\r\n            }\r\n            if (this._clippedDrawableIndexList != null) {\r\n                this._clippedDrawableIndexList = null;\r\n            }\r\n        };\r\n        CubismClippingContext.prototype.addClippedDrawable = function (drawableIndex) {\r\n            this._clippedDrawableIndexList.push(drawableIndex);\r\n        };\r\n        CubismClippingContext.prototype.getClippingManager = function () {\r\n            return this._owner;\r\n        };\r\n        CubismClippingContext.prototype.setGl = function (gl) {\r\n            this._owner.setGL(gl);\r\n        };\r\n        return CubismClippingContext;\r\n    }());\r\n    Live2DCubismFramework.CubismClippingContext = CubismClippingContext;\r\n    var CubismShader_WebGL = (function () {\r\n        function CubismShader_WebGL() {\r\n            this._shaderSets = new csmVector();\r\n        }\r\n        CubismShader_WebGL.getInstance = function () {\r\n            if (s_instance == null) {\r\n                s_instance = new CubismShader_WebGL();\r\n                return s_instance;\r\n            }\r\n            return s_instance;\r\n        };\r\n        CubismShader_WebGL.deleteInstance = function () {\r\n            if (s_instance) {\r\n                s_instance.release();\r\n                s_instance = null;\r\n            }\r\n        };\r\n        CubismShader_WebGL.prototype.release = function () {\r\n            this.releaseShaderProgram();\r\n        };\r\n        CubismShader_WebGL.prototype.setupShaderProgram = function (renderer, textureId, vertexCount, vertexArray, indexArray, uvArray, bufferData, opacity, colorBlendMode, baseColor, isPremultipliedAlpha, matrix4x4, invertedMask) {\r\n            if (!isPremultipliedAlpha) {\r\n                cubismdebug_1.CubismLogError('NoPremultipliedAlpha is not allowed');\r\n            }\r\n            if (this._shaderSets.getSize() == 0) {\r\n                this.generateShaders();\r\n            }\r\n            var SRC_COLOR;\r\n            var DST_COLOR;\r\n            var SRC_ALPHA;\r\n            var DST_ALPHA;\r\n            if (renderer.getClippingContextBufferForMask() != null) {\r\n                var shaderSet = this._shaderSets.at(ShaderNames.ShaderNames_SetupMask);\r\n                this.gl.useProgram(shaderSet.shaderProgram);\r\n                this.gl.activeTexture(this.gl.TEXTURE0);\r\n                this.gl.bindTexture(this.gl.TEXTURE_2D, textureId);\r\n                this.gl.uniform1i(shaderSet.samplerTexture0Location, 0);\r\n                if (bufferData.vertex == null) {\r\n                    bufferData.vertex = this.gl.createBuffer();\r\n                }\r\n                this.gl.bindBuffer(this.gl.ARRAY_BUFFER, bufferData.vertex);\r\n                this.gl.bufferData(this.gl.ARRAY_BUFFER, vertexArray, this.gl.DYNAMIC_DRAW);\r\n                this.gl.enableVertexAttribArray(shaderSet.attributePositionLocation);\r\n                this.gl.vertexAttribPointer(shaderSet.attributePositionLocation, 2, this.gl.FLOAT, false, 0, 0);\r\n                if (bufferData.uv == null) {\r\n                    bufferData.uv = this.gl.createBuffer();\r\n                }\r\n                this.gl.bindBuffer(this.gl.ARRAY_BUFFER, bufferData.uv);\r\n                this.gl.bufferData(this.gl.ARRAY_BUFFER, uvArray, this.gl.DYNAMIC_DRAW);\r\n                this.gl.enableVertexAttribArray(shaderSet.attributeTexCoordLocation);\r\n                this.gl.vertexAttribPointer(shaderSet.attributeTexCoordLocation, 2, this.gl.FLOAT, false, 0, 0);\r\n                var channelNo = renderer.getClippingContextBufferForMask()\r\n                    ._layoutChannelNo;\r\n                var colorChannel = renderer\r\n                    .getClippingContextBufferForMask()\r\n                    .getClippingManager()\r\n                    .getChannelFlagAsColor(channelNo);\r\n                this.gl.uniform4f(shaderSet.uniformChannelFlagLocation, colorChannel.R, colorChannel.G, colorChannel.B, colorChannel.A);\r\n                this.gl.uniformMatrix4fv(shaderSet.uniformClipMatrixLocation, false, renderer.getClippingContextBufferForMask()._matrixForMask.getArray());\r\n                var rect = renderer.getClippingContextBufferForMask()\r\n                    ._layoutBounds;\r\n                this.gl.uniform4f(shaderSet.uniformBaseColorLocation, rect.x * 2.0 - 1.0, rect.y * 2.0 - 1.0, rect.getRight() * 2.0 - 1.0, rect.getBottom() * 2.0 - 1.0);\r\n                SRC_COLOR = this.gl.ZERO;\r\n                DST_COLOR = this.gl.ONE_MINUS_SRC_COLOR;\r\n                SRC_ALPHA = this.gl.ZERO;\r\n                DST_ALPHA = this.gl.ONE_MINUS_SRC_ALPHA;\r\n            }\r\n            else {\r\n                var masked = renderer.getClippingContextBufferForDraw() != null;\r\n                var offset = masked ? (invertedMask ? 2 : 1) : 0;\r\n                var shaderSet = new CubismShaderSet();\r\n                switch (colorBlendMode) {\r\n                    case CubismBlendMode.CubismBlendMode_Normal:\r\n                    default:\r\n                        shaderSet = this._shaderSets.at(ShaderNames.ShaderNames_NormalPremultipliedAlpha + offset);\r\n                        SRC_COLOR = this.gl.ONE;\r\n                        DST_COLOR = this.gl.ONE_MINUS_SRC_ALPHA;\r\n                        SRC_ALPHA = this.gl.ONE;\r\n                        DST_ALPHA = this.gl.ONE_MINUS_SRC_ALPHA;\r\n                        break;\r\n                    case CubismBlendMode.CubismBlendMode_Additive:\r\n                        shaderSet = this._shaderSets.at(ShaderNames.ShaderNames_AddPremultipliedAlpha + offset);\r\n                        SRC_COLOR = this.gl.ONE;\r\n                        DST_COLOR = this.gl.ONE;\r\n                        SRC_ALPHA = this.gl.ZERO;\r\n                        DST_ALPHA = this.gl.ONE;\r\n                        break;\r\n                    case CubismBlendMode.CubismBlendMode_Multiplicative:\r\n                        shaderSet = this._shaderSets.at(ShaderNames.ShaderNames_MultPremultipliedAlpha + offset);\r\n                        SRC_COLOR = this.gl.DST_COLOR;\r\n                        DST_COLOR = this.gl.ONE_MINUS_SRC_ALPHA;\r\n                        SRC_ALPHA = this.gl.ZERO;\r\n                        DST_ALPHA = this.gl.ONE;\r\n                        break;\r\n                }\r\n                this.gl.useProgram(shaderSet.shaderProgram);\r\n                if (bufferData.vertex == null) {\r\n                    bufferData.vertex = this.gl.createBuffer();\r\n                }\r\n                this.gl.bindBuffer(this.gl.ARRAY_BUFFER, bufferData.vertex);\r\n                this.gl.bufferData(this.gl.ARRAY_BUFFER, vertexArray, this.gl.DYNAMIC_DRAW);\r\n                this.gl.enableVertexAttribArray(shaderSet.attributePositionLocation);\r\n                this.gl.vertexAttribPointer(shaderSet.attributePositionLocation, 2, this.gl.FLOAT, false, 0, 0);\r\n                if (bufferData.uv == null) {\r\n                    bufferData.uv = this.gl.createBuffer();\r\n                }\r\n                this.gl.bindBuffer(this.gl.ARRAY_BUFFER, bufferData.uv);\r\n                this.gl.bufferData(this.gl.ARRAY_BUFFER, uvArray, this.gl.DYNAMIC_DRAW);\r\n                this.gl.enableVertexAttribArray(shaderSet.attributeTexCoordLocation);\r\n                this.gl.vertexAttribPointer(shaderSet.attributeTexCoordLocation, 2, this.gl.FLOAT, false, 0, 0);\r\n                if (masked) {\r\n                    this.gl.activeTexture(this.gl.TEXTURE1);\r\n                    var tex = renderer\r\n                        .getClippingContextBufferForDraw()\r\n                        .getClippingManager()\r\n                        .getColorBuffer();\r\n                    this.gl.bindTexture(this.gl.TEXTURE_2D, tex);\r\n                    this.gl.uniform1i(shaderSet.samplerTexture1Location, 1);\r\n                    this.gl.uniformMatrix4fv(shaderSet.uniformClipMatrixLocation, false, renderer.getClippingContextBufferForDraw()._matrixForDraw.getArray());\r\n                    var channelNo = renderer.getClippingContextBufferForDraw()\r\n                        ._layoutChannelNo;\r\n                    var colorChannel = renderer\r\n                        .getClippingContextBufferForDraw()\r\n                        .getClippingManager()\r\n                        .getChannelFlagAsColor(channelNo);\r\n                    this.gl.uniform4f(shaderSet.uniformChannelFlagLocation, colorChannel.R, colorChannel.G, colorChannel.B, colorChannel.A);\r\n                }\r\n                this.gl.activeTexture(this.gl.TEXTURE0);\r\n                this.gl.bindTexture(this.gl.TEXTURE_2D, textureId);\r\n                this.gl.uniform1i(shaderSet.samplerTexture0Location, 0);\r\n                this.gl.uniformMatrix4fv(shaderSet.uniformMatrixLocation, false, matrix4x4.getArray());\r\n                this.gl.uniform4f(shaderSet.uniformBaseColorLocation, baseColor.R, baseColor.G, baseColor.B, baseColor.A);\r\n            }\r\n            if (bufferData.index == null) {\r\n                bufferData.index = this.gl.createBuffer();\r\n            }\r\n            this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER, bufferData.index);\r\n            this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER, indexArray, this.gl.DYNAMIC_DRAW);\r\n            this.gl.blendFuncSeparate(SRC_COLOR, DST_COLOR, SRC_ALPHA, DST_ALPHA);\r\n        };\r\n        CubismShader_WebGL.prototype.releaseShaderProgram = function () {\r\n            for (var i = 0; i < this._shaderSets.getSize(); i++) {\r\n                this.gl.deleteProgram(this._shaderSets.at(i).shaderProgram);\r\n                this._shaderSets.at(i).shaderProgram = 0;\r\n                this._shaderSets.set(i, void 0);\r\n                this._shaderSets.set(i, null);\r\n            }\r\n        };\r\n        CubismShader_WebGL.prototype.generateShaders = function () {\r\n            for (var i = 0; i < shaderCount; i++) {\r\n                this._shaderSets.pushBack(new CubismShaderSet());\r\n            }\r\n            this._shaderSets.at(0).shaderProgram = this.loadShaderProgram(Live2DCubismFramework.vertexShaderSrcSetupMask, Live2DCubismFramework.fragmentShaderSrcsetupMask);\r\n            this._shaderSets.at(1).shaderProgram = this.loadShaderProgram(Live2DCubismFramework.vertexShaderSrc, Live2DCubismFramework.fragmentShaderSrcPremultipliedAlpha);\r\n            this._shaderSets.at(2).shaderProgram = this.loadShaderProgram(Live2DCubismFramework.vertexShaderSrcMasked, Live2DCubismFramework.fragmentShaderSrcMaskPremultipliedAlpha);\r\n            this._shaderSets.at(3).shaderProgram = this.loadShaderProgram(Live2DCubismFramework.vertexShaderSrcMasked, Live2DCubismFramework.fragmentShaderSrcMaskInvertedPremultipliedAlpha);\r\n            this._shaderSets.at(4).shaderProgram = this._shaderSets.at(1).shaderProgram;\r\n            this._shaderSets.at(5).shaderProgram = this._shaderSets.at(2).shaderProgram;\r\n            this._shaderSets.at(6).shaderProgram = this._shaderSets.at(3).shaderProgram;\r\n            this._shaderSets.at(7).shaderProgram = this._shaderSets.at(1).shaderProgram;\r\n            this._shaderSets.at(8).shaderProgram = this._shaderSets.at(2).shaderProgram;\r\n            this._shaderSets.at(9).shaderProgram = this._shaderSets.at(3).shaderProgram;\r\n            this._shaderSets.at(0).attributePositionLocation = this.gl.getAttribLocation(this._shaderSets.at(0).shaderProgram, 'a_position');\r\n            this._shaderSets.at(0).attributeTexCoordLocation = this.gl.getAttribLocation(this._shaderSets.at(0).shaderProgram, 'a_texCoord');\r\n            this._shaderSets.at(0).samplerTexture0Location = this.gl.getUniformLocation(this._shaderSets.at(0).shaderProgram, 's_texture0');\r\n            this._shaderSets.at(0).uniformClipMatrixLocation = this.gl.getUniformLocation(this._shaderSets.at(0).shaderProgram, 'u_clipMatrix');\r\n            this._shaderSets.at(0).uniformChannelFlagLocation = this.gl.getUniformLocation(this._shaderSets.at(0).shaderProgram, 'u_channelFlag');\r\n            this._shaderSets.at(0).uniformBaseColorLocation = this.gl.getUniformLocation(this._shaderSets.at(0).shaderProgram, 'u_baseColor');\r\n            this._shaderSets.at(1).attributePositionLocation = this.gl.getAttribLocation(this._shaderSets.at(1).shaderProgram, 'a_position');\r\n            this._shaderSets.at(1).attributeTexCoordLocation = this.gl.getAttribLocation(this._shaderSets.at(1).shaderProgram, 'a_texCoord');\r\n            this._shaderSets.at(1).samplerTexture0Location = this.gl.getUniformLocation(this._shaderSets.at(1).shaderProgram, 's_texture0');\r\n            this._shaderSets.at(1).uniformMatrixLocation = this.gl.getUniformLocation(this._shaderSets.at(1).shaderProgram, 'u_matrix');\r\n            this._shaderSets.at(1).uniformBaseColorLocation = this.gl.getUniformLocation(this._shaderSets.at(1).shaderProgram, 'u_baseColor');\r\n            this._shaderSets.at(2).attributePositionLocation = this.gl.getAttribLocation(this._shaderSets.at(2).shaderProgram, 'a_position');\r\n            this._shaderSets.at(2).attributeTexCoordLocation = this.gl.getAttribLocation(this._shaderSets.at(2).shaderProgram, 'a_texCoord');\r\n            this._shaderSets.at(2).samplerTexture0Location = this.gl.getUniformLocation(this._shaderSets.at(2).shaderProgram, 's_texture0');\r\n            this._shaderSets.at(2).samplerTexture1Location = this.gl.getUniformLocation(this._shaderSets.at(2).shaderProgram, 's_texture1');\r\n            this._shaderSets.at(2).uniformMatrixLocation = this.gl.getUniformLocation(this._shaderSets.at(2).shaderProgram, 'u_matrix');\r\n            this._shaderSets.at(2).uniformClipMatrixLocation = this.gl.getUniformLocation(this._shaderSets.at(2).shaderProgram, 'u_clipMatrix');\r\n            this._shaderSets.at(2).uniformChannelFlagLocation = this.gl.getUniformLocation(this._shaderSets.at(2).shaderProgram, 'u_channelFlag');\r\n            this._shaderSets.at(2).uniformBaseColorLocation = this.gl.getUniformLocation(this._shaderSets.at(2).shaderProgram, 'u_baseColor');\r\n            this._shaderSets.at(3).attributePositionLocation = this.gl.getAttribLocation(this._shaderSets.at(3).shaderProgram, 'a_position');\r\n            this._shaderSets.at(3).attributeTexCoordLocation = this.gl.getAttribLocation(this._shaderSets.at(3).shaderProgram, 'a_texCoord');\r\n            this._shaderSets.at(3).samplerTexture0Location = this.gl.getUniformLocation(this._shaderSets.at(3).shaderProgram, 's_texture0');\r\n            this._shaderSets.at(3).samplerTexture1Location = this.gl.getUniformLocation(this._shaderSets.at(3).shaderProgram, 's_texture1');\r\n            this._shaderSets.at(3).uniformMatrixLocation = this.gl.getUniformLocation(this._shaderSets.at(3).shaderProgram, 'u_matrix');\r\n            this._shaderSets.at(3).uniformClipMatrixLocation = this.gl.getUniformLocation(this._shaderSets.at(3).shaderProgram, 'u_clipMatrix');\r\n            this._shaderSets.at(3).uniformChannelFlagLocation = this.gl.getUniformLocation(this._shaderSets.at(3).shaderProgram, 'u_channelFlag');\r\n            this._shaderSets.at(3).uniformBaseColorLocation = this.gl.getUniformLocation(this._shaderSets.at(3).shaderProgram, 'u_baseColor');\r\n            this._shaderSets.at(4).attributePositionLocation = this.gl.getAttribLocation(this._shaderSets.at(4).shaderProgram, 'a_position');\r\n            this._shaderSets.at(4).attributeTexCoordLocation = this.gl.getAttribLocation(this._shaderSets.at(4).shaderProgram, 'a_texCoord');\r\n            this._shaderSets.at(4).samplerTexture0Location = this.gl.getUniformLocation(this._shaderSets.at(4).shaderProgram, 's_texture0');\r\n            this._shaderSets.at(4).uniformMatrixLocation = this.gl.getUniformLocation(this._shaderSets.at(4).shaderProgram, 'u_matrix');\r\n            this._shaderSets.at(4).uniformBaseColorLocation = this.gl.getUniformLocation(this._shaderSets.at(4).shaderProgram, 'u_baseColor');\r\n            this._shaderSets.at(5).attributePositionLocation = this.gl.getAttribLocation(this._shaderSets.at(5).shaderProgram, 'a_position');\r\n            this._shaderSets.at(5).attributeTexCoordLocation = this.gl.getAttribLocation(this._shaderSets.at(5).shaderProgram, 'a_texCoord');\r\n            this._shaderSets.at(5).samplerTexture0Location = this.gl.getUniformLocation(this._shaderSets.at(5).shaderProgram, 's_texture0');\r\n            this._shaderSets.at(5).samplerTexture1Location = this.gl.getUniformLocation(this._shaderSets.at(5).shaderProgram, 's_texture1');\r\n            this._shaderSets.at(5).uniformMatrixLocation = this.gl.getUniformLocation(this._shaderSets.at(5).shaderProgram, 'u_matrix');\r\n            this._shaderSets.at(5).uniformClipMatrixLocation = this.gl.getUniformLocation(this._shaderSets.at(5).shaderProgram, 'u_clipMatrix');\r\n            this._shaderSets.at(5).uniformChannelFlagLocation = this.gl.getUniformLocation(this._shaderSets.at(5).shaderProgram, 'u_channelFlag');\r\n            this._shaderSets.at(5).uniformBaseColorLocation = this.gl.getUniformLocation(this._shaderSets.at(5).shaderProgram, 'u_baseColor');\r\n            this._shaderSets.at(6).attributePositionLocation = this.gl.getAttribLocation(this._shaderSets.at(6).shaderProgram, 'a_position');\r\n            this._shaderSets.at(6).attributeTexCoordLocation = this.gl.getAttribLocation(this._shaderSets.at(6).shaderProgram, 'a_texCoord');\r\n            this._shaderSets.at(6).samplerTexture0Location = this.gl.getUniformLocation(this._shaderSets.at(6).shaderProgram, 's_texture0');\r\n            this._shaderSets.at(6).samplerTexture1Location = this.gl.getUniformLocation(this._shaderSets.at(6).shaderProgram, 's_texture1');\r\n            this._shaderSets.at(6).uniformMatrixLocation = this.gl.getUniformLocation(this._shaderSets.at(6).shaderProgram, 'u_matrix');\r\n            this._shaderSets.at(6).uniformClipMatrixLocation = this.gl.getUniformLocation(this._shaderSets.at(6).shaderProgram, 'u_clipMatrix');\r\n            this._shaderSets.at(6).uniformChannelFlagLocation = this.gl.getUniformLocation(this._shaderSets.at(6).shaderProgram, 'u_channelFlag');\r\n            this._shaderSets.at(6).uniformBaseColorLocation = this.gl.getUniformLocation(this._shaderSets.at(6).shaderProgram, 'u_baseColor');\r\n            this._shaderSets.at(7).attributePositionLocation = this.gl.getAttribLocation(this._shaderSets.at(7).shaderProgram, 'a_position');\r\n            this._shaderSets.at(7).attributeTexCoordLocation = this.gl.getAttribLocation(this._shaderSets.at(7).shaderProgram, 'a_texCoord');\r\n            this._shaderSets.at(7).samplerTexture0Location = this.gl.getUniformLocation(this._shaderSets.at(7).shaderProgram, 's_texture0');\r\n            this._shaderSets.at(7).uniformMatrixLocation = this.gl.getUniformLocation(this._shaderSets.at(7).shaderProgram, 'u_matrix');\r\n            this._shaderSets.at(7).uniformBaseColorLocation = this.gl.getUniformLocation(this._shaderSets.at(7).shaderProgram, 'u_baseColor');\r\n            this._shaderSets.at(8).attributePositionLocation = this.gl.getAttribLocation(this._shaderSets.at(8).shaderProgram, 'a_position');\r\n            this._shaderSets.at(8).attributeTexCoordLocation = this.gl.getAttribLocation(this._shaderSets.at(8).shaderProgram, 'a_texCoord');\r\n            this._shaderSets.at(8).samplerTexture0Location = this.gl.getUniformLocation(this._shaderSets.at(8).shaderProgram, 's_texture0');\r\n            this._shaderSets.at(8).samplerTexture1Location = this.gl.getUniformLocation(this._shaderSets.at(8).shaderProgram, 's_texture1');\r\n            this._shaderSets.at(8).uniformMatrixLocation = this.gl.getUniformLocation(this._shaderSets.at(8).shaderProgram, 'u_matrix');\r\n            this._shaderSets.at(8).uniformClipMatrixLocation = this.gl.getUniformLocation(this._shaderSets.at(8).shaderProgram, 'u_clipMatrix');\r\n            this._shaderSets.at(8).uniformChannelFlagLocation = this.gl.getUniformLocation(this._shaderSets.at(8).shaderProgram, 'u_channelFlag');\r\n            this._shaderSets.at(8).uniformBaseColorLocation = this.gl.getUniformLocation(this._shaderSets.at(8).shaderProgram, 'u_baseColor');\r\n            this._shaderSets.at(9).attributePositionLocation = this.gl.getAttribLocation(this._shaderSets.at(9).shaderProgram, 'a_position');\r\n            this._shaderSets.at(9).attributeTexCoordLocation = this.gl.getAttribLocation(this._shaderSets.at(9).shaderProgram, 'a_texCoord');\r\n            this._shaderSets.at(9).samplerTexture0Location = this.gl.getUniformLocation(this._shaderSets.at(9).shaderProgram, 's_texture0');\r\n            this._shaderSets.at(9).samplerTexture1Location = this.gl.getUniformLocation(this._shaderSets.at(9).shaderProgram, 's_texture1');\r\n            this._shaderSets.at(9).uniformMatrixLocation = this.gl.getUniformLocation(this._shaderSets.at(9).shaderProgram, 'u_matrix');\r\n            this._shaderSets.at(9).uniformClipMatrixLocation = this.gl.getUniformLocation(this._shaderSets.at(9).shaderProgram, 'u_clipMatrix');\r\n            this._shaderSets.at(9).uniformChannelFlagLocation = this.gl.getUniformLocation(this._shaderSets.at(9).shaderProgram, 'u_channelFlag');\r\n            this._shaderSets.at(9).uniformBaseColorLocation = this.gl.getUniformLocation(this._shaderSets.at(9).shaderProgram, 'u_baseColor');\r\n        };\r\n        CubismShader_WebGL.prototype.loadShaderProgram = function (vertexShaderSource, fragmentShaderSource) {\r\n            var shaderProgram = this.gl.createProgram();\r\n            var vertShader = this.compileShaderSource(this.gl.VERTEX_SHADER, vertexShaderSource);\r\n            if (!vertShader) {\r\n                cubismdebug_1.CubismLogError('Vertex shader compile error!');\r\n                return 0;\r\n            }\r\n            var fragShader = this.compileShaderSource(this.gl.FRAGMENT_SHADER, fragmentShaderSource);\r\n            if (!fragShader) {\r\n                cubismdebug_1.CubismLogError('Vertex shader compile error!');\r\n                return 0;\r\n            }\r\n            this.gl.attachShader(shaderProgram, vertShader);\r\n            this.gl.attachShader(shaderProgram, fragShader);\r\n            this.gl.linkProgram(shaderProgram);\r\n            var linkStatus = this.gl.getProgramParameter(shaderProgram, this.gl.LINK_STATUS);\r\n            if (!linkStatus) {\r\n                cubismdebug_1.CubismLogError('Failed to link program: {0}', shaderProgram);\r\n                this.gl.deleteShader(vertShader);\r\n                vertShader = 0;\r\n                this.gl.deleteShader(fragShader);\r\n                fragShader = 0;\r\n                if (shaderProgram) {\r\n                    this.gl.deleteProgram(shaderProgram);\r\n                    shaderProgram = 0;\r\n                }\r\n                return 0;\r\n            }\r\n            this.gl.deleteShader(vertShader);\r\n            this.gl.deleteShader(fragShader);\r\n            return shaderProgram;\r\n        };\r\n        CubismShader_WebGL.prototype.compileShaderSource = function (shaderType, shaderSource) {\r\n            var source = shaderSource;\r\n            var shader = this.gl.createShader(shaderType);\r\n            this.gl.shaderSource(shader, source);\r\n            this.gl.compileShader(shader);\r\n            if (!shader) {\r\n                var log = this.gl.getShaderInfoLog(shader);\r\n                cubismdebug_1.CubismLogError('Shader compile log: {0} ', log);\r\n            }\r\n            var status = this.gl.getShaderParameter(shader, this.gl.COMPILE_STATUS);\r\n            if (!status) {\r\n                this.gl.deleteShader(shader);\r\n                return null;\r\n            }\r\n            return shader;\r\n        };\r\n        CubismShader_WebGL.prototype.setGl = function (gl) {\r\n            this.gl = gl;\r\n        };\r\n        return CubismShader_WebGL;\r\n    }());\r\n    Live2DCubismFramework.CubismShader_WebGL = CubismShader_WebGL;\r\n    var CubismShaderSet = (function () {\r\n        function CubismShaderSet() {\r\n        }\r\n        return CubismShaderSet;\r\n    }());\r\n    Live2DCubismFramework.CubismShaderSet = CubismShaderSet;\r\n    var ShaderNames;\r\n    (function (ShaderNames) {\r\n        ShaderNames[ShaderNames[\"ShaderNames_SetupMask\"] = 0] = \"ShaderNames_SetupMask\";\r\n        ShaderNames[ShaderNames[\"ShaderNames_NormalPremultipliedAlpha\"] = 1] = \"ShaderNames_NormalPremultipliedAlpha\";\r\n        ShaderNames[ShaderNames[\"ShaderNames_NormalMaskedPremultipliedAlpha\"] = 2] = \"ShaderNames_NormalMaskedPremultipliedAlpha\";\r\n        ShaderNames[ShaderNames[\"ShaderNames_NomralMaskedInvertedPremultipliedAlpha\"] = 3] = \"ShaderNames_NomralMaskedInvertedPremultipliedAlpha\";\r\n        ShaderNames[ShaderNames[\"ShaderNames_AddPremultipliedAlpha\"] = 4] = \"ShaderNames_AddPremultipliedAlpha\";\r\n        ShaderNames[ShaderNames[\"ShaderNames_AddMaskedPremultipliedAlpha\"] = 5] = \"ShaderNames_AddMaskedPremultipliedAlpha\";\r\n        ShaderNames[ShaderNames[\"ShaderNames_AddMaskedPremultipliedAlphaInverted\"] = 6] = \"ShaderNames_AddMaskedPremultipliedAlphaInverted\";\r\n        ShaderNames[ShaderNames[\"ShaderNames_MultPremultipliedAlpha\"] = 7] = \"ShaderNames_MultPremultipliedAlpha\";\r\n        ShaderNames[ShaderNames[\"ShaderNames_MultMaskedPremultipliedAlpha\"] = 8] = \"ShaderNames_MultMaskedPremultipliedAlpha\";\r\n        ShaderNames[ShaderNames[\"ShaderNames_MultMaskedPremultipliedAlphaInverted\"] = 9] = \"ShaderNames_MultMaskedPremultipliedAlphaInverted\";\r\n    })(ShaderNames = Live2DCubismFramework.ShaderNames || (Live2DCubismFramework.ShaderNames = {}));\r\n    Live2DCubismFramework.vertexShaderSrcSetupMask = 'attribute vec4     a_position;' +\r\n        'attribute vec2     a_texCoord;' +\r\n        'varying vec2       v_texCoord;' +\r\n        'varying vec4       v_myPos;' +\r\n        'uniform mat4       u_clipMatrix;' +\r\n        'void main()' +\r\n        '{' +\r\n        '   gl_Position = u_clipMatrix * a_position;' +\r\n        '   v_myPos = u_clipMatrix * a_position;' +\r\n        '   v_texCoord = a_texCoord;' +\r\n        '   v_texCoord.y = 1.0 - v_texCoord.y;' +\r\n        '}';\r\n    Live2DCubismFramework.fragmentShaderSrcsetupMask = 'precision mediump float;' +\r\n        'varying vec2       v_texCoord;' +\r\n        'varying vec4       v_myPos;' +\r\n        'uniform vec4       u_baseColor;' +\r\n        'uniform vec4       u_channelFlag;' +\r\n        'uniform sampler2D  s_texture0;' +\r\n        'void main()' +\r\n        '{' +\r\n        '   float isInside = ' +\r\n        '       step(u_baseColor.x, v_myPos.x/v_myPos.w)' +\r\n        '       * step(u_baseColor.y, v_myPos.y/v_myPos.w)' +\r\n        '       * step(v_myPos.x/v_myPos.w, u_baseColor.z)' +\r\n        '       * step(v_myPos.y/v_myPos.w, u_baseColor.w);' +\r\n        '   gl_FragColor = u_channelFlag * texture2D(s_texture0, v_texCoord).a * isInside;' +\r\n        '}';\r\n    Live2DCubismFramework.vertexShaderSrc = 'attribute vec4     a_position;' +\r\n        'attribute vec2     a_texCoord;' +\r\n        'varying vec2       v_texCoord;' +\r\n        'uniform mat4       u_matrix;' +\r\n        'void main()' +\r\n        '{' +\r\n        '   gl_Position = u_matrix * a_position;' +\r\n        '   v_texCoord = a_texCoord;' +\r\n        '   v_texCoord.y = 1.0 - v_texCoord.y;' +\r\n        '}';\r\n    Live2DCubismFramework.vertexShaderSrcMasked = 'attribute vec4     a_position;' +\r\n        'attribute vec2     a_texCoord;' +\r\n        'varying vec2       v_texCoord;' +\r\n        'varying vec4       v_clipPos;' +\r\n        'uniform mat4       u_matrix;' +\r\n        'uniform mat4       u_clipMatrix;' +\r\n        'void main()' +\r\n        '{' +\r\n        '   gl_Position = u_matrix * a_position;' +\r\n        '   v_clipPos = u_clipMatrix * a_position;' +\r\n        '   v_texCoord = a_texCoord;' +\r\n        '   v_texCoord.y = 1.0 - v_texCoord.y;' +\r\n        '}';\r\n    Live2DCubismFramework.fragmentShaderSrcPremultipliedAlpha = 'precision mediump float;' +\r\n        'varying vec2       v_texCoord;' +\r\n        'uniform vec4       u_baseColor;' +\r\n        'uniform sampler2D  s_texture0;' +\r\n        'void main()' +\r\n        '{' +\r\n        '   gl_FragColor = texture2D(s_texture0 , v_texCoord) * u_baseColor;' +\r\n        '}';\r\n    Live2DCubismFramework.fragmentShaderSrcMaskPremultipliedAlpha = 'precision mediump float;' +\r\n        'varying vec2       v_texCoord;' +\r\n        'varying vec4       v_clipPos;' +\r\n        'uniform vec4       u_baseColor;' +\r\n        'uniform vec4       u_channelFlag;' +\r\n        'uniform sampler2D  s_texture0;' +\r\n        'uniform sampler2D  s_texture1;' +\r\n        'void main()' +\r\n        '{' +\r\n        '   vec4 col_formask = texture2D(s_texture0 , v_texCoord) * u_baseColor;' +\r\n        '   vec4 clipMask = (1.0 - texture2D(s_texture1, v_clipPos.xy / v_clipPos.w)) * u_channelFlag;' +\r\n        '   float maskVal = clipMask.r + clipMask.g + clipMask.b + clipMask.a;' +\r\n        '   col_formask = col_formask * maskVal;' +\r\n        '   gl_FragColor = col_formask;' +\r\n        '}';\r\n    Live2DCubismFramework.fragmentShaderSrcMaskInvertedPremultipliedAlpha = 'precision mediump float;' +\r\n        'varying vec2 v_texCoord;' +\r\n        'varying vec4 v_clipPos;' +\r\n        'uniform sampler2D s_texture0;' +\r\n        'uniform sampler2D s_texture1;' +\r\n        'uniform vec4 u_channelFlag;' +\r\n        'uniform vec4 u_baseColor;' +\r\n        'void main()' +\r\n        '{' +\r\n        'vec4 col_formask = texture2D(s_texture0, v_texCoord) * u_baseColor;' +\r\n        'vec4 clipMask = (1.0 - texture2D(s_texture1, v_clipPos.xy / v_clipPos.w)) * u_channelFlag;' +\r\n        'float maskVal = clipMask.r + clipMask.g + clipMask.b + clipMask.a;' +\r\n        'col_formask = col_formask * (1.0 - maskVal);' +\r\n        'gl_FragColor = col_formask;' +\r\n        '}';\r\n    var CubismRenderer_WebGL = (function (_super) {\r\n        __extends(CubismRenderer_WebGL, _super);\r\n        function CubismRenderer_WebGL() {\r\n            var _this = _super.call(this) || this;\r\n            _this._clippingContextBufferForMask = null;\r\n            _this._clippingContextBufferForDraw = null;\r\n            _this._clippingManager = new CubismClippingManager_WebGL();\r\n            _this.firstDraw = true;\r\n            _this._textures = new csmMap();\r\n            _this._sortedDrawableIndexList = new csmVector();\r\n            _this._bufferData = {\r\n                vertex: WebGLBuffer = null,\r\n                uv: WebGLBuffer = null,\r\n                index: WebGLBuffer = null\r\n            };\r\n            _this._textures.prepareCapacity(32, true);\r\n            return _this;\r\n        }\r\n        CubismRenderer_WebGL.prototype.initialize = function (model) {\r\n            if (model.isUsingMasking()) {\r\n                this._clippingManager = new CubismClippingManager_WebGL();\r\n                this._clippingManager.initialize(model, model.getDrawableCount(), model.getDrawableMasks(), model.getDrawableMaskCounts());\r\n            }\r\n            this._sortedDrawableIndexList.resize(model.getDrawableCount(), 0);\r\n            _super.prototype.initialize.call(this, model);\r\n        };\r\n        CubismRenderer_WebGL.prototype.bindTexture = function (modelTextureNo, glTexture) {\r\n            this._textures.setValue(modelTextureNo, glTexture);\r\n        };\r\n        CubismRenderer_WebGL.prototype.getBindedTextures = function () {\r\n            return this._textures;\r\n        };\r\n        CubismRenderer_WebGL.prototype.setClippingMaskBufferSize = function (size) {\r\n            this._clippingManager.release();\r\n            this._clippingManager = void 0;\r\n            this._clippingManager = null;\r\n            this._clippingManager = new CubismClippingManager_WebGL();\r\n            this._clippingManager.setClippingMaskBufferSize(size);\r\n            this._clippingManager.initialize(this.getModel(), this.getModel().getDrawableCount(), this.getModel().getDrawableMasks(), this.getModel().getDrawableMaskCounts());\r\n        };\r\n        CubismRenderer_WebGL.prototype.getClippingMaskBufferSize = function () {\r\n            return this._clippingManager.getClippingMaskBufferSize();\r\n        };\r\n        CubismRenderer_WebGL.prototype.release = function () {\r\n            this._clippingManager.release();\r\n            this._clippingManager = void 0;\r\n            this._clippingManager = null;\r\n            this.gl.deleteBuffer(this._bufferData.vertex);\r\n            this._bufferData.vertex = null;\r\n            this.gl.deleteBuffer(this._bufferData.uv);\r\n            this._bufferData.uv = null;\r\n            this.gl.deleteBuffer(this._bufferData.index);\r\n            this._bufferData.index = null;\r\n            this._bufferData = null;\r\n            this._textures = null;\r\n        };\r\n        CubismRenderer_WebGL.prototype.doDrawModel = function () {\r\n            if (this._clippingManager != null) {\r\n                this.preDraw();\r\n                this._clippingManager.setupClippingContext(this.getModel(), this);\r\n            }\r\n            this.preDraw();\r\n            var drawableCount = this.getModel().getDrawableCount();\r\n            var renderOrder = this.getModel().getDrawableRenderOrders();\r\n            for (var i = 0; i < drawableCount; ++i) {\r\n                var order = renderOrder[i];\r\n                this._sortedDrawableIndexList.set(order, i);\r\n            }\r\n            for (var i = 0; i < drawableCount; ++i) {\r\n                var drawableIndex = this._sortedDrawableIndexList.at(i);\r\n                if (!this.getModel().getDrawableDynamicFlagIsVisible(drawableIndex)) {\r\n                    continue;\r\n                }\r\n                this.setClippingContextBufferForDraw(this._clippingManager != null\r\n                    ? this._clippingManager\r\n                        .getClippingContextListForDraw()\r\n                        .at(drawableIndex)\r\n                    : null);\r\n                this.setIsCulling(this.getModel().getDrawableCulling(drawableIndex));\r\n                this.drawMesh(this.getModel().getDrawableTextureIndices(drawableIndex), this.getModel().getDrawableVertexIndexCount(drawableIndex), this.getModel().getDrawableVertexCount(drawableIndex), this.getModel().getDrawableVertexIndices(drawableIndex), this.getModel().getDrawableVertices(drawableIndex), this.getModel().getDrawableVertexUvs(drawableIndex), this.getModel().getDrawableOpacity(drawableIndex), this.getModel().getDrawableBlendMode(drawableIndex), this.getModel().getDrawableInvertedMaskBit(drawableIndex));\r\n            }\r\n        };\r\n        CubismRenderer_WebGL.prototype.drawMesh = function (textureNo, indexCount, vertexCount, indexArray, vertexArray, uvArray, opacity, colorBlendMode, invertedMask) {\r\n            if (this.isCulling()) {\r\n                this.gl.enable(this.gl.CULL_FACE);\r\n            }\r\n            else {\r\n                this.gl.disable(this.gl.CULL_FACE);\r\n            }\r\n            this.gl.frontFace(this.gl.CCW);\r\n            var modelColorRGBA = this.getModelColor();\r\n            if (this.getClippingContextBufferForMask() == null) {\r\n                modelColorRGBA.A *= opacity;\r\n                if (this.isPremultipliedAlpha()) {\r\n                    modelColorRGBA.R *= modelColorRGBA.A;\r\n                    modelColorRGBA.G *= modelColorRGBA.A;\r\n                    modelColorRGBA.B *= modelColorRGBA.A;\r\n                }\r\n            }\r\n            var drawtexture;\r\n            if (this._textures.getValue(textureNo) != null) {\r\n                drawtexture = this._textures.getValue(textureNo);\r\n            }\r\n            else {\r\n                drawtexture = null;\r\n            }\r\n            CubismShader_WebGL.getInstance().setupShaderProgram(this, drawtexture, vertexCount, vertexArray, indexArray, uvArray, this._bufferData, opacity, colorBlendMode, modelColorRGBA, this.isPremultipliedAlpha(), this.getMvpMatrix(), invertedMask);\r\n            this.gl.drawElements(this.gl.TRIANGLES, indexCount, this.gl.UNSIGNED_SHORT, 0);\r\n            this.gl.useProgram(null);\r\n            this.setClippingContextBufferForDraw(null);\r\n            this.setClippingContextBufferForMask(null);\r\n        };\r\n        CubismRenderer_WebGL.doStaticRelease = function () {\r\n            CubismShader_WebGL.deleteInstance();\r\n        };\r\n        CubismRenderer_WebGL.prototype.setRenderState = function (fbo, viewport) {\r\n            s_fbo = fbo;\r\n            s_viewport = viewport;\r\n        };\r\n        CubismRenderer_WebGL.prototype.preDraw = function () {\r\n            if (this.firstDraw) {\r\n                this.firstDraw = false;\r\n                this._anisortopy =\r\n                    this.gl.getExtension('EXT_texture_filter_anisotropic') ||\r\n                        this.gl.getExtension('WEBKIT_EXT_texture_filter_anisotropic') ||\r\n                        this.gl.getExtension('MOZ_EXT_texture_filter_anisotropic');\r\n            }\r\n            this.gl.disable(this.gl.SCISSOR_TEST);\r\n            this.gl.disable(this.gl.STENCIL_TEST);\r\n            this.gl.disable(this.gl.DEPTH_TEST);\r\n            this.gl.frontFace(this.gl.CW);\r\n            this.gl.enable(this.gl.BLEND);\r\n            this.gl.colorMask(true, true, true, true);\r\n            this.gl.bindBuffer(this.gl.ARRAY_BUFFER, null);\r\n            this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER, null);\r\n        };\r\n        CubismRenderer_WebGL.prototype.setClippingContextBufferForMask = function (clip) {\r\n            this._clippingContextBufferForMask = clip;\r\n        };\r\n        CubismRenderer_WebGL.prototype.getClippingContextBufferForMask = function () {\r\n            return this._clippingContextBufferForMask;\r\n        };\r\n        CubismRenderer_WebGL.prototype.setClippingContextBufferForDraw = function (clip) {\r\n            this._clippingContextBufferForDraw = clip;\r\n        };\r\n        CubismRenderer_WebGL.prototype.getClippingContextBufferForDraw = function () {\r\n            return this._clippingContextBufferForDraw;\r\n        };\r\n        CubismRenderer_WebGL.prototype.startUp = function (gl) {\r\n            this.gl = gl;\r\n            this._clippingManager.setGL(gl);\r\n            CubismShader_WebGL.getInstance().setGl(gl);\r\n        };\r\n        return CubismRenderer_WebGL;\r\n    }(CubismRenderer));\r\n    Live2DCubismFramework.CubismRenderer_WebGL = CubismRenderer_WebGL;\r\n    CubismRenderer.staticRelease = function () {\r\n        CubismRenderer_WebGL.doStaticRelease();\r\n    };\r\n})(Live2DCubismFramework = exports.Live2DCubismFramework || (exports.Live2DCubismFramework = {}));\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9GcmFtZXdvcmsvc3JjL3JlbmRlcmluZy9jdWJpc21yZW5kZXJlcl93ZWJnbC50cy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL2xpdmUyZC8uL0ZyYW1ld29yay9zcmMvcmVuZGVyaW5nL2N1YmlzbXJlbmRlcmVyX3dlYmdsLnRzP2VhMWIiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIENvcHlyaWdodChjKSBMaXZlMkQgSW5jLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4gKlxyXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSB0aGUgTGl2ZTJEIE9wZW4gU29mdHdhcmUgbGljZW5zZVxyXG4gKiB0aGF0IGNhbiBiZSBmb3VuZCBhdCBodHRwczovL3d3dy5saXZlMmQuY29tL2V1bGEvbGl2ZTJkLW9wZW4tc29mdHdhcmUtbGljZW5zZS1hZ3JlZW1lbnRfZW4uaHRtbC5cclxuICovXHJcblxyXG5pbXBvcnQgeyBMaXZlMkRDdWJpc21GcmFtZXdvcmsgYXMgY3ViaXNtZnJhbWV3b3JrIH0gZnJvbSAnLi4vbGl2ZTJkY3ViaXNtZnJhbWV3b3JrJztcclxuaW1wb3J0IHsgTGl2ZTJEQ3ViaXNtRnJhbWV3b3JrIGFzIGNzbXJlY3QgfSBmcm9tICcuLi90eXBlL2NzbXJlY3RmJztcclxuaW1wb3J0IHsgTGl2ZTJEQ3ViaXNtRnJhbWV3b3JrIGFzIGN1YmlzbXJlbmRlcmVyIH0gZnJvbSAnLi9jdWJpc21yZW5kZXJlcic7XHJcbmltcG9ydCB7IExpdmUyREN1YmlzbUZyYW1ld29yayBhcyBjdWJpc21tb2RlbCB9IGZyb20gJy4uL21vZGVsL2N1YmlzbW1vZGVsJztcclxuaW1wb3J0IHsgTGl2ZTJEQ3ViaXNtRnJhbWV3b3JrIGFzIGN1YnNpbW1hdHJpeDQ0IH0gZnJvbSAnLi4vbWF0aC9jdWJpc21tYXRyaXg0NCc7XHJcbmltcG9ydCB7IExpdmUyREN1YmlzbUZyYW1ld29yayBhcyBjc21tYXAgfSBmcm9tICcuLi90eXBlL2NzbW1hcCc7XHJcbmltcG9ydCB7IExpdmUyREN1YmlzbUZyYW1ld29yayBhcyBjc212ZWN0b3IgfSBmcm9tICcuLi90eXBlL2NzbXZlY3Rvcic7XHJcbmltcG9ydCB7IEN1YmlzbUxvZ0Vycm9yIH0gZnJvbSAnLi4vdXRpbHMvY3ViaXNtZGVidWcnO1xyXG5pbXBvcnQgQ29uc3RhbnQgPSBjdWJpc21mcmFtZXdvcmsuQ29uc3RhbnQ7XHJcbmltcG9ydCBDdWJpc21NYXRyaXg0NCA9IGN1YnNpbW1hdHJpeDQ0LkN1YmlzbU1hdHJpeDQ0O1xyXG5pbXBvcnQgY3NtUmVjdCA9IGNzbXJlY3QuY3NtUmVjdDtcclxuaW1wb3J0IGNzbU1hcCA9IGNzbW1hcC5jc21NYXA7XHJcbmltcG9ydCBjc21WZWN0b3IgPSBjc212ZWN0b3IuY3NtVmVjdG9yO1xyXG5pbXBvcnQgQ3ViaXNtTW9kZWwgPSBjdWJpc21tb2RlbC5DdWJpc21Nb2RlbDtcclxuaW1wb3J0IEN1YmlzbVJlbmRlcmVyID0gY3ViaXNtcmVuZGVyZXIuQ3ViaXNtUmVuZGVyZXI7XHJcbmltcG9ydCBDdWJpc21CbGVuZE1vZGUgPSBjdWJpc21yZW5kZXJlci5DdWJpc21CbGVuZE1vZGU7XHJcbmltcG9ydCBDdWJpc21UZXh0dXJlQ29sb3IgPSBjdWJpc21yZW5kZXJlci5DdWJpc21UZXh0dXJlQ29sb3I7XHJcblxyXG5leHBvcnQgbmFtZXNwYWNlIExpdmUyREN1YmlzbUZyYW1ld29yayB7XHJcbiAgY29uc3QgQ29sb3JDaGFubmVsQ291bnQgPSA0OyAvLyDlrp/pqJPmmYLjgasx44OB44Oj44Oz44ON44Or44Gu5aC05ZCI44GvMeOAgVJHQuOBoOOBkeOBruWgtOWQiOOBrzPjgIHjgqLjg6vjg5XjgqHjgoLlkKvjgoHjgovloLTlkIjjga80XHJcblxyXG4gIGNvbnN0IHNoYWRlckNvdW50ID0gMTA7IC8vIOOCt+OCp+ODvOODgOODvOOBruaVsCA9IOODnuOCueOCr+eUn+aIkOeUqCArICjpgJrluLjnlKggKyDliqDnrpcgKyDkuZfnrpcpICogKOODnuOCueOCr+eEoeOBruS5l+eul+a4iOOCouODq+ODleOCoeWvvuW/nOeJiCArIOODnuOCueOCr+acieOBruS5l+eul+a4iOOCouODq+ODleOCoeWvvuW/nOeJiCArIOODnuOCueOCr+acieWPjei7ouOBruS5l+eul+a4iOOCouODq+ODleOCoeWvvuW/nOeJiClcclxuICBsZXQgc19pbnN0YW5jZTogQ3ViaXNtU2hhZGVyX1dlYkdMO1xyXG4gIGxldCBzX3ZpZXdwb3J0OiBudW1iZXJbXTtcclxuICBsZXQgc19mYm86IFdlYkdMRnJhbWVidWZmZXI7XHJcblxyXG4gIC8qKlxyXG4gICAqIOOCr+ODquODg+ODlOODs+OCsOODnuOCueOCr+OBruWHpueQhuOCkuWun+ihjOOBmeOCi+OCr+ODqeOCuVxyXG4gICAqL1xyXG4gIGV4cG9ydCBjbGFzcyBDdWJpc21DbGlwcGluZ01hbmFnZXJfV2ViR0wge1xyXG4gICAgLyoqXHJcbiAgICAgKiDjgqvjg6njg7zjg4Hjg6Pjg7Pjg43jg6vvvIhSR0JB77yJ44Gu44OV44Op44Kw44KS5Y+W5b6X44GZ44KLXHJcbiAgICAgKiBAcGFyYW0gY2hhbm5lbE5vIOOCq+ODqeODvOODgeODo+ODs+ODjeODq++8iFJHQkHvvInjga7nlarlj7fvvIgwOlIsIDE6RywgMjpCLCAzOkHvvIlcclxuICAgICAqL1xyXG4gICAgcHVibGljIGdldENoYW5uZWxGbGFnQXNDb2xvcihjaGFubmVsTm86IG51bWJlcik6IEN1YmlzbVRleHR1cmVDb2xvciB7XHJcbiAgICAgIHJldHVybiB0aGlzLl9jaGFubmVsQ29sb3JzLmF0KGNoYW5uZWxObyk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDjg4bjg7Pjg53jg6njg6rjga7jg6zjg7Pjg4Djg7zjg4bjgq/jgrnjg4Hjg6Pjga7jgqLjg4njg6zjgrnjgpLlj5blvpfjgZnjgotcclxuICAgICAqIEZyYW1lQnVmZmVyT2JqZWN044GM5a2Y5Zyo44GX44Gq44GE5aC05ZCI44CB5paw44GX44GP55Sf5oiQ44GZ44KLXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybiDjg6zjg7Pjg4Djg7zjg4bjgq/jgrnjg4Hjg6Pjga7jgqLjg4njg6zjgrlcclxuICAgICAqL1xyXG4gICAgcHVibGljIGdldE1hc2tSZW5kZXJUZXh0dXJlKCk6IFdlYkdMRnJhbWVidWZmZXIge1xyXG4gICAgICBsZXQgcmV0OiBXZWJHTEZyYW1lYnVmZmVyID0gMDtcclxuXHJcbiAgICAgIC8vIOODhuODs+ODneODqeODquOBrlJlbmRlclRleHR1cmXjgpLlj5blvpfjgZnjgotcclxuICAgICAgaWYgKHRoaXMuX21hc2tUZXh0dXJlICYmIHRoaXMuX21hc2tUZXh0dXJlLnRleHR1cmUgIT0gMCkge1xyXG4gICAgICAgIC8vIOWJjeWbnuS9v+OBo+OBn+OCguOBruOCkui/lOOBmVxyXG4gICAgICAgIHRoaXMuX21hc2tUZXh0dXJlLmZyYW1lTm8gPSB0aGlzLl9jdXJyZW50RnJhbWVObztcclxuICAgICAgICByZXQgPSB0aGlzLl9tYXNrVGV4dHVyZS50ZXh0dXJlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAocmV0ID09IDApIHtcclxuICAgICAgICAvLyBGcmFtZUJ1ZmZlck9iamVjdOOBjOWtmOWcqOOBl+OBquOBhOWgtOWQiOOAgeaWsOOBl+OBj+eUn+aIkOOBmeOCi1xyXG5cclxuICAgICAgICAvLyDjgq/jg6rjg4Pjg5Tjg7PjgrDjg5Djg4Pjg5XjgqHjgrXjgqTjgrrjgpLlj5blvpdcclxuICAgICAgICBjb25zdCBzaXplOiBudW1iZXIgPSB0aGlzLl9jbGlwcGluZ01hc2tCdWZmZXJTaXplO1xyXG5cclxuICAgICAgICB0aGlzLl9jb2xvckJ1ZmZlciA9IHRoaXMuZ2wuY3JlYXRlVGV4dHVyZSgpO1xyXG4gICAgICAgIHRoaXMuZ2wuYmluZFRleHR1cmUodGhpcy5nbC5URVhUVVJFXzJELCB0aGlzLl9jb2xvckJ1ZmZlcik7XHJcbiAgICAgICAgdGhpcy5nbC50ZXhJbWFnZTJEKFxyXG4gICAgICAgICAgdGhpcy5nbC5URVhUVVJFXzJELFxyXG4gICAgICAgICAgMCxcclxuICAgICAgICAgIHRoaXMuZ2wuUkdCQSxcclxuICAgICAgICAgIHNpemUsXHJcbiAgICAgICAgICBzaXplLFxyXG4gICAgICAgICAgMCxcclxuICAgICAgICAgIHRoaXMuZ2wuUkdCQSxcclxuICAgICAgICAgIHRoaXMuZ2wuVU5TSUdORURfQllURSxcclxuICAgICAgICAgIG51bGxcclxuICAgICAgICApO1xyXG4gICAgICAgIHRoaXMuZ2wudGV4UGFyYW1ldGVyaShcclxuICAgICAgICAgIHRoaXMuZ2wuVEVYVFVSRV8yRCxcclxuICAgICAgICAgIHRoaXMuZ2wuVEVYVFVSRV9XUkFQX1MsXHJcbiAgICAgICAgICB0aGlzLmdsLkNMQU1QX1RPX0VER0VcclxuICAgICAgICApO1xyXG4gICAgICAgIHRoaXMuZ2wudGV4UGFyYW1ldGVyaShcclxuICAgICAgICAgIHRoaXMuZ2wuVEVYVFVSRV8yRCxcclxuICAgICAgICAgIHRoaXMuZ2wuVEVYVFVSRV9XUkFQX1QsXHJcbiAgICAgICAgICB0aGlzLmdsLkNMQU1QX1RPX0VER0VcclxuICAgICAgICApO1xyXG4gICAgICAgIHRoaXMuZ2wudGV4UGFyYW1ldGVyaShcclxuICAgICAgICAgIHRoaXMuZ2wuVEVYVFVSRV8yRCxcclxuICAgICAgICAgIHRoaXMuZ2wuVEVYVFVSRV9NSU5fRklMVEVSLFxyXG4gICAgICAgICAgdGhpcy5nbC5MSU5FQVJcclxuICAgICAgICApO1xyXG4gICAgICAgIHRoaXMuZ2wudGV4UGFyYW1ldGVyaShcclxuICAgICAgICAgIHRoaXMuZ2wuVEVYVFVSRV8yRCxcclxuICAgICAgICAgIHRoaXMuZ2wuVEVYVFVSRV9NQUdfRklMVEVSLFxyXG4gICAgICAgICAgdGhpcy5nbC5MSU5FQVJcclxuICAgICAgICApO1xyXG4gICAgICAgIHRoaXMuZ2wuYmluZFRleHR1cmUodGhpcy5nbC5URVhUVVJFXzJELCBudWxsKTtcclxuXHJcbiAgICAgICAgcmV0ID0gdGhpcy5nbC5jcmVhdGVGcmFtZWJ1ZmZlcigpO1xyXG4gICAgICAgIHRoaXMuZ2wuYmluZEZyYW1lYnVmZmVyKHRoaXMuZ2wuRlJBTUVCVUZGRVIsIHJldCk7XHJcbiAgICAgICAgdGhpcy5nbC5mcmFtZWJ1ZmZlclRleHR1cmUyRChcclxuICAgICAgICAgIHRoaXMuZ2wuRlJBTUVCVUZGRVIsXHJcbiAgICAgICAgICB0aGlzLmdsLkNPTE9SX0FUVEFDSE1FTlQwLFxyXG4gICAgICAgICAgdGhpcy5nbC5URVhUVVJFXzJELFxyXG4gICAgICAgICAgdGhpcy5fY29sb3JCdWZmZXIsXHJcbiAgICAgICAgICAwXHJcbiAgICAgICAgKTtcclxuICAgICAgICB0aGlzLmdsLmJpbmRGcmFtZWJ1ZmZlcih0aGlzLmdsLkZSQU1FQlVGRkVSLCBzX2Zibyk7XHJcblxyXG4gICAgICAgIHRoaXMuX21hc2tUZXh0dXJlID0gbmV3IEN1YmlzbVJlbmRlclRleHR1cmVSZXNvdXJjZShcclxuICAgICAgICAgIHRoaXMuX2N1cnJlbnRGcmFtZU5vLFxyXG4gICAgICAgICAgcmV0XHJcbiAgICAgICAgKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIHJldDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFdlYkdM44Os44Oz44OA44Oq44Oz44Kw44Kz44Oz44OG44Kt44K544OI44KS6Kit5a6a44GZ44KLXHJcbiAgICAgKiBAcGFyYW0gZ2wgV2ViR0zjg6zjg7Pjg4Djg6rjg7PjgrDjgrPjg7Pjg4bjgq3jgrnjg4hcclxuICAgICAqL1xyXG4gICAgcHVibGljIHNldEdMKGdsOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQpOiB2b2lkIHtcclxuICAgICAgdGhpcy5nbCA9IGdsO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog44Oe44K544Kv44GV44KM44KL5o+P55S744Kq44OW44K444Kn44Kv44OI576k5YWo5L2T44KS5Zuy44KA55+p5b2i77yI44Oi44OH44Or5bqn5qiZ57O777yJ44KS6KiI566X44GZ44KLXHJcbiAgICAgKiBAcGFyYW0gbW9kZWwg44Oi44OH44Or44Gu44Kk44Oz44K544K/44Oz44K5XHJcbiAgICAgKiBAcGFyYW0gY2xpcHBpbmdDb250ZXh0IOOCr+ODquODg+ODlOODs+OCsOODnuOCueOCr+OBruOCs+ODs+ODhuOCreOCueODiFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgY2FsY0NsaXBwZWREcmF3VG90YWxCb3VuZHMoXHJcbiAgICAgIG1vZGVsOiBDdWJpc21Nb2RlbCxcclxuICAgICAgY2xpcHBpbmdDb250ZXh0OiBDdWJpc21DbGlwcGluZ0NvbnRleHRcclxuICAgICk6IHZvaWQge1xyXG4gICAgICAvLyDooqvjgq/jg6rjg4Pjg5Tjg7PjgrDjg57jgrnjgq/vvIjjg57jgrnjgq/jgZXjgozjgovmj4/nlLvjgqrjg5bjgrjjgqfjgq/jg4jvvInjga7lhajkvZPjga7nn6nlvaJcclxuICAgICAgbGV0IGNsaXBwZWREcmF3VG90YWxNaW5YOiBudW1iZXIgPSBOdW1iZXIuTUFYX1ZBTFVFO1xyXG4gICAgICBsZXQgY2xpcHBlZERyYXdUb3RhbE1pblk6IG51bWJlciA9IE51bWJlci5NQVhfVkFMVUU7XHJcbiAgICAgIGxldCBjbGlwcGVkRHJhd1RvdGFsTWF4WDogbnVtYmVyID0gTnVtYmVyLk1JTl9WQUxVRTtcclxuICAgICAgbGV0IGNsaXBwZWREcmF3VG90YWxNYXhZOiBudW1iZXIgPSBOdW1iZXIuTUlOX1ZBTFVFO1xyXG5cclxuICAgICAgLy8g44GT44Gu44Oe44K544Kv44GM5a6f6Zqb44Gr5b+F6KaB44GL5Yik5a6a44GZ44KLXHJcbiAgICAgIC8vIOOBk+OBruOCr+ODquODg+ODlOODs+OCsOOCkuWIqeeUqOOBmeOCi+OAjOaPj+eUu+OCquODluOCuOOCp+OCr+ODiOOAjeOBjOOBsuOBqOOBpOOBp+OCguS9v+eUqOWPr+iDveOBp+OBguOCjOOBsOODnuOCueOCr+OCkueUn+aIkOOBmeOCi+W/heimgeOBjOOBguOCi1xyXG4gICAgICBjb25zdCBjbGlwcGVkRHJhd0NvdW50OiBudW1iZXIgPVxyXG4gICAgICAgIGNsaXBwaW5nQ29udGV4dC5fY2xpcHBlZERyYXdhYmxlSW5kZXhMaXN0Lmxlbmd0aDtcclxuXHJcbiAgICAgIGZvciAoXHJcbiAgICAgICAgbGV0IGNsaXBwZWREcmF3YWJsZUluZGV4ID0gMDtcclxuICAgICAgICBjbGlwcGVkRHJhd2FibGVJbmRleCA8IGNsaXBwZWREcmF3Q291bnQ7XHJcbiAgICAgICAgY2xpcHBlZERyYXdhYmxlSW5kZXgrK1xyXG4gICAgICApIHtcclxuICAgICAgICAvLyDjg57jgrnjgq/jgpLkvb/nlKjjgZnjgovmj4/nlLvjgqrjg5bjgrjjgqfjgq/jg4jjga7mj4/nlLvjgZXjgozjgovnn6nlvaLjgpLmsYLjgoHjgotcclxuICAgICAgICBjb25zdCBkcmF3YWJsZUluZGV4OiBudW1iZXIgPVxyXG4gICAgICAgICAgY2xpcHBpbmdDb250ZXh0Ll9jbGlwcGVkRHJhd2FibGVJbmRleExpc3RbY2xpcHBlZERyYXdhYmxlSW5kZXhdO1xyXG5cclxuICAgICAgICBjb25zdCBkcmF3YWJsZVZlcnRleENvdW50OiBudW1iZXIgPSBtb2RlbC5nZXREcmF3YWJsZVZlcnRleENvdW50KFxyXG4gICAgICAgICAgZHJhd2FibGVJbmRleFxyXG4gICAgICAgICk7XHJcbiAgICAgICAgY29uc3QgZHJhd2FibGVWZXJ0ZXhlczogRmxvYXQzMkFycmF5ID0gbW9kZWwuZ2V0RHJhd2FibGVWZXJ0aWNlcyhcclxuICAgICAgICAgIGRyYXdhYmxlSW5kZXhcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICBsZXQgbWluWDogbnVtYmVyID0gTnVtYmVyLk1BWF9WQUxVRTtcclxuICAgICAgICBsZXQgbWluWTogbnVtYmVyID0gTnVtYmVyLk1BWF9WQUxVRTtcclxuICAgICAgICBsZXQgbWF4WDogbnVtYmVyID0gTnVtYmVyLk1JTl9WQUxVRTtcclxuICAgICAgICBsZXQgbWF4WTogbnVtYmVyID0gTnVtYmVyLk1JTl9WQUxVRTtcclxuXHJcbiAgICAgICAgY29uc3QgbG9vcDogbnVtYmVyID0gZHJhd2FibGVWZXJ0ZXhDb3VudCAqIENvbnN0YW50LnZlcnRleFN0ZXA7XHJcbiAgICAgICAgZm9yIChcclxuICAgICAgICAgIGxldCBwaTogbnVtYmVyID0gQ29uc3RhbnQudmVydGV4T2Zmc2V0O1xyXG4gICAgICAgICAgcGkgPCBsb29wO1xyXG4gICAgICAgICAgcGkgKz0gQ29uc3RhbnQudmVydGV4U3RlcFxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgY29uc3QgeDogbnVtYmVyID0gZHJhd2FibGVWZXJ0ZXhlc1twaV07XHJcbiAgICAgICAgICBjb25zdCB5OiBudW1iZXIgPSBkcmF3YWJsZVZlcnRleGVzW3BpICsgMV07XHJcblxyXG4gICAgICAgICAgaWYgKHggPCBtaW5YKSB7XHJcbiAgICAgICAgICAgIG1pblggPSB4O1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgaWYgKHggPiBtYXhYKSB7XHJcbiAgICAgICAgICAgIG1heFggPSB4O1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgaWYgKHkgPCBtaW5ZKSB7XHJcbiAgICAgICAgICAgIG1pblkgPSB5O1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgaWYgKHkgPiBtYXhZKSB7XHJcbiAgICAgICAgICAgIG1heFkgPSB5O1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8g5pyJ5Yq544Gq54K544GM5LiA44Gk44KC5Y+W44KM44Gq44GL44Gj44Gf44Gu44Gn44K544Kt44OD44OXXHJcbiAgICAgICAgaWYgKG1pblggPT0gTnVtYmVyLk1BWF9WQUxVRSkge1xyXG4gICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyDlhajkvZPjga7nn6nlvaLjgavlj43mmKBcclxuICAgICAgICBpZiAobWluWCA8IGNsaXBwZWREcmF3VG90YWxNaW5YKSB7XHJcbiAgICAgICAgICBjbGlwcGVkRHJhd1RvdGFsTWluWCA9IG1pblg7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChtaW5ZIDwgY2xpcHBlZERyYXdUb3RhbE1pblkpIHtcclxuICAgICAgICAgIGNsaXBwZWREcmF3VG90YWxNaW5ZID0gbWluWTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKG1heFggPiBjbGlwcGVkRHJhd1RvdGFsTWF4WCkge1xyXG4gICAgICAgICAgY2xpcHBlZERyYXdUb3RhbE1heFggPSBtYXhYO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAobWF4WSA+IGNsaXBwZWREcmF3VG90YWxNYXhZKSB7XHJcbiAgICAgICAgICBjbGlwcGVkRHJhd1RvdGFsTWF4WSA9IG1heFk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoY2xpcHBlZERyYXdUb3RhbE1pblggPT0gTnVtYmVyLk1BWF9WQUxVRSkge1xyXG4gICAgICAgICAgY2xpcHBpbmdDb250ZXh0Ll9hbGxDbGlwcGVkRHJhd1JlY3QueCA9IDAuMDtcclxuICAgICAgICAgIGNsaXBwaW5nQ29udGV4dC5fYWxsQ2xpcHBlZERyYXdSZWN0LnkgPSAwLjA7XHJcbiAgICAgICAgICBjbGlwcGluZ0NvbnRleHQuX2FsbENsaXBwZWREcmF3UmVjdC53aWR0aCA9IDAuMDtcclxuICAgICAgICAgIGNsaXBwaW5nQ29udGV4dC5fYWxsQ2xpcHBlZERyYXdSZWN0LmhlaWdodCA9IDAuMDtcclxuICAgICAgICAgIGNsaXBwaW5nQ29udGV4dC5faXNVc2luZyA9IGZhbHNlO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBjbGlwcGluZ0NvbnRleHQuX2lzVXNpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgY29uc3QgdzogbnVtYmVyID0gY2xpcHBlZERyYXdUb3RhbE1heFggLSBjbGlwcGVkRHJhd1RvdGFsTWluWDtcclxuICAgICAgICAgIGNvbnN0IGg6IG51bWJlciA9IGNsaXBwZWREcmF3VG90YWxNYXhZIC0gY2xpcHBlZERyYXdUb3RhbE1pblk7XHJcbiAgICAgICAgICBjbGlwcGluZ0NvbnRleHQuX2FsbENsaXBwZWREcmF3UmVjdC54ID0gY2xpcHBlZERyYXdUb3RhbE1pblg7XHJcbiAgICAgICAgICBjbGlwcGluZ0NvbnRleHQuX2FsbENsaXBwZWREcmF3UmVjdC55ID0gY2xpcHBlZERyYXdUb3RhbE1pblk7XHJcbiAgICAgICAgICBjbGlwcGluZ0NvbnRleHQuX2FsbENsaXBwZWREcmF3UmVjdC53aWR0aCA9IHc7XHJcbiAgICAgICAgICBjbGlwcGluZ0NvbnRleHQuX2FsbENsaXBwZWREcmF3UmVjdC5oZWlnaHQgPSBoO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog44Kz44Oz44K544OI44Op44Kv44K/XHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgdGhpcy5fbWFza1JlbmRlclRleHR1cmUgPSBudWxsO1xyXG4gICAgICB0aGlzLl9jb2xvckJ1ZmZlciA9IG51bGw7XHJcbiAgICAgIHRoaXMuX2N1cnJlbnRGcmFtZU5vID0gMDtcclxuICAgICAgdGhpcy5fY2xpcHBpbmdNYXNrQnVmZmVyU2l6ZSA9IDI1NjtcclxuICAgICAgdGhpcy5fY2xpcHBpbmdDb250ZXh0TGlzdEZvck1hc2sgPSBuZXcgY3NtVmVjdG9yPEN1YmlzbUNsaXBwaW5nQ29udGV4dD4oKTtcclxuICAgICAgdGhpcy5fY2xpcHBpbmdDb250ZXh0TGlzdEZvckRyYXcgPSBuZXcgY3NtVmVjdG9yPEN1YmlzbUNsaXBwaW5nQ29udGV4dD4oKTtcclxuICAgICAgdGhpcy5fY2hhbm5lbENvbG9ycyA9IG5ldyBjc21WZWN0b3I8Q3ViaXNtVGV4dHVyZUNvbG9yPigpO1xyXG4gICAgICB0aGlzLl90bXBCb3VuZHNPbk1vZGVsID0gbmV3IGNzbVJlY3QoKTtcclxuICAgICAgdGhpcy5fdG1wTWF0cml4ID0gbmV3IEN1YmlzbU1hdHJpeDQ0KCk7XHJcbiAgICAgIHRoaXMuX3RtcE1hdHJpeEZvck1hc2sgPSBuZXcgQ3ViaXNtTWF0cml4NDQoKTtcclxuICAgICAgdGhpcy5fdG1wTWF0cml4Rm9yRHJhdyA9IG5ldyBDdWJpc21NYXRyaXg0NCgpO1xyXG4gICAgICB0aGlzLl9tYXNrVGV4dHVyZSA9IG51bGw7XHJcblxyXG4gICAgICBsZXQgdG1wOiBDdWJpc21UZXh0dXJlQ29sb3IgPSBuZXcgQ3ViaXNtVGV4dHVyZUNvbG9yKCk7XHJcbiAgICAgIHRtcC5SID0gMS4wO1xyXG4gICAgICB0bXAuRyA9IDAuMDtcclxuICAgICAgdG1wLkIgPSAwLjA7XHJcbiAgICAgIHRtcC5BID0gMC4wO1xyXG4gICAgICB0aGlzLl9jaGFubmVsQ29sb3JzLnB1c2hCYWNrKHRtcCk7XHJcblxyXG4gICAgICB0bXAgPSBuZXcgQ3ViaXNtVGV4dHVyZUNvbG9yKCk7XHJcbiAgICAgIHRtcC5SID0gMC4wO1xyXG4gICAgICB0bXAuRyA9IDEuMDtcclxuICAgICAgdG1wLkIgPSAwLjA7XHJcbiAgICAgIHRtcC5BID0gMC4wO1xyXG4gICAgICB0aGlzLl9jaGFubmVsQ29sb3JzLnB1c2hCYWNrKHRtcCk7XHJcblxyXG4gICAgICB0bXAgPSBuZXcgQ3ViaXNtVGV4dHVyZUNvbG9yKCk7XHJcbiAgICAgIHRtcC5SID0gMC4wO1xyXG4gICAgICB0bXAuRyA9IDAuMDtcclxuICAgICAgdG1wLkIgPSAxLjA7XHJcbiAgICAgIHRtcC5BID0gMC4wO1xyXG4gICAgICB0aGlzLl9jaGFubmVsQ29sb3JzLnB1c2hCYWNrKHRtcCk7XHJcblxyXG4gICAgICB0bXAgPSBuZXcgQ3ViaXNtVGV4dHVyZUNvbG9yKCk7XHJcbiAgICAgIHRtcC5SID0gMC4wO1xyXG4gICAgICB0bXAuRyA9IDAuMDtcclxuICAgICAgdG1wLkIgPSAwLjA7XHJcbiAgICAgIHRtcC5BID0gMS4wO1xyXG4gICAgICB0aGlzLl9jaGFubmVsQ29sb3JzLnB1c2hCYWNrKHRtcCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDjg4fjgrnjg4jjg6njgq/jgr/nm7jlvZPjga7lh6bnkIZcclxuICAgICAqL1xyXG4gICAgcHVibGljIHJlbGVhc2UoKTogdm9pZCB7XHJcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5fY2xpcHBpbmdDb250ZXh0TGlzdEZvck1hc2suZ2V0U2l6ZSgpOyBpKyspIHtcclxuICAgICAgICBpZiAodGhpcy5fY2xpcHBpbmdDb250ZXh0TGlzdEZvck1hc2suYXQoaSkpIHtcclxuICAgICAgICAgIHRoaXMuX2NsaXBwaW5nQ29udGV4dExpc3RGb3JNYXNrLmF0KGkpLnJlbGVhc2UoKTtcclxuICAgICAgICAgIHRoaXMuX2NsaXBwaW5nQ29udGV4dExpc3RGb3JNYXNrLnNldChpLCB2b2lkIDApO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9jbGlwcGluZ0NvbnRleHRMaXN0Rm9yTWFzay5zZXQoaSwgbnVsbCk7XHJcbiAgICAgIH1cclxuICAgICAgdGhpcy5fY2xpcHBpbmdDb250ZXh0TGlzdEZvck1hc2sgPSBudWxsO1xyXG5cclxuICAgICAgLy8gX2NsaXBwaW5nQ29udGV4dExpc3RGb3JEcmF344GvX2NsaXBwaW5nQ29udGV4dExpc3RGb3JNYXNr44Gr44GC44KL44Kk44Oz44K544K/44Oz44K544KS5oyH44GX44Gm44GE44KL44CC5LiK6KiY44Gu5Yem55CG44Gr44KI44KK6KaB57Sg44GU44Go44GuREVMRVRF44Gv5LiN6KaB44CCXHJcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5fY2xpcHBpbmdDb250ZXh0TGlzdEZvckRyYXcuZ2V0U2l6ZSgpOyBpKyspIHtcclxuICAgICAgICB0aGlzLl9jbGlwcGluZ0NvbnRleHRMaXN0Rm9yRHJhdy5zZXQoaSwgbnVsbCk7XHJcbiAgICAgIH1cclxuICAgICAgdGhpcy5fY2xpcHBpbmdDb250ZXh0TGlzdEZvckRyYXcgPSBudWxsO1xyXG5cclxuICAgICAgaWYgKHRoaXMuX21hc2tUZXh0dXJlKSB7XHJcbiAgICAgICAgdGhpcy5nbC5kZWxldGVGcmFtZWJ1ZmZlcih0aGlzLl9tYXNrVGV4dHVyZS50ZXh0dXJlKTtcclxuICAgICAgICB0aGlzLl9tYXNrVGV4dHVyZSA9IG51bGw7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5fY2hhbm5lbENvbG9ycy5nZXRTaXplKCk7IGkrKykge1xyXG4gICAgICAgIHRoaXMuX2NoYW5uZWxDb2xvcnMuc2V0KGksIG51bGwpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB0aGlzLl9jaGFubmVsQ29sb3JzID0gbnVsbDtcclxuXHJcbiAgICAgIC8vIOODhuOCr+OCueODgeODo+ino+aUvlxyXG4gICAgICB0aGlzLmdsLmRlbGV0ZVRleHR1cmUodGhpcy5fY29sb3JCdWZmZXIpO1xyXG4gICAgICB0aGlzLl9jb2xvckJ1ZmZlciA9IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDjg57jg43jg7zjgrjjg6Pjga7liJ3mnJ/ljJblh6bnkIZcclxuICAgICAqIOOCr+ODquODg+ODlOODs+OCsOODnuOCueOCr+OCkuS9v+OBhuaPj+eUu+OCquODluOCuOOCp+OCr+ODiOOBrueZu+mMsuOCkuihjOOBhlxyXG4gICAgICogQHBhcmFtIG1vZGVsIOODouODh+ODq+OBruOCpOODs+OCueOCv+ODs+OCuVxyXG4gICAgICogQHBhcmFtIGRyYXdhYmxlQ291bnQg5o+P55S744Kq44OW44K444Kn44Kv44OI44Gu5pWwXHJcbiAgICAgKiBAcGFyYW0gZHJhd2FibGVNYXNrcyDmj4/nlLvjgqrjg5bjgrjjgqfjgq/jg4jjgpLjg57jgrnjgq/jgZnjgovmj4/nlLvjgqrjg5bjgrjjgqfjgq/jg4jjga7jgqTjg7Pjg4fjg4Pjgq/jgrnjga7jg6rjgrnjg4hcclxuICAgICAqIEBwYXJhbSBkcmF3YWJsZUNvdW50cyDmj4/nlLvjgqrjg5bjgrjjgqfjgq/jg4jjgpLjg57jgrnjgq/jgZnjgovmj4/nlLvjgqrjg5bjgrjjgqfjgq/jg4jjga7mlbBcclxuICAgICAqL1xyXG4gICAgcHVibGljIGluaXRpYWxpemUoXHJcbiAgICAgIG1vZGVsOiBDdWJpc21Nb2RlbCxcclxuICAgICAgZHJhd2FibGVDb3VudDogbnVtYmVyLFxyXG4gICAgICBkcmF3YWJsZU1hc2tzOiBJbnQzMkFycmF5W10sXHJcbiAgICAgIGRyYXdhYmxlTWFza0NvdW50czogSW50MzJBcnJheVxyXG4gICAgKTogdm9pZCB7XHJcbiAgICAgIC8vIOOCr+ODquODg+ODlOODs+OCsOODnuOCueOCr+OCkuS9v+OBhuaPj+eUu+OCquODluOCuOOCp+OCr+ODiOOCkuOBmeOBueOBpueZu+mMsuOBmeOCi1xyXG4gICAgICAvLyDjgq/jg6rjg4Pjg5Tjg7PjgrDjg57jgrnjgq/jga/jgIHpgJrluLjmlbDlgIvnqIvluqbjgavpmZDlrprjgZfjgabkvb/jgYbjgoLjga7jgajjgZnjgotcclxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkcmF3YWJsZUNvdW50OyBpKyspIHtcclxuICAgICAgICBpZiAoZHJhd2FibGVNYXNrQ291bnRzW2ldIDw9IDApIHtcclxuICAgICAgICAgIC8vIOOCr+ODquODg+ODlOODs+OCsOODnuOCueOCr+OBjOS9v+eUqOOBleOCjOOBpuOBhOOBquOBhOOCouODvOODiOODoeODg+OCt+ODpe+8iOWkmuOBj+OBruWgtOWQiOS9v+eUqOOBl+OBquOBhO+8iVxyXG4gICAgICAgICAgdGhpcy5fY2xpcHBpbmdDb250ZXh0TGlzdEZvckRyYXcucHVzaEJhY2sobnVsbCk7XHJcbiAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIOaXouOBq+OBguOCi0NsaXBDb250ZXh044Go5ZCM44GY44GL44OB44Kn44OD44Kv44GZ44KLXHJcbiAgICAgICAgbGV0IGNsaXBwaW5nQ29udGV4dDogQ3ViaXNtQ2xpcHBpbmdDb250ZXh0ID0gdGhpcy5maW5kU2FtZUNsaXAoXHJcbiAgICAgICAgICBkcmF3YWJsZU1hc2tzW2ldLFxyXG4gICAgICAgICAgZHJhd2FibGVNYXNrQ291bnRzW2ldXHJcbiAgICAgICAgKTtcclxuICAgICAgICBpZiAoY2xpcHBpbmdDb250ZXh0ID09IG51bGwpIHtcclxuICAgICAgICAgIC8vIOWQjOS4gOOBruODnuOCueOCr+OBjOWtmOWcqOOBl+OBpuOBhOOBquOBhOWgtOWQiOOBr+eUn+aIkOOBmeOCi1xyXG4gICAgICAgICAgY2xpcHBpbmdDb250ZXh0ID0gbmV3IEN1YmlzbUNsaXBwaW5nQ29udGV4dChcclxuICAgICAgICAgICAgdGhpcyxcclxuICAgICAgICAgICAgZHJhd2FibGVNYXNrc1tpXSxcclxuICAgICAgICAgICAgZHJhd2FibGVNYXNrQ291bnRzW2ldXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgICAgdGhpcy5fY2xpcHBpbmdDb250ZXh0TGlzdEZvck1hc2sucHVzaEJhY2soY2xpcHBpbmdDb250ZXh0KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNsaXBwaW5nQ29udGV4dC5hZGRDbGlwcGVkRHJhd2FibGUoaSk7XHJcblxyXG4gICAgICAgIHRoaXMuX2NsaXBwaW5nQ29udGV4dExpc3RGb3JEcmF3LnB1c2hCYWNrKGNsaXBwaW5nQ29udGV4dCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOOCr+ODquODg+ODlOODs+OCsOOCs+ODs+ODhuOCreOCueODiOOCkuS9nOaIkOOBmeOCi+OAguODouODh+ODq+aPj+eUu+aZguOBq+Wun+ihjOOBmeOCi+OAglxyXG4gICAgICogQHBhcmFtIG1vZGVsIOODouODh+ODq+OBruOCpOODs+OCueOCv+ODs+OCuVxyXG4gICAgICogQHBhcmFtIHJlbmRlcmVyIOODrOODs+ODgOODqeOBruOCpOODs+OCueOCv+ODs+OCuVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc2V0dXBDbGlwcGluZ0NvbnRleHQoXHJcbiAgICAgIG1vZGVsOiBDdWJpc21Nb2RlbCxcclxuICAgICAgcmVuZGVyZXI6IEN1YmlzbVJlbmRlcmVyX1dlYkdMXHJcbiAgICApOiB2b2lkIHtcclxuICAgICAgdGhpcy5fY3VycmVudEZyYW1lTm8rKztcclxuXHJcbiAgICAgIC8vIOWFqOOBpuOBruOCr+ODquODg+ODlOODs+OCsOOCkueUqOaEj+OBmeOCi1xyXG4gICAgICAvLyDlkIzjgZjjgq/jg6rjg4Pjg5fvvIjopIfmlbDjga7loLTlkIjjga/jgb7jgajjgoHjgabkuIDjgaTjga7jgq/jg6rjg4Pjg5fvvInjgpLkvb/jgYbloLTlkIjjga8x5bqm44Gg44GR6Kit5a6a44GZ44KLXHJcbiAgICAgIGxldCB1c2luZ0NsaXBDb3VudCA9IDA7XHJcbiAgICAgIGZvciAoXHJcbiAgICAgICAgbGV0IGNsaXBJbmRleCA9IDA7XHJcbiAgICAgICAgY2xpcEluZGV4IDwgdGhpcy5fY2xpcHBpbmdDb250ZXh0TGlzdEZvck1hc2suZ2V0U2l6ZSgpO1xyXG4gICAgICAgIGNsaXBJbmRleCsrXHJcbiAgICAgICkge1xyXG4gICAgICAgIC8vIDHjgaTjga7jgq/jg6rjg4Pjg5Tjg7PjgrDjg57jgrnjgq/jgavplqLjgZfjgaZcclxuICAgICAgICBjb25zdCBjYzogQ3ViaXNtQ2xpcHBpbmdDb250ZXh0ID0gdGhpcy5fY2xpcHBpbmdDb250ZXh0TGlzdEZvck1hc2suYXQoXHJcbiAgICAgICAgICBjbGlwSW5kZXhcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICAvLyDjgZPjga7jgq/jg6rjg4Pjg5fjgpLliKnnlKjjgZnjgovmj4/nlLvjgqrjg5bjgrjjgqfjgq/jg4jnvqTlhajkvZPjgpLlm7LjgoDnn6nlvaLjgpLoqIjnrpdcclxuICAgICAgICB0aGlzLmNhbGNDbGlwcGVkRHJhd1RvdGFsQm91bmRzKG1vZGVsLCBjYyk7XHJcblxyXG4gICAgICAgIGlmIChjYy5faXNVc2luZykge1xyXG4gICAgICAgICAgdXNpbmdDbGlwQ291bnQrKzsgLy8g5L2/55So5Lit44Go44GX44Gm44Kr44Km44Oz44OIXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyDjg57jgrnjgq/kvZzmiJDlh6bnkIZcclxuICAgICAgaWYgKHVzaW5nQ2xpcENvdW50ID4gMCkge1xyXG4gICAgICAgIC8vIOeUn+aIkOOBl+OBn0ZyYW1lQnVmZmVy44Go5ZCM44GY44K144Kk44K644Gn44OT44Ol44O844Od44O844OI44KS6Kit5a6aXHJcbiAgICAgICAgdGhpcy5nbC52aWV3cG9ydChcclxuICAgICAgICAgIDAsXHJcbiAgICAgICAgICAwLFxyXG4gICAgICAgICAgdGhpcy5fY2xpcHBpbmdNYXNrQnVmZmVyU2l6ZSxcclxuICAgICAgICAgIHRoaXMuX2NsaXBwaW5nTWFza0J1ZmZlclNpemVcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICAvLyDjg57jgrnjgq/jgpJhY3RpdmXjgavjgZnjgotcclxuICAgICAgICB0aGlzLl9tYXNrUmVuZGVyVGV4dHVyZSA9IHRoaXMuZ2V0TWFza1JlbmRlclRleHR1cmUoKTtcclxuXHJcbiAgICAgICAgLy8g44Oi44OH44Or5o+P55S75pmC44GrRHJhd01lc2hOb3fjgavmuKHjgZXjgozjgovlpInmj5so44Oi44OH44OrdG/jg6/jg7zjg6vjg4nluqfmqJnlpInmj5spXHJcbiAgICAgICAgY29uc3QgbW9kZWxUb1dvcmxkRjogQ3ViaXNtTWF0cml4NDQgPSByZW5kZXJlci5nZXRNdnBNYXRyaXgoKTtcclxuXHJcbiAgICAgICAgcmVuZGVyZXIucHJlRHJhdygpOyAvLyDjg5Djg4Pjg5XjgqHjgpLjgq/jg6rjgqLjgZnjgotcclxuXHJcbiAgICAgICAgLy8g5ZCE44Oe44K544Kv44Gu44Os44Kk44Ki44Km44OI44KS5rG65a6a44GX44Gm44GE44GPXHJcbiAgICAgICAgdGhpcy5zZXR1cExheW91dEJvdW5kcyh1c2luZ0NsaXBDb3VudCk7XHJcblxyXG4gICAgICAgIC8vIC0tLS0tLS0tLS0g44Oe44K544Kv5o+P55S75Yem55CGIC0tLS0tLS0tLS1cclxuICAgICAgICAvLyDjg57jgrnjgq/nlKhSZW5kZXJUZXh0dXJl44KSYWN0aXZl44Gr44K744OD44OIXHJcbiAgICAgICAgdGhpcy5nbC5iaW5kRnJhbWVidWZmZXIodGhpcy5nbC5GUkFNRUJVRkZFUiwgdGhpcy5fbWFza1JlbmRlclRleHR1cmUpO1xyXG5cclxuICAgICAgICAvLyDjg57jgrnjgq/jgpLjgq/jg6rjgqLjgZnjgotcclxuICAgICAgICAvLyAo5Luu5LuV5qeYKSAx44GM54Sh5Yq577yI5o+P44GL44KM44Gq44GE77yJ6aCY5Z+f44CBMOOBjOacieWKue+8iOaPj+OBi+OCjOOCi++8iemgmOWfn+OAgu+8iOOCt+OCp+ODvOODgOODvENkKkNz44GnMOOBq+i/keOBhOWApOOCkuOBi+OBkeOBpuODnuOCueOCr+OCkuS9nOOCi+OAgjHjgpLjgYvjgZHjgovjgajkvZXjgoLotbfjgZPjgonjgarjgYTvvIlcclxuICAgICAgICB0aGlzLmdsLmNsZWFyQ29sb3IoMS4wLCAxLjAsIDEuMCwgMS4wKTtcclxuICAgICAgICB0aGlzLmdsLmNsZWFyKHRoaXMuZ2wuQ09MT1JfQlVGRkVSX0JJVCk7XHJcblxyXG4gICAgICAgIC8vIOWun+mam+OBq+ODnuOCueOCr+OCkueUn+aIkOOBmeOCi1xyXG4gICAgICAgIC8vIOWFqOOBpuOBruODnuOCueOCr+OCkuOBqeOBruOCiOOBhuOBq+ODrOOCpOOCouOCpuODiOOBl+OBpuaPj+OBj+OBi+OCkuaxuuWumuOBl+OAgUNsaXBDb250ZXh0LCBDbGlwcGVkRHJhd0NvbnRleHTjgavoqJjmhrbjgZnjgotcclxuICAgICAgICBmb3IgKFxyXG4gICAgICAgICAgbGV0IGNsaXBJbmRleCA9IDA7XHJcbiAgICAgICAgICBjbGlwSW5kZXggPCB0aGlzLl9jbGlwcGluZ0NvbnRleHRMaXN0Rm9yTWFzay5nZXRTaXplKCk7XHJcbiAgICAgICAgICBjbGlwSW5kZXgrK1xyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgLy8gLS0tIOWun+mam+OBqzHjgaTjga7jg57jgrnjgq/jgpLmj4/jgY8gLS0tXHJcbiAgICAgICAgICBjb25zdCBjbGlwQ29udGV4dDogQ3ViaXNtQ2xpcHBpbmdDb250ZXh0ID0gdGhpcy5fY2xpcHBpbmdDb250ZXh0TGlzdEZvck1hc2suYXQoXHJcbiAgICAgICAgICAgIGNsaXBJbmRleFxyXG4gICAgICAgICAgKTtcclxuICAgICAgICAgIGNvbnN0IGFsbENsaXBlZERyYXdSZWN0OiBjc21SZWN0ID0gY2xpcENvbnRleHQuX2FsbENsaXBwZWREcmF3UmVjdDsgLy8g44GT44Gu44Oe44K544Kv44KS5L2/44GG44CB44GZ44G544Gm44Gu5o+P55S744Kq44OW44K444Kn44Kv44OI44Gu6KuW55CG5bqn5qiZ5LiK44Gu5Zuy44G/55+p5b2iXHJcbiAgICAgICAgICBjb25zdCBsYXlvdXRCb3VuZHNPblRleDAxOiBjc21SZWN0ID0gY2xpcENvbnRleHQuX2xheW91dEJvdW5kczsgLy8g44GT44Gu5Lit44Gr44Oe44K544Kv44KS5Y+O44KB44KLXHJcblxyXG4gICAgICAgICAgLy8g44Oi44OH44Or5bqn5qiZ5LiK44Gu55+p5b2i44KS44CB6YGp5a6c44Oe44O844K444Oz44KS5LuY44GR44Gm5L2/44GGXHJcbiAgICAgICAgICBjb25zdCBNQVJHSU4gPSAwLjA1O1xyXG4gICAgICAgICAgdGhpcy5fdG1wQm91bmRzT25Nb2RlbC5zZXRSZWN0KGFsbENsaXBlZERyYXdSZWN0KTtcclxuICAgICAgICAgIHRoaXMuX3RtcEJvdW5kc09uTW9kZWwuZXhwYW5kKFxyXG4gICAgICAgICAgICBhbGxDbGlwZWREcmF3UmVjdC53aWR0aCAqIE1BUkdJTixcclxuICAgICAgICAgICAgYWxsQ2xpcGVkRHJhd1JlY3QuaGVpZ2h0ICogTUFSR0lOXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgICAgLy8jIyMjIyMjIyMjIOacrOadpeOBr+WJsuOCiuW9k+OBpuOCieOCjOOBn+mgmOWfn+OBruWFqOS9k+OCkuS9v+OCj+OBmuW/heimgeacgOS9jumZkOOBruOCteOCpOOCuuOBjOOCiOOBhFxyXG5cclxuICAgICAgICAgIC8vIOOCt+OCp+ODvOODgOeUqOOBruioiOeul+W8j+OCkuaxguOCgeOCi+OAguWbnui7ouOCkuiAg+aFruOBl+OBquOBhOWgtOWQiOOBr+S7peS4i+OBruOBqOOBiuOCilxyXG4gICAgICAgICAgLy8gbW92ZVBlcmlvZCcgPSBtb3ZlUGVyaW9kICogc2NhbGVYICsgb2ZmWFx0XHQgIFtbIG1vdmVQZXJpb2QnID0gKG1vdmVQZXJpb2QgLSB0bXBCb3VuZHNPbk1vZGVsLm1vdmVQZXJpb2QpKnNjYWxlICsgbGF5b3V0Qm91bmRzT25UZXgwMS5tb3ZlUGVyaW9kIF1dXHJcbiAgICAgICAgICBjb25zdCBzY2FsZVg6IG51bWJlciA9XHJcbiAgICAgICAgICAgIGxheW91dEJvdW5kc09uVGV4MDEud2lkdGggLyB0aGlzLl90bXBCb3VuZHNPbk1vZGVsLndpZHRoO1xyXG4gICAgICAgICAgY29uc3Qgc2NhbGVZOiBudW1iZXIgPVxyXG4gICAgICAgICAgICBsYXlvdXRCb3VuZHNPblRleDAxLmhlaWdodCAvIHRoaXMuX3RtcEJvdW5kc09uTW9kZWwuaGVpZ2h0O1xyXG5cclxuICAgICAgICAgIC8vIOODnuOCueOCr+eUn+aIkOaZguOBq+S9v+OBhuihjOWIl+OCkuaxguOCgeOCi1xyXG4gICAgICAgICAge1xyXG4gICAgICAgICAgICAvLyDjgrfjgqfjg7zjg4DjgavmuKHjgZnooYzliJfjgpLmsYLjgoHjgosgPDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8IOimgeacgOmBqeWMlu+8iOmAhumghuOBq+ioiOeul+OBmeOCjOOBsOOCt+ODs+ODl+ODq+OBq+OBp+OBjeOCi++8iVxyXG4gICAgICAgICAgICB0aGlzLl90bXBNYXRyaXgubG9hZElkZW50aXR5KCk7XHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAvLyBsYXlvdXQwLi4xIOOCkiAtMS4uMeOBq+WkieaPm1xyXG4gICAgICAgICAgICAgIHRoaXMuX3RtcE1hdHJpeC50cmFuc2xhdGVSZWxhdGl2ZSgtMS4wLCAtMS4wKTtcclxuICAgICAgICAgICAgICB0aGlzLl90bXBNYXRyaXguc2NhbGVSZWxhdGl2ZSgyLjAsIDIuMCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIC8vIHZpZXcgdG8gbGF5b3V0MC4uMVxyXG4gICAgICAgICAgICAgIHRoaXMuX3RtcE1hdHJpeC50cmFuc2xhdGVSZWxhdGl2ZShcclxuICAgICAgICAgICAgICAgIGxheW91dEJvdW5kc09uVGV4MDEueCxcclxuICAgICAgICAgICAgICAgIGxheW91dEJvdW5kc09uVGV4MDEueVxyXG4gICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgdGhpcy5fdG1wTWF0cml4LnNjYWxlUmVsYXRpdmUoc2NhbGVYLCBzY2FsZVkpOyAvLyBuZXcgPSBbdHJhbnNsYXRlXVtzY2FsZV1cclxuICAgICAgICAgICAgICB0aGlzLl90bXBNYXRyaXgudHJhbnNsYXRlUmVsYXRpdmUoXHJcbiAgICAgICAgICAgICAgICAtdGhpcy5fdG1wQm91bmRzT25Nb2RlbC54LFxyXG4gICAgICAgICAgICAgICAgLXRoaXMuX3RtcEJvdW5kc09uTW9kZWwueVxyXG4gICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgLy8gbmV3ID0gW3RyYW5zbGF0ZV1bc2NhbGVdW3RyYW5zbGF0ZV1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyB0bXBNYXRyaXhGb3JNYXNr44GM6KiI566X57WQ5p6cXHJcbiAgICAgICAgICAgIHRoaXMuX3RtcE1hdHJpeEZvck1hc2suc2V0TWF0cml4KHRoaXMuX3RtcE1hdHJpeC5nZXRBcnJheSgpKTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAvLy0tLS0tLS0tLSBkcmF35pmC44GuIG1hc2sg5Y+C54Wn55So6KGM5YiX44KS6KiI566XXHJcbiAgICAgICAgICB7XHJcbiAgICAgICAgICAgIC8vIOOCt+OCp+ODvOODgOOBq+a4oeOBmeihjOWIl+OCkuaxguOCgeOCiyA8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDwg6KaB5pyA6YGp5YyW77yI6YCG6aCG44Gr6KiI566X44GZ44KM44Gw44K344Oz44OX44Or44Gr44Gn44GN44KL77yJXHJcbiAgICAgICAgICAgIHRoaXMuX3RtcE1hdHJpeC5sb2FkSWRlbnRpdHkoKTtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIHRoaXMuX3RtcE1hdHJpeC50cmFuc2xhdGVSZWxhdGl2ZShcclxuICAgICAgICAgICAgICAgIGxheW91dEJvdW5kc09uVGV4MDEueCxcclxuICAgICAgICAgICAgICAgIGxheW91dEJvdW5kc09uVGV4MDEueVxyXG4gICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgdGhpcy5fdG1wTWF0cml4LnNjYWxlUmVsYXRpdmUoc2NhbGVYLCBzY2FsZVkpOyAvLyBuZXcgPSBbdHJhbnNsYXRlXVtzY2FsZV1cclxuICAgICAgICAgICAgICB0aGlzLl90bXBNYXRyaXgudHJhbnNsYXRlUmVsYXRpdmUoXHJcbiAgICAgICAgICAgICAgICAtdGhpcy5fdG1wQm91bmRzT25Nb2RlbC54LFxyXG4gICAgICAgICAgICAgICAgLXRoaXMuX3RtcEJvdW5kc09uTW9kZWwueVxyXG4gICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgLy8gbmV3ID0gW3RyYW5zbGF0ZV1bc2NhbGVdW3RyYW5zbGF0ZV1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLl90bXBNYXRyaXhGb3JEcmF3LnNldE1hdHJpeCh0aGlzLl90bXBNYXRyaXguZ2V0QXJyYXkoKSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBjbGlwQ29udGV4dC5fbWF0cml4Rm9yTWFzay5zZXRNYXRyaXgoXHJcbiAgICAgICAgICAgIHRoaXMuX3RtcE1hdHJpeEZvck1hc2suZ2V0QXJyYXkoKVxyXG4gICAgICAgICAgKTtcclxuICAgICAgICAgIGNsaXBDb250ZXh0Ll9tYXRyaXhGb3JEcmF3LnNldE1hdHJpeChcclxuICAgICAgICAgICAgdGhpcy5fdG1wTWF0cml4Rm9yRHJhdy5nZXRBcnJheSgpXHJcbiAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgIGNvbnN0IGNsaXBEcmF3Q291bnQ6IG51bWJlciA9IGNsaXBDb250ZXh0Ll9jbGlwcGluZ0lkQ291bnQ7XHJcbiAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNsaXBEcmF3Q291bnQ7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCBjbGlwRHJhd0luZGV4OiBudW1iZXIgPSBjbGlwQ29udGV4dC5fY2xpcHBpbmdJZExpc3RbaV07XHJcblxyXG4gICAgICAgICAgICAvLyDpoILngrnmg4XloLHjgYzmm7TmlrDjgZXjgozjgabjgYrjgonjgZrjgIHkv6HpoLzmgKfjgYzjgarjgYTloLTlkIjjga/mj4/nlLvjgpLjg5HjgrnjgZnjgotcclxuICAgICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAgICFtb2RlbC5nZXREcmF3YWJsZUR5bmFtaWNGbGFnVmVydGV4UG9zaXRpb25zRGlkQ2hhbmdlKFxyXG4gICAgICAgICAgICAgICAgY2xpcERyYXdJbmRleFxyXG4gICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJlbmRlcmVyLnNldElzQ3VsbGluZyhcclxuICAgICAgICAgICAgICBtb2RlbC5nZXREcmF3YWJsZUN1bGxpbmcoY2xpcERyYXdJbmRleCkgIT0gZmFsc2VcclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIC8vIOS7iuWbnuWwgueUqOOBruWkieaPm+OCkumBqeeUqOOBl+OBpuaPj+OBj1xyXG4gICAgICAgICAgICAvLyDjg4Hjg6Pjg7Pjg43jg6vjgoLliIfjgormm7/jgYjjgovlv4XopoHjgYzjgYLjgosoQSxSLEcsQilcclxuICAgICAgICAgICAgcmVuZGVyZXIuc2V0Q2xpcHBpbmdDb250ZXh0QnVmZmVyRm9yTWFzayhjbGlwQ29udGV4dCk7XHJcbiAgICAgICAgICAgIHJlbmRlcmVyLmRyYXdNZXNoKFxyXG4gICAgICAgICAgICAgIG1vZGVsLmdldERyYXdhYmxlVGV4dHVyZUluZGljZXMoY2xpcERyYXdJbmRleCksXHJcbiAgICAgICAgICAgICAgbW9kZWwuZ2V0RHJhd2FibGVWZXJ0ZXhJbmRleENvdW50KGNsaXBEcmF3SW5kZXgpLFxyXG4gICAgICAgICAgICAgIG1vZGVsLmdldERyYXdhYmxlVmVydGV4Q291bnQoY2xpcERyYXdJbmRleCksXHJcbiAgICAgICAgICAgICAgbW9kZWwuZ2V0RHJhd2FibGVWZXJ0ZXhJbmRpY2VzKGNsaXBEcmF3SW5kZXgpLFxyXG4gICAgICAgICAgICAgIG1vZGVsLmdldERyYXdhYmxlVmVydGljZXMoY2xpcERyYXdJbmRleCksXHJcbiAgICAgICAgICAgICAgbW9kZWwuZ2V0RHJhd2FibGVWZXJ0ZXhVdnMoY2xpcERyYXdJbmRleCksXHJcbiAgICAgICAgICAgICAgbW9kZWwuZ2V0RHJhd2FibGVPcGFjaXR5KGNsaXBEcmF3SW5kZXgpLFxyXG4gICAgICAgICAgICAgIEN1YmlzbUJsZW5kTW9kZS5DdWJpc21CbGVuZE1vZGVfTm9ybWFsLCAvLyDjgq/jg6rjg4Pjg5Tjg7PjgrDjga/pgJrluLjmj4/nlLvjgpLlvLfliLZcclxuICAgICAgICAgICAgICBmYWxzZSAvLyDjg57jgrnjgq/nlJ/miJDmmYLjga/jgq/jg6rjg4Pjg5Tjg7PjgrDjga7lj43ou6Lkvb/nlKjjga/lhajjgY/plqLkv4LjgYzjgarjgYRcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIC0tLSDlvozlh6bnkIYgLS0tXHJcbiAgICAgICAgdGhpcy5nbC5iaW5kRnJhbWVidWZmZXIodGhpcy5nbC5GUkFNRUJVRkZFUiwgc19mYm8pOyAvLyDmj4/nlLvlr77osaHjgpLmiLvjgZlcclxuICAgICAgICByZW5kZXJlci5zZXRDbGlwcGluZ0NvbnRleHRCdWZmZXJGb3JNYXNrKG51bGwpO1xyXG5cclxuICAgICAgICB0aGlzLmdsLnZpZXdwb3J0KFxyXG4gICAgICAgICAgc192aWV3cG9ydFswXSxcclxuICAgICAgICAgIHNfdmlld3BvcnRbMV0sXHJcbiAgICAgICAgICBzX3ZpZXdwb3J0WzJdLFxyXG4gICAgICAgICAgc192aWV3cG9ydFszXVxyXG4gICAgICAgICk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOaXouOBq+ODnuOCueOCr+OCkuS9nOOBo+OBpuOBhOOCi+OBi+OCkueiuuiqjVxyXG4gICAgICog5L2c44Gj44Gm44GE44KL5qeY44Gn44GC44KM44Gw6Kmy5b2T44GZ44KL44Kv44Oq44OD44OU44Oz44Kw44Oe44K544Kv44Gu44Kk44Oz44K544K/44Oz44K544KS6L+U44GZXHJcbiAgICAgKiDkvZzjgaPjgabjgYTjgarjgZHjgozjgbBOVUxM44KS6L+U44GZXHJcbiAgICAgKiBAcGFyYW0gZHJhd2FibGVNYXNrcyDmj4/nlLvjgqrjg5bjgrjjgqfjgq/jg4jjgpLjg57jgrnjgq/jgZnjgovmj4/nlLvjgqrjg5bjgrjjgqfjgq/jg4jjga7jg6rjgrnjg4hcclxuICAgICAqIEBwYXJhbSBkcmF3YWJsZU1hc2tDb3VudHMg5o+P55S744Kq44OW44K444Kn44Kv44OI44KS44Oe44K544Kv44GZ44KL5o+P55S744Kq44OW44K444Kn44Kv44OI44Gu5pWwXHJcbiAgICAgKiBAcmV0dXJuIOipsuW9k+OBmeOCi+OCr+ODquODg+ODlOODs+OCsOODnuOCueOCr+OBjOWtmOWcqOOBmeOCjOOBsOOCpOODs+OCueOCv+ODs+OCueOCkui/lOOBl+OAgeOBquOBkeOCjOOBsE5VTEzjgpLov5TjgZlcclxuICAgICAqL1xyXG4gICAgcHVibGljIGZpbmRTYW1lQ2xpcChcclxuICAgICAgZHJhd2FibGVNYXNrczogSW50MzJBcnJheSxcclxuICAgICAgZHJhd2FibGVNYXNrQ291bnRzOiBudW1iZXJcclxuICAgICk6IEN1YmlzbUNsaXBwaW5nQ29udGV4dCB7XHJcbiAgICAgIC8vIOS9nOaIkOa4iOOBv0NsaXBwaW5nQ29udGV4dOOBqOS4gOiHtOOBmeOCi+OBi+eiuuiqjVxyXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX2NsaXBwaW5nQ29udGV4dExpc3RGb3JNYXNrLmdldFNpemUoKTsgaSsrKSB7XHJcbiAgICAgICAgY29uc3QgY2xpcHBpbmdDb250ZXh0OiBDdWJpc21DbGlwcGluZ0NvbnRleHQgPSB0aGlzLl9jbGlwcGluZ0NvbnRleHRMaXN0Rm9yTWFzay5hdChcclxuICAgICAgICAgIGlcclxuICAgICAgICApO1xyXG4gICAgICAgIGNvbnN0IGNvdW50OiBudW1iZXIgPSBjbGlwcGluZ0NvbnRleHQuX2NsaXBwaW5nSWRDb3VudDtcclxuXHJcbiAgICAgICAgLy8g5YCL5pWw44GM6YGV44GG5aC05ZCI44Gv5Yil54mpXHJcbiAgICAgICAgaWYgKGNvdW50ICE9IGRyYXdhYmxlTWFza0NvdW50cykge1xyXG4gICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgc2FtZUNvdW50ID0gMDtcclxuXHJcbiAgICAgICAgLy8g5ZCM44GYSUTjgpLmjIHjgaTjgYvnorroqo3jgILphY3liJfjga7mlbDjgYzlkIzjgZjjgarjga7jgafjgIHkuIDoh7TjgZfjgZ/lgIvmlbDjgYzlkIzjgZjjgarjgonlkIzjgZjnianjgpLmjIHjgaTjgajjgZnjgotcclxuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGNvdW50OyBqKyspIHtcclxuICAgICAgICAgIGNvbnN0IGNsaXBJZDogbnVtYmVyID0gY2xpcHBpbmdDb250ZXh0Ll9jbGlwcGluZ0lkTGlzdFtqXTtcclxuXHJcbiAgICAgICAgICBmb3IgKGxldCBrID0gMDsgayA8IGNvdW50OyBrKyspIHtcclxuICAgICAgICAgICAgaWYgKGRyYXdhYmxlTWFza3Nba10gPT0gY2xpcElkKSB7XHJcbiAgICAgICAgICAgICAgc2FtZUNvdW50Kys7XHJcbiAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChzYW1lQ291bnQgPT0gY291bnQpIHtcclxuICAgICAgICAgIHJldHVybiBjbGlwcGluZ0NvbnRleHQ7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gbnVsbDsgLy8g6KaL44Gk44GL44KJ44Gq44GL44Gj44GfXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDjgq/jg6rjg4Pjg5Tjg7PjgrDjgrPjg7Pjg4bjgq3jgrnjg4jjgpLphY3nva7jgZnjgovjg6zjgqTjgqLjgqbjg4hcclxuICAgICAqIOS4gOOBpOOBruODrOODs+ODgOODvOODhuOCr+OCueODgeODo+OCkualteWKm+OBhOOBo+OBseOBhOOBq+S9v+OBo+OBpuODnuOCueOCr+OCkuODrOOCpOOCouOCpuODiOOBmeOCi1xyXG4gICAgICog44Oe44K544Kv44Kw44Or44O844OX44Gu5pWw44GMNOS7peS4i+OBquOCiVJHQkHlkITjg4Hjg6Pjg7Pjg43jg6vjgavkuIDjgaTjgZrjgaTjg57jgrnjgq/jgpLphY3nva7jgZfjgIE15Lul5LiKNuS7peS4i+OBquOCiVJHQkHjgpIyLDIsMSwx44Go6YWN572u44GZ44KL44CCXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHVzaW5nQ2xpcENvdW50IOmFjee9ruOBmeOCi+OCr+ODquODg+ODlOODs+OCsOOCs+ODs+ODhuOCreOCueODiOOBruaVsFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc2V0dXBMYXlvdXRCb3VuZHModXNpbmdDbGlwQ291bnQ6IG51bWJlcik6IHZvaWQge1xyXG4gICAgICAvLyDjgbLjgajjgaTjga5SZW5kZXJUZXh0dXJl44KS5qW15Yqb44GE44Gj44Gx44GE44Gr5L2/44Gj44Gm44Oe44K544Kv44KS44Os44Kk44Ki44Km44OI44GZ44KLXHJcbiAgICAgIC8vIOODnuOCueOCr+OCsOODq+ODvOODl+OBruaVsOOBjDTku6XkuIvjgarjgolSR0JB5ZCE44OB44Oj44Oz44ON44Or44GrMeOBpOOBmuOBpOODnuOCueOCr+OCkumFjee9ruOBl+OAgTXku6XkuIo25Lul5LiL44Gq44KJUkdCQeOCkjIsMiwxLDHjgajphY3nva7jgZnjgotcclxuXHJcbiAgICAgIC8vIFJHQkHjgpLpoIbnlarjgavkvb/jgaPjgabjgYTjgY9cclxuICAgICAgbGV0IGRpdjogbnVtYmVyID0gdXNpbmdDbGlwQ291bnQgLyBDb2xvckNoYW5uZWxDb3VudDsgLy8gMeODgeODo+ODs+ODjeODq+OBq+mFjee9ruOBmeOCi+WfuuacrOOBruODnuOCueOCr1xyXG4gICAgICBsZXQgbW9kOiBudW1iZXIgPSB1c2luZ0NsaXBDb3VudCAlIENvbG9yQ2hhbm5lbENvdW50OyAvLyDkvZnjgorjgIHjgZPjga7nlarlj7fjga7jg4Hjg6Pjg7Pjg43jg6vjgb7jgafjgavkuIDjgaTjgZrjgaTphY3liIbjgZnjgotcclxuXHJcbiAgICAgIC8vIOWwj+aVsOeCueOBr+WIh+OCiuaNqOOBpuOCi1xyXG4gICAgICBkaXYgPSB+fmRpdjtcclxuICAgICAgbW9kID0gfn5tb2Q7XHJcblxyXG4gICAgICAvLyBSR0JB44Gd44KM44Ge44KM44Gu44OB44Oj44Oz44ON44Or44KS55So5oSP44GX44Gm44GE44GP77yIMDpSLCAxOkcsIDI6QiwgMzpB77yJXHJcbiAgICAgIGxldCBjdXJDbGlwSW5kZXggPSAwOyAvLyDpoIbnlarjgavoqK3lrprjgZfjgabjgYTjgY9cclxuXHJcbiAgICAgIGZvciAobGV0IGNoYW5uZWxObyA9IDA7IGNoYW5uZWxObyA8IENvbG9yQ2hhbm5lbENvdW50OyBjaGFubmVsTm8rKykge1xyXG4gICAgICAgIC8vIOOBk+OBruODgeODo+ODs+ODjeODq+OBq+ODrOOCpOOCouOCpuODiOOBmeOCi+aVsFxyXG4gICAgICAgIGNvbnN0IGxheW91dENvdW50OiBudW1iZXIgPSBkaXYgKyAoY2hhbm5lbE5vIDwgbW9kID8gMSA6IDApO1xyXG5cclxuICAgICAgICAvLyDliIblibLmlrnms5XjgpLmsbrlrprjgZnjgotcclxuICAgICAgICBpZiAobGF5b3V0Q291bnQgPT0gMCkge1xyXG4gICAgICAgICAgLy8g5L2V44KC44GX44Gq44GEXHJcbiAgICAgICAgfSBlbHNlIGlmIChsYXlvdXRDb3VudCA9PSAxKSB7XHJcbiAgICAgICAgICAvLyDlhajjgabjgpLjgZ3jga7jgb7jgb7kvb/jgYZcclxuICAgICAgICAgIGNvbnN0IGNsaXBDb250ZXh0OiBDdWJpc21DbGlwcGluZ0NvbnRleHQgPSB0aGlzLl9jbGlwcGluZ0NvbnRleHRMaXN0Rm9yTWFzay5hdChcclxuICAgICAgICAgICAgY3VyQ2xpcEluZGV4KytcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgICBjbGlwQ29udGV4dC5fbGF5b3V0Q2hhbm5lbE5vID0gY2hhbm5lbE5vO1xyXG4gICAgICAgICAgY2xpcENvbnRleHQuX2xheW91dEJvdW5kcy54ID0gMC4wO1xyXG4gICAgICAgICAgY2xpcENvbnRleHQuX2xheW91dEJvdW5kcy55ID0gMC4wO1xyXG4gICAgICAgICAgY2xpcENvbnRleHQuX2xheW91dEJvdW5kcy53aWR0aCA9IDEuMDtcclxuICAgICAgICAgIGNsaXBDb250ZXh0Ll9sYXlvdXRCb3VuZHMuaGVpZ2h0ID0gMS4wO1xyXG4gICAgICAgIH0gZWxzZSBpZiAobGF5b3V0Q291bnQgPT0gMikge1xyXG4gICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsYXlvdXRDb3VudDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGxldCB4cG9zOiBudW1iZXIgPSBpICUgMjtcclxuXHJcbiAgICAgICAgICAgIC8vIOWwj+aVsOeCueOBr+WIh+OCiuaNqOOBpuOCi1xyXG4gICAgICAgICAgICB4cG9zID0gfn54cG9zO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgY2M6IEN1YmlzbUNsaXBwaW5nQ29udGV4dCA9IHRoaXMuX2NsaXBwaW5nQ29udGV4dExpc3RGb3JNYXNrLmF0KFxyXG4gICAgICAgICAgICAgIGN1ckNsaXBJbmRleCsrXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIGNjLl9sYXlvdXRDaGFubmVsTm8gPSBjaGFubmVsTm87XHJcblxyXG4gICAgICAgICAgICBjYy5fbGF5b3V0Qm91bmRzLnggPSB4cG9zICogMC41O1xyXG4gICAgICAgICAgICBjYy5fbGF5b3V0Qm91bmRzLnkgPSAwLjA7XHJcbiAgICAgICAgICAgIGNjLl9sYXlvdXRCb3VuZHMud2lkdGggPSAwLjU7XHJcbiAgICAgICAgICAgIGNjLl9sYXlvdXRCb3VuZHMuaGVpZ2h0ID0gMS4wO1xyXG4gICAgICAgICAgICAvLyBVVuOCkjLjgaTjgavliIbop6PjgZfjgabkvb/jgYZcclxuICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2UgaWYgKGxheW91dENvdW50IDw9IDQpIHtcclxuICAgICAgICAgIC8vIDTliIblibLjgZfjgabkvb/jgYZcclxuICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGF5b3V0Q291bnQ7IGkrKykge1xyXG4gICAgICAgICAgICBsZXQgeHBvczogbnVtYmVyID0gaSAlIDI7XHJcbiAgICAgICAgICAgIGxldCB5cG9zOiBudW1iZXIgPSBpIC8gMjtcclxuXHJcbiAgICAgICAgICAgIC8vIOWwj+aVsOeCueOBr+WIh+OCiuaNqOOBpuOCi1xyXG4gICAgICAgICAgICB4cG9zID0gfn54cG9zO1xyXG4gICAgICAgICAgICB5cG9zID0gfn55cG9zO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgY2MgPSB0aGlzLl9jbGlwcGluZ0NvbnRleHRMaXN0Rm9yTWFzay5hdChjdXJDbGlwSW5kZXgrKyk7XHJcbiAgICAgICAgICAgIGNjLl9sYXlvdXRDaGFubmVsTm8gPSBjaGFubmVsTm87XHJcblxyXG4gICAgICAgICAgICBjYy5fbGF5b3V0Qm91bmRzLnggPSB4cG9zICogMC41O1xyXG4gICAgICAgICAgICBjYy5fbGF5b3V0Qm91bmRzLnkgPSB5cG9zICogMC41O1xyXG4gICAgICAgICAgICBjYy5fbGF5b3V0Qm91bmRzLndpZHRoID0gMC41O1xyXG4gICAgICAgICAgICBjYy5fbGF5b3V0Qm91bmRzLmhlaWdodCA9IDAuNTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2UgaWYgKGxheW91dENvdW50IDw9IDkpIHtcclxuICAgICAgICAgIC8vIDnliIblibLjgZfjgabkvb/jgYZcclxuICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGF5b3V0Q291bnQ7IGkrKykge1xyXG4gICAgICAgICAgICBsZXQgeHBvcyA9IGkgJSAzO1xyXG4gICAgICAgICAgICBsZXQgeXBvcyA9IGkgLyAzO1xyXG5cclxuICAgICAgICAgICAgLy8g5bCP5pWw54K544Gv5YiH44KK5o2o44Gm44KLXHJcbiAgICAgICAgICAgIHhwb3MgPSB+fnhwb3M7XHJcbiAgICAgICAgICAgIHlwb3MgPSB+fnlwb3M7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBjYzogQ3ViaXNtQ2xpcHBpbmdDb250ZXh0ID0gdGhpcy5fY2xpcHBpbmdDb250ZXh0TGlzdEZvck1hc2suYXQoXHJcbiAgICAgICAgICAgICAgY3VyQ2xpcEluZGV4KytcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgY2MuX2xheW91dENoYW5uZWxObyA9IGNoYW5uZWxObztcclxuXHJcbiAgICAgICAgICAgIGNjLl9sYXlvdXRCb3VuZHMueCA9IHhwb3MgLyAzLjA7XHJcbiAgICAgICAgICAgIGNjLl9sYXlvdXRCb3VuZHMueSA9IHlwb3MgLyAzLjA7XHJcbiAgICAgICAgICAgIGNjLl9sYXlvdXRCb3VuZHMud2lkdGggPSAxLjAgLyAzLjA7XHJcbiAgICAgICAgICAgIGNjLl9sYXlvdXRCb3VuZHMuaGVpZ2h0ID0gMS4wIC8gMy4wO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBDdWJpc21Mb2dFcnJvcignbm90IHN1cHBvcnRlZCBtYXNrIGNvdW50IDogezB9JywgbGF5b3V0Q291bnQpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog44Kr44Op44O844OQ44OD44OV44Kh44KS5Y+W5b6X44GZ44KLXHJcbiAgICAgKiBAcmV0dXJuIOOCq+ODqeODvOODkOODg+ODleOCoVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2V0Q29sb3JCdWZmZXIoKTogV2ViR0xUZXh0dXJlIHtcclxuICAgICAgcmV0dXJuIHRoaXMuX2NvbG9yQnVmZmVyO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog55S76Z2i5o+P55S744Gr5L2/55So44GZ44KL44Kv44Oq44OD44OU44Oz44Kw44Oe44K544Kv44Gu44Oq44K544OI44KS5Y+W5b6X44GZ44KLXHJcbiAgICAgKiBAcmV0dXJuIOeUu+mdouaPj+eUu+OBq+S9v+eUqOOBmeOCi+OCr+ODquODg+ODlOODs+OCsOODnuOCueOCr+OBruODquOCueODiFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2V0Q2xpcHBpbmdDb250ZXh0TGlzdEZvckRyYXcoKTogY3NtVmVjdG9yPEN1YmlzbUNsaXBwaW5nQ29udGV4dD4ge1xyXG4gICAgICByZXR1cm4gdGhpcy5fY2xpcHBpbmdDb250ZXh0TGlzdEZvckRyYXc7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDjgq/jg6rjg4Pjg5Tjg7PjgrDjg57jgrnjgq/jg5Djg4Pjg5XjgqHjga7jgrXjgqTjgrrjgpLoqK3lrprjgZnjgotcclxuICAgICAqIEBwYXJhbSBzaXplIOOCr+ODquODg+ODlOODs+OCsOODnuOCueOCr+ODkOODg+ODleOCoeOBruOCteOCpOOCulxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc2V0Q2xpcHBpbmdNYXNrQnVmZmVyU2l6ZShzaXplOiBudW1iZXIpOiB2b2lkIHtcclxuICAgICAgdGhpcy5fY2xpcHBpbmdNYXNrQnVmZmVyU2l6ZSA9IHNpemU7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDjgq/jg6rjg4Pjg5Tjg7PjgrDjg57jgrnjgq/jg5Djg4Pjg5XjgqHjga7jgrXjgqTjgrrjgpLlj5blvpfjgZnjgotcclxuICAgICAqIEByZXR1cm4g44Kv44Oq44OD44OU44Oz44Kw44Oe44K544Kv44OQ44OD44OV44Kh44Gu44K144Kk44K6XHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXRDbGlwcGluZ01hc2tCdWZmZXJTaXplKCk6IG51bWJlciB7XHJcbiAgICAgIHJldHVybiB0aGlzLl9jbGlwcGluZ01hc2tCdWZmZXJTaXplO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBfbWFza1JlbmRlclRleHR1cmU6IFdlYkdMRnJhbWVidWZmZXI7IC8vIOODnuOCueOCr+eUqOODrOODs+ODgOODvOODhuOCr+OCueODgeODo+OBruOCouODieODrOOCuVxyXG4gICAgcHVibGljIF9jb2xvckJ1ZmZlcjogV2ViR0xUZXh0dXJlOyAvLyDjg57jgrnjgq/nlKjjgqvjg6njg7zjg5Djg4Pjg5XjgqHjg7zjga7jgqLjg4njg6zjgrlcclxuICAgIHB1YmxpYyBfY3VycmVudEZyYW1lTm86IG51bWJlcjsgLy8g44Oe44K544Kv44OG44Kv44K544OB44Oj44Gr5LiO44GI44KL44OV44Os44O844Og55Wq5Y+3XHJcblxyXG4gICAgcHVibGljIF9jaGFubmVsQ29sb3JzOiBjc21WZWN0b3I8Q3ViaXNtVGV4dHVyZUNvbG9yPjtcclxuICAgIHB1YmxpYyBfbWFza1RleHR1cmU6IEN1YmlzbVJlbmRlclRleHR1cmVSZXNvdXJjZTsgLy8g44Oe44K544Kv55So44Gu44OG44Kv44K544OB44Oj44Oq44K944O844K544Gu44Oq44K544OIXHJcbiAgICBwdWJsaWMgX2NsaXBwaW5nQ29udGV4dExpc3RGb3JNYXNrOiBjc21WZWN0b3I8Q3ViaXNtQ2xpcHBpbmdDb250ZXh0PjsgLy8g44Oe44K544Kv55So44Kv44Oq44OD44OU44Oz44Kw44Kz44Oz44OG44Kt44K544OI44Gu44Oq44K544OIXHJcbiAgICBwdWJsaWMgX2NsaXBwaW5nQ29udGV4dExpc3RGb3JEcmF3OiBjc21WZWN0b3I8Q3ViaXNtQ2xpcHBpbmdDb250ZXh0PjsgLy8g5o+P55S755So44Kv44Oq44OD44OU44Oz44Kw44Kz44Oz44OG44Kt44K544OI44Gu44Oq44K544OIXHJcbiAgICBwdWJsaWMgX2NsaXBwaW5nTWFza0J1ZmZlclNpemU6IG51bWJlcjsgLy8g44Kv44Oq44OD44OU44Oz44Kw44Oe44K544Kv44Gu44OQ44OD44OV44Kh44K144Kk44K677yI5Yid5pyf5YCkOjI1Nu+8iVxyXG5cclxuICAgIHByaXZhdGUgX3RtcE1hdHJpeDogQ3ViaXNtTWF0cml4NDQ7IC8vIOODnuOCueOCr+ioiOeul+eUqOOBruihjOWIl1xyXG4gICAgcHJpdmF0ZSBfdG1wTWF0cml4Rm9yTWFzazogQ3ViaXNtTWF0cml4NDQ7IC8vIOODnuOCueOCr+ioiOeul+eUqOOBruihjOWIl1xyXG4gICAgcHJpdmF0ZSBfdG1wTWF0cml4Rm9yRHJhdzogQ3ViaXNtTWF0cml4NDQ7IC8vIOODnuOCueOCr+ioiOeul+eUqOOBruihjOWIl1xyXG4gICAgcHJpdmF0ZSBfdG1wQm91bmRzT25Nb2RlbDogY3NtUmVjdDsgLy8g44Oe44K544Kv6YWN572u6KiI566X55So44Gu55+p5b2iXHJcblxyXG4gICAgZ2w6IFdlYkdMUmVuZGVyaW5nQ29udGV4dDsgLy8gV2ViR0zjg6zjg7Pjg4Djg6rjg7PjgrDjgrPjg7Pjg4bjgq3jgrnjg4hcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOODrOODs+ODgOODvOODhuOCr+OCueODgeODo+OBruODquOCveODvOOCueOCkuWumue+qeOBmeOCi+ani+mAoOS9k1xyXG4gICAqIOOCr+ODquODg+ODlOODs+OCsOODnuOCueOCr+OBp+S9v+eUqOOBmeOCi1xyXG4gICAqL1xyXG4gIGV4cG9ydCBjbGFzcyBDdWJpc21SZW5kZXJUZXh0dXJlUmVzb3VyY2Uge1xyXG4gICAgLyoqXHJcbiAgICAgKiDlvJXmlbDku5jjgY3jgrPjg7Pjgrnjg4jjg6njgq/jgr9cclxuICAgICAqIEBwYXJhbSBmcmFtZU5vIOODrOODs+ODgOODqeODvOOBruODleODrOODvOODoOeVquWPt1xyXG4gICAgICogQHBhcmFtIHRleHR1cmUg44OG44Kv44K544OB44Oj44Gu44Ki44OJ44Os44K5XHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcihmcmFtZU5vOiBudW1iZXIsIHRleHR1cmU6IFdlYkdMRnJhbWVidWZmZXIpIHtcclxuICAgICAgdGhpcy5mcmFtZU5vID0gZnJhbWVObztcclxuICAgICAgdGhpcy50ZXh0dXJlID0gdGV4dHVyZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZnJhbWVObzogbnVtYmVyOyAvLyDjg6zjg7Pjg4Djg6njga7jg5Xjg6zjg7zjg6Dnlarlj7dcclxuICAgIHB1YmxpYyB0ZXh0dXJlOiBXZWJHTEZyYW1lYnVmZmVyOyAvLyDjg4bjgq/jgrnjg4Hjg6Pjga7jgqLjg4njg6zjgrlcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOOCr+ODquODg+ODlOODs+OCsOODnuOCueOCr+OBruOCs+ODs+ODhuOCreOCueODiFxyXG4gICAqL1xyXG4gIGV4cG9ydCBjbGFzcyBDdWJpc21DbGlwcGluZ0NvbnRleHQge1xyXG4gICAgLyoqXHJcbiAgICAgKiDlvJXmlbDku5jjgY3jgrPjg7Pjgrnjg4jjg6njgq/jgr9cclxuICAgICAqL1xyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKFxyXG4gICAgICBtYW5hZ2VyOiBDdWJpc21DbGlwcGluZ01hbmFnZXJfV2ViR0wsXHJcbiAgICAgIGNsaXBwaW5nRHJhd2FibGVJbmRpY2VzOiBJbnQzMkFycmF5LFxyXG4gICAgICBjbGlwQ291bnQ6IG51bWJlclxyXG4gICAgKSB7XHJcbiAgICAgIHRoaXMuX293bmVyID0gbWFuYWdlcjtcclxuXHJcbiAgICAgIC8vIOOCr+ODquODg+ODl+OBl+OBpuOBhOOCi++8iO+8neODnuOCueOCr+eUqOOBru+8iURyYXdhYmxl44Gu44Kk44Oz44OH44OD44Kv44K544Oq44K544OIXHJcbiAgICAgIHRoaXMuX2NsaXBwaW5nSWRMaXN0ID0gY2xpcHBpbmdEcmF3YWJsZUluZGljZXM7XHJcblxyXG4gICAgICAvLyDjg57jgrnjgq/jga7mlbBcclxuICAgICAgdGhpcy5fY2xpcHBpbmdJZENvdW50ID0gY2xpcENvdW50O1xyXG5cclxuICAgICAgdGhpcy5fYWxsQ2xpcHBlZERyYXdSZWN0ID0gbmV3IGNzbVJlY3QoKTtcclxuICAgICAgdGhpcy5fbGF5b3V0Qm91bmRzID0gbmV3IGNzbVJlY3QoKTtcclxuXHJcbiAgICAgIHRoaXMuX2NsaXBwZWREcmF3YWJsZUluZGV4TGlzdCA9IFtdO1xyXG5cclxuICAgICAgdGhpcy5fbWF0cml4Rm9yTWFzayA9IG5ldyBDdWJpc21NYXRyaXg0NCgpO1xyXG4gICAgICB0aGlzLl9tYXRyaXhGb3JEcmF3ID0gbmV3IEN1YmlzbU1hdHJpeDQ0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDjg4fjgrnjg4jjg6njgq/jgr/nm7jlvZPjga7lh6bnkIZcclxuICAgICAqL1xyXG4gICAgcHVibGljIHJlbGVhc2UoKTogdm9pZCB7XHJcbiAgICAgIGlmICh0aGlzLl9sYXlvdXRCb3VuZHMgIT0gbnVsbCkge1xyXG4gICAgICAgIHRoaXMuX2xheW91dEJvdW5kcyA9IG51bGw7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICh0aGlzLl9hbGxDbGlwcGVkRHJhd1JlY3QgIT0gbnVsbCkge1xyXG4gICAgICAgIHRoaXMuX2FsbENsaXBwZWREcmF3UmVjdCA9IG51bGw7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICh0aGlzLl9jbGlwcGVkRHJhd2FibGVJbmRleExpc3QgIT0gbnVsbCkge1xyXG4gICAgICAgIHRoaXMuX2NsaXBwZWREcmF3YWJsZUluZGV4TGlzdCA9IG51bGw7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOOBk+OBruODnuOCueOCr+OBq+OCr+ODquODg+ODl+OBleOCjOOCi+aPj+eUu+OCquODluOCuOOCp+OCr+ODiOOCkui/veWKoOOBmeOCi1xyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBkcmF3YWJsZUluZGV4IOOCr+ODquODg+ODlOODs+OCsOWvvuixoeOBq+i/veWKoOOBmeOCi+aPj+eUu+OCquODluOCuOOCp+OCr+ODiOOBruOCpOODs+ODh+ODg+OCr+OCuVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgYWRkQ2xpcHBlZERyYXdhYmxlKGRyYXdhYmxlSW5kZXg6IG51bWJlcikge1xyXG4gICAgICB0aGlzLl9jbGlwcGVkRHJhd2FibGVJbmRleExpc3QucHVzaChkcmF3YWJsZUluZGV4KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOOBk+OBruODnuOCueOCr+OCkueuoeeQhuOBmeOCi+ODnuODjeODvOOCuOODo+OBruOCpOODs+OCueOCv+ODs+OCueOCkuWPluW+l+OBmeOCi1xyXG4gICAgICogQHJldHVybiDjgq/jg6rjg4Pjg5Tjg7PjgrDjg57jg43jg7zjgrjjg6Pjga7jgqTjg7Pjgrnjgr/jg7PjgrlcclxuICAgICAqL1xyXG4gICAgcHVibGljIGdldENsaXBwaW5nTWFuYWdlcigpOiBDdWJpc21DbGlwcGluZ01hbmFnZXJfV2ViR0wge1xyXG4gICAgICByZXR1cm4gdGhpcy5fb3duZXI7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNldEdsKGdsOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQpOiB2b2lkIHtcclxuICAgICAgdGhpcy5fb3duZXIuc2V0R0woZ2wpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBfaXNVc2luZzogYm9vbGVhbjsgLy8g54++5Zyo44Gu5o+P55S754q25oWL44Gn44Oe44K544Kv44Gu5rqW5YKZ44GM5b+F6KaB44Gq44KJdHJ1ZVxyXG4gICAgcHVibGljIHJlYWRvbmx5IF9jbGlwcGluZ0lkTGlzdDogSW50MzJBcnJheTsgLy8g44Kv44Oq44OD44OU44Oz44Kw44Oe44K544Kv44GuSUTjg6rjgrnjg4hcclxuICAgIHB1YmxpYyBfY2xpcHBpbmdJZENvdW50OiBudW1iZXI7IC8vIOOCr+ODquODg+ODlOODs+OCsOODnuOCueOCr+OBruaVsFxyXG4gICAgcHVibGljIF9sYXlvdXRDaGFubmVsTm86IG51bWJlcjsgLy8gUkdCQeOBruOBhOOBmuOCjOOBruODgeODo+ODs+ODjeODq+OBq+OBk+OBruOCr+ODquODg+ODl+OCkumFjee9ruOBmeOCi+OBi++8iDA6UiwgMTpHLCAyOkIsIDM6Qe+8iVxyXG4gICAgcHVibGljIF9sYXlvdXRCb3VuZHM6IGNzbVJlY3Q7IC8vIOODnuOCueOCr+eUqOODgeODo+ODs+ODjeODq+OBruOBqeOBrumgmOWfn+OBq+ODnuOCueOCr+OCkuWFpeOCjOOCi+OBi++8iFZpZXfluqfmqJktMX4xLCBVVuOBrzB+MeOBq+ebtOOBme+8iVxyXG4gICAgcHVibGljIF9hbGxDbGlwcGVkRHJhd1JlY3Q6IGNzbVJlY3Q7IC8vIOOBk+OBruOCr+ODquODg+ODlOODs+OCsOOBp+OAgeOCr+ODquODg+ODlOODs+OCsOOBleOCjOOCi+OBmeOBueOBpuOBruaPj+eUu+OCquODluOCuOOCp+OCr+ODiOOBruWbsuOBv+efqeW9ou+8iOavjuWbnuabtOaWsO+8iVxyXG4gICAgcHVibGljIF9tYXRyaXhGb3JNYXNrOiBDdWJpc21NYXRyaXg0NDsgLy8g44Oe44K544Kv44Gu5L2N572u6KiI566X57WQ5p6c44KS5L+d5oyB44GZ44KL6KGM5YiXXHJcbiAgICBwdWJsaWMgX21hdHJpeEZvckRyYXc6IEN1YmlzbU1hdHJpeDQ0OyAvLyDmj4/nlLvjgqrjg5bjgrjjgqfjgq/jg4jjga7kvY3nva7oqIjnrpfntZDmnpzjgpLkv53mjIHjgZnjgovooYzliJdcclxuICAgIHB1YmxpYyBfY2xpcHBlZERyYXdhYmxlSW5kZXhMaXN0OiBudW1iZXJbXTsgLy8g44GT44Gu44Oe44K544Kv44Gr44Kv44Oq44OD44OX44GV44KM44KL5o+P55S744Kq44OW44K444Kn44Kv44OI44Gu44Oq44K544OIXHJcblxyXG4gICAgcHJpdmF0ZSBfb3duZXI6IEN1YmlzbUNsaXBwaW5nTWFuYWdlcl9XZWJHTDsgLy8g44GT44Gu44Oe44K544Kv44KS566h55CG44GX44Gm44GE44KL44Oe44ON44O844K444Oj44Gu44Kk44Oz44K544K/44Oz44K5XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBXZWJHTOeUqOOBruOCt+OCp+ODvOODgOODvOODl+ODreOCsOODqeODoOOCkueUn+aIkOODu+egtOajhOOBmeOCi+OCr+ODqeOCuVxyXG4gICAqIOOCt+ODs+OCsOODq+ODiOODs+OBquOCr+ODqeOCueOBp+OBguOCiuOAgUN1YmlzbVNoYWRlcl9XZWJHTC5nZXRJbnN0YW5jZeOBi+OCieOCouOCr+OCu+OCueOBmeOCi+OAglxyXG4gICAqL1xyXG4gIGV4cG9ydCBjbGFzcyBDdWJpc21TaGFkZXJfV2ViR0wge1xyXG4gICAgLyoqXHJcbiAgICAgKiDjgqTjg7Pjgrnjgr/jg7PjgrnjgpLlj5blvpfjgZnjgovvvIjjgrfjg7PjgrDjg6vjg4jjg7PvvIlcclxuICAgICAqIEByZXR1cm4g44Kk44Oz44K544K/44Oz44K5XHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0SW5zdGFuY2UoKTogQ3ViaXNtU2hhZGVyX1dlYkdMIHtcclxuICAgICAgaWYgKHNfaW5zdGFuY2UgPT0gbnVsbCkge1xyXG4gICAgICAgIHNfaW5zdGFuY2UgPSBuZXcgQ3ViaXNtU2hhZGVyX1dlYkdMKCk7XHJcblxyXG4gICAgICAgIHJldHVybiBzX2luc3RhbmNlO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBzX2luc3RhbmNlO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog44Kk44Oz44K544K/44Oz44K544KS6ZaL5pS+44GZ44KL77yI44K344Oz44Kw44Or44OI44Oz77yJXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzdGF0aWMgZGVsZXRlSW5zdGFuY2UoKTogdm9pZCB7XHJcbiAgICAgIGlmIChzX2luc3RhbmNlKSB7XHJcbiAgICAgICAgc19pbnN0YW5jZS5yZWxlYXNlKCk7XHJcbiAgICAgICAgc19pbnN0YW5jZSA9IG51bGw7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIHByaXZhdGXjgarjgrPjg7Pjgrnjg4jjg6njgq/jgr9cclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgdGhpcy5fc2hhZGVyU2V0cyA9IG5ldyBjc21WZWN0b3I8Q3ViaXNtU2hhZGVyU2V0PigpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog44OH44K544OI44Op44Kv44K/55u45b2T44Gu5Yem55CGXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyByZWxlYXNlKCk6IHZvaWQge1xyXG4gICAgICB0aGlzLnJlbGVhc2VTaGFkZXJQcm9ncmFtKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDjgrfjgqfjg7zjg4Djg7zjg5fjg63jgrDjg6njg6Djga7kuIDpgKPjga7jgrvjg4Pjg4jjgqLjg4Pjg5fjgpLlrp/ooYzjgZnjgotcclxuICAgICAqIEBwYXJhbSByZW5kZXJlciDjg6zjg7Pjg4Djg6njga7jgqTjg7Pjgrnjgr/jg7PjgrlcclxuICAgICAqIEBwYXJhbSB0ZXh0dXJlSWQgR1BV44Gu44OG44Kv44K544OB44OjSURcclxuICAgICAqIEBwYXJhbSB2ZXJ0ZXhDb3VudCDjg53jg6rjgrTjg7Pjg6Hjg4Pjgrfjg6Xjga7poILngrnmlbBcclxuICAgICAqIEBwYXJhbSB2ZXJ0ZXhBcnJheSDjg53jg6rjgrTjg7Pjg6Hjg4Pjgrfjg6Xjga7poILngrnphY3liJdcclxuICAgICAqIEBwYXJhbSBpbmRleEFycmF5IOOCpOODs+ODh+ODg+OCr+OCueODkOODg+ODleOCoeOBrumggueCuemFjeWIl1xyXG4gICAgICogQHBhcmFtIHV2QXJyYXkgdXbphY3liJdcclxuICAgICAqIEBwYXJhbSBvcGFjaXR5IOS4jemAj+aYjuW6plxyXG4gICAgICogQHBhcmFtIGNvbG9yQmxlbmRNb2RlIOOCq+ODqeODvOODluODrOODs+ODh+OCo+ODs+OCsOOBruOCv+OCpOODl1xyXG4gICAgICogQHBhcmFtIGJhc2VDb2xvciDjg5njg7zjgrnjgqvjg6njg7xcclxuICAgICAqIEBwYXJhbSBpc1ByZW11bHRpcGxpZWRBbHBoYSDkuZfnrpfmuIjjgb/jgqLjg6vjg5XjgqHjgYvjganjgYbjgYtcclxuICAgICAqIEBwYXJhbSBtYXRyaXg0eDQgTW9kZWwtVmlldy1Qcm9qZWN0aW9u6KGM5YiXXHJcbiAgICAgKiBAcGFyYW0gaW52ZXJ0ZWRNYXNrIOODnuOCueOCr+OCkuWPjei7ouOBl+OBpuS9v+eUqOOBmeOCi+ODleODqeOCsFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc2V0dXBTaGFkZXJQcm9ncmFtKFxyXG4gICAgICByZW5kZXJlcjogQ3ViaXNtUmVuZGVyZXJfV2ViR0wsXHJcbiAgICAgIHRleHR1cmVJZDogV2ViR0xUZXh0dXJlLFxyXG4gICAgICB2ZXJ0ZXhDb3VudDogbnVtYmVyLFxyXG4gICAgICB2ZXJ0ZXhBcnJheTogRmxvYXQzMkFycmF5LFxyXG4gICAgICBpbmRleEFycmF5OiBVaW50MTZBcnJheSxcclxuICAgICAgdXZBcnJheTogRmxvYXQzMkFycmF5LFxyXG4gICAgICBidWZmZXJEYXRhOiB7XHJcbiAgICAgICAgdmVydGV4OiBXZWJHTEJ1ZmZlcjtcclxuICAgICAgICB1djogV2ViR0xCdWZmZXI7XHJcbiAgICAgICAgaW5kZXg6IFdlYkdMQnVmZmVyO1xyXG4gICAgICB9LFxyXG4gICAgICBvcGFjaXR5OiBudW1iZXIsXHJcbiAgICAgIGNvbG9yQmxlbmRNb2RlOiBDdWJpc21CbGVuZE1vZGUsXHJcbiAgICAgIGJhc2VDb2xvcjogQ3ViaXNtVGV4dHVyZUNvbG9yLFxyXG4gICAgICBpc1ByZW11bHRpcGxpZWRBbHBoYTogYm9vbGVhbixcclxuICAgICAgbWF0cml4NHg0OiBDdWJpc21NYXRyaXg0NCxcclxuICAgICAgaW52ZXJ0ZWRNYXNrOiBib29sZWFuXHJcbiAgICApOiB2b2lkIHtcclxuICAgICAgaWYgKCFpc1ByZW11bHRpcGxpZWRBbHBoYSkge1xyXG4gICAgICAgIEN1YmlzbUxvZ0Vycm9yKCdOb1ByZW11bHRpcGxpZWRBbHBoYSBpcyBub3QgYWxsb3dlZCcpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAodGhpcy5fc2hhZGVyU2V0cy5nZXRTaXplKCkgPT0gMCkge1xyXG4gICAgICAgIHRoaXMuZ2VuZXJhdGVTaGFkZXJzKCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIEJsZW5kaW5nXHJcbiAgICAgIGxldCBTUkNfQ09MT1I6IG51bWJlcjtcclxuICAgICAgbGV0IERTVF9DT0xPUjogbnVtYmVyO1xyXG4gICAgICBsZXQgU1JDX0FMUEhBOiBudW1iZXI7XHJcbiAgICAgIGxldCBEU1RfQUxQSEE6IG51bWJlcjtcclxuXHJcbiAgICAgIGlmIChyZW5kZXJlci5nZXRDbGlwcGluZ0NvbnRleHRCdWZmZXJGb3JNYXNrKCkgIT0gbnVsbCkge1xyXG4gICAgICAgIC8vIOODnuOCueOCr+eUn+aIkOaZglxyXG4gICAgICAgIGNvbnN0IHNoYWRlclNldDogQ3ViaXNtU2hhZGVyU2V0ID0gdGhpcy5fc2hhZGVyU2V0cy5hdChcclxuICAgICAgICAgIFNoYWRlck5hbWVzLlNoYWRlck5hbWVzX1NldHVwTWFza1xyXG4gICAgICAgICk7XHJcbiAgICAgICAgdGhpcy5nbC51c2VQcm9ncmFtKHNoYWRlclNldC5zaGFkZXJQcm9ncmFtKTtcclxuXHJcbiAgICAgICAgLy8g44OG44Kv44K544OB44Oj6Kit5a6aXHJcbiAgICAgICAgdGhpcy5nbC5hY3RpdmVUZXh0dXJlKHRoaXMuZ2wuVEVYVFVSRTApO1xyXG4gICAgICAgIHRoaXMuZ2wuYmluZFRleHR1cmUodGhpcy5nbC5URVhUVVJFXzJELCB0ZXh0dXJlSWQpO1xyXG4gICAgICAgIHRoaXMuZ2wudW5pZm9ybTFpKHNoYWRlclNldC5zYW1wbGVyVGV4dHVyZTBMb2NhdGlvbiwgMCk7XHJcblxyXG4gICAgICAgIC8vIOmggueCuemFjeWIl+OBruioreWumihWQk8pXHJcbiAgICAgICAgaWYgKGJ1ZmZlckRhdGEudmVydGV4ID09IG51bGwpIHtcclxuICAgICAgICAgIGJ1ZmZlckRhdGEudmVydGV4ID0gdGhpcy5nbC5jcmVhdGVCdWZmZXIoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5nbC5iaW5kQnVmZmVyKHRoaXMuZ2wuQVJSQVlfQlVGRkVSLCBidWZmZXJEYXRhLnZlcnRleCk7XHJcbiAgICAgICAgdGhpcy5nbC5idWZmZXJEYXRhKFxyXG4gICAgICAgICAgdGhpcy5nbC5BUlJBWV9CVUZGRVIsXHJcbiAgICAgICAgICB2ZXJ0ZXhBcnJheSxcclxuICAgICAgICAgIHRoaXMuZ2wuRFlOQU1JQ19EUkFXXHJcbiAgICAgICAgKTtcclxuICAgICAgICB0aGlzLmdsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KHNoYWRlclNldC5hdHRyaWJ1dGVQb3NpdGlvbkxvY2F0aW9uKTtcclxuICAgICAgICB0aGlzLmdsLnZlcnRleEF0dHJpYlBvaW50ZXIoXHJcbiAgICAgICAgICBzaGFkZXJTZXQuYXR0cmlidXRlUG9zaXRpb25Mb2NhdGlvbixcclxuICAgICAgICAgIDIsXHJcbiAgICAgICAgICB0aGlzLmdsLkZMT0FULFxyXG4gICAgICAgICAgZmFsc2UsXHJcbiAgICAgICAgICAwLFxyXG4gICAgICAgICAgMFxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIC8vIOODhuOCr+OCueODgeODo+mggueCueOBruioreWumlxyXG4gICAgICAgIGlmIChidWZmZXJEYXRhLnV2ID09IG51bGwpIHtcclxuICAgICAgICAgIGJ1ZmZlckRhdGEudXYgPSB0aGlzLmdsLmNyZWF0ZUJ1ZmZlcigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmdsLmJpbmRCdWZmZXIodGhpcy5nbC5BUlJBWV9CVUZGRVIsIGJ1ZmZlckRhdGEudXYpO1xyXG4gICAgICAgIHRoaXMuZ2wuYnVmZmVyRGF0YSh0aGlzLmdsLkFSUkFZX0JVRkZFUiwgdXZBcnJheSwgdGhpcy5nbC5EWU5BTUlDX0RSQVcpO1xyXG4gICAgICAgIHRoaXMuZ2wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkoc2hhZGVyU2V0LmF0dHJpYnV0ZVRleENvb3JkTG9jYXRpb24pO1xyXG4gICAgICAgIHRoaXMuZ2wudmVydGV4QXR0cmliUG9pbnRlcihcclxuICAgICAgICAgIHNoYWRlclNldC5hdHRyaWJ1dGVUZXhDb29yZExvY2F0aW9uLFxyXG4gICAgICAgICAgMixcclxuICAgICAgICAgIHRoaXMuZ2wuRkxPQVQsXHJcbiAgICAgICAgICBmYWxzZSxcclxuICAgICAgICAgIDAsXHJcbiAgICAgICAgICAwXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgLy8g44OB44Oj44Oz44ON44OrXHJcbiAgICAgICAgY29uc3QgY2hhbm5lbE5vOiBudW1iZXIgPSByZW5kZXJlci5nZXRDbGlwcGluZ0NvbnRleHRCdWZmZXJGb3JNYXNrKClcclxuICAgICAgICAgIC5fbGF5b3V0Q2hhbm5lbE5vO1xyXG4gICAgICAgIGNvbnN0IGNvbG9yQ2hhbm5lbDogQ3ViaXNtVGV4dHVyZUNvbG9yID0gcmVuZGVyZXJcclxuICAgICAgICAgIC5nZXRDbGlwcGluZ0NvbnRleHRCdWZmZXJGb3JNYXNrKClcclxuICAgICAgICAgIC5nZXRDbGlwcGluZ01hbmFnZXIoKVxyXG4gICAgICAgICAgLmdldENoYW5uZWxGbGFnQXNDb2xvcihjaGFubmVsTm8pO1xyXG4gICAgICAgIHRoaXMuZ2wudW5pZm9ybTRmKFxyXG4gICAgICAgICAgc2hhZGVyU2V0LnVuaWZvcm1DaGFubmVsRmxhZ0xvY2F0aW9uLFxyXG4gICAgICAgICAgY29sb3JDaGFubmVsLlIsXHJcbiAgICAgICAgICBjb2xvckNoYW5uZWwuRyxcclxuICAgICAgICAgIGNvbG9yQ2hhbm5lbC5CLFxyXG4gICAgICAgICAgY29sb3JDaGFubmVsLkFcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICB0aGlzLmdsLnVuaWZvcm1NYXRyaXg0ZnYoXHJcbiAgICAgICAgICBzaGFkZXJTZXQudW5pZm9ybUNsaXBNYXRyaXhMb2NhdGlvbixcclxuICAgICAgICAgIGZhbHNlLFxyXG4gICAgICAgICAgcmVuZGVyZXIuZ2V0Q2xpcHBpbmdDb250ZXh0QnVmZmVyRm9yTWFzaygpLl9tYXRyaXhGb3JNYXNrLmdldEFycmF5KClcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICBjb25zdCByZWN0OiBjc21SZWN0ID0gcmVuZGVyZXIuZ2V0Q2xpcHBpbmdDb250ZXh0QnVmZmVyRm9yTWFzaygpXHJcbiAgICAgICAgICAuX2xheW91dEJvdW5kcztcclxuXHJcbiAgICAgICAgdGhpcy5nbC51bmlmb3JtNGYoXHJcbiAgICAgICAgICBzaGFkZXJTZXQudW5pZm9ybUJhc2VDb2xvckxvY2F0aW9uLFxyXG4gICAgICAgICAgcmVjdC54ICogMi4wIC0gMS4wLFxyXG4gICAgICAgICAgcmVjdC55ICogMi4wIC0gMS4wLFxyXG4gICAgICAgICAgcmVjdC5nZXRSaWdodCgpICogMi4wIC0gMS4wLFxyXG4gICAgICAgICAgcmVjdC5nZXRCb3R0b20oKSAqIDIuMCAtIDEuMFxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIFNSQ19DT0xPUiA9IHRoaXMuZ2wuWkVSTztcclxuICAgICAgICBEU1RfQ09MT1IgPSB0aGlzLmdsLk9ORV9NSU5VU19TUkNfQ09MT1I7XHJcbiAgICAgICAgU1JDX0FMUEhBID0gdGhpcy5nbC5aRVJPO1xyXG4gICAgICAgIERTVF9BTFBIQSA9IHRoaXMuZ2wuT05FX01JTlVTX1NSQ19BTFBIQTtcclxuICAgICAgfSAvLyDjg57jgrnjgq/nlJ/miJDku6XlpJbjga7loLTlkIhcclxuICAgICAgZWxzZSB7XHJcbiAgICAgICAgY29uc3QgbWFza2VkOiBib29sZWFuID1cclxuICAgICAgICAgIHJlbmRlcmVyLmdldENsaXBwaW5nQ29udGV4dEJ1ZmZlckZvckRyYXcoKSAhPSBudWxsOyAvLyDjgZPjga7mj4/nlLvjgqrjg5bjgrjjgqfjgq/jg4jjga/jg57jgrnjgq/lr77osaHjgYtcclxuICAgICAgICBjb25zdCBvZmZzZXQ6IG51bWJlciA9IG1hc2tlZCA/IChpbnZlcnRlZE1hc2sgPyAyIDogMSkgOiAwO1xyXG5cclxuICAgICAgICBsZXQgc2hhZGVyU2V0OiBDdWJpc21TaGFkZXJTZXQgPSBuZXcgQ3ViaXNtU2hhZGVyU2V0KCk7XHJcblxyXG4gICAgICAgIHN3aXRjaCAoY29sb3JCbGVuZE1vZGUpIHtcclxuICAgICAgICAgIGNhc2UgQ3ViaXNtQmxlbmRNb2RlLkN1YmlzbUJsZW5kTW9kZV9Ob3JtYWw6XHJcbiAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICBzaGFkZXJTZXQgPSB0aGlzLl9zaGFkZXJTZXRzLmF0KFxyXG4gICAgICAgICAgICAgIFNoYWRlck5hbWVzLlNoYWRlck5hbWVzX05vcm1hbFByZW11bHRpcGxpZWRBbHBoYSArIG9mZnNldFxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICBTUkNfQ09MT1IgPSB0aGlzLmdsLk9ORTtcclxuICAgICAgICAgICAgRFNUX0NPTE9SID0gdGhpcy5nbC5PTkVfTUlOVVNfU1JDX0FMUEhBO1xyXG4gICAgICAgICAgICBTUkNfQUxQSEEgPSB0aGlzLmdsLk9ORTtcclxuICAgICAgICAgICAgRFNUX0FMUEhBID0gdGhpcy5nbC5PTkVfTUlOVVNfU1JDX0FMUEhBO1xyXG4gICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICBjYXNlIEN1YmlzbUJsZW5kTW9kZS5DdWJpc21CbGVuZE1vZGVfQWRkaXRpdmU6XHJcbiAgICAgICAgICAgIHNoYWRlclNldCA9IHRoaXMuX3NoYWRlclNldHMuYXQoXHJcbiAgICAgICAgICAgICAgU2hhZGVyTmFtZXMuU2hhZGVyTmFtZXNfQWRkUHJlbXVsdGlwbGllZEFscGhhICsgb2Zmc2V0XHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIFNSQ19DT0xPUiA9IHRoaXMuZ2wuT05FO1xyXG4gICAgICAgICAgICBEU1RfQ09MT1IgPSB0aGlzLmdsLk9ORTtcclxuICAgICAgICAgICAgU1JDX0FMUEhBID0gdGhpcy5nbC5aRVJPO1xyXG4gICAgICAgICAgICBEU1RfQUxQSEEgPSB0aGlzLmdsLk9ORTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgY2FzZSBDdWJpc21CbGVuZE1vZGUuQ3ViaXNtQmxlbmRNb2RlX011bHRpcGxpY2F0aXZlOlxyXG4gICAgICAgICAgICBzaGFkZXJTZXQgPSB0aGlzLl9zaGFkZXJTZXRzLmF0KFxyXG4gICAgICAgICAgICAgIFNoYWRlck5hbWVzLlNoYWRlck5hbWVzX011bHRQcmVtdWx0aXBsaWVkQWxwaGEgKyBvZmZzZXRcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgU1JDX0NPTE9SID0gdGhpcy5nbC5EU1RfQ09MT1I7XHJcbiAgICAgICAgICAgIERTVF9DT0xPUiA9IHRoaXMuZ2wuT05FX01JTlVTX1NSQ19BTFBIQTtcclxuICAgICAgICAgICAgU1JDX0FMUEhBID0gdGhpcy5nbC5aRVJPO1xyXG4gICAgICAgICAgICBEU1RfQUxQSEEgPSB0aGlzLmdsLk9ORTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmdsLnVzZVByb2dyYW0oc2hhZGVyU2V0LnNoYWRlclByb2dyYW0pO1xyXG5cclxuICAgICAgICAvLyDpoILngrnphY3liJfjga7oqK3lrppcclxuICAgICAgICBpZiAoYnVmZmVyRGF0YS52ZXJ0ZXggPT0gbnVsbCkge1xyXG4gICAgICAgICAgYnVmZmVyRGF0YS52ZXJ0ZXggPSB0aGlzLmdsLmNyZWF0ZUJ1ZmZlcigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmdsLmJpbmRCdWZmZXIodGhpcy5nbC5BUlJBWV9CVUZGRVIsIGJ1ZmZlckRhdGEudmVydGV4KTtcclxuICAgICAgICB0aGlzLmdsLmJ1ZmZlckRhdGEoXHJcbiAgICAgICAgICB0aGlzLmdsLkFSUkFZX0JVRkZFUixcclxuICAgICAgICAgIHZlcnRleEFycmF5LFxyXG4gICAgICAgICAgdGhpcy5nbC5EWU5BTUlDX0RSQVdcclxuICAgICAgICApO1xyXG4gICAgICAgIHRoaXMuZ2wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkoc2hhZGVyU2V0LmF0dHJpYnV0ZVBvc2l0aW9uTG9jYXRpb24pO1xyXG4gICAgICAgIHRoaXMuZ2wudmVydGV4QXR0cmliUG9pbnRlcihcclxuICAgICAgICAgIHNoYWRlclNldC5hdHRyaWJ1dGVQb3NpdGlvbkxvY2F0aW9uLFxyXG4gICAgICAgICAgMixcclxuICAgICAgICAgIHRoaXMuZ2wuRkxPQVQsXHJcbiAgICAgICAgICBmYWxzZSxcclxuICAgICAgICAgIDAsXHJcbiAgICAgICAgICAwXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgLy8g44OG44Kv44K544OB44Oj6aCC54K544Gu6Kit5a6aXHJcbiAgICAgICAgaWYgKGJ1ZmZlckRhdGEudXYgPT0gbnVsbCkge1xyXG4gICAgICAgICAgYnVmZmVyRGF0YS51diA9IHRoaXMuZ2wuY3JlYXRlQnVmZmVyKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuZ2wuYmluZEJ1ZmZlcih0aGlzLmdsLkFSUkFZX0JVRkZFUiwgYnVmZmVyRGF0YS51dik7XHJcbiAgICAgICAgdGhpcy5nbC5idWZmZXJEYXRhKHRoaXMuZ2wuQVJSQVlfQlVGRkVSLCB1dkFycmF5LCB0aGlzLmdsLkRZTkFNSUNfRFJBVyk7XHJcbiAgICAgICAgdGhpcy5nbC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShzaGFkZXJTZXQuYXR0cmlidXRlVGV4Q29vcmRMb2NhdGlvbik7XHJcbiAgICAgICAgdGhpcy5nbC52ZXJ0ZXhBdHRyaWJQb2ludGVyKFxyXG4gICAgICAgICAgc2hhZGVyU2V0LmF0dHJpYnV0ZVRleENvb3JkTG9jYXRpb24sXHJcbiAgICAgICAgICAyLFxyXG4gICAgICAgICAgdGhpcy5nbC5GTE9BVCxcclxuICAgICAgICAgIGZhbHNlLFxyXG4gICAgICAgICAgMCxcclxuICAgICAgICAgIDBcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICBpZiAobWFza2VkKSB7XHJcbiAgICAgICAgICB0aGlzLmdsLmFjdGl2ZVRleHR1cmUodGhpcy5nbC5URVhUVVJFMSk7XHJcbiAgICAgICAgICBjb25zdCB0ZXg6IFdlYkdMVGV4dHVyZSA9IHJlbmRlcmVyXHJcbiAgICAgICAgICAgIC5nZXRDbGlwcGluZ0NvbnRleHRCdWZmZXJGb3JEcmF3KClcclxuICAgICAgICAgICAgLmdldENsaXBwaW5nTWFuYWdlcigpXHJcbiAgICAgICAgICAgIC5nZXRDb2xvckJ1ZmZlcigpO1xyXG4gICAgICAgICAgdGhpcy5nbC5iaW5kVGV4dHVyZSh0aGlzLmdsLlRFWFRVUkVfMkQsIHRleCk7XHJcbiAgICAgICAgICB0aGlzLmdsLnVuaWZvcm0xaShzaGFkZXJTZXQuc2FtcGxlclRleHR1cmUxTG9jYXRpb24sIDEpO1xyXG5cclxuICAgICAgICAgIC8vIHZpZXfluqfmqJnjgpJDbGlwcGluZ0NvbnRleHTjga7luqfmqJnjgavlpInmj5vjgZnjgovjgZ/jgoHjga7ooYzliJfjgpLoqK3lrppcclxuICAgICAgICAgIHRoaXMuZ2wudW5pZm9ybU1hdHJpeDRmdihcclxuICAgICAgICAgICAgc2hhZGVyU2V0LnVuaWZvcm1DbGlwTWF0cml4TG9jYXRpb24sXHJcbiAgICAgICAgICAgIGZhbHNlLFxyXG4gICAgICAgICAgICByZW5kZXJlci5nZXRDbGlwcGluZ0NvbnRleHRCdWZmZXJGb3JEcmF3KCkuX21hdHJpeEZvckRyYXcuZ2V0QXJyYXkoKVxyXG4gICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAvLyDkvb/nlKjjgZnjgovjgqvjg6njg7zjg4Hjg6Pjg7Pjg43jg6vjgpLoqK3lrppcclxuICAgICAgICAgIGNvbnN0IGNoYW5uZWxObzogbnVtYmVyID0gcmVuZGVyZXIuZ2V0Q2xpcHBpbmdDb250ZXh0QnVmZmVyRm9yRHJhdygpXHJcbiAgICAgICAgICAgIC5fbGF5b3V0Q2hhbm5lbE5vO1xyXG4gICAgICAgICAgY29uc3QgY29sb3JDaGFubmVsOiBDdWJpc21UZXh0dXJlQ29sb3IgPSByZW5kZXJlclxyXG4gICAgICAgICAgICAuZ2V0Q2xpcHBpbmdDb250ZXh0QnVmZmVyRm9yRHJhdygpXHJcbiAgICAgICAgICAgIC5nZXRDbGlwcGluZ01hbmFnZXIoKVxyXG4gICAgICAgICAgICAuZ2V0Q2hhbm5lbEZsYWdBc0NvbG9yKGNoYW5uZWxObyk7XHJcbiAgICAgICAgICB0aGlzLmdsLnVuaWZvcm00ZihcclxuICAgICAgICAgICAgc2hhZGVyU2V0LnVuaWZvcm1DaGFubmVsRmxhZ0xvY2F0aW9uLFxyXG4gICAgICAgICAgICBjb2xvckNoYW5uZWwuUixcclxuICAgICAgICAgICAgY29sb3JDaGFubmVsLkcsXHJcbiAgICAgICAgICAgIGNvbG9yQ2hhbm5lbC5CLFxyXG4gICAgICAgICAgICBjb2xvckNoYW5uZWwuQVxyXG4gICAgICAgICAgKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIOODhuOCr+OCueODgeODo+ioreWumlxyXG4gICAgICAgIHRoaXMuZ2wuYWN0aXZlVGV4dHVyZSh0aGlzLmdsLlRFWFRVUkUwKTtcclxuICAgICAgICB0aGlzLmdsLmJpbmRUZXh0dXJlKHRoaXMuZ2wuVEVYVFVSRV8yRCwgdGV4dHVyZUlkKTtcclxuICAgICAgICB0aGlzLmdsLnVuaWZvcm0xaShzaGFkZXJTZXQuc2FtcGxlclRleHR1cmUwTG9jYXRpb24sIDApO1xyXG5cclxuICAgICAgICAvLyDluqfmqJnlpInmj5tcclxuICAgICAgICB0aGlzLmdsLnVuaWZvcm1NYXRyaXg0ZnYoXHJcbiAgICAgICAgICBzaGFkZXJTZXQudW5pZm9ybU1hdHJpeExvY2F0aW9uLFxyXG4gICAgICAgICAgZmFsc2UsXHJcbiAgICAgICAgICBtYXRyaXg0eDQuZ2V0QXJyYXkoKVxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIHRoaXMuZ2wudW5pZm9ybTRmKFxyXG4gICAgICAgICAgc2hhZGVyU2V0LnVuaWZvcm1CYXNlQ29sb3JMb2NhdGlvbixcclxuICAgICAgICAgIGJhc2VDb2xvci5SLFxyXG4gICAgICAgICAgYmFzZUNvbG9yLkcsXHJcbiAgICAgICAgICBiYXNlQ29sb3IuQixcclxuICAgICAgICAgIGJhc2VDb2xvci5BXHJcbiAgICAgICAgKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gSUJP44KS5L2c5oiQ44GX44CB44OH44O844K/44KS6Lui6YCBXHJcbiAgICAgIGlmIChidWZmZXJEYXRhLmluZGV4ID09IG51bGwpIHtcclxuICAgICAgICBidWZmZXJEYXRhLmluZGV4ID0gdGhpcy5nbC5jcmVhdGVCdWZmZXIoKTtcclxuICAgICAgfVxyXG4gICAgICB0aGlzLmdsLmJpbmRCdWZmZXIodGhpcy5nbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgYnVmZmVyRGF0YS5pbmRleCk7XHJcbiAgICAgIHRoaXMuZ2wuYnVmZmVyRGF0YShcclxuICAgICAgICB0aGlzLmdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLFxyXG4gICAgICAgIGluZGV4QXJyYXksXHJcbiAgICAgICAgdGhpcy5nbC5EWU5BTUlDX0RSQVdcclxuICAgICAgKTtcclxuICAgICAgdGhpcy5nbC5ibGVuZEZ1bmNTZXBhcmF0ZShTUkNfQ09MT1IsIERTVF9DT0xPUiwgU1JDX0FMUEhBLCBEU1RfQUxQSEEpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog44K344Kn44O844OA44O844OX44Ot44Kw44Op44Og44KS6Kej5pS+44GZ44KLXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyByZWxlYXNlU2hhZGVyUHJvZ3JhbSgpOiB2b2lkIHtcclxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9zaGFkZXJTZXRzLmdldFNpemUoKTsgaSsrKSB7XHJcbiAgICAgICAgdGhpcy5nbC5kZWxldGVQcm9ncmFtKHRoaXMuX3NoYWRlclNldHMuYXQoaSkuc2hhZGVyUHJvZ3JhbSk7XHJcbiAgICAgICAgdGhpcy5fc2hhZGVyU2V0cy5hdChpKS5zaGFkZXJQcm9ncmFtID0gMDtcclxuICAgICAgICB0aGlzLl9zaGFkZXJTZXRzLnNldChpLCB2b2lkIDApO1xyXG4gICAgICAgIHRoaXMuX3NoYWRlclNldHMuc2V0KGksIG51bGwpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDjgrfjgqfjg7zjg4Djg7zjg5fjg63jgrDjg6njg6DjgpLliJ3mnJ/ljJbjgZnjgotcclxuICAgICAqIEBwYXJhbSB2ZXJ0U2hhZGVyU3JjIOmggueCueOCt+OCp+ODvOODgOOBruOCveODvOOCuVxyXG4gICAgICogQHBhcmFtIGZyYWdTaGFkZXJTcmMg44OV44Op44Kw44Oh44Oz44OI44K344Kn44O844OA44Gu44K944O844K5XHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZW5lcmF0ZVNoYWRlcnMoKTogdm9pZCB7XHJcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2hhZGVyQ291bnQ7IGkrKykge1xyXG4gICAgICAgIHRoaXMuX3NoYWRlclNldHMucHVzaEJhY2sobmV3IEN1YmlzbVNoYWRlclNldCgpKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgdGhpcy5fc2hhZGVyU2V0cy5hdCgwKS5zaGFkZXJQcm9ncmFtID0gdGhpcy5sb2FkU2hhZGVyUHJvZ3JhbShcclxuICAgICAgICB2ZXJ0ZXhTaGFkZXJTcmNTZXR1cE1hc2ssXHJcbiAgICAgICAgZnJhZ21lbnRTaGFkZXJTcmNzZXR1cE1hc2tcclxuICAgICAgKTtcclxuXHJcbiAgICAgIHRoaXMuX3NoYWRlclNldHMuYXQoMSkuc2hhZGVyUHJvZ3JhbSA9IHRoaXMubG9hZFNoYWRlclByb2dyYW0oXHJcbiAgICAgICAgdmVydGV4U2hhZGVyU3JjLFxyXG4gICAgICAgIGZyYWdtZW50U2hhZGVyU3JjUHJlbXVsdGlwbGllZEFscGhhXHJcbiAgICAgICk7XHJcbiAgICAgIHRoaXMuX3NoYWRlclNldHMuYXQoMikuc2hhZGVyUHJvZ3JhbSA9IHRoaXMubG9hZFNoYWRlclByb2dyYW0oXHJcbiAgICAgICAgdmVydGV4U2hhZGVyU3JjTWFza2VkLFxyXG4gICAgICAgIGZyYWdtZW50U2hhZGVyU3JjTWFza1ByZW11bHRpcGxpZWRBbHBoYVxyXG4gICAgICApO1xyXG4gICAgICB0aGlzLl9zaGFkZXJTZXRzLmF0KDMpLnNoYWRlclByb2dyYW0gPSB0aGlzLmxvYWRTaGFkZXJQcm9ncmFtKFxyXG4gICAgICAgIHZlcnRleFNoYWRlclNyY01hc2tlZCxcclxuICAgICAgICBmcmFnbWVudFNoYWRlclNyY01hc2tJbnZlcnRlZFByZW11bHRpcGxpZWRBbHBoYVxyXG4gICAgICApO1xyXG5cclxuICAgICAgLy8g5Yqg566X44KC6YCa5bi444Go5ZCM44GY44K344Kn44O844OA44O844KS5Yip55So44GZ44KLXHJcbiAgICAgIHRoaXMuX3NoYWRlclNldHMuYXQoNCkuc2hhZGVyUHJvZ3JhbSA9IHRoaXMuX3NoYWRlclNldHMuYXQoXHJcbiAgICAgICAgMVxyXG4gICAgICApLnNoYWRlclByb2dyYW07XHJcbiAgICAgIHRoaXMuX3NoYWRlclNldHMuYXQoNSkuc2hhZGVyUHJvZ3JhbSA9IHRoaXMuX3NoYWRlclNldHMuYXQoXHJcbiAgICAgICAgMlxyXG4gICAgICApLnNoYWRlclByb2dyYW07XHJcbiAgICAgIHRoaXMuX3NoYWRlclNldHMuYXQoNikuc2hhZGVyUHJvZ3JhbSA9IHRoaXMuX3NoYWRlclNldHMuYXQoXHJcbiAgICAgICAgM1xyXG4gICAgICApLnNoYWRlclByb2dyYW07XHJcblxyXG4gICAgICAvLyDkuZfnrpfjgoLpgJrluLjjgajlkIzjgZjjgrfjgqfjg7zjg4Djg7zjgpLliKnnlKjjgZnjgotcclxuICAgICAgdGhpcy5fc2hhZGVyU2V0cy5hdCg3KS5zaGFkZXJQcm9ncmFtID0gdGhpcy5fc2hhZGVyU2V0cy5hdChcclxuICAgICAgICAxXHJcbiAgICAgICkuc2hhZGVyUHJvZ3JhbTtcclxuICAgICAgdGhpcy5fc2hhZGVyU2V0cy5hdCg4KS5zaGFkZXJQcm9ncmFtID0gdGhpcy5fc2hhZGVyU2V0cy5hdChcclxuICAgICAgICAyXHJcbiAgICAgICkuc2hhZGVyUHJvZ3JhbTtcclxuICAgICAgdGhpcy5fc2hhZGVyU2V0cy5hdCg5KS5zaGFkZXJQcm9ncmFtID0gdGhpcy5fc2hhZGVyU2V0cy5hdChcclxuICAgICAgICAzXHJcbiAgICAgICkuc2hhZGVyUHJvZ3JhbTtcclxuXHJcbiAgICAgIC8vIFNldHVwTWFza1xyXG4gICAgICB0aGlzLl9zaGFkZXJTZXRzLmF0KFxyXG4gICAgICAgIDBcclxuICAgICAgKS5hdHRyaWJ1dGVQb3NpdGlvbkxvY2F0aW9uID0gdGhpcy5nbC5nZXRBdHRyaWJMb2NhdGlvbihcclxuICAgICAgICB0aGlzLl9zaGFkZXJTZXRzLmF0KDApLnNoYWRlclByb2dyYW0sXHJcbiAgICAgICAgJ2FfcG9zaXRpb24nXHJcbiAgICAgICk7XHJcbiAgICAgIHRoaXMuX3NoYWRlclNldHMuYXQoXHJcbiAgICAgICAgMFxyXG4gICAgICApLmF0dHJpYnV0ZVRleENvb3JkTG9jYXRpb24gPSB0aGlzLmdsLmdldEF0dHJpYkxvY2F0aW9uKFxyXG4gICAgICAgIHRoaXMuX3NoYWRlclNldHMuYXQoMCkuc2hhZGVyUHJvZ3JhbSxcclxuICAgICAgICAnYV90ZXhDb29yZCdcclxuICAgICAgKTtcclxuICAgICAgdGhpcy5fc2hhZGVyU2V0cy5hdChcclxuICAgICAgICAwXHJcbiAgICAgICkuc2FtcGxlclRleHR1cmUwTG9jYXRpb24gPSB0aGlzLmdsLmdldFVuaWZvcm1Mb2NhdGlvbihcclxuICAgICAgICB0aGlzLl9zaGFkZXJTZXRzLmF0KDApLnNoYWRlclByb2dyYW0sXHJcbiAgICAgICAgJ3NfdGV4dHVyZTAnXHJcbiAgICAgICk7XHJcbiAgICAgIHRoaXMuX3NoYWRlclNldHMuYXQoXHJcbiAgICAgICAgMFxyXG4gICAgICApLnVuaWZvcm1DbGlwTWF0cml4TG9jYXRpb24gPSB0aGlzLmdsLmdldFVuaWZvcm1Mb2NhdGlvbihcclxuICAgICAgICB0aGlzLl9zaGFkZXJTZXRzLmF0KDApLnNoYWRlclByb2dyYW0sXHJcbiAgICAgICAgJ3VfY2xpcE1hdHJpeCdcclxuICAgICAgKTtcclxuICAgICAgdGhpcy5fc2hhZGVyU2V0cy5hdChcclxuICAgICAgICAwXHJcbiAgICAgICkudW5pZm9ybUNoYW5uZWxGbGFnTG9jYXRpb24gPSB0aGlzLmdsLmdldFVuaWZvcm1Mb2NhdGlvbihcclxuICAgICAgICB0aGlzLl9zaGFkZXJTZXRzLmF0KDApLnNoYWRlclByb2dyYW0sXHJcbiAgICAgICAgJ3VfY2hhbm5lbEZsYWcnXHJcbiAgICAgICk7XHJcbiAgICAgIHRoaXMuX3NoYWRlclNldHMuYXQoXHJcbiAgICAgICAgMFxyXG4gICAgICApLnVuaWZvcm1CYXNlQ29sb3JMb2NhdGlvbiA9IHRoaXMuZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKFxyXG4gICAgICAgIHRoaXMuX3NoYWRlclNldHMuYXQoMCkuc2hhZGVyUHJvZ3JhbSxcclxuICAgICAgICAndV9iYXNlQ29sb3InXHJcbiAgICAgICk7XHJcblxyXG4gICAgICAvLyDpgJrluLjvvIhQcmVtdWx0aXBsaWVkQWxwaGHvvIlcclxuICAgICAgdGhpcy5fc2hhZGVyU2V0cy5hdChcclxuICAgICAgICAxXHJcbiAgICAgICkuYXR0cmlidXRlUG9zaXRpb25Mb2NhdGlvbiA9IHRoaXMuZ2wuZ2V0QXR0cmliTG9jYXRpb24oXHJcbiAgICAgICAgdGhpcy5fc2hhZGVyU2V0cy5hdCgxKS5zaGFkZXJQcm9ncmFtLFxyXG4gICAgICAgICdhX3Bvc2l0aW9uJ1xyXG4gICAgICApO1xyXG4gICAgICB0aGlzLl9zaGFkZXJTZXRzLmF0KFxyXG4gICAgICAgIDFcclxuICAgICAgKS5hdHRyaWJ1dGVUZXhDb29yZExvY2F0aW9uID0gdGhpcy5nbC5nZXRBdHRyaWJMb2NhdGlvbihcclxuICAgICAgICB0aGlzLl9zaGFkZXJTZXRzLmF0KDEpLnNoYWRlclByb2dyYW0sXHJcbiAgICAgICAgJ2FfdGV4Q29vcmQnXHJcbiAgICAgICk7XHJcbiAgICAgIHRoaXMuX3NoYWRlclNldHMuYXQoXHJcbiAgICAgICAgMVxyXG4gICAgICApLnNhbXBsZXJUZXh0dXJlMExvY2F0aW9uID0gdGhpcy5nbC5nZXRVbmlmb3JtTG9jYXRpb24oXHJcbiAgICAgICAgdGhpcy5fc2hhZGVyU2V0cy5hdCgxKS5zaGFkZXJQcm9ncmFtLFxyXG4gICAgICAgICdzX3RleHR1cmUwJ1xyXG4gICAgICApO1xyXG4gICAgICB0aGlzLl9zaGFkZXJTZXRzLmF0KDEpLnVuaWZvcm1NYXRyaXhMb2NhdGlvbiA9IHRoaXMuZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKFxyXG4gICAgICAgIHRoaXMuX3NoYWRlclNldHMuYXQoMSkuc2hhZGVyUHJvZ3JhbSxcclxuICAgICAgICAndV9tYXRyaXgnXHJcbiAgICAgICk7XHJcbiAgICAgIHRoaXMuX3NoYWRlclNldHMuYXQoXHJcbiAgICAgICAgMVxyXG4gICAgICApLnVuaWZvcm1CYXNlQ29sb3JMb2NhdGlvbiA9IHRoaXMuZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKFxyXG4gICAgICAgIHRoaXMuX3NoYWRlclNldHMuYXQoMSkuc2hhZGVyUHJvZ3JhbSxcclxuICAgICAgICAndV9iYXNlQ29sb3InXHJcbiAgICAgICk7XHJcblxyXG4gICAgICAvLyDpgJrluLjvvIjjgq/jg6rjg4Pjg5Tjg7PjgrDjgIFQcmVtdWx0aXBsaWVkQWxwaGHvvIlcclxuICAgICAgdGhpcy5fc2hhZGVyU2V0cy5hdChcclxuICAgICAgICAyXHJcbiAgICAgICkuYXR0cmlidXRlUG9zaXRpb25Mb2NhdGlvbiA9IHRoaXMuZ2wuZ2V0QXR0cmliTG9jYXRpb24oXHJcbiAgICAgICAgdGhpcy5fc2hhZGVyU2V0cy5hdCgyKS5zaGFkZXJQcm9ncmFtLFxyXG4gICAgICAgICdhX3Bvc2l0aW9uJ1xyXG4gICAgICApO1xyXG4gICAgICB0aGlzLl9zaGFkZXJTZXRzLmF0KFxyXG4gICAgICAgIDJcclxuICAgICAgKS5hdHRyaWJ1dGVUZXhDb29yZExvY2F0aW9uID0gdGhpcy5nbC5nZXRBdHRyaWJMb2NhdGlvbihcclxuICAgICAgICB0aGlzLl9zaGFkZXJTZXRzLmF0KDIpLnNoYWRlclByb2dyYW0sXHJcbiAgICAgICAgJ2FfdGV4Q29vcmQnXHJcbiAgICAgICk7XHJcbiAgICAgIHRoaXMuX3NoYWRlclNldHMuYXQoXHJcbiAgICAgICAgMlxyXG4gICAgICApLnNhbXBsZXJUZXh0dXJlMExvY2F0aW9uID0gdGhpcy5nbC5nZXRVbmlmb3JtTG9jYXRpb24oXHJcbiAgICAgICAgdGhpcy5fc2hhZGVyU2V0cy5hdCgyKS5zaGFkZXJQcm9ncmFtLFxyXG4gICAgICAgICdzX3RleHR1cmUwJ1xyXG4gICAgICApO1xyXG4gICAgICB0aGlzLl9zaGFkZXJTZXRzLmF0KFxyXG4gICAgICAgIDJcclxuICAgICAgKS5zYW1wbGVyVGV4dHVyZTFMb2NhdGlvbiA9IHRoaXMuZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKFxyXG4gICAgICAgIHRoaXMuX3NoYWRlclNldHMuYXQoMikuc2hhZGVyUHJvZ3JhbSxcclxuICAgICAgICAnc190ZXh0dXJlMSdcclxuICAgICAgKTtcclxuICAgICAgdGhpcy5fc2hhZGVyU2V0cy5hdCgyKS51bmlmb3JtTWF0cml4TG9jYXRpb24gPSB0aGlzLmdsLmdldFVuaWZvcm1Mb2NhdGlvbihcclxuICAgICAgICB0aGlzLl9zaGFkZXJTZXRzLmF0KDIpLnNoYWRlclByb2dyYW0sXHJcbiAgICAgICAgJ3VfbWF0cml4J1xyXG4gICAgICApO1xyXG4gICAgICB0aGlzLl9zaGFkZXJTZXRzLmF0KFxyXG4gICAgICAgIDJcclxuICAgICAgKS51bmlmb3JtQ2xpcE1hdHJpeExvY2F0aW9uID0gdGhpcy5nbC5nZXRVbmlmb3JtTG9jYXRpb24oXHJcbiAgICAgICAgdGhpcy5fc2hhZGVyU2V0cy5hdCgyKS5zaGFkZXJQcm9ncmFtLFxyXG4gICAgICAgICd1X2NsaXBNYXRyaXgnXHJcbiAgICAgICk7XHJcbiAgICAgIHRoaXMuX3NoYWRlclNldHMuYXQoXHJcbiAgICAgICAgMlxyXG4gICAgICApLnVuaWZvcm1DaGFubmVsRmxhZ0xvY2F0aW9uID0gdGhpcy5nbC5nZXRVbmlmb3JtTG9jYXRpb24oXHJcbiAgICAgICAgdGhpcy5fc2hhZGVyU2V0cy5hdCgyKS5zaGFkZXJQcm9ncmFtLFxyXG4gICAgICAgICd1X2NoYW5uZWxGbGFnJ1xyXG4gICAgICApO1xyXG4gICAgICB0aGlzLl9zaGFkZXJTZXRzLmF0KFxyXG4gICAgICAgIDJcclxuICAgICAgKS51bmlmb3JtQmFzZUNvbG9yTG9jYXRpb24gPSB0aGlzLmdsLmdldFVuaWZvcm1Mb2NhdGlvbihcclxuICAgICAgICB0aGlzLl9zaGFkZXJTZXRzLmF0KDIpLnNoYWRlclByb2dyYW0sXHJcbiAgICAgICAgJ3VfYmFzZUNvbG9yJ1xyXG4gICAgICApO1xyXG5cclxuICAgICAgLy8g6YCa5bi477yI44Kv44Oq44OD44OU44Oz44Kw44O75Y+N6LuiLCBQcmVtdWx0aXBsaWVkQWxwaGHvvIlcclxuICAgICAgdGhpcy5fc2hhZGVyU2V0cy5hdChcclxuICAgICAgICAzXHJcbiAgICAgICkuYXR0cmlidXRlUG9zaXRpb25Mb2NhdGlvbiA9IHRoaXMuZ2wuZ2V0QXR0cmliTG9jYXRpb24oXHJcbiAgICAgICAgdGhpcy5fc2hhZGVyU2V0cy5hdCgzKS5zaGFkZXJQcm9ncmFtLFxyXG4gICAgICAgICdhX3Bvc2l0aW9uJ1xyXG4gICAgICApO1xyXG4gICAgICB0aGlzLl9zaGFkZXJTZXRzLmF0KFxyXG4gICAgICAgIDNcclxuICAgICAgKS5hdHRyaWJ1dGVUZXhDb29yZExvY2F0aW9uID0gdGhpcy5nbC5nZXRBdHRyaWJMb2NhdGlvbihcclxuICAgICAgICB0aGlzLl9zaGFkZXJTZXRzLmF0KDMpLnNoYWRlclByb2dyYW0sXHJcbiAgICAgICAgJ2FfdGV4Q29vcmQnXHJcbiAgICAgICk7XHJcbiAgICAgIHRoaXMuX3NoYWRlclNldHMuYXQoXHJcbiAgICAgICAgM1xyXG4gICAgICApLnNhbXBsZXJUZXh0dXJlMExvY2F0aW9uID0gdGhpcy5nbC5nZXRVbmlmb3JtTG9jYXRpb24oXHJcbiAgICAgICAgdGhpcy5fc2hhZGVyU2V0cy5hdCgzKS5zaGFkZXJQcm9ncmFtLFxyXG4gICAgICAgICdzX3RleHR1cmUwJ1xyXG4gICAgICApO1xyXG4gICAgICB0aGlzLl9zaGFkZXJTZXRzLmF0KFxyXG4gICAgICAgIDNcclxuICAgICAgKS5zYW1wbGVyVGV4dHVyZTFMb2NhdGlvbiA9IHRoaXMuZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKFxyXG4gICAgICAgIHRoaXMuX3NoYWRlclNldHMuYXQoMykuc2hhZGVyUHJvZ3JhbSxcclxuICAgICAgICAnc190ZXh0dXJlMSdcclxuICAgICAgKTtcclxuICAgICAgdGhpcy5fc2hhZGVyU2V0cy5hdCgzKS51bmlmb3JtTWF0cml4TG9jYXRpb24gPSB0aGlzLmdsLmdldFVuaWZvcm1Mb2NhdGlvbihcclxuICAgICAgICB0aGlzLl9zaGFkZXJTZXRzLmF0KDMpLnNoYWRlclByb2dyYW0sXHJcbiAgICAgICAgJ3VfbWF0cml4J1xyXG4gICAgICApO1xyXG4gICAgICB0aGlzLl9zaGFkZXJTZXRzLmF0KFxyXG4gICAgICAgIDNcclxuICAgICAgKS51bmlmb3JtQ2xpcE1hdHJpeExvY2F0aW9uID0gdGhpcy5nbC5nZXRVbmlmb3JtTG9jYXRpb24oXHJcbiAgICAgICAgdGhpcy5fc2hhZGVyU2V0cy5hdCgzKS5zaGFkZXJQcm9ncmFtLFxyXG4gICAgICAgICd1X2NsaXBNYXRyaXgnXHJcbiAgICAgICk7XHJcbiAgICAgIHRoaXMuX3NoYWRlclNldHMuYXQoXHJcbiAgICAgICAgM1xyXG4gICAgICApLnVuaWZvcm1DaGFubmVsRmxhZ0xvY2F0aW9uID0gdGhpcy5nbC5nZXRVbmlmb3JtTG9jYXRpb24oXHJcbiAgICAgICAgdGhpcy5fc2hhZGVyU2V0cy5hdCgzKS5zaGFkZXJQcm9ncmFtLFxyXG4gICAgICAgICd1X2NoYW5uZWxGbGFnJ1xyXG4gICAgICApO1xyXG4gICAgICB0aGlzLl9zaGFkZXJTZXRzLmF0KFxyXG4gICAgICAgIDNcclxuICAgICAgKS51bmlmb3JtQmFzZUNvbG9yTG9jYXRpb24gPSB0aGlzLmdsLmdldFVuaWZvcm1Mb2NhdGlvbihcclxuICAgICAgICB0aGlzLl9zaGFkZXJTZXRzLmF0KDMpLnNoYWRlclByb2dyYW0sXHJcbiAgICAgICAgJ3VfYmFzZUNvbG9yJ1xyXG4gICAgICApO1xyXG5cclxuICAgICAgLy8g5Yqg566X77yIUHJlbXVsdGlwbGllZEFscGhh77yJXHJcbiAgICAgIHRoaXMuX3NoYWRlclNldHMuYXQoXHJcbiAgICAgICAgNFxyXG4gICAgICApLmF0dHJpYnV0ZVBvc2l0aW9uTG9jYXRpb24gPSB0aGlzLmdsLmdldEF0dHJpYkxvY2F0aW9uKFxyXG4gICAgICAgIHRoaXMuX3NoYWRlclNldHMuYXQoNCkuc2hhZGVyUHJvZ3JhbSxcclxuICAgICAgICAnYV9wb3NpdGlvbidcclxuICAgICAgKTtcclxuICAgICAgdGhpcy5fc2hhZGVyU2V0cy5hdChcclxuICAgICAgICA0XHJcbiAgICAgICkuYXR0cmlidXRlVGV4Q29vcmRMb2NhdGlvbiA9IHRoaXMuZ2wuZ2V0QXR0cmliTG9jYXRpb24oXHJcbiAgICAgICAgdGhpcy5fc2hhZGVyU2V0cy5hdCg0KS5zaGFkZXJQcm9ncmFtLFxyXG4gICAgICAgICdhX3RleENvb3JkJ1xyXG4gICAgICApO1xyXG4gICAgICB0aGlzLl9zaGFkZXJTZXRzLmF0KFxyXG4gICAgICAgIDRcclxuICAgICAgKS5zYW1wbGVyVGV4dHVyZTBMb2NhdGlvbiA9IHRoaXMuZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKFxyXG4gICAgICAgIHRoaXMuX3NoYWRlclNldHMuYXQoNCkuc2hhZGVyUHJvZ3JhbSxcclxuICAgICAgICAnc190ZXh0dXJlMCdcclxuICAgICAgKTtcclxuICAgICAgdGhpcy5fc2hhZGVyU2V0cy5hdCg0KS51bmlmb3JtTWF0cml4TG9jYXRpb24gPSB0aGlzLmdsLmdldFVuaWZvcm1Mb2NhdGlvbihcclxuICAgICAgICB0aGlzLl9zaGFkZXJTZXRzLmF0KDQpLnNoYWRlclByb2dyYW0sXHJcbiAgICAgICAgJ3VfbWF0cml4J1xyXG4gICAgICApO1xyXG4gICAgICB0aGlzLl9zaGFkZXJTZXRzLmF0KFxyXG4gICAgICAgIDRcclxuICAgICAgKS51bmlmb3JtQmFzZUNvbG9yTG9jYXRpb24gPSB0aGlzLmdsLmdldFVuaWZvcm1Mb2NhdGlvbihcclxuICAgICAgICB0aGlzLl9zaGFkZXJTZXRzLmF0KDQpLnNoYWRlclByb2dyYW0sXHJcbiAgICAgICAgJ3VfYmFzZUNvbG9yJ1xyXG4gICAgICApO1xyXG5cclxuICAgICAgLy8g5Yqg566X77yI44Kv44Oq44OD44OU44Oz44Kw44CBUHJlbXVsdGlwbGllZEFscGhh77yJXHJcbiAgICAgIHRoaXMuX3NoYWRlclNldHMuYXQoXHJcbiAgICAgICAgNVxyXG4gICAgICApLmF0dHJpYnV0ZVBvc2l0aW9uTG9jYXRpb24gPSB0aGlzLmdsLmdldEF0dHJpYkxvY2F0aW9uKFxyXG4gICAgICAgIHRoaXMuX3NoYWRlclNldHMuYXQoNSkuc2hhZGVyUHJvZ3JhbSxcclxuICAgICAgICAnYV9wb3NpdGlvbidcclxuICAgICAgKTtcclxuICAgICAgdGhpcy5fc2hhZGVyU2V0cy5hdChcclxuICAgICAgICA1XHJcbiAgICAgICkuYXR0cmlidXRlVGV4Q29vcmRMb2NhdGlvbiA9IHRoaXMuZ2wuZ2V0QXR0cmliTG9jYXRpb24oXHJcbiAgICAgICAgdGhpcy5fc2hhZGVyU2V0cy5hdCg1KS5zaGFkZXJQcm9ncmFtLFxyXG4gICAgICAgICdhX3RleENvb3JkJ1xyXG4gICAgICApO1xyXG4gICAgICB0aGlzLl9zaGFkZXJTZXRzLmF0KFxyXG4gICAgICAgIDVcclxuICAgICAgKS5zYW1wbGVyVGV4dHVyZTBMb2NhdGlvbiA9IHRoaXMuZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKFxyXG4gICAgICAgIHRoaXMuX3NoYWRlclNldHMuYXQoNSkuc2hhZGVyUHJvZ3JhbSxcclxuICAgICAgICAnc190ZXh0dXJlMCdcclxuICAgICAgKTtcclxuICAgICAgdGhpcy5fc2hhZGVyU2V0cy5hdChcclxuICAgICAgICA1XHJcbiAgICAgICkuc2FtcGxlclRleHR1cmUxTG9jYXRpb24gPSB0aGlzLmdsLmdldFVuaWZvcm1Mb2NhdGlvbihcclxuICAgICAgICB0aGlzLl9zaGFkZXJTZXRzLmF0KDUpLnNoYWRlclByb2dyYW0sXHJcbiAgICAgICAgJ3NfdGV4dHVyZTEnXHJcbiAgICAgICk7XHJcbiAgICAgIHRoaXMuX3NoYWRlclNldHMuYXQoNSkudW5pZm9ybU1hdHJpeExvY2F0aW9uID0gdGhpcy5nbC5nZXRVbmlmb3JtTG9jYXRpb24oXHJcbiAgICAgICAgdGhpcy5fc2hhZGVyU2V0cy5hdCg1KS5zaGFkZXJQcm9ncmFtLFxyXG4gICAgICAgICd1X21hdHJpeCdcclxuICAgICAgKTtcclxuICAgICAgdGhpcy5fc2hhZGVyU2V0cy5hdChcclxuICAgICAgICA1XHJcbiAgICAgICkudW5pZm9ybUNsaXBNYXRyaXhMb2NhdGlvbiA9IHRoaXMuZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKFxyXG4gICAgICAgIHRoaXMuX3NoYWRlclNldHMuYXQoNSkuc2hhZGVyUHJvZ3JhbSxcclxuICAgICAgICAndV9jbGlwTWF0cml4J1xyXG4gICAgICApO1xyXG4gICAgICB0aGlzLl9zaGFkZXJTZXRzLmF0KFxyXG4gICAgICAgIDVcclxuICAgICAgKS51bmlmb3JtQ2hhbm5lbEZsYWdMb2NhdGlvbiA9IHRoaXMuZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKFxyXG4gICAgICAgIHRoaXMuX3NoYWRlclNldHMuYXQoNSkuc2hhZGVyUHJvZ3JhbSxcclxuICAgICAgICAndV9jaGFubmVsRmxhZydcclxuICAgICAgKTtcclxuICAgICAgdGhpcy5fc2hhZGVyU2V0cy5hdChcclxuICAgICAgICA1XHJcbiAgICAgICkudW5pZm9ybUJhc2VDb2xvckxvY2F0aW9uID0gdGhpcy5nbC5nZXRVbmlmb3JtTG9jYXRpb24oXHJcbiAgICAgICAgdGhpcy5fc2hhZGVyU2V0cy5hdCg1KS5zaGFkZXJQcm9ncmFtLFxyXG4gICAgICAgICd1X2Jhc2VDb2xvcidcclxuICAgICAgKTtcclxuXHJcbiAgICAgIC8vIOWKoOeul++8iOOCr+ODquODg+ODlOODs+OCsOODu+WPjei7ouOAgVByZW11bHRpcGxpZWRBbHBoYe+8iVxyXG4gICAgICB0aGlzLl9zaGFkZXJTZXRzLmF0KFxyXG4gICAgICAgIDZcclxuICAgICAgKS5hdHRyaWJ1dGVQb3NpdGlvbkxvY2F0aW9uID0gdGhpcy5nbC5nZXRBdHRyaWJMb2NhdGlvbihcclxuICAgICAgICB0aGlzLl9zaGFkZXJTZXRzLmF0KDYpLnNoYWRlclByb2dyYW0sXHJcbiAgICAgICAgJ2FfcG9zaXRpb24nXHJcbiAgICAgICk7XHJcbiAgICAgIHRoaXMuX3NoYWRlclNldHMuYXQoXHJcbiAgICAgICAgNlxyXG4gICAgICApLmF0dHJpYnV0ZVRleENvb3JkTG9jYXRpb24gPSB0aGlzLmdsLmdldEF0dHJpYkxvY2F0aW9uKFxyXG4gICAgICAgIHRoaXMuX3NoYWRlclNldHMuYXQoNikuc2hhZGVyUHJvZ3JhbSxcclxuICAgICAgICAnYV90ZXhDb29yZCdcclxuICAgICAgKTtcclxuICAgICAgdGhpcy5fc2hhZGVyU2V0cy5hdChcclxuICAgICAgICA2XHJcbiAgICAgICkuc2FtcGxlclRleHR1cmUwTG9jYXRpb24gPSB0aGlzLmdsLmdldFVuaWZvcm1Mb2NhdGlvbihcclxuICAgICAgICB0aGlzLl9zaGFkZXJTZXRzLmF0KDYpLnNoYWRlclByb2dyYW0sXHJcbiAgICAgICAgJ3NfdGV4dHVyZTAnXHJcbiAgICAgICk7XHJcbiAgICAgIHRoaXMuX3NoYWRlclNldHMuYXQoXHJcbiAgICAgICAgNlxyXG4gICAgICApLnNhbXBsZXJUZXh0dXJlMUxvY2F0aW9uID0gdGhpcy5nbC5nZXRVbmlmb3JtTG9jYXRpb24oXHJcbiAgICAgICAgdGhpcy5fc2hhZGVyU2V0cy5hdCg2KS5zaGFkZXJQcm9ncmFtLFxyXG4gICAgICAgICdzX3RleHR1cmUxJ1xyXG4gICAgICApO1xyXG4gICAgICB0aGlzLl9zaGFkZXJTZXRzLmF0KDYpLnVuaWZvcm1NYXRyaXhMb2NhdGlvbiA9IHRoaXMuZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKFxyXG4gICAgICAgIHRoaXMuX3NoYWRlclNldHMuYXQoNikuc2hhZGVyUHJvZ3JhbSxcclxuICAgICAgICAndV9tYXRyaXgnXHJcbiAgICAgICk7XHJcbiAgICAgIHRoaXMuX3NoYWRlclNldHMuYXQoXHJcbiAgICAgICAgNlxyXG4gICAgICApLnVuaWZvcm1DbGlwTWF0cml4TG9jYXRpb24gPSB0aGlzLmdsLmdldFVuaWZvcm1Mb2NhdGlvbihcclxuICAgICAgICB0aGlzLl9zaGFkZXJTZXRzLmF0KDYpLnNoYWRlclByb2dyYW0sXHJcbiAgICAgICAgJ3VfY2xpcE1hdHJpeCdcclxuICAgICAgKTtcclxuICAgICAgdGhpcy5fc2hhZGVyU2V0cy5hdChcclxuICAgICAgICA2XHJcbiAgICAgICkudW5pZm9ybUNoYW5uZWxGbGFnTG9jYXRpb24gPSB0aGlzLmdsLmdldFVuaWZvcm1Mb2NhdGlvbihcclxuICAgICAgICB0aGlzLl9zaGFkZXJTZXRzLmF0KDYpLnNoYWRlclByb2dyYW0sXHJcbiAgICAgICAgJ3VfY2hhbm5lbEZsYWcnXHJcbiAgICAgICk7XHJcbiAgICAgIHRoaXMuX3NoYWRlclNldHMuYXQoXHJcbiAgICAgICAgNlxyXG4gICAgICApLnVuaWZvcm1CYXNlQ29sb3JMb2NhdGlvbiA9IHRoaXMuZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKFxyXG4gICAgICAgIHRoaXMuX3NoYWRlclNldHMuYXQoNikuc2hhZGVyUHJvZ3JhbSxcclxuICAgICAgICAndV9iYXNlQ29sb3InXHJcbiAgICAgICk7XHJcblxyXG4gICAgICAvLyDkuZfnrpfvvIhQcmVtdWx0aXBsaWVkQWxwaGHvvIlcclxuICAgICAgdGhpcy5fc2hhZGVyU2V0cy5hdChcclxuICAgICAgICA3XHJcbiAgICAgICkuYXR0cmlidXRlUG9zaXRpb25Mb2NhdGlvbiA9IHRoaXMuZ2wuZ2V0QXR0cmliTG9jYXRpb24oXHJcbiAgICAgICAgdGhpcy5fc2hhZGVyU2V0cy5hdCg3KS5zaGFkZXJQcm9ncmFtLFxyXG4gICAgICAgICdhX3Bvc2l0aW9uJ1xyXG4gICAgICApO1xyXG4gICAgICB0aGlzLl9zaGFkZXJTZXRzLmF0KFxyXG4gICAgICAgIDdcclxuICAgICAgKS5hdHRyaWJ1dGVUZXhDb29yZExvY2F0aW9uID0gdGhpcy5nbC5nZXRBdHRyaWJMb2NhdGlvbihcclxuICAgICAgICB0aGlzLl9zaGFkZXJTZXRzLmF0KDcpLnNoYWRlclByb2dyYW0sXHJcbiAgICAgICAgJ2FfdGV4Q29vcmQnXHJcbiAgICAgICk7XHJcbiAgICAgIHRoaXMuX3NoYWRlclNldHMuYXQoXHJcbiAgICAgICAgN1xyXG4gICAgICApLnNhbXBsZXJUZXh0dXJlMExvY2F0aW9uID0gdGhpcy5nbC5nZXRVbmlmb3JtTG9jYXRpb24oXHJcbiAgICAgICAgdGhpcy5fc2hhZGVyU2V0cy5hdCg3KS5zaGFkZXJQcm9ncmFtLFxyXG4gICAgICAgICdzX3RleHR1cmUwJ1xyXG4gICAgICApO1xyXG4gICAgICB0aGlzLl9zaGFkZXJTZXRzLmF0KDcpLnVuaWZvcm1NYXRyaXhMb2NhdGlvbiA9IHRoaXMuZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKFxyXG4gICAgICAgIHRoaXMuX3NoYWRlclNldHMuYXQoNykuc2hhZGVyUHJvZ3JhbSxcclxuICAgICAgICAndV9tYXRyaXgnXHJcbiAgICAgICk7XHJcbiAgICAgIHRoaXMuX3NoYWRlclNldHMuYXQoXHJcbiAgICAgICAgN1xyXG4gICAgICApLnVuaWZvcm1CYXNlQ29sb3JMb2NhdGlvbiA9IHRoaXMuZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKFxyXG4gICAgICAgIHRoaXMuX3NoYWRlclNldHMuYXQoNykuc2hhZGVyUHJvZ3JhbSxcclxuICAgICAgICAndV9iYXNlQ29sb3InXHJcbiAgICAgICk7XHJcblxyXG4gICAgICAvLyDkuZfnrpfvvIjjgq/jg6rjg4Pjg5Tjg7PjgrDjgIFQcmVtdWx0aXBsaWVkQWxwaGHvvIlcclxuICAgICAgdGhpcy5fc2hhZGVyU2V0cy5hdChcclxuICAgICAgICA4XHJcbiAgICAgICkuYXR0cmlidXRlUG9zaXRpb25Mb2NhdGlvbiA9IHRoaXMuZ2wuZ2V0QXR0cmliTG9jYXRpb24oXHJcbiAgICAgICAgdGhpcy5fc2hhZGVyU2V0cy5hdCg4KS5zaGFkZXJQcm9ncmFtLFxyXG4gICAgICAgICdhX3Bvc2l0aW9uJ1xyXG4gICAgICApO1xyXG4gICAgICB0aGlzLl9zaGFkZXJTZXRzLmF0KFxyXG4gICAgICAgIDhcclxuICAgICAgKS5hdHRyaWJ1dGVUZXhDb29yZExvY2F0aW9uID0gdGhpcy5nbC5nZXRBdHRyaWJMb2NhdGlvbihcclxuICAgICAgICB0aGlzLl9zaGFkZXJTZXRzLmF0KDgpLnNoYWRlclByb2dyYW0sXHJcbiAgICAgICAgJ2FfdGV4Q29vcmQnXHJcbiAgICAgICk7XHJcbiAgICAgIHRoaXMuX3NoYWRlclNldHMuYXQoXHJcbiAgICAgICAgOFxyXG4gICAgICApLnNhbXBsZXJUZXh0dXJlMExvY2F0aW9uID0gdGhpcy5nbC5nZXRVbmlmb3JtTG9jYXRpb24oXHJcbiAgICAgICAgdGhpcy5fc2hhZGVyU2V0cy5hdCg4KS5zaGFkZXJQcm9ncmFtLFxyXG4gICAgICAgICdzX3RleHR1cmUwJ1xyXG4gICAgICApO1xyXG4gICAgICB0aGlzLl9zaGFkZXJTZXRzLmF0KFxyXG4gICAgICAgIDhcclxuICAgICAgKS5zYW1wbGVyVGV4dHVyZTFMb2NhdGlvbiA9IHRoaXMuZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKFxyXG4gICAgICAgIHRoaXMuX3NoYWRlclNldHMuYXQoOCkuc2hhZGVyUHJvZ3JhbSxcclxuICAgICAgICAnc190ZXh0dXJlMSdcclxuICAgICAgKTtcclxuICAgICAgdGhpcy5fc2hhZGVyU2V0cy5hdCg4KS51bmlmb3JtTWF0cml4TG9jYXRpb24gPSB0aGlzLmdsLmdldFVuaWZvcm1Mb2NhdGlvbihcclxuICAgICAgICB0aGlzLl9zaGFkZXJTZXRzLmF0KDgpLnNoYWRlclByb2dyYW0sXHJcbiAgICAgICAgJ3VfbWF0cml4J1xyXG4gICAgICApO1xyXG4gICAgICB0aGlzLl9zaGFkZXJTZXRzLmF0KFxyXG4gICAgICAgIDhcclxuICAgICAgKS51bmlmb3JtQ2xpcE1hdHJpeExvY2F0aW9uID0gdGhpcy5nbC5nZXRVbmlmb3JtTG9jYXRpb24oXHJcbiAgICAgICAgdGhpcy5fc2hhZGVyU2V0cy5hdCg4KS5zaGFkZXJQcm9ncmFtLFxyXG4gICAgICAgICd1X2NsaXBNYXRyaXgnXHJcbiAgICAgICk7XHJcbiAgICAgIHRoaXMuX3NoYWRlclNldHMuYXQoXHJcbiAgICAgICAgOFxyXG4gICAgICApLnVuaWZvcm1DaGFubmVsRmxhZ0xvY2F0aW9uID0gdGhpcy5nbC5nZXRVbmlmb3JtTG9jYXRpb24oXHJcbiAgICAgICAgdGhpcy5fc2hhZGVyU2V0cy5hdCg4KS5zaGFkZXJQcm9ncmFtLFxyXG4gICAgICAgICd1X2NoYW5uZWxGbGFnJ1xyXG4gICAgICApO1xyXG4gICAgICB0aGlzLl9zaGFkZXJTZXRzLmF0KFxyXG4gICAgICAgIDhcclxuICAgICAgKS51bmlmb3JtQmFzZUNvbG9yTG9jYXRpb24gPSB0aGlzLmdsLmdldFVuaWZvcm1Mb2NhdGlvbihcclxuICAgICAgICB0aGlzLl9zaGFkZXJTZXRzLmF0KDgpLnNoYWRlclByb2dyYW0sXHJcbiAgICAgICAgJ3VfYmFzZUNvbG9yJ1xyXG4gICAgICApO1xyXG5cclxuICAgICAgLy8g5LmX566X77yI44Kv44Oq44OD44OU44Oz44Kw44O75Y+N6Lui44CBUHJlbXVsdGlwbGllZEFscGhh77yJXHJcbiAgICAgIHRoaXMuX3NoYWRlclNldHMuYXQoXHJcbiAgICAgICAgOVxyXG4gICAgICApLmF0dHJpYnV0ZVBvc2l0aW9uTG9jYXRpb24gPSB0aGlzLmdsLmdldEF0dHJpYkxvY2F0aW9uKFxyXG4gICAgICAgIHRoaXMuX3NoYWRlclNldHMuYXQoOSkuc2hhZGVyUHJvZ3JhbSxcclxuICAgICAgICAnYV9wb3NpdGlvbidcclxuICAgICAgKTtcclxuICAgICAgdGhpcy5fc2hhZGVyU2V0cy5hdChcclxuICAgICAgICA5XHJcbiAgICAgICkuYXR0cmlidXRlVGV4Q29vcmRMb2NhdGlvbiA9IHRoaXMuZ2wuZ2V0QXR0cmliTG9jYXRpb24oXHJcbiAgICAgICAgdGhpcy5fc2hhZGVyU2V0cy5hdCg5KS5zaGFkZXJQcm9ncmFtLFxyXG4gICAgICAgICdhX3RleENvb3JkJ1xyXG4gICAgICApO1xyXG4gICAgICB0aGlzLl9zaGFkZXJTZXRzLmF0KFxyXG4gICAgICAgIDlcclxuICAgICAgKS5zYW1wbGVyVGV4dHVyZTBMb2NhdGlvbiA9IHRoaXMuZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKFxyXG4gICAgICAgIHRoaXMuX3NoYWRlclNldHMuYXQoOSkuc2hhZGVyUHJvZ3JhbSxcclxuICAgICAgICAnc190ZXh0dXJlMCdcclxuICAgICAgKTtcclxuICAgICAgdGhpcy5fc2hhZGVyU2V0cy5hdChcclxuICAgICAgICA5XHJcbiAgICAgICkuc2FtcGxlclRleHR1cmUxTG9jYXRpb24gPSB0aGlzLmdsLmdldFVuaWZvcm1Mb2NhdGlvbihcclxuICAgICAgICB0aGlzLl9zaGFkZXJTZXRzLmF0KDkpLnNoYWRlclByb2dyYW0sXHJcbiAgICAgICAgJ3NfdGV4dHVyZTEnXHJcbiAgICAgICk7XHJcbiAgICAgIHRoaXMuX3NoYWRlclNldHMuYXQoOSkudW5pZm9ybU1hdHJpeExvY2F0aW9uID0gdGhpcy5nbC5nZXRVbmlmb3JtTG9jYXRpb24oXHJcbiAgICAgICAgdGhpcy5fc2hhZGVyU2V0cy5hdCg5KS5zaGFkZXJQcm9ncmFtLFxyXG4gICAgICAgICd1X21hdHJpeCdcclxuICAgICAgKTtcclxuICAgICAgdGhpcy5fc2hhZGVyU2V0cy5hdChcclxuICAgICAgICA5XHJcbiAgICAgICkudW5pZm9ybUNsaXBNYXRyaXhMb2NhdGlvbiA9IHRoaXMuZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKFxyXG4gICAgICAgIHRoaXMuX3NoYWRlclNldHMuYXQoOSkuc2hhZGVyUHJvZ3JhbSxcclxuICAgICAgICAndV9jbGlwTWF0cml4J1xyXG4gICAgICApO1xyXG4gICAgICB0aGlzLl9zaGFkZXJTZXRzLmF0KFxyXG4gICAgICAgIDlcclxuICAgICAgKS51bmlmb3JtQ2hhbm5lbEZsYWdMb2NhdGlvbiA9IHRoaXMuZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKFxyXG4gICAgICAgIHRoaXMuX3NoYWRlclNldHMuYXQoOSkuc2hhZGVyUHJvZ3JhbSxcclxuICAgICAgICAndV9jaGFubmVsRmxhZydcclxuICAgICAgKTtcclxuICAgICAgdGhpcy5fc2hhZGVyU2V0cy5hdChcclxuICAgICAgICA5XHJcbiAgICAgICkudW5pZm9ybUJhc2VDb2xvckxvY2F0aW9uID0gdGhpcy5nbC5nZXRVbmlmb3JtTG9jYXRpb24oXHJcbiAgICAgICAgdGhpcy5fc2hhZGVyU2V0cy5hdCg5KS5zaGFkZXJQcm9ncmFtLFxyXG4gICAgICAgICd1X2Jhc2VDb2xvcidcclxuICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOOCt+OCp+ODvOODgOODl+ODreOCsOODqeODoOOCkuODreODvOODieOBl+OBpuOCouODieODrOOCueOCkui/lOOBmVxyXG4gICAgICogQHBhcmFtIHZlcnRleFNoYWRlclNvdXJjZSAgICDpoILngrnjgrfjgqfjg7zjg4Djga7jgr3jg7zjgrlcclxuICAgICAqIEBwYXJhbSBmcmFnbWVudFNoYWRlclNvdXJjZSAg44OV44Op44Kw44Oh44Oz44OI44K344Kn44O844OA44Gu44K944O844K5XHJcbiAgICAgKiBAcmV0dXJuIOOCt+OCp+ODvOODgOODl+ODreOCsOODqeODoOOBruOCouODieODrOOCuVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgbG9hZFNoYWRlclByb2dyYW0oXHJcbiAgICAgIHZlcnRleFNoYWRlclNvdXJjZTogc3RyaW5nLFxyXG4gICAgICBmcmFnbWVudFNoYWRlclNvdXJjZTogc3RyaW5nXHJcbiAgICApOiBXZWJHTFByb2dyYW0ge1xyXG4gICAgICAvLyBDcmVhdGUgU2hhZGVyIFByb2dyYW1cclxuICAgICAgbGV0IHNoYWRlclByb2dyYW06IFdlYkdMUHJvZ3JhbSA9IHRoaXMuZ2wuY3JlYXRlUHJvZ3JhbSgpO1xyXG5cclxuICAgICAgbGV0IHZlcnRTaGFkZXIgPSB0aGlzLmNvbXBpbGVTaGFkZXJTb3VyY2UoXHJcbiAgICAgICAgdGhpcy5nbC5WRVJURVhfU0hBREVSLFxyXG4gICAgICAgIHZlcnRleFNoYWRlclNvdXJjZVxyXG4gICAgICApO1xyXG5cclxuICAgICAgaWYgKCF2ZXJ0U2hhZGVyKSB7XHJcbiAgICAgICAgQ3ViaXNtTG9nRXJyb3IoJ1ZlcnRleCBzaGFkZXIgY29tcGlsZSBlcnJvciEnKTtcclxuICAgICAgICByZXR1cm4gMDtcclxuICAgICAgfVxyXG5cclxuICAgICAgbGV0IGZyYWdTaGFkZXIgPSB0aGlzLmNvbXBpbGVTaGFkZXJTb3VyY2UoXHJcbiAgICAgICAgdGhpcy5nbC5GUkFHTUVOVF9TSEFERVIsXHJcbiAgICAgICAgZnJhZ21lbnRTaGFkZXJTb3VyY2VcclxuICAgICAgKTtcclxuICAgICAgaWYgKCFmcmFnU2hhZGVyKSB7XHJcbiAgICAgICAgQ3ViaXNtTG9nRXJyb3IoJ1ZlcnRleCBzaGFkZXIgY29tcGlsZSBlcnJvciEnKTtcclxuICAgICAgICByZXR1cm4gMDtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gQXR0YWNoIHZlcnRleCBzaGFkZXIgdG8gcHJvZ3JhbVxyXG4gICAgICB0aGlzLmdsLmF0dGFjaFNoYWRlcihzaGFkZXJQcm9ncmFtLCB2ZXJ0U2hhZGVyKTtcclxuXHJcbiAgICAgIC8vIEF0dGFjaCBmcmFnbWVudCBzaGFkZXIgdG8gcHJvZ3JhbVxyXG4gICAgICB0aGlzLmdsLmF0dGFjaFNoYWRlcihzaGFkZXJQcm9ncmFtLCBmcmFnU2hhZGVyKTtcclxuXHJcbiAgICAgIC8vIGxpbmsgcHJvZ3JhbVxyXG4gICAgICB0aGlzLmdsLmxpbmtQcm9ncmFtKHNoYWRlclByb2dyYW0pO1xyXG4gICAgICBjb25zdCBsaW5rU3RhdHVzID0gdGhpcy5nbC5nZXRQcm9ncmFtUGFyYW1ldGVyKFxyXG4gICAgICAgIHNoYWRlclByb2dyYW0sXHJcbiAgICAgICAgdGhpcy5nbC5MSU5LX1NUQVRVU1xyXG4gICAgICApO1xyXG5cclxuICAgICAgLy8g44Oq44Oz44Kv44Gr5aSx5pWX44GX44Gf44KJ44K344Kn44O844OA44O844KS5YmK6ZmkXHJcbiAgICAgIGlmICghbGlua1N0YXR1cykge1xyXG4gICAgICAgIEN1YmlzbUxvZ0Vycm9yKCdGYWlsZWQgdG8gbGluayBwcm9ncmFtOiB7MH0nLCBzaGFkZXJQcm9ncmFtKTtcclxuXHJcbiAgICAgICAgdGhpcy5nbC5kZWxldGVTaGFkZXIodmVydFNoYWRlcik7XHJcbiAgICAgICAgdmVydFNoYWRlciA9IDA7XHJcblxyXG4gICAgICAgIHRoaXMuZ2wuZGVsZXRlU2hhZGVyKGZyYWdTaGFkZXIpO1xyXG4gICAgICAgIGZyYWdTaGFkZXIgPSAwO1xyXG5cclxuICAgICAgICBpZiAoc2hhZGVyUHJvZ3JhbSkge1xyXG4gICAgICAgICAgdGhpcy5nbC5kZWxldGVQcm9ncmFtKHNoYWRlclByb2dyYW0pO1xyXG4gICAgICAgICAgc2hhZGVyUHJvZ3JhbSA9IDA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gMDtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gUmVsZWFzZSB2ZXJ0ZXggYW5kIGZyYWdtZW50IHNoYWRlcnMuXHJcbiAgICAgIHRoaXMuZ2wuZGVsZXRlU2hhZGVyKHZlcnRTaGFkZXIpO1xyXG4gICAgICB0aGlzLmdsLmRlbGV0ZVNoYWRlcihmcmFnU2hhZGVyKTtcclxuXHJcbiAgICAgIHJldHVybiBzaGFkZXJQcm9ncmFtO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog44K344Kn44O844OA44O844OX44Ot44Kw44Op44Og44KS44Kz44Oz44OR44Kk44Or44GZ44KLXHJcbiAgICAgKiBAcGFyYW0gc2hhZGVyVHlwZSDjgrfjgqfjg7zjg4Djgr/jgqTjg5coVmVydGV4L0ZyYWdtZW50KVxyXG4gICAgICogQHBhcmFtIHNoYWRlclNvdXJjZSDjgrfjgqfjg7zjg4Djgr3jg7zjgrnjgrPjg7zjg4lcclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJuIOOCs+ODs+ODkeOCpOODq+OBleOCjOOBn+OCt+OCp+ODvOODgOODvOODl+ODreOCsOODqeODoFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgY29tcGlsZVNoYWRlclNvdXJjZShcclxuICAgICAgc2hhZGVyVHlwZTogR0xlbnVtLFxyXG4gICAgICBzaGFkZXJTb3VyY2U6IHN0cmluZ1xyXG4gICAgKTogV2ViR0xQcm9ncmFtIHtcclxuICAgICAgY29uc3Qgc291cmNlOiBzdHJpbmcgPSBzaGFkZXJTb3VyY2U7XHJcblxyXG4gICAgICBjb25zdCBzaGFkZXI6IFdlYkdMUHJvZ3JhbSA9IHRoaXMuZ2wuY3JlYXRlU2hhZGVyKHNoYWRlclR5cGUpO1xyXG4gICAgICB0aGlzLmdsLnNoYWRlclNvdXJjZShzaGFkZXIsIHNvdXJjZSk7XHJcbiAgICAgIHRoaXMuZ2wuY29tcGlsZVNoYWRlcihzaGFkZXIpO1xyXG5cclxuICAgICAgaWYgKCFzaGFkZXIpIHtcclxuICAgICAgICBjb25zdCBsb2c6IHN0cmluZyA9IHRoaXMuZ2wuZ2V0U2hhZGVySW5mb0xvZyhzaGFkZXIpO1xyXG4gICAgICAgIEN1YmlzbUxvZ0Vycm9yKCdTaGFkZXIgY29tcGlsZSBsb2c6IHswfSAnLCBsb2cpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zdCBzdGF0dXM6IGFueSA9IHRoaXMuZ2wuZ2V0U2hhZGVyUGFyYW1ldGVyKFxyXG4gICAgICAgIHNoYWRlcixcclxuICAgICAgICB0aGlzLmdsLkNPTVBJTEVfU1RBVFVTXHJcbiAgICAgICk7XHJcbiAgICAgIGlmICghc3RhdHVzKSB7XHJcbiAgICAgICAgdGhpcy5nbC5kZWxldGVTaGFkZXIoc2hhZGVyKTtcclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIHNoYWRlcjtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2V0R2woZ2w6IFdlYkdMUmVuZGVyaW5nQ29udGV4dCk6IHZvaWQge1xyXG4gICAgICB0aGlzLmdsID0gZ2w7XHJcbiAgICB9XHJcblxyXG4gICAgX3NoYWRlclNldHM6IGNzbVZlY3RvcjxDdWJpc21TaGFkZXJTZXQ+OyAvLyDjg63jg7zjg4njgZfjgZ/jgrfjgqfjg7zjg4Djg7zjg5fjg63jgrDjg6njg6DjgpLkv53mjIHjgZnjgovlpInmlbBcclxuICAgIGdsOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQ7IC8vIHdlYmds44Kz44Oz44OG44Kt44K544OIXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDdWJpc21TaGFkZXJfV2ViR0zjga7jgqTjg7Pjg4rjg7zjgq/jg6njgrlcclxuICAgKi9cclxuICBleHBvcnQgY2xhc3MgQ3ViaXNtU2hhZGVyU2V0IHtcclxuICAgIHNoYWRlclByb2dyYW06IFdlYkdMUHJvZ3JhbTsgLy8g44K344Kn44O844OA44O844OX44Ot44Kw44Op44Og44Gu44Ki44OJ44Os44K5XHJcbiAgICBhdHRyaWJ1dGVQb3NpdGlvbkxvY2F0aW9uOiBHTHVpbnQ7IC8vIOOCt+OCp+ODvOODgOODvOODl+ODreOCsOODqeODoOOBq+a4oeOBmeWkieaVsOOBruOCouODieODrOOCue+8iFBvc2l0aW9u77yJXHJcbiAgICBhdHRyaWJ1dGVUZXhDb29yZExvY2F0aW9uOiBHTHVpbnQ7IC8vIOOCt+OCp+ODvOODgOODvOODl+ODreOCsOODqeODoOOBq+a4oeOBmeWkieaVsOOBruOCouODieODrOOCue+8iFRleENvb3Jk77yJXHJcbiAgICB1bmlmb3JtTWF0cml4TG9jYXRpb246IFdlYkdMVW5pZm9ybUxvY2F0aW9uOyAvLyDjgrfjgqfjg7zjg4Djg7zjg5fjg63jgrDjg6njg6DjgavmuKHjgZnlpInmlbDjga7jgqLjg4njg6zjgrnvvIhNYXRyaXjvvIlcclxuICAgIHVuaWZvcm1DbGlwTWF0cml4TG9jYXRpb246IFdlYkdMVW5pZm9ybUxvY2F0aW9uOyAvLyDjgrfjgqfjg7zjg4Djg7zjg5fjg63jgrDjg6njg6DjgavmuKHjgZnlpInmlbDjga7jgqLjg4njg6zjgrnvvIhDbGlwTWF0cml477yJXHJcbiAgICBzYW1wbGVyVGV4dHVyZTBMb2NhdGlvbjogV2ViR0xVbmlmb3JtTG9jYXRpb247IC8vIOOCt+OCp+ODvOODgOODvOODl+ODreOCsOODqeODoOOBq+a4oeOBmeWkieaVsOOBruOCouODieODrOOCue+8iFRleHR1cmUw77yJXHJcbiAgICBzYW1wbGVyVGV4dHVyZTFMb2NhdGlvbjogV2ViR0xVbmlmb3JtTG9jYXRpb247IC8vIOOCt+OCp+ODvOODgOODvOODl+ODreOCsOODqeODoOOBq+a4oeOBmeWkieaVsOOBruOCouODieODrOOCue+8iFRleHR1cmUx77yJXHJcbiAgICB1bmlmb3JtQmFzZUNvbG9yTG9jYXRpb246IFdlYkdMVW5pZm9ybUxvY2F0aW9uOyAvLyDjgrfjgqfjg7zjg4Djg7zjg5fjg63jgrDjg6njg6DjgavmuKHjgZnlpInmlbDjga7jgqLjg4njg6zjgrnvvIhCYXNlQ29sb3LvvIlcclxuICAgIHVuaWZvcm1DaGFubmVsRmxhZ0xvY2F0aW9uOiBXZWJHTFVuaWZvcm1Mb2NhdGlvbjsgLy8g44K344Kn44O844OA44O844OX44Ot44Kw44Op44Og44Gr5rih44GZ5aSJ5pWw44Gu44Ki44OJ44Os44K577yIQ2hhbm5lbEZsYWfvvIlcclxuICB9XHJcblxyXG4gIGV4cG9ydCBlbnVtIFNoYWRlck5hbWVzIHtcclxuICAgIC8vIFNldHVwTWFza1xyXG4gICAgU2hhZGVyTmFtZXNfU2V0dXBNYXNrLFxyXG5cclxuICAgIC8vIE5vcm1hbFxyXG4gICAgU2hhZGVyTmFtZXNfTm9ybWFsUHJlbXVsdGlwbGllZEFscGhhLFxyXG4gICAgU2hhZGVyTmFtZXNfTm9ybWFsTWFza2VkUHJlbXVsdGlwbGllZEFscGhhLFxyXG4gICAgU2hhZGVyTmFtZXNfTm9tcmFsTWFza2VkSW52ZXJ0ZWRQcmVtdWx0aXBsaWVkQWxwaGEsXHJcblxyXG4gICAgLy8gQWRkXHJcbiAgICBTaGFkZXJOYW1lc19BZGRQcmVtdWx0aXBsaWVkQWxwaGEsXHJcbiAgICBTaGFkZXJOYW1lc19BZGRNYXNrZWRQcmVtdWx0aXBsaWVkQWxwaGEsXHJcbiAgICBTaGFkZXJOYW1lc19BZGRNYXNrZWRQcmVtdWx0aXBsaWVkQWxwaGFJbnZlcnRlZCxcclxuXHJcbiAgICAvLyBNdWx0XHJcbiAgICBTaGFkZXJOYW1lc19NdWx0UHJlbXVsdGlwbGllZEFscGhhLFxyXG4gICAgU2hhZGVyTmFtZXNfTXVsdE1hc2tlZFByZW11bHRpcGxpZWRBbHBoYSxcclxuICAgIFNoYWRlck5hbWVzX011bHRNYXNrZWRQcmVtdWx0aXBsaWVkQWxwaGFJbnZlcnRlZFxyXG4gIH1cclxuXHJcbiAgZXhwb3J0IGNvbnN0IHZlcnRleFNoYWRlclNyY1NldHVwTWFzayA9XHJcbiAgICAnYXR0cmlidXRlIHZlYzQgICAgIGFfcG9zaXRpb247JyArXHJcbiAgICAnYXR0cmlidXRlIHZlYzIgICAgIGFfdGV4Q29vcmQ7JyArXHJcbiAgICAndmFyeWluZyB2ZWMyICAgICAgIHZfdGV4Q29vcmQ7JyArXHJcbiAgICAndmFyeWluZyB2ZWM0ICAgICAgIHZfbXlQb3M7JyArXHJcbiAgICAndW5pZm9ybSBtYXQ0ICAgICAgIHVfY2xpcE1hdHJpeDsnICtcclxuICAgICd2b2lkIG1haW4oKScgK1xyXG4gICAgJ3snICtcclxuICAgICcgICBnbF9Qb3NpdGlvbiA9IHVfY2xpcE1hdHJpeCAqIGFfcG9zaXRpb247JyArXHJcbiAgICAnICAgdl9teVBvcyA9IHVfY2xpcE1hdHJpeCAqIGFfcG9zaXRpb247JyArXHJcbiAgICAnICAgdl90ZXhDb29yZCA9IGFfdGV4Q29vcmQ7JyArXHJcbiAgICAnICAgdl90ZXhDb29yZC55ID0gMS4wIC0gdl90ZXhDb29yZC55OycgK1xyXG4gICAgJ30nO1xyXG4gIGV4cG9ydCBjb25zdCBmcmFnbWVudFNoYWRlclNyY3NldHVwTWFzayA9XHJcbiAgICAncHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7JyArXHJcbiAgICAndmFyeWluZyB2ZWMyICAgICAgIHZfdGV4Q29vcmQ7JyArXHJcbiAgICAndmFyeWluZyB2ZWM0ICAgICAgIHZfbXlQb3M7JyArXHJcbiAgICAndW5pZm9ybSB2ZWM0ICAgICAgIHVfYmFzZUNvbG9yOycgK1xyXG4gICAgJ3VuaWZvcm0gdmVjNCAgICAgICB1X2NoYW5uZWxGbGFnOycgK1xyXG4gICAgJ3VuaWZvcm0gc2FtcGxlcjJEICBzX3RleHR1cmUwOycgK1xyXG4gICAgJ3ZvaWQgbWFpbigpJyArXHJcbiAgICAneycgK1xyXG4gICAgJyAgIGZsb2F0IGlzSW5zaWRlID0gJyArXHJcbiAgICAnICAgICAgIHN0ZXAodV9iYXNlQ29sb3IueCwgdl9teVBvcy54L3ZfbXlQb3MudyknICtcclxuICAgICcgICAgICAgKiBzdGVwKHVfYmFzZUNvbG9yLnksIHZfbXlQb3MueS92X215UG9zLncpJyArXHJcbiAgICAnICAgICAgICogc3RlcCh2X215UG9zLngvdl9teVBvcy53LCB1X2Jhc2VDb2xvci56KScgK1xyXG4gICAgJyAgICAgICAqIHN0ZXAodl9teVBvcy55L3ZfbXlQb3MudywgdV9iYXNlQ29sb3Iudyk7JyArXHJcbiAgICAnICAgZ2xfRnJhZ0NvbG9yID0gdV9jaGFubmVsRmxhZyAqIHRleHR1cmUyRChzX3RleHR1cmUwLCB2X3RleENvb3JkKS5hICogaXNJbnNpZGU7JyArXHJcbiAgICAnfSc7XHJcblxyXG4gIC8vLS0tLS0g44OQ44O844OG44OD44Kv44K544K344Kn44O844OA44OX44Ot44Kw44Op44OgIC0tLS0tXHJcbiAgLy8gTm9ybWFsICYgQWRkICYgTXVsdCDlhbHpgJpcclxuICBleHBvcnQgY29uc3QgdmVydGV4U2hhZGVyU3JjID1cclxuICAgICdhdHRyaWJ1dGUgdmVjNCAgICAgYV9wb3NpdGlvbjsnICsgLy92LnZlcnRleFxyXG4gICAgJ2F0dHJpYnV0ZSB2ZWMyICAgICBhX3RleENvb3JkOycgKyAvL3YudGV4Y29vcmRcclxuICAgICd2YXJ5aW5nIHZlYzIgICAgICAgdl90ZXhDb29yZDsnICsgLy92MmYudGV4Y29vcmRcclxuICAgICd1bmlmb3JtIG1hdDQgICAgICAgdV9tYXRyaXg7JyArXHJcbiAgICAndm9pZCBtYWluKCknICtcclxuICAgICd7JyArXHJcbiAgICAnICAgZ2xfUG9zaXRpb24gPSB1X21hdHJpeCAqIGFfcG9zaXRpb247JyArXHJcbiAgICAnICAgdl90ZXhDb29yZCA9IGFfdGV4Q29vcmQ7JyArXHJcbiAgICAnICAgdl90ZXhDb29yZC55ID0gMS4wIC0gdl90ZXhDb29yZC55OycgK1xyXG4gICAgJ30nO1xyXG5cclxuICAvLyBOb3JtYWwgJiBBZGQgJiBNdWx0IOWFsemAmu+8iOOCr+ODquODg+ODlOODs+OCsOOBleOCjOOBn+OCguOBruOBruaPj+eUu+eUqO+8iVxyXG4gIGV4cG9ydCBjb25zdCB2ZXJ0ZXhTaGFkZXJTcmNNYXNrZWQgPVxyXG4gICAgJ2F0dHJpYnV0ZSB2ZWM0ICAgICBhX3Bvc2l0aW9uOycgK1xyXG4gICAgJ2F0dHJpYnV0ZSB2ZWMyICAgICBhX3RleENvb3JkOycgK1xyXG4gICAgJ3ZhcnlpbmcgdmVjMiAgICAgICB2X3RleENvb3JkOycgK1xyXG4gICAgJ3ZhcnlpbmcgdmVjNCAgICAgICB2X2NsaXBQb3M7JyArXHJcbiAgICAndW5pZm9ybSBtYXQ0ICAgICAgIHVfbWF0cml4OycgK1xyXG4gICAgJ3VuaWZvcm0gbWF0NCAgICAgICB1X2NsaXBNYXRyaXg7JyArXHJcbiAgICAndm9pZCBtYWluKCknICtcclxuICAgICd7JyArXHJcbiAgICAnICAgZ2xfUG9zaXRpb24gPSB1X21hdHJpeCAqIGFfcG9zaXRpb247JyArXHJcbiAgICAnICAgdl9jbGlwUG9zID0gdV9jbGlwTWF0cml4ICogYV9wb3NpdGlvbjsnICtcclxuICAgICcgICB2X3RleENvb3JkID0gYV90ZXhDb29yZDsnICtcclxuICAgICcgICB2X3RleENvb3JkLnkgPSAxLjAgLSB2X3RleENvb3JkLnk7JyArXHJcbiAgICAnfSc7XHJcblxyXG4gIC8vLS0tLS0g44OV44Op44Kw44Oh44Oz44OI44K344Kn44O844OA44OX44Ot44Kw44Op44OgIC0tLS0tXHJcbiAgLy8gTm9ybWFsICYgQWRkICYgTXVsdCDlhbHpgJog77yIUHJlbXVsdGlwbGllZEFscGhh77yJXHJcbiAgZXhwb3J0IGNvbnN0IGZyYWdtZW50U2hhZGVyU3JjUHJlbXVsdGlwbGllZEFscGhhID1cclxuICAgICdwcmVjaXNpb24gbWVkaXVtcCBmbG9hdDsnICtcclxuICAgICd2YXJ5aW5nIHZlYzIgICAgICAgdl90ZXhDb29yZDsnICsgLy92MmYudGV4Y29vcmRcclxuICAgICd1bmlmb3JtIHZlYzQgICAgICAgdV9iYXNlQ29sb3I7JyArXHJcbiAgICAndW5pZm9ybSBzYW1wbGVyMkQgIHNfdGV4dHVyZTA7JyArIC8vX01haW5UZXhcclxuICAgICd2b2lkIG1haW4oKScgK1xyXG4gICAgJ3snICtcclxuICAgICcgICBnbF9GcmFnQ29sb3IgPSB0ZXh0dXJlMkQoc190ZXh0dXJlMCAsIHZfdGV4Q29vcmQpICogdV9iYXNlQ29sb3I7JyArXHJcbiAgICAnfSc7XHJcblxyXG4gIC8vIE5vcm1hbCDvvIjjgq/jg6rjg4Pjg5Tjg7PjgrDjgZXjgozjgZ/jgoLjga7jga7mj4/nlLvnlKjjgIFQcmVtdWx0aXBsaWVkQWxwaGHlhbznlKjvvIlcclxuICBleHBvcnQgY29uc3QgZnJhZ21lbnRTaGFkZXJTcmNNYXNrUHJlbXVsdGlwbGllZEFscGhhID1cclxuICAgICdwcmVjaXNpb24gbWVkaXVtcCBmbG9hdDsnICtcclxuICAgICd2YXJ5aW5nIHZlYzIgICAgICAgdl90ZXhDb29yZDsnICtcclxuICAgICd2YXJ5aW5nIHZlYzQgICAgICAgdl9jbGlwUG9zOycgK1xyXG4gICAgJ3VuaWZvcm0gdmVjNCAgICAgICB1X2Jhc2VDb2xvcjsnICtcclxuICAgICd1bmlmb3JtIHZlYzQgICAgICAgdV9jaGFubmVsRmxhZzsnICtcclxuICAgICd1bmlmb3JtIHNhbXBsZXIyRCAgc190ZXh0dXJlMDsnICtcclxuICAgICd1bmlmb3JtIHNhbXBsZXIyRCAgc190ZXh0dXJlMTsnICtcclxuICAgICd2b2lkIG1haW4oKScgK1xyXG4gICAgJ3snICtcclxuICAgICcgICB2ZWM0IGNvbF9mb3JtYXNrID0gdGV4dHVyZTJEKHNfdGV4dHVyZTAgLCB2X3RleENvb3JkKSAqIHVfYmFzZUNvbG9yOycgK1xyXG4gICAgJyAgIHZlYzQgY2xpcE1hc2sgPSAoMS4wIC0gdGV4dHVyZTJEKHNfdGV4dHVyZTEsIHZfY2xpcFBvcy54eSAvIHZfY2xpcFBvcy53KSkgKiB1X2NoYW5uZWxGbGFnOycgK1xyXG4gICAgJyAgIGZsb2F0IG1hc2tWYWwgPSBjbGlwTWFzay5yICsgY2xpcE1hc2suZyArIGNsaXBNYXNrLmIgKyBjbGlwTWFzay5hOycgK1xyXG4gICAgJyAgIGNvbF9mb3JtYXNrID0gY29sX2Zvcm1hc2sgKiBtYXNrVmFsOycgK1xyXG4gICAgJyAgIGdsX0ZyYWdDb2xvciA9IGNvbF9mb3JtYXNrOycgK1xyXG4gICAgJ30nO1xyXG5cclxuICAvLyBOb3JtYWwgJiBBZGQgJiBNdWx0IOWFsemAmu+8iOOCr+ODquODg+ODlOODs+OCsOOBleOCjOOBpuWPjei7ouS9v+eUqOOBruaPj+eUu+eUqOOAgVByZW11bHRpcGxpZWRBbHBoYeOBruWgtOWQiO+8iVxyXG4gIGV4cG9ydCBjb25zdCBmcmFnbWVudFNoYWRlclNyY01hc2tJbnZlcnRlZFByZW11bHRpcGxpZWRBbHBoYSA9XHJcbiAgICAncHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7JyArXHJcbiAgICAndmFyeWluZyB2ZWMyIHZfdGV4Q29vcmQ7JyArXHJcbiAgICAndmFyeWluZyB2ZWM0IHZfY2xpcFBvczsnICtcclxuICAgICd1bmlmb3JtIHNhbXBsZXIyRCBzX3RleHR1cmUwOycgK1xyXG4gICAgJ3VuaWZvcm0gc2FtcGxlcjJEIHNfdGV4dHVyZTE7JyArXHJcbiAgICAndW5pZm9ybSB2ZWM0IHVfY2hhbm5lbEZsYWc7JyArXHJcbiAgICAndW5pZm9ybSB2ZWM0IHVfYmFzZUNvbG9yOycgK1xyXG4gICAgJ3ZvaWQgbWFpbigpJyArXHJcbiAgICAneycgK1xyXG4gICAgJ3ZlYzQgY29sX2Zvcm1hc2sgPSB0ZXh0dXJlMkQoc190ZXh0dXJlMCwgdl90ZXhDb29yZCkgKiB1X2Jhc2VDb2xvcjsnICtcclxuICAgICd2ZWM0IGNsaXBNYXNrID0gKDEuMCAtIHRleHR1cmUyRChzX3RleHR1cmUxLCB2X2NsaXBQb3MueHkgLyB2X2NsaXBQb3MudykpICogdV9jaGFubmVsRmxhZzsnICtcclxuICAgICdmbG9hdCBtYXNrVmFsID0gY2xpcE1hc2suciArIGNsaXBNYXNrLmcgKyBjbGlwTWFzay5iICsgY2xpcE1hc2suYTsnICtcclxuICAgICdjb2xfZm9ybWFzayA9IGNvbF9mb3JtYXNrICogKDEuMCAtIG1hc2tWYWwpOycgK1xyXG4gICAgJ2dsX0ZyYWdDb2xvciA9IGNvbF9mb3JtYXNrOycgK1xyXG4gICAgJ30nO1xyXG5cclxuICAvKipcclxuICAgKiBXZWJHTOeUqOOBruaPj+eUu+WRveS7pOOCkuWun+ijheOBl+OBn+OCr+ODqeOCuVxyXG4gICAqL1xyXG4gIGV4cG9ydCBjbGFzcyBDdWJpc21SZW5kZXJlcl9XZWJHTCBleHRlbmRzIEN1YmlzbVJlbmRlcmVyIHtcclxuICAgIC8qKlxyXG4gICAgICog44Os44Oz44OA44Op44Gu5Yid5pyf5YyW5Yem55CG44KS5a6f6KGM44GZ44KLXHJcbiAgICAgKiDlvJXmlbDjgavmuKHjgZfjgZ/jg6Ljg4fjg6vjgYvjgonjg6zjg7Pjg4Djg6njga7liJ3mnJ/ljJblh6bnkIbjgavlv4XopoHjgarmg4XloLHjgpLlj5bjgorlh7rjgZnjgZPjgajjgYzjgafjgY3jgotcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gbW9kZWwg44Oi44OH44Or44Gu44Kk44Oz44K544K/44Oz44K5XHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBpbml0aWFsaXplKG1vZGVsOiBDdWJpc21Nb2RlbCk6IHZvaWQge1xyXG4gICAgICBpZiAobW9kZWwuaXNVc2luZ01hc2tpbmcoKSkge1xyXG4gICAgICAgIHRoaXMuX2NsaXBwaW5nTWFuYWdlciA9IG5ldyBDdWJpc21DbGlwcGluZ01hbmFnZXJfV2ViR0woKTsgLy8g44Kv44Oq44OD44OU44Oz44Kw44Oe44K544Kv44O744OQ44OD44OV44Kh5YmN5Yem55CG5pa55byP44KS5Yid5pyf5YyWXHJcbiAgICAgICAgdGhpcy5fY2xpcHBpbmdNYW5hZ2VyLmluaXRpYWxpemUoXHJcbiAgICAgICAgICBtb2RlbCxcclxuICAgICAgICAgIG1vZGVsLmdldERyYXdhYmxlQ291bnQoKSxcclxuICAgICAgICAgIG1vZGVsLmdldERyYXdhYmxlTWFza3MoKSxcclxuICAgICAgICAgIG1vZGVsLmdldERyYXdhYmxlTWFza0NvdW50cygpXHJcbiAgICAgICAgKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgdGhpcy5fc29ydGVkRHJhd2FibGVJbmRleExpc3QucmVzaXplKG1vZGVsLmdldERyYXdhYmxlQ291bnQoKSwgMCk7XHJcblxyXG4gICAgICBzdXBlci5pbml0aWFsaXplKG1vZGVsKTsgLy8g6Kaq44Kv44Op44K544Gu5Yem55CG44KS5ZG844G2XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBXZWJHTOODhuOCr+OCueODgeODo+OBruODkOOCpOODs+ODieWHpueQhlxyXG4gICAgICogQ3ViaXNtUmVuZGVyZXLjgavjg4bjgq/jgrnjg4Hjg6PjgpLoqK3lrprjgZfjgIFDdWJpc21SZW5kZXJlcuWGheOBp+OBneOBrueUu+WDj+OCkuWPgueFp+OBmeOCi+OBn+OCgeOBrkluZGV45YCk44KS5oi744KK5YCk44Go44GZ44KLXHJcbiAgICAgKiBAcGFyYW0gbW9kZWxUZXh0dXJlTm8g44K744OD44OI44GZ44KL44Oi44OH44Or44OG44Kv44K544OB44Oj44Gu55Wq5Y+3XHJcbiAgICAgKiBAcGFyYW0gZ2xUZXh0dXJlTm8gV2ViR0zjg4bjgq/jgrnjg4Hjg6Pjga7nlarlj7dcclxuICAgICAqL1xyXG4gICAgcHVibGljIGJpbmRUZXh0dXJlKG1vZGVsVGV4dHVyZU5vOiBudW1iZXIsIGdsVGV4dHVyZTogV2ViR0xUZXh0dXJlKTogdm9pZCB7XHJcbiAgICAgIHRoaXMuX3RleHR1cmVzLnNldFZhbHVlKG1vZGVsVGV4dHVyZU5vLCBnbFRleHR1cmUpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogV2ViR0zjgavjg5DjgqTjg7Pjg4njgZXjgozjgZ/jg4bjgq/jgrnjg4Hjg6Pjga7jg6rjgrnjg4jjgpLlj5blvpfjgZnjgotcclxuICAgICAqIEByZXR1cm4g44OG44Kv44K544OB44Oj44Gu44Oq44K544OIXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXRCaW5kZWRUZXh0dXJlcygpOiBjc21NYXA8bnVtYmVyLCBXZWJHTFRleHR1cmU+IHtcclxuICAgICAgcmV0dXJuIHRoaXMuX3RleHR1cmVzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog44Kv44Oq44OD44OU44Oz44Kw44Oe44K544Kv44OQ44OD44OV44Kh44Gu44K144Kk44K644KS6Kit5a6a44GZ44KLXHJcbiAgICAgKiDjg57jgrnjgq/nlKjjga5GcmFtZUJ1ZmZlcuOCkuegtOajhOOAgeWGjeS9nOaIkOOBmeOCi+eCuuWHpueQhuOCs+OCueODiOOBr+mrmOOBhFxyXG4gICAgICogQHBhcmFtIHNpemUg44Kv44Oq44OD44OU44Oz44Kw44Oe44K544Kv44OQ44OD44OV44Kh44Gu44K144Kk44K6XHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzZXRDbGlwcGluZ01hc2tCdWZmZXJTaXplKHNpemU6IG51bWJlcikge1xyXG4gICAgICAvLyBGcmFtZUJ1ZmZlcuOBruOCteOCpOOCuuOCkuWkieabtOOBmeOCi+OBn+OCgeOBq+OCpOODs+OCueOCv+ODs+OCueOCkuegtOajhOODu+WGjeS9nOaIkOOBmeOCi1xyXG4gICAgICB0aGlzLl9jbGlwcGluZ01hbmFnZXIucmVsZWFzZSgpO1xyXG4gICAgICB0aGlzLl9jbGlwcGluZ01hbmFnZXIgPSB2b2lkIDA7XHJcbiAgICAgIHRoaXMuX2NsaXBwaW5nTWFuYWdlciA9IG51bGw7XHJcblxyXG4gICAgICB0aGlzLl9jbGlwcGluZ01hbmFnZXIgPSBuZXcgQ3ViaXNtQ2xpcHBpbmdNYW5hZ2VyX1dlYkdMKCk7XHJcblxyXG4gICAgICB0aGlzLl9jbGlwcGluZ01hbmFnZXIuc2V0Q2xpcHBpbmdNYXNrQnVmZmVyU2l6ZShzaXplKTtcclxuXHJcbiAgICAgIHRoaXMuX2NsaXBwaW5nTWFuYWdlci5pbml0aWFsaXplKFxyXG4gICAgICAgIHRoaXMuZ2V0TW9kZWwoKSxcclxuICAgICAgICB0aGlzLmdldE1vZGVsKCkuZ2V0RHJhd2FibGVDb3VudCgpLFxyXG4gICAgICAgIHRoaXMuZ2V0TW9kZWwoKS5nZXREcmF3YWJsZU1hc2tzKCksXHJcbiAgICAgICAgdGhpcy5nZXRNb2RlbCgpLmdldERyYXdhYmxlTWFza0NvdW50cygpXHJcbiAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDjgq/jg6rjg4Pjg5Tjg7PjgrDjg57jgrnjgq/jg5Djg4Pjg5XjgqHjga7jgrXjgqTjgrrjgpLlj5blvpfjgZnjgotcclxuICAgICAqIEByZXR1cm4g44Kv44Oq44OD44OU44Oz44Kw44Oe44K544Kv44OQ44OD44OV44Kh44Gu44K144Kk44K6XHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXRDbGlwcGluZ01hc2tCdWZmZXJTaXplKCk6IG51bWJlciB7XHJcbiAgICAgIHJldHVybiB0aGlzLl9jbGlwcGluZ01hbmFnZXIuZ2V0Q2xpcHBpbmdNYXNrQnVmZmVyU2l6ZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog44Kz44Oz44K544OI44Op44Kv44K/XHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgc3VwZXIoKTtcclxuICAgICAgdGhpcy5fY2xpcHBpbmdDb250ZXh0QnVmZmVyRm9yTWFzayA9IG51bGw7XHJcbiAgICAgIHRoaXMuX2NsaXBwaW5nQ29udGV4dEJ1ZmZlckZvckRyYXcgPSBudWxsO1xyXG4gICAgICB0aGlzLl9jbGlwcGluZ01hbmFnZXIgPSBuZXcgQ3ViaXNtQ2xpcHBpbmdNYW5hZ2VyX1dlYkdMKCk7XHJcbiAgICAgIHRoaXMuZmlyc3REcmF3ID0gdHJ1ZTtcclxuICAgICAgdGhpcy5fdGV4dHVyZXMgPSBuZXcgY3NtTWFwPG51bWJlciwgbnVtYmVyPigpO1xyXG4gICAgICB0aGlzLl9zb3J0ZWREcmF3YWJsZUluZGV4TGlzdCA9IG5ldyBjc21WZWN0b3I8bnVtYmVyPigpO1xyXG4gICAgICB0aGlzLl9idWZmZXJEYXRhID0ge1xyXG4gICAgICAgIHZlcnRleDogV2ViR0xCdWZmZXIgPSBudWxsLFxyXG4gICAgICAgIHV2OiBXZWJHTEJ1ZmZlciA9IG51bGwsXHJcbiAgICAgICAgaW5kZXg6IFdlYkdMQnVmZmVyID0gbnVsbFxyXG4gICAgICB9O1xyXG5cclxuICAgICAgLy8g44OG44Kv44K544OB44Oj5a++5b+c44Oe44OD44OX44Gu5a656YeP44KS56K65L+d44GX44Gm44GK44GPXHJcbiAgICAgIHRoaXMuX3RleHR1cmVzLnByZXBhcmVDYXBhY2l0eSgzMiwgdHJ1ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDjg4fjgrnjg4jjg6njgq/jgr/nm7jlvZPjga7lh6bnkIZcclxuICAgICAqL1xyXG4gICAgcHVibGljIHJlbGVhc2UoKTogdm9pZCB7XHJcbiAgICAgIHRoaXMuX2NsaXBwaW5nTWFuYWdlci5yZWxlYXNlKCk7XHJcbiAgICAgIHRoaXMuX2NsaXBwaW5nTWFuYWdlciA9IHZvaWQgMDtcclxuICAgICAgdGhpcy5fY2xpcHBpbmdNYW5hZ2VyID0gbnVsbDtcclxuXHJcbiAgICAgIHRoaXMuZ2wuZGVsZXRlQnVmZmVyKHRoaXMuX2J1ZmZlckRhdGEudmVydGV4KTtcclxuICAgICAgdGhpcy5fYnVmZmVyRGF0YS52ZXJ0ZXggPSBudWxsO1xyXG4gICAgICB0aGlzLmdsLmRlbGV0ZUJ1ZmZlcih0aGlzLl9idWZmZXJEYXRhLnV2KTtcclxuICAgICAgdGhpcy5fYnVmZmVyRGF0YS51diA9IG51bGw7XHJcbiAgICAgIHRoaXMuZ2wuZGVsZXRlQnVmZmVyKHRoaXMuX2J1ZmZlckRhdGEuaW5kZXgpO1xyXG4gICAgICB0aGlzLl9idWZmZXJEYXRhLmluZGV4ID0gbnVsbDtcclxuICAgICAgdGhpcy5fYnVmZmVyRGF0YSA9IG51bGw7XHJcblxyXG4gICAgICB0aGlzLl90ZXh0dXJlcyA9IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDjg6Ljg4fjg6vjgpLmj4/nlLvjgZnjgovlrp/pmpvjga7lh6bnkIZcclxuICAgICAqL1xyXG4gICAgcHVibGljIGRvRHJhd01vZGVsKCk6IHZvaWQge1xyXG4gICAgICAvLy0tLS0tLS0tLS0tLSDjgq/jg6rjg4Pjg5Tjg7PjgrDjg57jgrnjgq/jg7vjg5Djg4Pjg5XjgqHliY3lh6bnkIbmlrnlvI/jga7loLTlkIggLS0tLS0tLS0tLS0tXHJcbiAgICAgIGlmICh0aGlzLl9jbGlwcGluZ01hbmFnZXIgIT0gbnVsbCkge1xyXG4gICAgICAgIHRoaXMucHJlRHJhdygpO1xyXG4gICAgICAgIHRoaXMuX2NsaXBwaW5nTWFuYWdlci5zZXR1cENsaXBwaW5nQ29udGV4dCh0aGlzLmdldE1vZGVsKCksIHRoaXMpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyDkuIroqJjjgq/jg6rjg4Pjg5Tjg7PjgrDlh6bnkIblhoXjgafjgoLkuIDluqZQcmVEcmF344KS5ZG844G244Gu44Gn5rOo5oSPISFcclxuICAgICAgdGhpcy5wcmVEcmF3KCk7XHJcblxyXG4gICAgICBjb25zdCBkcmF3YWJsZUNvdW50OiBudW1iZXIgPSB0aGlzLmdldE1vZGVsKCkuZ2V0RHJhd2FibGVDb3VudCgpO1xyXG4gICAgICBjb25zdCByZW5kZXJPcmRlcjogSW50MzJBcnJheSA9IHRoaXMuZ2V0TW9kZWwoKS5nZXREcmF3YWJsZVJlbmRlck9yZGVycygpO1xyXG5cclxuICAgICAgLy8g44Kk44Oz44OH44OD44Kv44K544KS5o+P55S76aCG44Gn44K944O844OIXHJcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZHJhd2FibGVDb3VudDsgKytpKSB7XHJcbiAgICAgICAgY29uc3Qgb3JkZXI6IG51bWJlciA9IHJlbmRlck9yZGVyW2ldO1xyXG4gICAgICAgIHRoaXMuX3NvcnRlZERyYXdhYmxlSW5kZXhMaXN0LnNldChvcmRlciwgaSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIOaPj+eUu1xyXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRyYXdhYmxlQ291bnQ7ICsraSkge1xyXG4gICAgICAgIGNvbnN0IGRyYXdhYmxlSW5kZXg6IG51bWJlciA9IHRoaXMuX3NvcnRlZERyYXdhYmxlSW5kZXhMaXN0LmF0KGkpO1xyXG5cclxuICAgICAgICAvLyBEcmF3YWJsZeOBjOihqOekuueKtuaFi+OBp+OBquOBkeOCjOOBsOWHpueQhuOCkuODkeOCueOBmeOCi1xyXG4gICAgICAgIGlmICghdGhpcy5nZXRNb2RlbCgpLmdldERyYXdhYmxlRHluYW1pY0ZsYWdJc1Zpc2libGUoZHJhd2FibGVJbmRleCkpIHtcclxuICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8g44Kv44Oq44OD44OU44Oz44Kw44Oe44K544Kv44KS44K744OD44OI44GZ44KLXHJcbiAgICAgICAgdGhpcy5zZXRDbGlwcGluZ0NvbnRleHRCdWZmZXJGb3JEcmF3KFxyXG4gICAgICAgICAgdGhpcy5fY2xpcHBpbmdNYW5hZ2VyICE9IG51bGxcclxuICAgICAgICAgICAgPyB0aGlzLl9jbGlwcGluZ01hbmFnZXJcclxuICAgICAgICAgICAgICAgIC5nZXRDbGlwcGluZ0NvbnRleHRMaXN0Rm9yRHJhdygpXHJcbiAgICAgICAgICAgICAgICAuYXQoZHJhd2FibGVJbmRleClcclxuICAgICAgICAgICAgOiBudWxsXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgdGhpcy5zZXRJc0N1bGxpbmcodGhpcy5nZXRNb2RlbCgpLmdldERyYXdhYmxlQ3VsbGluZyhkcmF3YWJsZUluZGV4KSk7XHJcblxyXG4gICAgICAgIHRoaXMuZHJhd01lc2goXHJcbiAgICAgICAgICB0aGlzLmdldE1vZGVsKCkuZ2V0RHJhd2FibGVUZXh0dXJlSW5kaWNlcyhkcmF3YWJsZUluZGV4KSxcclxuICAgICAgICAgIHRoaXMuZ2V0TW9kZWwoKS5nZXREcmF3YWJsZVZlcnRleEluZGV4Q291bnQoZHJhd2FibGVJbmRleCksXHJcbiAgICAgICAgICB0aGlzLmdldE1vZGVsKCkuZ2V0RHJhd2FibGVWZXJ0ZXhDb3VudChkcmF3YWJsZUluZGV4KSxcclxuICAgICAgICAgIHRoaXMuZ2V0TW9kZWwoKS5nZXREcmF3YWJsZVZlcnRleEluZGljZXMoZHJhd2FibGVJbmRleCksXHJcbiAgICAgICAgICB0aGlzLmdldE1vZGVsKCkuZ2V0RHJhd2FibGVWZXJ0aWNlcyhkcmF3YWJsZUluZGV4KSxcclxuICAgICAgICAgIHRoaXMuZ2V0TW9kZWwoKS5nZXREcmF3YWJsZVZlcnRleFV2cyhkcmF3YWJsZUluZGV4KSxcclxuICAgICAgICAgIHRoaXMuZ2V0TW9kZWwoKS5nZXREcmF3YWJsZU9wYWNpdHkoZHJhd2FibGVJbmRleCksXHJcbiAgICAgICAgICB0aGlzLmdldE1vZGVsKCkuZ2V0RHJhd2FibGVCbGVuZE1vZGUoZHJhd2FibGVJbmRleCksXHJcbiAgICAgICAgICB0aGlzLmdldE1vZGVsKCkuZ2V0RHJhd2FibGVJbnZlcnRlZE1hc2tCaXQoZHJhd2FibGVJbmRleClcclxuICAgICAgICApO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBb44Kq44O844OQ44O844Op44Kk44OJXVxyXG4gICAgICog5o+P55S744Kq44OW44K444Kn44Kv44OI77yI44Ki44O844OI44Oh44OD44K344Ol77yJ44KS5o+P55S744GZ44KL44CCXHJcbiAgICAgKiDjg53jg6rjgrTjg7Pjg6Hjg4Pjgrfjg6Xjgajjg4bjgq/jgrnjg4Hjg6Pnlarlj7fjgpLjgrvjg4Pjg4jjgafmuKHjgZnjgIJcclxuICAgICAqIEBwYXJhbSB0ZXh0dXJlTm8g5o+P55S744GZ44KL44OG44Kv44K544OB44Oj55Wq5Y+3XHJcbiAgICAgKiBAcGFyYW0gaW5kZXhDb3VudCDmj4/nlLvjgqrjg5bjgrjjgqfjgq/jg4jjga7jgqTjg7Pjg4fjg4Pjgq/jgrnlgKRcclxuICAgICAqIEBwYXJhbSB2ZXJ0ZXhDb3VudCDjg53jg6rjgrTjg7Pjg6Hjg4Pjgrfjg6Xjga7poILngrnmlbBcclxuICAgICAqIEBwYXJhbSBpbmRleEFycmF5IOODneODquOCtOODs+ODoeODg+OCt+ODpeOBruOCpOODs+ODh+ODg+OCr+OCuemFjeWIl1xyXG4gICAgICogQHBhcmFtIHZlcnRleEFycmF5IOODneODquOCtOODs+ODoeODg+OCt+ODpeOBrumggueCuemFjeWIl1xyXG4gICAgICogQHBhcmFtIHV2QXJyYXkgdXbphY3liJdcclxuICAgICAqIEBwYXJhbSBvcGFjaXR5IOS4jemAj+aYjuW6plxyXG4gICAgICogQHBhcmFtIGNvbG9yQmxlbmRNb2RlIOOCq+ODqeODvOWQiOaIkOOCv+OCpOODl1xyXG4gICAgICogQHBhcmFtIGludmVydGVkTWFzayDjg57jgrnjgq/kvb/nlKjmmYLjga7jg57jgrnjgq/jga7lj43ou6Lkvb/nlKhcclxuICAgICAqL1xyXG4gICAgcHVibGljIGRyYXdNZXNoKFxyXG4gICAgICB0ZXh0dXJlTm86IG51bWJlcixcclxuICAgICAgaW5kZXhDb3VudDogbnVtYmVyLFxyXG4gICAgICB2ZXJ0ZXhDb3VudDogbnVtYmVyLFxyXG4gICAgICBpbmRleEFycmF5OiBVaW50MTZBcnJheSxcclxuICAgICAgdmVydGV4QXJyYXk6IEZsb2F0MzJBcnJheSxcclxuICAgICAgdXZBcnJheTogRmxvYXQzMkFycmF5LFxyXG4gICAgICBvcGFjaXR5OiBudW1iZXIsXHJcbiAgICAgIGNvbG9yQmxlbmRNb2RlOiBDdWJpc21CbGVuZE1vZGUsXHJcbiAgICAgIGludmVydGVkTWFzazogYm9vbGVhblxyXG4gICAgKTogdm9pZCB7XHJcbiAgICAgIC8vIOijj+mdouaPj+eUu+OBruacieWKueODu+eEoeWKuVxyXG4gICAgICBpZiAodGhpcy5pc0N1bGxpbmcoKSkge1xyXG4gICAgICAgIHRoaXMuZ2wuZW5hYmxlKHRoaXMuZ2wuQ1VMTF9GQUNFKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLmdsLmRpc2FibGUodGhpcy5nbC5DVUxMX0ZBQ0UpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB0aGlzLmdsLmZyb250RmFjZSh0aGlzLmdsLkNDVyk7IC8vIEN1YmlzbSBTREsgT3BlbkdM44Gv44Oe44K544Kv44O744Ki44O844OI44Oh44OD44K344Ol5YWx44GrQ0NX44GM6KGo6Z2iXHJcblxyXG4gICAgICBjb25zdCBtb2RlbENvbG9yUkdCQTogQ3ViaXNtVGV4dHVyZUNvbG9yID0gdGhpcy5nZXRNb2RlbENvbG9yKCk7XHJcblxyXG4gICAgICBpZiAodGhpcy5nZXRDbGlwcGluZ0NvbnRleHRCdWZmZXJGb3JNYXNrKCkgPT0gbnVsbCkge1xyXG4gICAgICAgIC8vIOODnuOCueOCr+eUn+aIkOaZguS7peWkllxyXG4gICAgICAgIG1vZGVsQ29sb3JSR0JBLkEgKj0gb3BhY2l0eTtcclxuICAgICAgICBpZiAodGhpcy5pc1ByZW11bHRpcGxpZWRBbHBoYSgpKSB7XHJcbiAgICAgICAgICBtb2RlbENvbG9yUkdCQS5SICo9IG1vZGVsQ29sb3JSR0JBLkE7XHJcbiAgICAgICAgICBtb2RlbENvbG9yUkdCQS5HICo9IG1vZGVsQ29sb3JSR0JBLkE7XHJcbiAgICAgICAgICBtb2RlbENvbG9yUkdCQS5CICo9IG1vZGVsQ29sb3JSR0JBLkE7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBsZXQgZHJhd3RleHR1cmU6IFdlYkdMVGV4dHVyZTsgLy8g44K344Kn44O844OA44Gr5rih44GZ44OG44Kv44K544OB44OjXHJcblxyXG4gICAgICAvLyDjg4bjgq/jgrnjg4Hjg6Pjg57jg4Pjg5fjgYvjgonjg5DjgqTjg7Pjg4nmuIjjgb/jg4bjgq/jgrnjg4Hjg6PvvKnvvKTjgpLlj5blvpdcclxuICAgICAgLy8g44OQ44Kk44Oz44OJ44GV44KM44Gm44GE44Gq44GR44KM44Gw44OA44Of44O844Gu44OG44Kv44K544OB44OjSUTjgpLjgrvjg4Pjg4jjgZnjgotcclxuICAgICAgaWYgKHRoaXMuX3RleHR1cmVzLmdldFZhbHVlKHRleHR1cmVObykgIT0gbnVsbCkge1xyXG4gICAgICAgIGRyYXd0ZXh0dXJlID0gdGhpcy5fdGV4dHVyZXMuZ2V0VmFsdWUodGV4dHVyZU5vKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBkcmF3dGV4dHVyZSA9IG51bGw7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIEN1YmlzbVNoYWRlcl9XZWJHTC5nZXRJbnN0YW5jZSgpLnNldHVwU2hhZGVyUHJvZ3JhbShcclxuICAgICAgICB0aGlzLFxyXG4gICAgICAgIGRyYXd0ZXh0dXJlLFxyXG4gICAgICAgIHZlcnRleENvdW50LFxyXG4gICAgICAgIHZlcnRleEFycmF5LFxyXG4gICAgICAgIGluZGV4QXJyYXksXHJcbiAgICAgICAgdXZBcnJheSxcclxuICAgICAgICB0aGlzLl9idWZmZXJEYXRhLFxyXG4gICAgICAgIG9wYWNpdHksXHJcbiAgICAgICAgY29sb3JCbGVuZE1vZGUsXHJcbiAgICAgICAgbW9kZWxDb2xvclJHQkEsXHJcbiAgICAgICAgdGhpcy5pc1ByZW11bHRpcGxpZWRBbHBoYSgpLFxyXG4gICAgICAgIHRoaXMuZ2V0TXZwTWF0cml4KCksXHJcbiAgICAgICAgaW52ZXJ0ZWRNYXNrXHJcbiAgICAgICk7XHJcblxyXG4gICAgICAvLyDjg53jg6rjgrTjg7Pjg6Hjg4Pjgrfjg6XjgpLmj4/nlLvjgZnjgotcclxuICAgICAgdGhpcy5nbC5kcmF3RWxlbWVudHMoXHJcbiAgICAgICAgdGhpcy5nbC5UUklBTkdMRVMsXHJcbiAgICAgICAgaW5kZXhDb3VudCxcclxuICAgICAgICB0aGlzLmdsLlVOU0lHTkVEX1NIT1JULFxyXG4gICAgICAgIDBcclxuICAgICAgKTtcclxuXHJcbiAgICAgIC8vIOW+jOWHpueQhlxyXG4gICAgICB0aGlzLmdsLnVzZVByb2dyYW0obnVsbCk7XHJcbiAgICAgIHRoaXMuc2V0Q2xpcHBpbmdDb250ZXh0QnVmZmVyRm9yRHJhdyhudWxsKTtcclxuICAgICAgdGhpcy5zZXRDbGlwcGluZ0NvbnRleHRCdWZmZXJGb3JNYXNrKG51bGwpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog44Os44Oz44OA44Op44GM5L+d5oyB44GZ44KL6Z2Z55qE44Gq44Oq44K944O844K544KS6Kej5pS+44GZ44KLXHJcbiAgICAgKiBXZWJHTOOBrumdmeeahOOBquOCt+OCp+ODvOODgOODvOODl+ODreOCsOODqeODoOOCkuino+aUvuOBmeOCi1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc3RhdGljIGRvU3RhdGljUmVsZWFzZSgpOiB2b2lkIHtcclxuICAgICAgQ3ViaXNtU2hhZGVyX1dlYkdMLmRlbGV0ZUluc3RhbmNlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDjg6zjg7Pjg4Djg7zjgrnjg4bjg7zjg4jjgpLoqK3lrprjgZnjgotcclxuICAgICAqIEBwYXJhbSBmYm8g44Ki44OX44Oq44Kx44O844K344On44Oz5YG044Gn5oyH5a6a44GX44Gm44GE44KL44OV44Os44O844Og44OQ44OD44OV44KhXHJcbiAgICAgKiBAcGFyYW0gdmlld3BvcnQg44OT44Ol44O844Od44O844OIXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzZXRSZW5kZXJTdGF0ZShmYm86IFdlYkdMRnJhbWVidWZmZXIsIHZpZXdwb3J0OiBudW1iZXJbXSk6IHZvaWQge1xyXG4gICAgICBzX2ZibyA9IGZibztcclxuICAgICAgc192aWV3cG9ydCA9IHZpZXdwb3J0O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5o+P55S76ZaL5aeL5pmC44Gu6L+95Yqg5Yem55CGXHJcbiAgICAgKiDjg6Ljg4fjg6vjgpLmj4/nlLvjgZnjgovliY3jgavjgq/jg6rjg4Pjg5Tjg7PjgrDjg57jgrnjgq/jgavlv4XopoHjgarlh6bnkIbjgpLlrp/oo4XjgZfjgabjgYTjgotcclxuICAgICAqL1xyXG4gICAgcHVibGljIHByZURyYXcoKTogdm9pZCB7XHJcbiAgICAgIGlmICh0aGlzLmZpcnN0RHJhdykge1xyXG4gICAgICAgIHRoaXMuZmlyc3REcmF3ID0gZmFsc2U7XHJcblxyXG4gICAgICAgIC8vIOaLoeW8teapn+iDveOCkuacieWKueOBq+OBmeOCi1xyXG4gICAgICAgIHRoaXMuX2FuaXNvcnRvcHkgPVxyXG4gICAgICAgICAgdGhpcy5nbC5nZXRFeHRlbnNpb24oJ0VYVF90ZXh0dXJlX2ZpbHRlcl9hbmlzb3Ryb3BpYycpIHx8XHJcbiAgICAgICAgICB0aGlzLmdsLmdldEV4dGVuc2lvbignV0VCS0lUX0VYVF90ZXh0dXJlX2ZpbHRlcl9hbmlzb3Ryb3BpYycpIHx8XHJcbiAgICAgICAgICB0aGlzLmdsLmdldEV4dGVuc2lvbignTU9aX0VYVF90ZXh0dXJlX2ZpbHRlcl9hbmlzb3Ryb3BpYycpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB0aGlzLmdsLmRpc2FibGUodGhpcy5nbC5TQ0lTU09SX1RFU1QpO1xyXG4gICAgICB0aGlzLmdsLmRpc2FibGUodGhpcy5nbC5TVEVOQ0lMX1RFU1QpO1xyXG4gICAgICB0aGlzLmdsLmRpc2FibGUodGhpcy5nbC5ERVBUSF9URVNUKTtcclxuXHJcbiAgICAgIC8vIOOCq+ODquODs+OCsO+8iDEuMGJldGEz77yJXHJcbiAgICAgIHRoaXMuZ2wuZnJvbnRGYWNlKHRoaXMuZ2wuQ1cpO1xyXG5cclxuICAgICAgdGhpcy5nbC5lbmFibGUodGhpcy5nbC5CTEVORCk7XHJcbiAgICAgIHRoaXMuZ2wuY29sb3JNYXNrKHRydWUsIHRydWUsIHRydWUsIHRydWUpO1xyXG5cclxuICAgICAgdGhpcy5nbC5iaW5kQnVmZmVyKHRoaXMuZ2wuQVJSQVlfQlVGRkVSLCBudWxsKTsgLy8g5YmN44Gr44OQ44OD44OV44Kh44GM44OQ44Kk44Oz44OJ44GV44KM44Gm44GE44Gf44KJ56C05qOE44GZ44KL5b+F6KaB44GM44GC44KLXHJcbiAgICAgIHRoaXMuZ2wuYmluZEJ1ZmZlcih0aGlzLmdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLCBudWxsKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOODnuOCueOCr+ODhuOCr+OCueODgeODo+OBq+aPj+eUu+OBmeOCi+OCr+ODquODg+ODlOODs+OCsOOCs+ODs+ODhuOCreOCueODiOOCkuOCu+ODg+ODiOOBmeOCi1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc2V0Q2xpcHBpbmdDb250ZXh0QnVmZmVyRm9yTWFzayhjbGlwOiBDdWJpc21DbGlwcGluZ0NvbnRleHQpIHtcclxuICAgICAgdGhpcy5fY2xpcHBpbmdDb250ZXh0QnVmZmVyRm9yTWFzayA9IGNsaXA7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDjg57jgrnjgq/jg4bjgq/jgrnjg4Hjg6Pjgavmj4/nlLvjgZnjgovjgq/jg6rjg4Pjg5Tjg7PjgrDjgrPjg7Pjg4bjgq3jgrnjg4jjgpLlj5blvpfjgZnjgotcclxuICAgICAqIEByZXR1cm4g44Oe44K544Kv44OG44Kv44K544OB44Oj44Gr5o+P55S744GZ44KL44Kv44Oq44OD44OU44Oz44Kw44Kz44Oz44OG44Kt44K544OIXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXRDbGlwcGluZ0NvbnRleHRCdWZmZXJGb3JNYXNrKCk6IEN1YmlzbUNsaXBwaW5nQ29udGV4dCB7XHJcbiAgICAgIHJldHVybiB0aGlzLl9jbGlwcGluZ0NvbnRleHRCdWZmZXJGb3JNYXNrO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog55S76Z2i5LiK44Gr5o+P55S744GZ44KL44Kv44Oq44OD44OU44Oz44Kw44Kz44Oz44OG44Kt44K544OI44KS44K744OD44OI44GZ44KLXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzZXRDbGlwcGluZ0NvbnRleHRCdWZmZXJGb3JEcmF3KGNsaXA6IEN1YmlzbUNsaXBwaW5nQ29udGV4dCk6IHZvaWQge1xyXG4gICAgICB0aGlzLl9jbGlwcGluZ0NvbnRleHRCdWZmZXJGb3JEcmF3ID0gY2xpcDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOeUu+mdouS4iuOBq+aPj+eUu+OBmeOCi+OCr+ODquODg+ODlOODs+OCsOOCs+ODs+ODhuOCreOCueODiOOCkuWPluW+l+OBmeOCi1xyXG4gICAgICogQHJldHVybiDnlLvpnaLkuIrjgavmj4/nlLvjgZnjgovjgq/jg6rjg4Pjg5Tjg7PjgrDjgrPjg7Pjg4bjgq3jgrnjg4hcclxuICAgICAqL1xyXG4gICAgcHVibGljIGdldENsaXBwaW5nQ29udGV4dEJ1ZmZlckZvckRyYXcoKTogQ3ViaXNtQ2xpcHBpbmdDb250ZXh0IHtcclxuICAgICAgcmV0dXJuIHRoaXMuX2NsaXBwaW5nQ29udGV4dEJ1ZmZlckZvckRyYXc7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBnbOOBruioreWumlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc3RhcnRVcChnbDogV2ViR0xSZW5kZXJpbmdDb250ZXh0KTogdm9pZCB7XHJcbiAgICAgIHRoaXMuZ2wgPSBnbDtcclxuICAgICAgdGhpcy5fY2xpcHBpbmdNYW5hZ2VyLnNldEdMKGdsKTtcclxuICAgICAgQ3ViaXNtU2hhZGVyX1dlYkdMLmdldEluc3RhbmNlKCkuc2V0R2woZ2wpO1xyXG4gICAgfVxyXG5cclxuICAgIF90ZXh0dXJlczogY3NtTWFwPG51bWJlciwgV2ViR0xUZXh0dXJlPjsgLy8g44Oi44OH44Or44GM5Y+C54Wn44GZ44KL44OG44Kv44K544OB44Oj44Go44Os44Oz44OA44Op44Gn44OQ44Kk44Oz44OJ44GX44Gm44GE44KL44OG44Kv44K544OB44Oj44Go44Gu44Oe44OD44OXXHJcbiAgICBfc29ydGVkRHJhd2FibGVJbmRleExpc3Q6IGNzbVZlY3RvcjxudW1iZXI+OyAvLyDmj4/nlLvjgqrjg5bjgrjjgqfjgq/jg4jjga7jgqTjg7Pjg4fjg4Pjgq/jgrnjgpLmj4/nlLvpoIbjgavkuKbjgbnjgZ/jg6rjgrnjg4hcclxuICAgIF9jbGlwcGluZ01hbmFnZXI6IEN1YmlzbUNsaXBwaW5nTWFuYWdlcl9XZWJHTDsgLy8g44Kv44Oq44OD44OU44Oz44Kw44Oe44K544Kv566h55CG44Kq44OW44K444Kn44Kv44OIXHJcbiAgICBfY2xpcHBpbmdDb250ZXh0QnVmZmVyRm9yTWFzazogQ3ViaXNtQ2xpcHBpbmdDb250ZXh0OyAvLyDjg57jgrnjgq/jg4bjgq/jgrnjg4Hjg6Pjgavmj4/nlLvjgZnjgovjgZ/jgoHjga7jgq/jg6rjg4Pjg5Tjg7PjgrDjgrPjg7Pjg4bjgq3jgrnjg4hcclxuICAgIF9jbGlwcGluZ0NvbnRleHRCdWZmZXJGb3JEcmF3OiBDdWJpc21DbGlwcGluZ0NvbnRleHQ7IC8vIOeUu+mdouS4iuaPj+eUu+OBmeOCi+OBn+OCgeOBruOCr+ODquODg+ODlOODs+OCsOOCs+ODs+ODhuOCreOCueODiFxyXG4gICAgZmlyc3REcmF3OiBib29sZWFuO1xyXG4gICAgX2J1ZmZlckRhdGE6IHtcclxuICAgICAgdmVydGV4OiBXZWJHTEJ1ZmZlcjtcclxuICAgICAgdXY6IFdlYkdMQnVmZmVyO1xyXG4gICAgICBpbmRleDogV2ViR0xCdWZmZXI7XHJcbiAgICB9OyAvLyDpoILngrnjg5Djg4Pjg5XjgqHjg4fjg7zjgr9cclxuICAgIGdsOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQ7IC8vIHdlYmds44Kz44Oz44OG44Kt44K544OIXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDjg6zjg7Pjg4Djg6njgYzkv53mjIHjgZnjgovpnZnnmoTjgarjg6rjgr3jg7zjgrnjgpLplovmlL7jgZnjgotcclxuICAgKi9cclxuICBDdWJpc21SZW5kZXJlci5zdGF0aWNSZWxlYXNlID0gKCk6IHZvaWQgPT4ge1xyXG4gICAgQ3ViaXNtUmVuZGVyZXJfV2ViR0wuZG9TdGF0aWNSZWxlYXNlKCk7XHJcbiAgfTtcclxufVxyXG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFPQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBc01BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUExT0E7QUFDQTtBQUNBO0FBUUE7QUFDQTtBQUdBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFJQTtBQUVBO0FBQ0E7QUFDQTtBQVdBO0FBS0E7QUFLQTtBQUtBO0FBS0E7QUFFQTtBQUNBO0FBQ0E7QUFPQTtBQUVBO0FBSUE7QUFFQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBT0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBR0E7QUFNQTtBQUdBO0FBR0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFLQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFtREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBR0E7QUFDQTtBQUNBO0FBVUE7QUFRQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBR0E7QUFJQTtBQUVBO0FBS0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBT0E7QUFJQTtBQUlBO0FBQ0E7QUFNQTtBQUtBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUVBO0FBUUE7QUFHQTtBQUVBO0FBR0E7QUFJQTtBQUlBO0FBQ0E7QUFJQTtBQU1BO0FBR0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQVFBO0FBRUE7QUFJQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBSUE7QUFDQTtBQUtBO0FBRUE7QUFDQTtBQUdBO0FBRUE7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFJQTtBQUNBO0FBQ0E7QUFHQTtBQUtBO0FBQ0E7QUFFQTtBQU1BO0FBQ0E7QUFXQTtBQUNBO0FBR0E7QUFDQTtBQUVBO0FBTUE7QUFDQTtBQVVBO0FBS0E7QUFDQTtBQUdBO0FBR0E7QUFDQTtBQUNBO0FBRUE7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFTQTtBQUtBO0FBQ0E7QUFHQTtBQUNBO0FBR0E7QUFFQTtBQUVBO0FBR0E7QUFFQTtBQUFBO0FBRUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFHQTtBQUVBO0FBR0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBRUE7QUFHQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFrQkE7QUFBQTtBQWpzQkE7QUF1c0JBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUFBO0FBYkE7QUFrQkE7QUFJQTtBQUtBO0FBR0E7QUFHQTtBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFhQTtBQUFBO0FBM0VBO0FBaUZBO0FBMkJBO0FBQ0E7QUFDQTtBQXhCQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVlBO0FBQ0E7QUFDQTtBQWlCQTtBQW1CQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFHQTtBQUdBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBVUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFVQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVFBO0FBTUE7QUFDQTtBQUVBO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQVVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBU0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQUdBO0FBQ0E7QUFDQTtBQUdBO0FBTUE7QUFPQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFLQTtBQUlBO0FBSUE7QUFNQTtBQUdBO0FBR0E7QUFLQTtBQUdBO0FBR0E7QUFLQTtBQU1BO0FBTUE7QUFNQTtBQU1BO0FBTUE7QUFRQTtBQU1BO0FBTUE7QUFNQTtBQUlBO0FBUUE7QUFNQTtBQU1BO0FBTUE7QUFNQTtBQUlBO0FBTUE7QUFNQTtBQVFBO0FBTUE7QUFNQTtBQU1BO0FBTUE7QUFJQTtBQU1BO0FBTUE7QUFRQTtBQU1BO0FBTUE7QUFNQTtBQUlBO0FBUUE7QUFNQTtBQU1BO0FBTUE7QUFNQTtBQUlBO0FBTUE7QUFNQTtBQVFBO0FBTUE7QUFNQTtBQU1BO0FBTUE7QUFJQTtBQU1BO0FBTUE7QUFRQTtBQU1BO0FBTUE7QUFNQTtBQUlBO0FBUUE7QUFNQTtBQU1BO0FBTUE7QUFNQTtBQUlBO0FBTUE7QUFNQTtBQVFBO0FBTUE7QUFNQTtBQU1BO0FBTUE7QUFJQTtBQU1BO0FBTUE7QUFNQTtBQVFBO0FBS0E7QUFFQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBR0E7QUFHQTtBQUNBO0FBTUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBR0E7QUFDQTtBQUVBO0FBQ0E7QUFTQTtBQUlBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUlBO0FBQUE7QUF4NEJBO0FBNjRCQTtBQUFBO0FBVUE7QUFBQTtBQUFBO0FBVkE7QUFZQTtBQUFBO0FBRUE7QUFHQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFBQTtBQTJFQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBOztBQUNBO0FBcEZBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFFQTtBQUVBO0FBQ0E7QUFRQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFPQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFFQTtBQU1BO0FBTUE7QUFDQTtBQUNBO0FBMEJBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBS0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBRUE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUdBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUVBO0FBV0E7QUFDQTtBQWdCQTtBQVlBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFJQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQWlCQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBR0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWNBO0FBQUE7QUFoV0E7QUFxV0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./Framework/src/rendering/cubismrenderer_webgl.ts\n");

/***/ }),

/***/ "./Framework/src/type/csmmap.ts":
/*!**************************************!*\
  !*** ./Framework/src/type/csmmap.ts ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Live2DCubismFramework = void 0;\r\nvar cubismdebug_1 = __webpack_require__(/*! ../utils/cubismdebug */ \"./Framework/src/utils/cubismdebug.ts\");\r\nvar Live2DCubismFramework;\r\n(function (Live2DCubismFramework) {\r\n    var csmPair = (function () {\r\n        function csmPair(key, value) {\r\n            this.first = key == undefined ? null : key;\r\n            this.second = value == undefined ? null : value;\r\n        }\r\n        return csmPair;\r\n    }());\r\n    Live2DCubismFramework.csmPair = csmPair;\r\n    var csmMap = (function () {\r\n        function csmMap(size) {\r\n            if (size != undefined) {\r\n                if (size < 1) {\r\n                    this._keyValues = [];\r\n                    this._dummyValue = null;\r\n                    this._size = 0;\r\n                }\r\n                else {\r\n                    this._keyValues = new Array(size);\r\n                    this._size = size;\r\n                }\r\n            }\r\n            else {\r\n                this._keyValues = [];\r\n                this._dummyValue = null;\r\n                this._size = 0;\r\n            }\r\n        }\r\n        csmMap.prototype.release = function () {\r\n            this.clear();\r\n        };\r\n        csmMap.prototype.appendKey = function (key) {\r\n            this.prepareCapacity(this._size + 1, false);\r\n            this._keyValues[this._size] = new csmPair(key);\r\n            this._size += 1;\r\n        };\r\n        csmMap.prototype.getValue = function (key) {\r\n            var found = -1;\r\n            for (var i = 0; i < this._size; i++) {\r\n                if (this._keyValues[i].first == key) {\r\n                    found = i;\r\n                    break;\r\n                }\r\n            }\r\n            if (found >= 0) {\r\n                return this._keyValues[found].second;\r\n            }\r\n            else {\r\n                this.appendKey(key);\r\n                return this._keyValues[this._size - 1].second;\r\n            }\r\n        };\r\n        csmMap.prototype.setValue = function (key, value) {\r\n            var found = -1;\r\n            for (var i = 0; i < this._size; i++) {\r\n                if (this._keyValues[i].first == key) {\r\n                    found = i;\r\n                    break;\r\n                }\r\n            }\r\n            if (found >= 0) {\r\n                this._keyValues[found].second = value;\r\n            }\r\n            else {\r\n                this.appendKey(key);\r\n                this._keyValues[this._size - 1].second = value;\r\n            }\r\n        };\r\n        csmMap.prototype.isExist = function (key) {\r\n            for (var i = 0; i < this._size; i++) {\r\n                if (this._keyValues[i].first == key) {\r\n                    return true;\r\n                }\r\n            }\r\n            return false;\r\n        };\r\n        csmMap.prototype.clear = function () {\r\n            this._keyValues = void 0;\r\n            this._keyValues = null;\r\n            this._keyValues = [];\r\n            this._size = 0;\r\n        };\r\n        csmMap.prototype.getSize = function () {\r\n            return this._size;\r\n        };\r\n        csmMap.prototype.prepareCapacity = function (newSize, fitToSize) {\r\n            if (newSize > this._keyValues.length) {\r\n                if (this._keyValues.length == 0) {\r\n                    if (!fitToSize && newSize < csmMap.DefaultSize)\r\n                        newSize = csmMap.DefaultSize;\r\n                    this._keyValues.length = newSize;\r\n                }\r\n                else {\r\n                    if (!fitToSize && newSize < this._keyValues.length * 2)\r\n                        newSize = this._keyValues.length * 2;\r\n                    this._keyValues.length = newSize;\r\n                }\r\n            }\r\n        };\r\n        csmMap.prototype.begin = function () {\r\n            var ite = new iterator(this, 0);\r\n            return ite;\r\n        };\r\n        csmMap.prototype.end = function () {\r\n            var ite = new iterator(this, this._size);\r\n            return ite;\r\n        };\r\n        csmMap.prototype.erase = function (ite) {\r\n            var index = ite._index;\r\n            if (index < 0 || this._size <= index) {\r\n                return ite;\r\n            }\r\n            this._keyValues.splice(index, 1);\r\n            --this._size;\r\n            var ite2 = new iterator(this, index);\r\n            return ite2;\r\n        };\r\n        csmMap.prototype.dumpAsInt = function () {\r\n            for (var i = 0; i < this._size; i++) {\r\n                cubismdebug_1.CubismLogDebug('{0} ,', this._keyValues[i]);\r\n                cubismdebug_1.CubismLogDebug('\\n');\r\n            }\r\n        };\r\n        csmMap.DefaultSize = 10;\r\n        return csmMap;\r\n    }());\r\n    Live2DCubismFramework.csmMap = csmMap;\r\n    var iterator = (function () {\r\n        function iterator(v, idx) {\r\n            this._map = v != undefined ? v : new csmMap();\r\n            this._index = idx != undefined ? idx : 0;\r\n        }\r\n        iterator.prototype.set = function (ite) {\r\n            this._index = ite._index;\r\n            this._map = ite._map;\r\n            return this;\r\n        };\r\n        iterator.prototype.preIncrement = function () {\r\n            ++this._index;\r\n            return this;\r\n        };\r\n        iterator.prototype.preDecrement = function () {\r\n            --this._index;\r\n            return this;\r\n        };\r\n        iterator.prototype.increment = function () {\r\n            var iteold = new iterator(this._map, this._index++);\r\n            this._map = iteold._map;\r\n            this._index = iteold._index;\r\n            return this;\r\n        };\r\n        iterator.prototype.decrement = function () {\r\n            var iteold = new iterator(this._map, this._index);\r\n            this._map = iteold._map;\r\n            this._index = iteold._index;\r\n            return this;\r\n        };\r\n        iterator.prototype.ptr = function () {\r\n            return this._map._keyValues[this._index];\r\n        };\r\n        iterator.prototype.notEqual = function (ite) {\r\n            return this._index != ite._index || this._map != ite._map;\r\n        };\r\n        return iterator;\r\n    }());\r\n    Live2DCubismFramework.iterator = iterator;\r\n})(Live2DCubismFramework = exports.Live2DCubismFramework || (exports.Live2DCubismFramework = {}));\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9GcmFtZXdvcmsvc3JjL3R5cGUvY3NtbWFwLnRzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbGl2ZTJkLy4vRnJhbWV3b3JrL3NyYy90eXBlL2NzbW1hcC50cz80YzQwIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBDb3B5cmlnaHQoYykgTGl2ZTJEIEluYy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuICpcclxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgdGhlIExpdmUyRCBPcGVuIFNvZnR3YXJlIGxpY2Vuc2VcclxuICogdGhhdCBjYW4gYmUgZm91bmQgYXQgaHR0cHM6Ly93d3cubGl2ZTJkLmNvbS9ldWxhL2xpdmUyZC1vcGVuLXNvZnR3YXJlLWxpY2Vuc2UtYWdyZWVtZW50X2VuLmh0bWwuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgQ3ViaXNtTG9nRGVidWcgfSBmcm9tICcuLi91dGlscy9jdWJpc21kZWJ1Zyc7XHJcblxyXG5leHBvcnQgbmFtZXNwYWNlIExpdmUyREN1YmlzbUZyYW1ld29yayB7XHJcbiAgLyoqXHJcbiAgICogS2V5LVZhbHVl44Gu44Oa44Ki44KS5a6a576p44GZ44KL44Kv44Op44K5XHJcbiAgICogY3NtTWFw44Kv44Op44K544Gu5YaF6YOo44OH44O844K/44Gn5L2/55So44GZ44KL44CCXHJcbiAgICovXHJcbiAgZXhwb3J0IGNsYXNzIGNzbVBhaXI8X0tleVQsIF9WYWxUPiB7XHJcbiAgICAvKipcclxuICAgICAqIOOCs+ODs+OCueODiOODqeOCr+OCv1xyXG4gICAgICogQHBhcmFtIGtleSBLZXnjgajjgZfjgabjgrvjg4Pjg4jjgZnjgovlgKRcclxuICAgICAqIEBwYXJhbSB2YWx1ZSBWYWx1ZeOBqOOBl+OBpuOCu+ODg+ODiOOBmeOCi+WApFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3Ioa2V5PzogX0tleVQsIHZhbHVlPzogX1ZhbFQpIHtcclxuICAgICAgdGhpcy5maXJzdCA9IGtleSA9PSB1bmRlZmluZWQgPyBudWxsIDoga2V5O1xyXG5cclxuICAgICAgdGhpcy5zZWNvbmQgPSB2YWx1ZSA9PSB1bmRlZmluZWQgPyBudWxsIDogdmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGZpcnN0OiBfS2V5VDsgLy8ga2V544Go44GX44Gm55So44GE44KL5aSJ5pWwXHJcbiAgICBwdWJsaWMgc2Vjb25kOiBfVmFsVDsgLy8gdmFsdWXjgajjgZfjgabnlKjjgYTjgovlpInmlbBcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOODnuODg+ODl+Wei1xyXG4gICAqL1xyXG4gIGV4cG9ydCBjbGFzcyBjc21NYXA8X0tleVQsIF9WYWxUPiB7XHJcbiAgICAvKipcclxuICAgICAqIOW8leaVsOS7mOOBjeOCs+ODs+OCueODiOODqeOCr+OCv1xyXG4gICAgICogQHBhcmFtIHNpemUg5Yid5pyf5YyW5pmC54K544Gn56K65L+d44GZ44KL44K144Kk44K6XHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcihzaXplPzogbnVtYmVyKSB7XHJcbiAgICAgIGlmIChzaXplICE9IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIGlmIChzaXplIDwgMSkge1xyXG4gICAgICAgICAgdGhpcy5fa2V5VmFsdWVzID0gW107XHJcbiAgICAgICAgICB0aGlzLl9kdW1teVZhbHVlID0gbnVsbDtcclxuICAgICAgICAgIHRoaXMuX3NpemUgPSAwO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB0aGlzLl9rZXlWYWx1ZXMgPSBuZXcgQXJyYXkoc2l6ZSk7XHJcbiAgICAgICAgICB0aGlzLl9zaXplID0gc2l6ZTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5fa2V5VmFsdWVzID0gW107XHJcbiAgICAgICAgdGhpcy5fZHVtbXlWYWx1ZSA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5fc2l6ZSA9IDA7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOODh+OCueODiOODqeOCr+OCv1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgcmVsZWFzZSgpIHtcclxuICAgICAgdGhpcy5jbGVhcigpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog44Kt44O844KS6L+95Yqg44GZ44KLXHJcbiAgICAgKiBAcGFyYW0ga2V5IOaWsOOBn+OBq+i/veWKoOOBmeOCi+OCreODvFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgYXBwZW5kS2V5KGtleTogX0tleVQpOiB2b2lkIHtcclxuICAgICAgLy8g5paw44GX44GPS2V5L1ZhbHVl44Gu44Oa44Ki44KS5L2c44KLXHJcbiAgICAgIHRoaXMucHJlcGFyZUNhcGFjaXR5KHRoaXMuX3NpemUgKyAxLCBmYWxzZSk7IC8vIDHjgaTku6XkuIrlhaXjgovpmpnplpPjgpLkvZzjgotcclxuICAgICAgLy8g5paw44GX44GEa2V5L3ZhbHVl44Gu44Kk44Oz44OH44OD44Kv44K544GvX3NpemVcclxuXHJcbiAgICAgIHRoaXMuX2tleVZhbHVlc1t0aGlzLl9zaXplXSA9IG5ldyBjc21QYWlyPF9LZXlULCBfVmFsVD4oa2V5KTtcclxuICAgICAgdGhpcy5fc2l6ZSArPSAxO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5re75a2X5ryU566X5a2QW2tleV3jga7jgqrjg7zjg5Djg7zjg63jg7zjg4koZ2V0KVxyXG4gICAgICogQHBhcmFtIGtleSDmt7vlrZfjgYvjgonnibnlrprjgZXjgozjgotWYWx1ZeWApFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2V0VmFsdWUoa2V5OiBfS2V5VCk6IF9WYWxUIHtcclxuICAgICAgbGV0IGZvdW5kID0gLTE7XHJcblxyXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX3NpemU7IGkrKykge1xyXG4gICAgICAgIGlmICh0aGlzLl9rZXlWYWx1ZXNbaV0uZmlyc3QgPT0ga2V5KSB7XHJcbiAgICAgICAgICBmb3VuZCA9IGk7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChmb3VuZCA+PSAwKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2tleVZhbHVlc1tmb3VuZF0uc2Vjb25kO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMuYXBwZW5kS2V5KGtleSk7IC8vIOaWsOimj+OCreODvOOCkui/veWKoFxyXG4gICAgICAgIHJldHVybiB0aGlzLl9rZXlWYWx1ZXNbdGhpcy5fc2l6ZSAtIDFdLnNlY29uZDtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5re75a2X5ryU566X5a2QW2tleV3jga7jgqrjg7zjg5Djg7zjg63jg7zjg4koc2V0KVxyXG4gICAgICogQHBhcmFtIGtleSDmt7vlrZfjgYvjgonnibnlrprjgZXjgozjgotWYWx1ZeWApFxyXG4gICAgICogQHBhcmFtIHZhbHVlIOS7o+WFpeOBmeOCi1ZhbHVl5YCkXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzZXRWYWx1ZShrZXk6IF9LZXlULCB2YWx1ZTogX1ZhbFQpOiB2b2lkIHtcclxuICAgICAgbGV0IGZvdW5kID0gLTE7XHJcblxyXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX3NpemU7IGkrKykge1xyXG4gICAgICAgIGlmICh0aGlzLl9rZXlWYWx1ZXNbaV0uZmlyc3QgPT0ga2V5KSB7XHJcbiAgICAgICAgICBmb3VuZCA9IGk7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChmb3VuZCA+PSAwKSB7XHJcbiAgICAgICAgdGhpcy5fa2V5VmFsdWVzW2ZvdW5kXS5zZWNvbmQgPSB2YWx1ZTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLmFwcGVuZEtleShrZXkpOyAvLyDmlrDopo/jgq3jg7zjgpLov73liqBcclxuICAgICAgICB0aGlzLl9rZXlWYWx1ZXNbdGhpcy5fc2l6ZSAtIDFdLnNlY29uZCA9IHZhbHVlO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDlvJXmlbDjgafmuKHjgZfjgZ9LZXnjgpLmjIHjgaTopoHntKDjgYzlrZjlnKjjgZnjgovjgYtcclxuICAgICAqIEBwYXJhbSBrZXkg5a2Y5Zyo44KS56K66KqN44GZ44KLa2V5XHJcbiAgICAgKiBAcmV0dXJuIHRydWUg5byV5pWw44Gn5rih44GX44Gfa2V544KS5oyB44Gk6KaB57Sg44GM5a2Y5Zyo44GZ44KLXHJcbiAgICAgKiBAcmV0dXJuIGZhbHNlIOW8leaVsOOBp+a4oeOBl+OBn2tleeOCkuaMgeOBpOimgee0oOOBjOWtmOWcqOOBl+OBquOBhFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgaXNFeGlzdChrZXk6IF9LZXlUKTogYm9vbGVhbiB7XHJcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5fc2l6ZTsgaSsrKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2tleVZhbHVlc1tpXS5maXJzdCA9PSBrZXkpIHtcclxuICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBrZXlWYWx1ZeOBruODneOCpOODs+OCv+OCkuWFqOOBpuino+aUvuOBmeOCi1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgY2xlYXIoKTogdm9pZCB7XHJcbiAgICAgIHRoaXMuX2tleVZhbHVlcyA9IHZvaWQgMDtcclxuICAgICAgdGhpcy5fa2V5VmFsdWVzID0gbnVsbDtcclxuICAgICAgdGhpcy5fa2V5VmFsdWVzID0gW107XHJcblxyXG4gICAgICB0aGlzLl9zaXplID0gMDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOOCs+ODs+ODhuODiuOBruOCteOCpOOCuuOCkuWPluW+l+OBmeOCi1xyXG4gICAgICpcclxuICAgICAqIEByZXR1cm4g44Kz44Oz44OG44OK44Gu44K144Kk44K6XHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXRTaXplKCk6IG51bWJlciB7XHJcbiAgICAgIHJldHVybiB0aGlzLl9zaXplO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog44Kz44Oz44OG44OK44Gu44Kt44Oj44OR44K344OG44Kj44KS56K65L+d44GZ44KLXHJcbiAgICAgKiBAcGFyYW0gbmV3U2l6ZSDmlrDjgZ/jgarjgq3jg6Pjg5Hjgrfjg4bjgqPjgILlvJXmlbDjga7lgKTjgYznj77lnKjjga7jgrXjgqTjgrrmnKrmuoDjga7loLTlkIjjga/kvZXjgoLjgZfjgarjgYTjgIJcclxuICAgICAqIEBwYXJhbSBmaXRUb1NpemUgdHJ1ZeOBquOCieaMh+WumuOBl+OBn+OCteOCpOOCuuOBq+WQiOOCj+OBm+OCi+OAgmZhbHNl44Gq44KJ44K144Kk44K644KSMuWAjeeiuuS/neOBl+OBpuOBiuOBj+OAglxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgcHJlcGFyZUNhcGFjaXR5KG5ld1NpemU6IG51bWJlciwgZml0VG9TaXplOiBib29sZWFuKTogdm9pZCB7XHJcbiAgICAgIGlmIChuZXdTaXplID4gdGhpcy5fa2V5VmFsdWVzLmxlbmd0aCkge1xyXG4gICAgICAgIGlmICh0aGlzLl9rZXlWYWx1ZXMubGVuZ3RoID09IDApIHtcclxuICAgICAgICAgIGlmICghZml0VG9TaXplICYmIG5ld1NpemUgPCBjc21NYXAuRGVmYXVsdFNpemUpXHJcbiAgICAgICAgICAgIG5ld1NpemUgPSBjc21NYXAuRGVmYXVsdFNpemU7XHJcbiAgICAgICAgICB0aGlzLl9rZXlWYWx1ZXMubGVuZ3RoID0gbmV3U2l6ZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgaWYgKCFmaXRUb1NpemUgJiYgbmV3U2l6ZSA8IHRoaXMuX2tleVZhbHVlcy5sZW5ndGggKiAyKVxyXG4gICAgICAgICAgICBuZXdTaXplID0gdGhpcy5fa2V5VmFsdWVzLmxlbmd0aCAqIDI7XHJcbiAgICAgICAgICB0aGlzLl9rZXlWYWx1ZXMubGVuZ3RoID0gbmV3U2l6ZTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOOCs+ODs+ODhuODiuOBruWFiOmgreimgee0oOOCkui/lOOBmVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgYmVnaW4oKTogaXRlcmF0b3I8X0tleVQsIF9WYWxUPiB7XHJcbiAgICAgIGNvbnN0IGl0ZTogaXRlcmF0b3I8X0tleVQsIF9WYWxUPiA9IG5ldyBpdGVyYXRvcjxfS2V5VCwgX1ZhbFQ+KHRoaXMsIDApO1xyXG4gICAgICByZXR1cm4gaXRlO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog44Kz44Oz44OG44OK44Gu57WC56uv6KaB57Sg44KS6L+U44GZXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBlbmQoKTogaXRlcmF0b3I8X0tleVQsIF9WYWxUPiB7XHJcbiAgICAgIGNvbnN0IGl0ZTogaXRlcmF0b3I8X0tleVQsIF9WYWxUPiA9IG5ldyBpdGVyYXRvcjxfS2V5VCwgX1ZhbFQ+KFxyXG4gICAgICAgIHRoaXMsXHJcbiAgICAgICAgdGhpcy5fc2l6ZVxyXG4gICAgICApOyAvLyDntYLkuoZcclxuICAgICAgcmV0dXJuIGl0ZTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOOCs+ODs+ODhuODiuOBi+OCieimgee0oOOCkuWJiumZpOOBmeOCi1xyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBpdGUg5YmK6Zmk44GZ44KL6KaB57SgXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBlcmFzZShpdGU6IGl0ZXJhdG9yPF9LZXlULCBfVmFsVD4pOiBpdGVyYXRvcjxfS2V5VCwgX1ZhbFQ+IHtcclxuICAgICAgY29uc3QgaW5kZXg6IG51bWJlciA9IGl0ZS5faW5kZXg7XHJcbiAgICAgIGlmIChpbmRleCA8IDAgfHwgdGhpcy5fc2l6ZSA8PSBpbmRleCkge1xyXG4gICAgICAgIHJldHVybiBpdGU7IC8vIOWJiumZpOevhOWbsuWkllxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyDliYrpmaRcclxuICAgICAgdGhpcy5fa2V5VmFsdWVzLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgIC0tdGhpcy5fc2l6ZTtcclxuXHJcbiAgICAgIGNvbnN0IGl0ZTI6IGl0ZXJhdG9yPF9LZXlULCBfVmFsVD4gPSBuZXcgaXRlcmF0b3I8X0tleVQsIF9WYWxUPihcclxuICAgICAgICB0aGlzLFxyXG4gICAgICAgIGluZGV4XHJcbiAgICAgICk7IC8vIOe1guS6hlxyXG4gICAgICByZXR1cm4gaXRlMjtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOOCs+ODs+ODhuODiuOBruWApOOCkjMy44OT44OD44OI56ym5Y+35LuY44GN5pW05pWw5Z6L44Gn44OA44Oz44OX44GZ44KLXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBkdW1wQXNJbnQoKSB7XHJcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5fc2l6ZTsgaSsrKSB7XHJcbiAgICAgICAgQ3ViaXNtTG9nRGVidWcoJ3swfSAsJywgdGhpcy5fa2V5VmFsdWVzW2ldKTtcclxuICAgICAgICBDdWJpc21Mb2dEZWJ1ZygnXFxuJyk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IERlZmF1bHRTaXplID0gMTA7IC8vIOOCs+ODs+ODhuODiuOBruWIneacn+WMluOBruODh+ODleOCqeODq+ODiOOCteOCpOOCulxyXG4gICAgcHVibGljIF9rZXlWYWx1ZXM6IGNzbVBhaXI8X0tleVQsIF9WYWxUPltdOyAvLyBrZXktdmFsdWXjg5rjgqLjga7phY3liJdcclxuICAgIHB1YmxpYyBfZHVtbXlWYWx1ZTogX1ZhbFQ7IC8vIOepuuOBruWApOOCkui/lOOBmeeCuuOBruODgOODn+ODvFxyXG4gICAgcHVibGljIF9zaXplOiBudW1iZXI7IC8vIOOCs+ODs+ODhuODiuOBruimgee0oOaVsFxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogY3NtTWFwPFQ+44Gu44Kk44OG44Os44O844K/XHJcbiAgICovXHJcbiAgZXhwb3J0IGNsYXNzIGl0ZXJhdG9yPF9LZXlULCBfVmFsVD4ge1xyXG4gICAgLyoqXHJcbiAgICAgKiDjgrPjg7Pjgrnjg4jjg6njgq/jgr9cclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3Iodj86IGNzbU1hcDxfS2V5VCwgX1ZhbFQ+LCBpZHg/OiBudW1iZXIpIHtcclxuICAgICAgdGhpcy5fbWFwID0gdiAhPSB1bmRlZmluZWQgPyB2IDogbmV3IGNzbU1hcDxfS2V5VCwgX1ZhbFQ+KCk7XHJcblxyXG4gICAgICB0aGlzLl9pbmRleCA9IGlkeCAhPSB1bmRlZmluZWQgPyBpZHggOiAwO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogPea8lOeul+WtkOOBruOCquODvOODkOODvOODreODvOODiVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc2V0KGl0ZTogaXRlcmF0b3I8X0tleVQsIF9WYWxUPik6IGl0ZXJhdG9yPF9LZXlULCBfVmFsVD4ge1xyXG4gICAgICB0aGlzLl9pbmRleCA9IGl0ZS5faW5kZXg7XHJcbiAgICAgIHRoaXMuX21hcCA9IGl0ZS5fbWFwO1xyXG4gICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOWJjee9ruOBjSsr5ryU566X5a2Q44Gu44Kq44O844OQ44O844Ot44O844OJXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBwcmVJbmNyZW1lbnQoKTogaXRlcmF0b3I8X0tleVQsIF9WYWxUPiB7XHJcbiAgICAgICsrdGhpcy5faW5kZXg7XHJcbiAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5YmN572u44GNLS3mvJTnrpflrZDjga7jgqrjg7zjg5Djg7zjg63jg7zjg4lcclxuICAgICAqL1xyXG4gICAgcHVibGljIHByZURlY3JlbWVudCgpOiBpdGVyYXRvcjxfS2V5VCwgX1ZhbFQ+IHtcclxuICAgICAgLS10aGlzLl9pbmRleDtcclxuICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDlvoznva7jgY0rK+a8lOeul+WtkOOBruOCquODvOODkOODvOODreODvOODiVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgaW5jcmVtZW50KCk6IGl0ZXJhdG9yPF9LZXlULCBfVmFsVD4ge1xyXG4gICAgICBjb25zdCBpdGVvbGQgPSBuZXcgaXRlcmF0b3I8X0tleVQsIF9WYWxUPih0aGlzLl9tYXAsIHRoaXMuX2luZGV4KyspOyAvLyDlj6TjgYTlgKTjgpLkv53lrZhcclxuICAgICAgdGhpcy5fbWFwID0gaXRlb2xkLl9tYXA7XHJcbiAgICAgIHRoaXMuX2luZGV4ID0gaXRlb2xkLl9pbmRleDtcclxuICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDlvoznva7jgY0tLea8lOeul+WtkOOBruOCquODvOODkOODvOODreODvOODiVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZGVjcmVtZW50KCk6IGl0ZXJhdG9yPF9LZXlULCBfVmFsVD4ge1xyXG4gICAgICBjb25zdCBpdGVvbGQgPSBuZXcgaXRlcmF0b3I8X0tleVQsIF9WYWxUPih0aGlzLl9tYXAsIHRoaXMuX2luZGV4KTsgLy8g5Y+k44GE5YCk44KS5L+d5a2YXHJcbiAgICAgIHRoaXMuX21hcCA9IGl0ZW9sZC5fbWFwO1xyXG4gICAgICB0aGlzLl9pbmRleCA9IGl0ZW9sZC5faW5kZXg7XHJcbiAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogKua8lOeul+WtkOOBruOCquODvOODkOODvOODreODvOODiVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgcHRyKCk6IGNzbVBhaXI8X0tleVQsIF9WYWxUPiB7XHJcbiAgICAgIHJldHVybiB0aGlzLl9tYXAuX2tleVZhbHVlc1t0aGlzLl9pbmRleF07XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiAhPea8lOeul1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgbm90RXF1YWwoaXRlOiBpdGVyYXRvcjxfS2V5VCwgX1ZhbFQ+KTogYm9vbGVhbiB7XHJcbiAgICAgIHJldHVybiB0aGlzLl9pbmRleCAhPSBpdGUuX2luZGV4IHx8IHRoaXMuX21hcCAhPSBpdGUuX21hcDtcclxuICAgIH1cclxuXHJcbiAgICBfaW5kZXg6IG51bWJlcjsgLy8g44Kz44Oz44OG44OK44Gu44Kk44Oz44OH44OD44Kv44K55YCkXHJcbiAgICBfbWFwOiBjc21NYXA8X0tleVQsIF9WYWxUPjsgLy8g44Kz44Oz44OG44OKXHJcbiAgfVxyXG59XHJcbiJdLCJtYXBwaW5ncyI6Ijs7O0FBT0E7QUFFQTtBQUFBO0FBS0E7QUFNQTtBQUNBO0FBRUE7QUFDQTtBQUlBO0FBQUE7QUFkQTtBQW1CQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQU1BO0FBRUE7QUFHQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFJQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFFQTtBQUlBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUlBO0FBQUE7QUFwTUE7QUF5TUE7QUFJQTtBQUNBO0FBRUE7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBSUE7QUFBQTtBQXZFQTtBQXdFQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./Framework/src/type/csmmap.ts\n");

/***/ }),

/***/ "./Framework/src/type/csmrectf.ts":
/*!****************************************!*\
  !*** ./Framework/src/type/csmrectf.ts ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Live2DCubismFramework = void 0;\r\nvar Live2DCubismFramework;\r\n(function (Live2DCubismFramework) {\r\n    var csmRect = (function () {\r\n        function csmRect(x, y, w, h) {\r\n            this.x = x;\r\n            this.y = y;\r\n            this.width = w;\r\n            this.height = h;\r\n        }\r\n        csmRect.prototype.getCenterX = function () {\r\n            return this.x + 0.5 * this.width;\r\n        };\r\n        csmRect.prototype.getCenterY = function () {\r\n            return this.y + 0.5 * this.height;\r\n        };\r\n        csmRect.prototype.getRight = function () {\r\n            return this.x + this.width;\r\n        };\r\n        csmRect.prototype.getBottom = function () {\r\n            return this.y + this.height;\r\n        };\r\n        csmRect.prototype.setRect = function (r) {\r\n            this.x = r.x;\r\n            this.y = r.y;\r\n            this.width = r.width;\r\n            this.height = r.height;\r\n        };\r\n        csmRect.prototype.expand = function (w, h) {\r\n            this.x -= w;\r\n            this.y -= h;\r\n            this.width += w * 2.0;\r\n            this.height += h * 2.0;\r\n        };\r\n        return csmRect;\r\n    }());\r\n    Live2DCubismFramework.csmRect = csmRect;\r\n})(Live2DCubismFramework = exports.Live2DCubismFramework || (exports.Live2DCubismFramework = {}));\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9GcmFtZXdvcmsvc3JjL3R5cGUvY3NtcmVjdGYudHMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9saXZlMmQvLi9GcmFtZXdvcmsvc3JjL3R5cGUvY3NtcmVjdGYudHM/M2M5MSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogQ29weXJpZ2h0KGMpIExpdmUyRCBJbmMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbiAqXHJcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IHRoZSBMaXZlMkQgT3BlbiBTb2Z0d2FyZSBsaWNlbnNlXHJcbiAqIHRoYXQgY2FuIGJlIGZvdW5kIGF0IGh0dHBzOi8vd3d3LmxpdmUyZC5jb20vZXVsYS9saXZlMmQtb3Blbi1zb2Z0d2FyZS1saWNlbnNlLWFncmVlbWVudF9lbi5odG1sLlxyXG4gKi9cclxuXHJcbmV4cG9ydCBuYW1lc3BhY2UgTGl2ZTJEQ3ViaXNtRnJhbWV3b3JrIHtcclxuICAvKipcclxuICAgKiDnn6nlvaLlvaLnirbvvIjluqfmqJnjg7vplbfjgZXjga9mbG9hdOWApO+8ieOCkuWumue+qeOBmeOCi+OCr+ODqeOCuVxyXG4gICAqL1xyXG4gIGV4cG9ydCBjbGFzcyBjc21SZWN0IHtcclxuICAgIC8qKlxyXG4gICAgICog44Kz44Oz44K544OI44Op44Kv44K/XHJcbiAgICAgKiBAcGFyYW0geCDlt6bnq69Y5bqn5qiZXHJcbiAgICAgKiBAcGFyYW0geSDkuIrnq69Z5bqn5qiZXHJcbiAgICAgKiBAcGFyYW0gdyDluYVcclxuICAgICAqIEBwYXJhbSBoIOmrmOOBlVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoeD86IG51bWJlciwgeT86IG51bWJlciwgdz86IG51bWJlciwgaD86IG51bWJlcikge1xyXG4gICAgICB0aGlzLnggPSB4O1xyXG4gICAgICB0aGlzLnkgPSB5O1xyXG4gICAgICB0aGlzLndpZHRoID0gdztcclxuICAgICAgdGhpcy5oZWlnaHQgPSBoO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog55+p5b2i5Lit5aSu44GuWOW6p+aomeOCkuWPluW+l+OBmeOCi1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2V0Q2VudGVyWCgpOiBudW1iZXIge1xyXG4gICAgICByZXR1cm4gdGhpcy54ICsgMC41ICogdGhpcy53aWR0aDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOefqeW9ouS4reWkruOBrlnluqfmqJnjgpLlj5blvpfjgZnjgotcclxuICAgICAqL1xyXG4gICAgcHVibGljIGdldENlbnRlclkoKTogbnVtYmVyIHtcclxuICAgICAgcmV0dXJuIHRoaXMueSArIDAuNSAqIHRoaXMuaGVpZ2h0O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5Y+z5YG044GuWOW6p+aomeOCkuWPluW+l+OBmeOCi1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2V0UmlnaHQoKTogbnVtYmVyIHtcclxuICAgICAgcmV0dXJuIHRoaXMueCArIHRoaXMud2lkdGg7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDkuIvnq6/jga5Z5bqn5qiZ44KS5Y+W5b6X44GZ44KLXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXRCb3R0b20oKTogbnVtYmVyIHtcclxuICAgICAgcmV0dXJuIHRoaXMueSArIHRoaXMuaGVpZ2h0O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog55+p5b2i44Gr5YCk44KS44K744OD44OI44GZ44KLXHJcbiAgICAgKiBAcGFyYW0gciDnn6nlvaLjga7jgqTjg7Pjgrnjgr/jg7PjgrlcclxuICAgICAqL1xyXG4gICAgcHVibGljIHNldFJlY3QocjogY3NtUmVjdCk6IHZvaWQge1xyXG4gICAgICB0aGlzLnggPSByLng7XHJcbiAgICAgIHRoaXMueSA9IHIueTtcclxuICAgICAgdGhpcy53aWR0aCA9IHIud2lkdGg7XHJcbiAgICAgIHRoaXMuaGVpZ2h0ID0gci5oZWlnaHQ7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDnn6nlvaLkuK3lpK7jgpLou7jjgavjgZfjgabnuKbmqKrjgpLmi6HnuK7jgZnjgotcclxuICAgICAqIEBwYXJhbSB3IOW5heaWueWQkeOBq+aLoee4ruOBmeOCi+mHj1xyXG4gICAgICogQHBhcmFtIGgg6auY44GV5pa55ZCR44Gr5ouh57iu44GZ44KL6YePXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBleHBhbmQodzogbnVtYmVyLCBoOiBudW1iZXIpIHtcclxuICAgICAgdGhpcy54IC09IHc7XHJcbiAgICAgIHRoaXMueSAtPSBoO1xyXG4gICAgICB0aGlzLndpZHRoICs9IHcgKiAyLjA7XHJcbiAgICAgIHRoaXMuaGVpZ2h0ICs9IGggKiAyLjA7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHg6IG51bWJlcjsgLy8g5bem56uvWOW6p+aomVxyXG4gICAgcHVibGljIHk6IG51bWJlcjsgLy8g5LiK56uvWeW6p+aomVxyXG4gICAgcHVibGljIHdpZHRoOiBudW1iZXI7IC8vIOW5hVxyXG4gICAgcHVibGljIGhlaWdodDogbnVtYmVyOyAvLyDpq5jjgZVcclxuICB9XHJcbn1cclxuIl0sIm1hcHBpbmdzIjoiOzs7QUFPQTtBQUFBO0FBSUE7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUFBO0FBdEVBO0FBdUVBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./Framework/src/type/csmrectf.ts\n");

/***/ }),

/***/ "./Framework/src/type/csmstring.ts":
/*!*****************************************!*\
  !*** ./Framework/src/type/csmstring.ts ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Live2DCubismFramework = void 0;\r\nvar Live2DCubismFramework;\r\n(function (Live2DCubismFramework) {\r\n    var csmString = (function () {\r\n        function csmString(s) {\r\n            this.s = s;\r\n        }\r\n        csmString.prototype.append = function (c, length) {\r\n            this.s += length !== undefined ? c.substr(0, length) : c;\r\n            return this;\r\n        };\r\n        csmString.prototype.expansion = function (length, v) {\r\n            for (var i = 0; i < length; i++) {\r\n                this.append(v);\r\n            }\r\n            return this;\r\n        };\r\n        csmString.prototype.getBytes = function () {\r\n            return encodeURIComponent(this.s).replace(/%../g, 'x').length;\r\n        };\r\n        csmString.prototype.getLength = function () {\r\n            return this.s.length;\r\n        };\r\n        csmString.prototype.isLess = function (s) {\r\n            return this.s < s.s;\r\n        };\r\n        csmString.prototype.isGreat = function (s) {\r\n            return this.s > s.s;\r\n        };\r\n        csmString.prototype.isEqual = function (s) {\r\n            return this.s == s;\r\n        };\r\n        csmString.prototype.isEmpty = function () {\r\n            return this.s.length == 0;\r\n        };\r\n        return csmString;\r\n    }());\r\n    Live2DCubismFramework.csmString = csmString;\r\n})(Live2DCubismFramework = exports.Live2DCubismFramework || (exports.Live2DCubismFramework = {}));\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9GcmFtZXdvcmsvc3JjL3R5cGUvY3Ntc3RyaW5nLnRzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbGl2ZTJkLy4vRnJhbWV3b3JrL3NyYy90eXBlL2NzbXN0cmluZy50cz9iNTllIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBDb3B5cmlnaHQoYykgTGl2ZTJEIEluYy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuICpcclxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgdGhlIExpdmUyRCBPcGVuIFNvZnR3YXJlIGxpY2Vuc2VcclxuICogdGhhdCBjYW4gYmUgZm91bmQgYXQgaHR0cHM6Ly93d3cubGl2ZTJkLmNvbS9ldWxhL2xpdmUyZC1vcGVuLXNvZnR3YXJlLWxpY2Vuc2UtYWdyZWVtZW50X2VuLmh0bWwuXHJcbiAqL1xyXG5cclxuZXhwb3J0IG5hbWVzcGFjZSBMaXZlMkRDdWJpc21GcmFtZXdvcmsge1xyXG4gIC8qKlxyXG4gICAqIOaWh+Wtl+WIl+OCr+ODqeOCueOAglxyXG4gICAqL1xyXG4gIGV4cG9ydCBjbGFzcyBjc21TdHJpbmcge1xyXG4gICAgLyoqXHJcbiAgICAgKiDmloflrZfliJfjgpLlvozmlrnjgavov73liqDjgZnjgotcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gYyDov73liqDjgZnjgovmloflrZfliJdcclxuICAgICAqIEByZXR1cm4g5pu05paw44GV44KM44Gf5paH5a2X5YiXXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBhcHBlbmQoYzogc3RyaW5nLCBsZW5ndGg/OiBudW1iZXIpOiBjc21TdHJpbmcge1xyXG4gICAgICB0aGlzLnMgKz0gbGVuZ3RoICE9PSB1bmRlZmluZWQgPyBjLnN1YnN0cigwLCBsZW5ndGgpIDogYztcclxuXHJcbiAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5paH5a2X44K144Kk44K644KS5ouh5by144GX44Gm5paH5a2X44KS5Z+L44KB44KLXHJcbiAgICAgKiBAcGFyYW0gbGVuZ3RoICAgIOaLoeW8teOBmeOCi+aWh+Wtl+aVsFxyXG4gICAgICogQHBhcmFtIHYgICAgICAgICDln4vjgoHjgovmloflrZdcclxuICAgICAqIEByZXR1cm4g5pu05paw44GV44KM44Gf5paH5a2X5YiXXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBleHBhbnNpb24obGVuZ3RoOiBudW1iZXIsIHY6IHN0cmluZyk6IGNzbVN0cmluZyB7XHJcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcclxuICAgICAgICB0aGlzLmFwcGVuZCh2KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDmloflrZfliJfjga7plbfjgZXjgpLjg5DjgqTjg4jmlbDjgaflj5blvpfjgZnjgotcclxuICAgICAqL1xyXG4gICAgcHVibGljIGdldEJ5dGVzKCk6IG51bWJlciB7XHJcbiAgICAgIHJldHVybiBlbmNvZGVVUklDb21wb25lbnQodGhpcy5zKS5yZXBsYWNlKC8lLi4vZywgJ3gnKS5sZW5ndGg7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDmloflrZfliJfjga7plbfjgZXjgpLov5TjgZlcclxuICAgICAqL1xyXG4gICAgcHVibGljIGdldExlbmd0aCgpOiBudW1iZXIge1xyXG4gICAgICByZXR1cm4gdGhpcy5zLmxlbmd0aDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOaWh+Wtl+WIl+avlOi8gyA8XHJcbiAgICAgKiBAcGFyYW0gcyDmr5TovIPjgZnjgovmloflrZfliJdcclxuICAgICAqIEByZXR1cm4gdHJ1ZTogICAg5q+U6LyD44GZ44KL5paH5a2X5YiX44KI44KK5bCP44GV44GEXHJcbiAgICAgKiBAcmV0dXJuIGZhbHNlOiAgIOavlOi8g+OBmeOCi+aWh+Wtl+WIl+OCiOOCiuWkp+OBjeOBhFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgaXNMZXNzKHM6IGNzbVN0cmluZyk6IGJvb2xlYW4ge1xyXG4gICAgICByZXR1cm4gdGhpcy5zIDwgcy5zO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5paH5a2X5YiX5q+U6LyDID5cclxuICAgICAqIEBwYXJhbSBzIOavlOi8g+OBmeOCi+aWh+Wtl+WIl1xyXG4gICAgICogQHJldHVybiB0cnVlOiAgICDmr5TovIPjgZnjgovmloflrZfliJfjgojjgorlpKfjgY3jgYRcclxuICAgICAqIEByZXR1cm4gZmFsc2U6ICAg5q+U6LyD44GZ44KL5paH5a2X5YiX44KI44KK5bCP44GV44GEXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBpc0dyZWF0KHM6IGNzbVN0cmluZyk6IGJvb2xlYW4ge1xyXG4gICAgICByZXR1cm4gdGhpcy5zID4gcy5zO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5paH5a2X5YiX5q+U6LyDID09XHJcbiAgICAgKiBAcGFyYW0gcyDmr5TovIPjgZnjgovmloflrZfliJdcclxuICAgICAqIEByZXR1cm4gdHJ1ZTogICAg5q+U6LyD44GZ44KL5paH5a2X5YiX44Go562J44GX44GEXHJcbiAgICAgKiBAcmV0dXJuIGZhbHNlOiAgIOavlOi8g+OBmeOCi+aWh+Wtl+WIl+OBqOeVsOOBquOCi1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgaXNFcXVhbChzOiBzdHJpbmcpOiBib29sZWFuIHtcclxuICAgICAgcmV0dXJuIHRoaXMucyA9PSBzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5paH5a2X5YiX44GM56m644GL44Gp44GG44GLXHJcbiAgICAgKiBAcmV0dXJuIHRydWU6IOepuuOBruaWh+Wtl+WIl1xyXG4gICAgICogQHJldHVybiBmYWxzZTog5YCk44GM6Kit5a6a44GV44KM44Gm44GE44KLXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBpc0VtcHR5KCk6IGJvb2xlYW4ge1xyXG4gICAgICByZXR1cm4gdGhpcy5zLmxlbmd0aCA9PSAwO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5byV5pWw5LuY44GN44Kz44Oz44K544OI44Op44Kv44K/XHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcihzOiBzdHJpbmcpIHtcclxuICAgICAgdGhpcy5zID0gcztcclxuICAgIH1cclxuXHJcbiAgICBzOiBzdHJpbmc7XHJcbiAgfVxyXG59XHJcbiJdLCJtYXBwaW5ncyI6Ijs7O0FBT0E7QUFBQTtBQUlBO0FBbUZBO0FBQ0E7QUFDQTtBQTlFQTtBQUNBO0FBRUE7QUFDQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQVFBO0FBQ0E7QUFDQTtBQVFBO0FBQ0E7QUFDQTtBQVFBO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQVVBO0FBQUE7QUF4RkE7QUF5RkE7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./Framework/src/type/csmstring.ts\n");

/***/ }),

/***/ "./Framework/src/type/csmvector.ts":
/*!*****************************************!*\
  !*** ./Framework/src/type/csmvector.ts ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Live2DCubismFramework = void 0;\r\nvar Live2DCubismFramework;\r\n(function (Live2DCubismFramework) {\r\n    var csmVector = (function () {\r\n        function csmVector(initialCapacity) {\r\n            if (initialCapacity === void 0) { initialCapacity = 0; }\r\n            if (initialCapacity < 1) {\r\n                this._ptr = [];\r\n                this._capacity = 0;\r\n                this._size = 0;\r\n            }\r\n            else {\r\n                this._ptr = new Array(initialCapacity);\r\n                this._capacity = initialCapacity;\r\n                this._size = 0;\r\n            }\r\n        }\r\n        csmVector.prototype.at = function (index) {\r\n            return this._ptr[index];\r\n        };\r\n        csmVector.prototype.set = function (index, value) {\r\n            this._ptr[index] = value;\r\n        };\r\n        csmVector.prototype.get = function (offset) {\r\n            if (offset === void 0) { offset = 0; }\r\n            var ret = new Array();\r\n            for (var i = offset; i < this._size; i++) {\r\n                ret.push(this._ptr[i]);\r\n            }\r\n            return ret;\r\n        };\r\n        csmVector.prototype.pushBack = function (value) {\r\n            if (this._size >= this._capacity) {\r\n                this.prepareCapacity(this._capacity == 0 ? csmVector.s_defaultSize : this._capacity * 2);\r\n            }\r\n            this._ptr[this._size++] = value;\r\n        };\r\n        csmVector.prototype.clear = function () {\r\n            this._ptr.length = 0;\r\n            this._size = 0;\r\n        };\r\n        csmVector.prototype.getSize = function () {\r\n            return this._size;\r\n        };\r\n        csmVector.prototype.assign = function (newSize, value) {\r\n            var curSize = this._size;\r\n            if (curSize < newSize) {\r\n                this.prepareCapacity(newSize);\r\n            }\r\n            for (var i = 0; i < newSize; i++) {\r\n                this._ptr[i] = value;\r\n            }\r\n            this._size = newSize;\r\n        };\r\n        csmVector.prototype.resize = function (newSize, value) {\r\n            if (value === void 0) { value = null; }\r\n            this.updateSize(newSize, value, true);\r\n        };\r\n        csmVector.prototype.updateSize = function (newSize, value, callPlacementNew) {\r\n            if (value === void 0) { value = null; }\r\n            if (callPlacementNew === void 0) { callPlacementNew = true; }\r\n            var curSize = this._size;\r\n            if (curSize < newSize) {\r\n                this.prepareCapacity(newSize);\r\n                if (callPlacementNew) {\r\n                    for (var i = this._size; i < newSize; i++) {\r\n                        if (typeof value == 'function') {\r\n                            this._ptr[i] = JSON.parse(JSON.stringify(new value()));\r\n                        }\r\n                        else {\r\n                            this._ptr[i] = value;\r\n                        }\r\n                    }\r\n                }\r\n                else {\r\n                    for (var i = this._size; i < newSize; i++) {\r\n                        this._ptr[i] = value;\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                var sub = this._size - newSize;\r\n                this._ptr.splice(this._size - sub, sub);\r\n            }\r\n            this._size = newSize;\r\n        };\r\n        csmVector.prototype.insert = function (position, begin, end) {\r\n            var dstSi = position._index;\r\n            var srcSi = begin._index;\r\n            var srcEi = end._index;\r\n            var addCount = srcEi - srcSi;\r\n            this.prepareCapacity(this._size + addCount);\r\n            var addSize = this._size - dstSi;\r\n            if (addSize > 0) {\r\n                for (var i = 0; i < addSize; i++) {\r\n                    this._ptr.splice(dstSi + i, 0, null);\r\n                }\r\n            }\r\n            for (var i = srcSi; i < srcEi; i++, dstSi++) {\r\n                this._ptr[dstSi] = begin._vector._ptr[i];\r\n            }\r\n            this._size = this._size + addCount;\r\n        };\r\n        csmVector.prototype.remove = function (index) {\r\n            if (index < 0 || this._size <= index) {\r\n                return false;\r\n            }\r\n            this._ptr.splice(index, 1);\r\n            --this._size;\r\n            return true;\r\n        };\r\n        csmVector.prototype.erase = function (ite) {\r\n            var index = ite._index;\r\n            if (index < 0 || this._size <= index) {\r\n                return ite;\r\n            }\r\n            this._ptr.splice(index, 1);\r\n            --this._size;\r\n            var ite2 = new iterator(this, index);\r\n            return ite2;\r\n        };\r\n        csmVector.prototype.prepareCapacity = function (newSize) {\r\n            if (newSize > this._capacity) {\r\n                if (this._capacity == 0) {\r\n                    this._ptr = new Array(newSize);\r\n                    this._capacity = newSize;\r\n                }\r\n                else {\r\n                    this._ptr.length = newSize;\r\n                    this._capacity = newSize;\r\n                }\r\n            }\r\n        };\r\n        csmVector.prototype.begin = function () {\r\n            var ite = this._size == 0 ? this.end() : new iterator(this, 0);\r\n            return ite;\r\n        };\r\n        csmVector.prototype.end = function () {\r\n            var ite = new iterator(this, this._size);\r\n            return ite;\r\n        };\r\n        csmVector.prototype.getOffset = function (offset) {\r\n            var newVector = new csmVector();\r\n            newVector._ptr = this.get(offset);\r\n            newVector._size = this.get(offset).length;\r\n            newVector._capacity = this.get(offset).length;\r\n            return newVector;\r\n        };\r\n        csmVector.s_defaultSize = 10;\r\n        return csmVector;\r\n    }());\r\n    Live2DCubismFramework.csmVector = csmVector;\r\n    var iterator = (function () {\r\n        function iterator(v, index) {\r\n            this._vector = v != undefined ? v : null;\r\n            this._index = index != undefined ? index : 0;\r\n        }\r\n        iterator.prototype.set = function (ite) {\r\n            this._index = ite._index;\r\n            this._vector = ite._vector;\r\n            return this;\r\n        };\r\n        iterator.prototype.preIncrement = function () {\r\n            ++this._index;\r\n            return this;\r\n        };\r\n        iterator.prototype.preDecrement = function () {\r\n            --this._index;\r\n            return this;\r\n        };\r\n        iterator.prototype.increment = function () {\r\n            var iteold = new iterator(this._vector, this._index++);\r\n            this._vector = iteold._vector;\r\n            this._index = iteold._index;\r\n            return this;\r\n        };\r\n        iterator.prototype.decrement = function () {\r\n            var iteold = new iterator(this._vector, this._index--);\r\n            this._vector = iteold._vector;\r\n            this._index = iteold._index;\r\n            return this;\r\n        };\r\n        iterator.prototype.ptr = function () {\r\n            return this._vector._ptr[this._index];\r\n        };\r\n        iterator.prototype.substitution = function (ite) {\r\n            this._index = ite._index;\r\n            this._vector = ite._vector;\r\n            return this;\r\n        };\r\n        iterator.prototype.notEqual = function (ite) {\r\n            return this._index != ite._index || this._vector != ite._vector;\r\n        };\r\n        return iterator;\r\n    }());\r\n    Live2DCubismFramework.iterator = iterator;\r\n})(Live2DCubismFramework = exports.Live2DCubismFramework || (exports.Live2DCubismFramework = {}));\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9GcmFtZXdvcmsvc3JjL3R5cGUvY3NtdmVjdG9yLnRzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbGl2ZTJkLy4vRnJhbWV3b3JrL3NyYy90eXBlL2NzbXZlY3Rvci50cz83NjkwIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBDb3B5cmlnaHQoYykgTGl2ZTJEIEluYy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuICpcclxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgdGhlIExpdmUyRCBPcGVuIFNvZnR3YXJlIGxpY2Vuc2VcclxuICogdGhhdCBjYW4gYmUgZm91bmQgYXQgaHR0cHM6Ly93d3cubGl2ZTJkLmNvbS9ldWxhL2xpdmUyZC1vcGVuLXNvZnR3YXJlLWxpY2Vuc2UtYWdyZWVtZW50X2VuLmh0bWwuXHJcbiAqL1xyXG5cclxuZXhwb3J0IG5hbWVzcGFjZSBMaXZlMkRDdWJpc21GcmFtZXdvcmsge1xyXG4gIC8qKlxyXG4gICAqIOODmeOCr+OCv+ODvOWei++8iOWPr+WkiemFjeWIl+Wei++8iVxyXG4gICAqL1xyXG4gIGV4cG9ydCBjbGFzcyBjc21WZWN0b3I8VD4ge1xyXG4gICAgLyoqXHJcbiAgICAgKiDlvJXmlbDku5jjgY3jgrPjg7Pjgrnjg4jjg6njgq/jgr9cclxuICAgICAqIEBwYXJhbSBpbmlpdGFsQ2FwYWNpdHkg5Yid5pyf5YyW5b6M44Gu44Kt44Oj44OR44K344OG44Kj44CC44OH44O844K/44K144Kk44K644GvX2NhcGFjaXR5ICogc2l6ZW9mKFQpXHJcbiAgICAgKiBAcGFyYW0gemVyb0NsZWFyIHRydWXjgarjgonliJ3mnJ/ljJbmmYLjgavnorrkv53jgZfjgZ/poJjln5/jgpIw44Gn5Z+L44KB44KLXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKGluaXRpYWxDYXBhY2l0eSA9IDApIHtcclxuICAgICAgaWYgKGluaXRpYWxDYXBhY2l0eSA8IDEpIHtcclxuICAgICAgICB0aGlzLl9wdHIgPSBbXTtcclxuICAgICAgICB0aGlzLl9jYXBhY2l0eSA9IDA7XHJcbiAgICAgICAgdGhpcy5fc2l6ZSA9IDA7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5fcHRyID0gbmV3IEFycmF5KGluaXRpYWxDYXBhY2l0eSk7XHJcbiAgICAgICAgdGhpcy5fY2FwYWNpdHkgPSBpbml0aWFsQ2FwYWNpdHk7XHJcbiAgICAgICAgdGhpcy5fc2l6ZSA9IDA7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOOCpOODs+ODh+ODg+OCr+OCueOBp+aMh+WumuOBl+OBn+imgee0oOOCkui/lOOBmVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgYXQoaW5kZXg6IG51bWJlcik6IFQge1xyXG4gICAgICByZXR1cm4gdGhpcy5fcHRyW2luZGV4XTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOimgee0oOOCkuOCu+ODg+ODiFxyXG4gICAgICogQHBhcmFtIGluZGV4IOimgee0oOOCkuOCu+ODg+ODiOOBmeOCi+OCpOODs+ODh+ODg+OCr+OCuVxyXG4gICAgICogQHBhcmFtIHZhbHVlIOOCu+ODg+ODiOOBmeOCi+imgee0oFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc2V0KGluZGV4OiBudW1iZXIsIHZhbHVlOiBUKTogdm9pZCB7XHJcbiAgICAgIHRoaXMuX3B0cltpbmRleF0gPSB2YWx1ZTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOOCs+ODs+ODhuODiuOCkuWPluW+l+OBmeOCi1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2V0KG9mZnNldCA9IDApOiBUW10ge1xyXG4gICAgICBjb25zdCByZXQ6IFRbXSA9IG5ldyBBcnJheTxUPigpO1xyXG4gICAgICBmb3IgKGxldCBpID0gb2Zmc2V0OyBpIDwgdGhpcy5fc2l6ZTsgaSsrKSB7XHJcbiAgICAgICAgcmV0LnB1c2godGhpcy5fcHRyW2ldKTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gcmV0O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogcHVzaEJhY2vlh6bnkIbjgIHjgrPjg7Pjg4bjg4rjgavmlrDjgZ/jgaropoHntKDjgpLov73liqDjgZnjgotcclxuICAgICAqIEBwYXJhbSB2YWx1ZSBQdXNoQmFja+WHpueQhuOBp+i/veWKoOOBmeOCi+WApFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgcHVzaEJhY2sodmFsdWU6IFQpOiB2b2lkIHtcclxuICAgICAgaWYgKHRoaXMuX3NpemUgPj0gdGhpcy5fY2FwYWNpdHkpIHtcclxuICAgICAgICB0aGlzLnByZXBhcmVDYXBhY2l0eShcclxuICAgICAgICAgIHRoaXMuX2NhcGFjaXR5ID09IDAgPyBjc21WZWN0b3Iuc19kZWZhdWx0U2l6ZSA6IHRoaXMuX2NhcGFjaXR5ICogMlxyXG4gICAgICAgICk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHRoaXMuX3B0clt0aGlzLl9zaXplKytdID0gdmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDjgrPjg7Pjg4bjg4rjga7lhajopoHntKDjgpLop6PmlL7jgZnjgotcclxuICAgICAqL1xyXG4gICAgcHVibGljIGNsZWFyKCk6IHZvaWQge1xyXG4gICAgICB0aGlzLl9wdHIubGVuZ3RoID0gMDtcclxuICAgICAgdGhpcy5fc2l6ZSA9IDA7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDjgrPjg7Pjg4bjg4rjga7opoHntKDmlbDjgpLov5TjgZlcclxuICAgICAqIEByZXR1cm4g44Kz44Oz44OG44OK44Gu6KaB57Sg5pWwXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXRTaXplKCk6IG51bWJlciB7XHJcbiAgICAgIHJldHVybiB0aGlzLl9zaXplO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog44Kz44Oz44OG44OK44Gu5YWo6KaB57Sg44Gr5a++44GX44Gm5Luj5YWl5Yem55CG44KS6KGM44GGXHJcbiAgICAgKiBAcGFyYW0gbmV3U2l6ZSDku6PlhaXlh6bnkIblvozjga7jgrXjgqTjgrpcclxuICAgICAqIEBwYXJhbSB2YWx1ZSDopoHntKDjgavku6PlhaXjgZnjgovlgKRcclxuICAgICAqL1xyXG4gICAgcHVibGljIGFzc2lnbihuZXdTaXplOiBudW1iZXIsIHZhbHVlOiBUKTogdm9pZCB7XHJcbiAgICAgIGNvbnN0IGN1clNpemUgPSB0aGlzLl9zaXplO1xyXG5cclxuICAgICAgaWYgKGN1clNpemUgPCBuZXdTaXplKSB7XHJcbiAgICAgICAgdGhpcy5wcmVwYXJlQ2FwYWNpdHkobmV3U2l6ZSk7IC8vIGNhcGFjaXR55pu05pawXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbmV3U2l6ZTsgaSsrKSB7XHJcbiAgICAgICAgdGhpcy5fcHRyW2ldID0gdmFsdWU7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHRoaXMuX3NpemUgPSBuZXdTaXplO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog44K144Kk44K65aSJ5pu0XHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyByZXNpemUobmV3U2l6ZTogbnVtYmVyLCB2YWx1ZTogVCA9IG51bGwpOiB2b2lkIHtcclxuICAgICAgdGhpcy51cGRhdGVTaXplKG5ld1NpemUsIHZhbHVlLCB0cnVlKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOOCteOCpOOCuuWkieabtFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgdXBkYXRlU2l6ZShcclxuICAgICAgbmV3U2l6ZTogbnVtYmVyLFxyXG4gICAgICB2YWx1ZTogYW55ID0gbnVsbCxcclxuICAgICAgY2FsbFBsYWNlbWVudE5ldyA9IHRydWVcclxuICAgICk6IHZvaWQge1xyXG4gICAgICBjb25zdCBjdXJTaXplOiBudW1iZXIgPSB0aGlzLl9zaXplO1xyXG5cclxuICAgICAgaWYgKGN1clNpemUgPCBuZXdTaXplKSB7XHJcbiAgICAgICAgdGhpcy5wcmVwYXJlQ2FwYWNpdHkobmV3U2l6ZSk7IC8vIGNhcGFjaXR55pu05pawXHJcblxyXG4gICAgICAgIGlmIChjYWxsUGxhY2VtZW50TmV3KSB7XHJcbiAgICAgICAgICBmb3IgKGxldCBpOiBudW1iZXIgPSB0aGlzLl9zaXplOyBpIDwgbmV3U2l6ZTsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICAgIC8vIG5ld1xyXG4gICAgICAgICAgICAgIHRoaXMuX3B0cltpXSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkobmV3IHZhbHVlKCkpKTtcclxuICAgICAgICAgICAgfSAvLyDjg5fjg6rjg5/jg4bjgqPjg5blnovjgarjga7jgaflgKTmuKHjgZdcclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgdGhpcy5fcHRyW2ldID0gdmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgZm9yIChsZXQgaTogbnVtYmVyID0gdGhpcy5fc2l6ZTsgaSA8IG5ld1NpemU7IGkrKykge1xyXG4gICAgICAgICAgICB0aGlzLl9wdHJbaV0gPSB2YWx1ZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy8gbmV3U2l6ZSA8PSB0aGlzLl9zaXplXHJcbiAgICAgICAgLy8tLS1cclxuICAgICAgICBjb25zdCBzdWIgPSB0aGlzLl9zaXplIC0gbmV3U2l6ZTtcclxuICAgICAgICB0aGlzLl9wdHIuc3BsaWNlKHRoaXMuX3NpemUgLSBzdWIsIHN1Yik7IC8vIOS4jeimgeOBquOBruOBp+egtOajhOOBmeOCi1xyXG4gICAgICB9XHJcbiAgICAgIHRoaXMuX3NpemUgPSBuZXdTaXplO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog44Kz44Oz44OG44OK44Gr44Kz44Oz44OG44OK6KaB57Sg44KS5oy/5YWl44GZ44KLXHJcbiAgICAgKiBAcGFyYW0gcG9zaXRpb24g5oy/5YWl44GZ44KL5L2N572uXHJcbiAgICAgKiBAcGFyYW0gYmVnaW4g5oy/5YWl44GZ44KL44Kz44Oz44OG44OK44Gu6ZaL5aeL5L2N572uXHJcbiAgICAgKiBAcGFyYW0gZW5kIOaMv+WFpeOBmeOCi+OCs+ODs+ODhuODiuOBrue1guerr+S9jee9rlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgaW5zZXJ0KFxyXG4gICAgICBwb3NpdGlvbjogaXRlcmF0b3I8VD4sXHJcbiAgICAgIGJlZ2luOiBpdGVyYXRvcjxUPixcclxuICAgICAgZW5kOiBpdGVyYXRvcjxUPlxyXG4gICAgKTogdm9pZCB7XHJcbiAgICAgIGxldCBkc3RTaTogbnVtYmVyID0gcG9zaXRpb24uX2luZGV4O1xyXG4gICAgICBjb25zdCBzcmNTaTogbnVtYmVyID0gYmVnaW4uX2luZGV4O1xyXG4gICAgICBjb25zdCBzcmNFaTogbnVtYmVyID0gZW5kLl9pbmRleDtcclxuXHJcbiAgICAgIGNvbnN0IGFkZENvdW50OiBudW1iZXIgPSBzcmNFaSAtIHNyY1NpO1xyXG5cclxuICAgICAgdGhpcy5wcmVwYXJlQ2FwYWNpdHkodGhpcy5fc2l6ZSArIGFkZENvdW50KTtcclxuXHJcbiAgICAgIC8vIOaMv+WFpeeUqOOBruaXouWtmOODh+ODvOOCv+OCkuOCt+ODleODiOOBl+OBpumamemWk+OCkuS9nOOCi1xyXG4gICAgICBjb25zdCBhZGRTaXplID0gdGhpcy5fc2l6ZSAtIGRzdFNpO1xyXG4gICAgICBpZiAoYWRkU2l6ZSA+IDApIHtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFkZFNpemU7IGkrKykge1xyXG4gICAgICAgICAgdGhpcy5fcHRyLnNwbGljZShkc3RTaSArIGksIDAsIG51bGwpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgZm9yIChsZXQgaTogbnVtYmVyID0gc3JjU2k7IGkgPCBzcmNFaTsgaSsrLCBkc3RTaSsrKSB7XHJcbiAgICAgICAgdGhpcy5fcHRyW2RzdFNpXSA9IGJlZ2luLl92ZWN0b3IuX3B0cltpXTtcclxuICAgICAgfVxyXG5cclxuICAgICAgdGhpcy5fc2l6ZSA9IHRoaXMuX3NpemUgKyBhZGRDb3VudDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOOCs+ODs+ODhuODiuOBi+OCieOCpOODs+ODh+ODg+OCr+OCueOBp+aMh+WumuOBl+OBn+imgee0oOOCkuWJiumZpOOBmeOCi1xyXG4gICAgICogQHBhcmFtIGluZGV4IOOCpOODs+ODh+ODg+OCr+OCueWApFxyXG4gICAgICogQHJldHVybiB0cnVlIOWJiumZpOWun+ihjFxyXG4gICAgICogQHJldHVybiBmYWxzZSDliYrpmaTnr4Tlm7LlpJZcclxuICAgICAqL1xyXG4gICAgcHVibGljIHJlbW92ZShpbmRleDogbnVtYmVyKTogYm9vbGVhbiB7XHJcbiAgICAgIGlmIChpbmRleCA8IDAgfHwgdGhpcy5fc2l6ZSA8PSBpbmRleCkge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTsgLy8g5YmK6Zmk56+E5Zuy5aSWXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHRoaXMuX3B0ci5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAtLXRoaXMuX3NpemU7XHJcblxyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOOCs+ODs+ODhuODiuOBi+OCieimgee0oOOCkuWJiumZpOOBl+OBpuS7luOBruimgee0oOOCkuOCt+ODleODiOOBmeOCi1xyXG4gICAgICogQHBhcmFtIGl0ZSDliYrpmaTjgZnjgovopoHntKBcclxuICAgICAqL1xyXG4gICAgcHVibGljIGVyYXNlKGl0ZTogaXRlcmF0b3I8VD4pOiBpdGVyYXRvcjxUPiB7XHJcbiAgICAgIGNvbnN0IGluZGV4OiBudW1iZXIgPSBpdGUuX2luZGV4O1xyXG4gICAgICBpZiAoaW5kZXggPCAwIHx8IHRoaXMuX3NpemUgPD0gaW5kZXgpIHtcclxuICAgICAgICByZXR1cm4gaXRlOyAvLyDliYrpmaTnr4Tlm7LlpJZcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8g5YmK6ZmkXHJcbiAgICAgIHRoaXMuX3B0ci5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAtLXRoaXMuX3NpemU7XHJcblxyXG4gICAgICBjb25zdCBpdGUyOiBpdGVyYXRvcjxUPiA9IG5ldyBpdGVyYXRvcjxUPih0aGlzLCBpbmRleCk7IC8vIOe1guS6hlxyXG4gICAgICByZXR1cm4gaXRlMjtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOOCs+ODs+ODhuODiuOBruOCreODo+ODkeOCt+ODhuOCo+OCkueiuuS/neOBmeOCi1xyXG4gICAgICogQHBhcmFtIG5ld1NpemUg5paw44Gf44Gq44Kt44Oj44OR44K344OG44Kj44CC5byV5pWw44Gu5YCk44GM54++5Zyo44Gu44K144Kk44K65pyq5rqA44Gu5aC05ZCI44Gv5L2V44KC44GX44Gq44GELlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgcHJlcGFyZUNhcGFjaXR5KG5ld1NpemU6IG51bWJlcik6IHZvaWQge1xyXG4gICAgICBpZiAobmV3U2l6ZSA+IHRoaXMuX2NhcGFjaXR5KSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2NhcGFjaXR5ID09IDApIHtcclxuICAgICAgICAgIHRoaXMuX3B0ciA9IG5ldyBBcnJheShuZXdTaXplKTtcclxuICAgICAgICAgIHRoaXMuX2NhcGFjaXR5ID0gbmV3U2l6ZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgdGhpcy5fcHRyLmxlbmd0aCA9IG5ld1NpemU7XHJcbiAgICAgICAgICB0aGlzLl9jYXBhY2l0eSA9IG5ld1NpemU7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDjgrPjg7Pjg4bjg4rjga7lhYjpoK3opoHntKDjgpLov5TjgZlcclxuICAgICAqL1xyXG4gICAgcHVibGljIGJlZ2luKCk6IGl0ZXJhdG9yPFQ+IHtcclxuICAgICAgY29uc3QgaXRlOiBpdGVyYXRvcjxUPiA9XHJcbiAgICAgICAgdGhpcy5fc2l6ZSA9PSAwID8gdGhpcy5lbmQoKSA6IG5ldyBpdGVyYXRvcjxUPih0aGlzLCAwKTtcclxuICAgICAgcmV0dXJuIGl0ZTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOOCs+ODs+ODhuODiuOBrue1guerr+imgee0oOOCkui/lOOBmVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZW5kKCk6IGl0ZXJhdG9yPFQ+IHtcclxuICAgICAgY29uc3QgaXRlOiBpdGVyYXRvcjxUPiA9IG5ldyBpdGVyYXRvcjxUPih0aGlzLCB0aGlzLl9zaXplKTtcclxuICAgICAgcmV0dXJuIGl0ZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0T2Zmc2V0KG9mZnNldDogbnVtYmVyKTogY3NtVmVjdG9yPFQ+IHtcclxuICAgICAgY29uc3QgbmV3VmVjdG9yID0gbmV3IGNzbVZlY3RvcjxUPigpO1xyXG4gICAgICBuZXdWZWN0b3IuX3B0ciA9IHRoaXMuZ2V0KG9mZnNldCk7XHJcbiAgICAgIG5ld1ZlY3Rvci5fc2l6ZSA9IHRoaXMuZ2V0KG9mZnNldCkubGVuZ3RoO1xyXG4gICAgICBuZXdWZWN0b3IuX2NhcGFjaXR5ID0gdGhpcy5nZXQob2Zmc2V0KS5sZW5ndGg7XHJcblxyXG4gICAgICByZXR1cm4gbmV3VmVjdG9yO1xyXG4gICAgfVxyXG5cclxuICAgIF9wdHI6IFRbXTsgLy8g44Kz44Oz44OG44OK44Gu5YWI6aCt44Ki44OJ44Os44K5XHJcbiAgICBfc2l6ZTogbnVtYmVyOyAvLyDjgrPjg7Pjg4bjg4rjga7opoHntKDmlbBcclxuICAgIF9jYXBhY2l0eTogbnVtYmVyOyAvLyDjgrPjg7Pjg4bjg4rjga7jgq3jg6Pjg5Hjgrfjg4bjgqNcclxuXHJcbiAgICBzdGF0aWMgcmVhZG9ubHkgc19kZWZhdWx0U2l6ZSA9IDEwOyAvLyDjgrPjg7Pjg4bjg4rliJ3mnJ/ljJbjga7jg4fjg5Xjgqnjg6vjg4jjgrXjgqTjgrpcclxuICB9XHJcblxyXG4gIGV4cG9ydCBjbGFzcyBpdGVyYXRvcjxUPiB7XHJcbiAgICAvKipcclxuICAgICAqIOOCs+ODs+OCueODiOODqeOCr+OCv1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3Iodj86IGNzbVZlY3RvcjxUPiwgaW5kZXg/OiBudW1iZXIpIHtcclxuICAgICAgdGhpcy5fdmVjdG9yID0gdiAhPSB1bmRlZmluZWQgPyB2IDogbnVsbDtcclxuICAgICAgdGhpcy5faW5kZXggPSBpbmRleCAhPSB1bmRlZmluZWQgPyBpbmRleCA6IDA7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDku6PlhaVcclxuICAgICAqL1xyXG4gICAgcHVibGljIHNldChpdGU6IGl0ZXJhdG9yPFQ+KTogaXRlcmF0b3I8VD4ge1xyXG4gICAgICB0aGlzLl9pbmRleCA9IGl0ZS5faW5kZXg7XHJcbiAgICAgIHRoaXMuX3ZlY3RvciA9IGl0ZS5fdmVjdG9yO1xyXG4gICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOWJjee9ruOBjSsr5ryU566XXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBwcmVJbmNyZW1lbnQoKTogaXRlcmF0b3I8VD4ge1xyXG4gICAgICArK3RoaXMuX2luZGV4O1xyXG4gICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOWJjee9ruOBjS0t5ryU566XXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBwcmVEZWNyZW1lbnQoKTogaXRlcmF0b3I8VD4ge1xyXG4gICAgICAtLXRoaXMuX2luZGV4O1xyXG4gICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOW+jOe9ruOBjSsr5ryU566X5a2QXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBpbmNyZW1lbnQoKTogaXRlcmF0b3I8VD4ge1xyXG4gICAgICBjb25zdCBpdGVvbGQgPSBuZXcgaXRlcmF0b3I8VD4odGhpcy5fdmVjdG9yLCB0aGlzLl9pbmRleCsrKTtcclxuICAgICAgdGhpcy5fdmVjdG9yID0gaXRlb2xkLl92ZWN0b3I7XHJcbiAgICAgIHRoaXMuX2luZGV4ID0gaXRlb2xkLl9pbmRleDtcclxuICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDlvoznva7jgY0tLea8lOeul+WtkFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZGVjcmVtZW50KCk6IGl0ZXJhdG9yPFQ+IHtcclxuICAgICAgY29uc3QgaXRlb2xkID0gbmV3IGl0ZXJhdG9yPFQ+KHRoaXMuX3ZlY3RvciwgdGhpcy5faW5kZXgtLSk7IC8vIOWPpOOBhOWApOOCkuS/neWtmFxyXG4gICAgICB0aGlzLl92ZWN0b3IgPSBpdGVvbGQuX3ZlY3RvcjtcclxuICAgICAgdGhpcy5faW5kZXggPSBpdGVvbGQuX2luZGV4O1xyXG4gICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIHB0clxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgcHRyKCk6IFQge1xyXG4gICAgICByZXR1cm4gdGhpcy5fdmVjdG9yLl9wdHJbdGhpcy5faW5kZXhdO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogPea8lOeul+WtkOOBruOCquODvOODkOODvOODreODvOODiVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc3Vic3RpdHV0aW9uKGl0ZTogaXRlcmF0b3I8VD4pOiBpdGVyYXRvcjxUPiB7XHJcbiAgICAgIHRoaXMuX2luZGV4ID0gaXRlLl9pbmRleDtcclxuICAgICAgdGhpcy5fdmVjdG9yID0gaXRlLl92ZWN0b3I7XHJcbiAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogIT3mvJTnrpflrZDjga7jgqrjg7zjg5Djg7zjg63jg7zjg4lcclxuICAgICAqL1xyXG4gICAgcHVibGljIG5vdEVxdWFsKGl0ZTogaXRlcmF0b3I8VD4pOiBib29sZWFuIHtcclxuICAgICAgcmV0dXJuIHRoaXMuX2luZGV4ICE9IGl0ZS5faW5kZXggfHwgdGhpcy5fdmVjdG9yICE9IGl0ZS5fdmVjdG9yO1xyXG4gICAgfVxyXG5cclxuICAgIF9pbmRleDogbnVtYmVyOyAvLyDjgrPjg7Pjg4bjg4rjga7jgqTjg7Pjg4fjg4Pjgq/jgrnlgKRcclxuICAgIF92ZWN0b3I6IGNzbVZlY3RvcjxUPjsgLy8g44Kz44Oz44OG44OKXHJcbiAgfVxyXG59XHJcbiJdLCJtYXBwaW5ncyI6Ijs7O0FBT0E7QUFBQTtBQUlBO0FBTUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFLQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBR0E7QUFFQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUtBO0FBQUE7QUFDQTtBQUNBO0FBS0E7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFRQTtBQUtBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUVBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBTUE7QUFDQTtBQUFBO0FBOVBBO0FBZ1FBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFJQTtBQUFBO0FBL0VBO0FBZ0ZBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./Framework/src/type/csmvector.ts\n");

/***/ }),

/***/ "./Framework/src/utils/cubismdebug.ts":
/*!********************************************!*\
  !*** ./Framework/src/utils/cubismdebug.ts ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Live2DCubismFramework = exports.CubismLogError = exports.CubismLogWarning = exports.CubismLogInfo = exports.CubismLogDebug = exports.CubismLogVerbose = exports.CSM_ASSERT = exports.CubismLogPrintIn = exports.CubismLogPrint = void 0;\r\nvar live2dcubismframework_1 = __webpack_require__(/*! ../live2dcubismframework */ \"./Framework/src/live2dcubismframework.ts\");\r\nvar cubismframeworkconfig_1 = __webpack_require__(/*! ../cubismframeworkconfig */ \"./Framework/src/cubismframeworkconfig.ts\");\r\nexports.CubismLogPrint = function (level, fmt, args) {\r\n    Live2DCubismFramework.CubismDebug.print(level, '[CSM]' + fmt, args);\r\n};\r\nexports.CubismLogPrintIn = function (level, fmt, args) {\r\n    exports.CubismLogPrint(level, fmt + '\\n', args);\r\n};\r\nexports.CSM_ASSERT = function (expr) {\r\n    console.assert(expr);\r\n};\r\nif (cubismframeworkconfig_1.CSM_LOG_LEVEL <= cubismframeworkconfig_1.CSM_LOG_LEVEL_VERBOSE) {\r\n    exports.CubismLogVerbose = function (fmt) {\r\n        var args = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            args[_i - 1] = arguments[_i];\r\n        }\r\n        exports.CubismLogPrintIn(live2dcubismframework_1.LogLevel.LogLevel_Verbose, '[V]' + fmt, args);\r\n    };\r\n    exports.CubismLogDebug = function (fmt) {\r\n        var args = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            args[_i - 1] = arguments[_i];\r\n        }\r\n        exports.CubismLogPrintIn(live2dcubismframework_1.LogLevel.LogLevel_Debug, '[D]' + fmt, args);\r\n    };\r\n    exports.CubismLogInfo = function (fmt) {\r\n        var args = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            args[_i - 1] = arguments[_i];\r\n        }\r\n        exports.CubismLogPrintIn(live2dcubismframework_1.LogLevel.LogLevel_Info, '[I]' + fmt, args);\r\n    };\r\n    exports.CubismLogWarning = function (fmt) {\r\n        var args = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            args[_i - 1] = arguments[_i];\r\n        }\r\n        exports.CubismLogPrintIn(live2dcubismframework_1.LogLevel.LogLevel_Warning, '[W]' + fmt, args);\r\n    };\r\n    exports.CubismLogError = function (fmt) {\r\n        var args = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            args[_i - 1] = arguments[_i];\r\n        }\r\n        exports.CubismLogPrintIn(live2dcubismframework_1.LogLevel.LogLevel_Error, '[E]' + fmt, args);\r\n    };\r\n}\r\nelse if (cubismframeworkconfig_1.CSM_LOG_LEVEL == cubismframeworkconfig_1.CSM_LOG_LEVEL_DEBUG) {\r\n    exports.CubismLogDebug = function (fmt) {\r\n        var args = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            args[_i - 1] = arguments[_i];\r\n        }\r\n        exports.CubismLogPrintIn(live2dcubismframework_1.LogLevel.LogLevel_Debug, '[D]' + fmt, args);\r\n    };\r\n    exports.CubismLogInfo = function (fmt) {\r\n        var args = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            args[_i - 1] = arguments[_i];\r\n        }\r\n        exports.CubismLogPrintIn(live2dcubismframework_1.LogLevel.LogLevel_Info, '[I]' + fmt, args);\r\n    };\r\n    exports.CubismLogWarning = function (fmt) {\r\n        var args = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            args[_i - 1] = arguments[_i];\r\n        }\r\n        exports.CubismLogPrintIn(live2dcubismframework_1.LogLevel.LogLevel_Warning, '[W]' + fmt, args);\r\n    };\r\n    exports.CubismLogError = function (fmt) {\r\n        var args = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            args[_i - 1] = arguments[_i];\r\n        }\r\n        exports.CubismLogPrintIn(live2dcubismframework_1.LogLevel.LogLevel_Error, '[E]' + fmt, args);\r\n    };\r\n}\r\nelse if (cubismframeworkconfig_1.CSM_LOG_LEVEL == cubismframeworkconfig_1.CSM_LOG_LEVEL_INFO) {\r\n    exports.CubismLogInfo = function (fmt) {\r\n        var args = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            args[_i - 1] = arguments[_i];\r\n        }\r\n        exports.CubismLogPrintIn(live2dcubismframework_1.LogLevel.LogLevel_Info, '[I]' + fmt, args);\r\n    };\r\n    exports.CubismLogWarning = function (fmt) {\r\n        var args = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            args[_i - 1] = arguments[_i];\r\n        }\r\n        exports.CubismLogPrintIn(live2dcubismframework_1.LogLevel.LogLevel_Warning, '[W]' + fmt, args);\r\n    };\r\n    exports.CubismLogError = function (fmt) {\r\n        var args = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            args[_i - 1] = arguments[_i];\r\n        }\r\n        exports.CubismLogPrintIn(live2dcubismframework_1.LogLevel.LogLevel_Error, '[E]' + fmt, args);\r\n    };\r\n}\r\nelse if (cubismframeworkconfig_1.CSM_LOG_LEVEL == cubismframeworkconfig_1.CSM_LOG_LEVEL_WARNING) {\r\n    exports.CubismLogWarning = function (fmt) {\r\n        var args = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            args[_i - 1] = arguments[_i];\r\n        }\r\n        exports.CubismLogPrintIn(live2dcubismframework_1.LogLevel.LogLevel_Warning, '[W]' + fmt, args);\r\n    };\r\n    exports.CubismLogError = function (fmt) {\r\n        var args = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            args[_i - 1] = arguments[_i];\r\n        }\r\n        exports.CubismLogPrintIn(live2dcubismframework_1.LogLevel.LogLevel_Error, '[E]' + fmt, args);\r\n    };\r\n}\r\nelse if (cubismframeworkconfig_1.CSM_LOG_LEVEL == cubismframeworkconfig_1.CSM_LOG_LEVEL_ERROR) {\r\n    exports.CubismLogError = function (fmt) {\r\n        var args = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            args[_i - 1] = arguments[_i];\r\n        }\r\n        exports.CubismLogPrintIn(live2dcubismframework_1.LogLevel.LogLevel_Error, '[E]' + fmt, args);\r\n    };\r\n}\r\nvar Live2DCubismFramework;\r\n(function (Live2DCubismFramework) {\r\n    var CubismDebug = (function () {\r\n        function CubismDebug() {\r\n        }\r\n        CubismDebug.print = function (logLevel, format, args) {\r\n            if (logLevel < live2dcubismframework_1.Live2DCubismFramework.CubismFramework.getLoggingLevel()) {\r\n                return;\r\n            }\r\n            var logPrint = live2dcubismframework_1.Live2DCubismFramework.CubismFramework.coreLogFunction;\r\n            if (!logPrint)\r\n                return;\r\n            var buffer = format.replace(/\\{(\\d+)\\}/g, function (m, k) {\r\n                return args[k];\r\n            });\r\n            logPrint(buffer);\r\n        };\r\n        CubismDebug.dumpBytes = function (logLevel, data, length) {\r\n            for (var i = 0; i < length; i++) {\r\n                if (i % 16 == 0 && i > 0)\r\n                    this.print(logLevel, '\\n');\r\n                else if (i % 8 == 0 && i > 0)\r\n                    this.print(logLevel, '  ');\r\n                this.print(logLevel, '{0} ', [data[i] & 0xff]);\r\n            }\r\n            this.print(logLevel, '\\n');\r\n        };\r\n        return CubismDebug;\r\n    }());\r\n    Live2DCubismFramework.CubismDebug = CubismDebug;\r\n})(Live2DCubismFramework = exports.Live2DCubismFramework || (exports.Live2DCubismFramework = {}));\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9GcmFtZXdvcmsvc3JjL3V0aWxzL2N1YmlzbWRlYnVnLnRzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbGl2ZTJkLy4vRnJhbWV3b3JrL3NyYy91dGlscy9jdWJpc21kZWJ1Zy50cz9mMGVlIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBDb3B5cmlnaHQoYykgTGl2ZTJEIEluYy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuICpcclxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgdGhlIExpdmUyRCBPcGVuIFNvZnR3YXJlIGxpY2Vuc2VcclxuICogdGhhdCBjYW4gYmUgZm91bmQgYXQgaHR0cHM6Ly93d3cubGl2ZTJkLmNvbS9ldWxhL2xpdmUyZC1vcGVuLXNvZnR3YXJlLWxpY2Vuc2UtYWdyZWVtZW50X2VuLmh0bWwuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHtcclxuICBMaXZlMkRDdWJpc21GcmFtZXdvcmsgYXMgY3ViaXNtZnJhbWV3b3JrLFxyXG4gIExvZ0xldmVsXHJcbn0gZnJvbSAnLi4vbGl2ZTJkY3ViaXNtZnJhbWV3b3JrJztcclxuaW1wb3J0IHtcclxuICBDU01fTE9HX0xFVkVMLFxyXG4gIENTTV9MT0dfTEVWRUxfVkVSQk9TRSxcclxuICBDU01fTE9HX0xFVkVMX0RFQlVHLFxyXG4gIENTTV9MT0dfTEVWRUxfSU5GTyxcclxuICBDU01fTE9HX0xFVkVMX1dBUk5JTkcsXHJcbiAgQ1NNX0xPR19MRVZFTF9FUlJPUlxyXG59IGZyb20gJy4uL2N1YmlzbWZyYW1ld29ya2NvbmZpZyc7XHJcblxyXG5leHBvcnQgY29uc3QgQ3ViaXNtTG9nUHJpbnQgPSAobGV2ZWw6IExvZ0xldmVsLCBmbXQ6IHN0cmluZywgYXJnczogYW55W10pID0+IHtcclxuICBMaXZlMkRDdWJpc21GcmFtZXdvcmsuQ3ViaXNtRGVidWcucHJpbnQobGV2ZWwsICdbQ1NNXScgKyBmbXQsIGFyZ3MpO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IEN1YmlzbUxvZ1ByaW50SW4gPSAobGV2ZWw6IExvZ0xldmVsLCBmbXQ6IHN0cmluZywgYXJnczogYW55W10pID0+IHtcclxuICBDdWJpc21Mb2dQcmludChsZXZlbCwgZm10ICsgJ1xcbicsIGFyZ3MpO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IENTTV9BU1NFUlQgPSAoZXhwcjogYW55KSA9PiB7XHJcbiAgY29uc29sZS5hc3NlcnQoZXhwcik7XHJcbn07XHJcblxyXG5leHBvcnQgbGV0IEN1YmlzbUxvZ1ZlcmJvc2U6IChmbXQ6IHN0cmluZywgLi4uYXJnczogYW55W10pID0+IHZvaWQ7XHJcbmV4cG9ydCBsZXQgQ3ViaXNtTG9nRGVidWc6IChmbXQ6IHN0cmluZywgLi4uYXJnczogYW55W10pID0+IHZvaWQ7XHJcbmV4cG9ydCBsZXQgQ3ViaXNtTG9nSW5mbzogKGZtdDogc3RyaW5nLCAuLi5hcmdzOiBhbnlbXSkgPT4gdm9pZDtcclxuZXhwb3J0IGxldCBDdWJpc21Mb2dXYXJuaW5nOiAoZm10OiBzdHJpbmcsIC4uLmFyZ3M6IGFueVtdKSA9PiB2b2lkO1xyXG5leHBvcnQgbGV0IEN1YmlzbUxvZ0Vycm9yOiAoZm10OiBzdHJpbmcsIC4uLmFyZ3M6IGFueVtdKSA9PiB2b2lkO1xyXG5cclxuaWYgKENTTV9MT0dfTEVWRUwgPD0gQ1NNX0xPR19MRVZFTF9WRVJCT1NFKSB7XHJcbiAgQ3ViaXNtTG9nVmVyYm9zZSA9IChmbXQ6IHN0cmluZywgLi4uYXJnczogYW55W10pID0+IHtcclxuICAgIEN1YmlzbUxvZ1ByaW50SW4oTG9nTGV2ZWwuTG9nTGV2ZWxfVmVyYm9zZSwgJ1tWXScgKyBmbXQsIGFyZ3MpO1xyXG4gIH07XHJcblxyXG4gIEN1YmlzbUxvZ0RlYnVnID0gKGZtdDogc3RyaW5nLCAuLi5hcmdzOiBhbnlbXSkgPT4ge1xyXG4gICAgQ3ViaXNtTG9nUHJpbnRJbihMb2dMZXZlbC5Mb2dMZXZlbF9EZWJ1ZywgJ1tEXScgKyBmbXQsIGFyZ3MpO1xyXG4gIH07XHJcblxyXG4gIEN1YmlzbUxvZ0luZm8gPSAoZm10OiBzdHJpbmcsIC4uLmFyZ3M6IGFueVtdKSA9PiB7XHJcbiAgICBDdWJpc21Mb2dQcmludEluKExvZ0xldmVsLkxvZ0xldmVsX0luZm8sICdbSV0nICsgZm10LCBhcmdzKTtcclxuICB9O1xyXG5cclxuICBDdWJpc21Mb2dXYXJuaW5nID0gKGZtdDogc3RyaW5nLCAuLi5hcmdzOiBhbnlbXSkgPT4ge1xyXG4gICAgQ3ViaXNtTG9nUHJpbnRJbihMb2dMZXZlbC5Mb2dMZXZlbF9XYXJuaW5nLCAnW1ddJyArIGZtdCwgYXJncyk7XHJcbiAgfTtcclxuXHJcbiAgQ3ViaXNtTG9nRXJyb3IgPSAoZm10OiBzdHJpbmcsIC4uLmFyZ3M6IGFueVtdKSA9PiB7XHJcbiAgICBDdWJpc21Mb2dQcmludEluKExvZ0xldmVsLkxvZ0xldmVsX0Vycm9yLCAnW0VdJyArIGZtdCwgYXJncyk7XHJcbiAgfTtcclxufSBlbHNlIGlmIChDU01fTE9HX0xFVkVMID09IENTTV9MT0dfTEVWRUxfREVCVUcpIHtcclxuICBDdWJpc21Mb2dEZWJ1ZyA9IChmbXQ6IHN0cmluZywgLi4uYXJnczogYW55W10pID0+IHtcclxuICAgIEN1YmlzbUxvZ1ByaW50SW4oTG9nTGV2ZWwuTG9nTGV2ZWxfRGVidWcsICdbRF0nICsgZm10LCBhcmdzKTtcclxuICB9O1xyXG5cclxuICBDdWJpc21Mb2dJbmZvID0gKGZtdDogc3RyaW5nLCAuLi5hcmdzOiBhbnlbXSkgPT4ge1xyXG4gICAgQ3ViaXNtTG9nUHJpbnRJbihMb2dMZXZlbC5Mb2dMZXZlbF9JbmZvLCAnW0ldJyArIGZtdCwgYXJncyk7XHJcbiAgfTtcclxuXHJcbiAgQ3ViaXNtTG9nV2FybmluZyA9IChmbXQ6IHN0cmluZywgLi4uYXJnczogYW55W10pID0+IHtcclxuICAgIEN1YmlzbUxvZ1ByaW50SW4oTG9nTGV2ZWwuTG9nTGV2ZWxfV2FybmluZywgJ1tXXScgKyBmbXQsIGFyZ3MpO1xyXG4gIH07XHJcblxyXG4gIEN1YmlzbUxvZ0Vycm9yID0gKGZtdDogc3RyaW5nLCAuLi5hcmdzOiBhbnlbXSkgPT4ge1xyXG4gICAgQ3ViaXNtTG9nUHJpbnRJbihMb2dMZXZlbC5Mb2dMZXZlbF9FcnJvciwgJ1tFXScgKyBmbXQsIGFyZ3MpO1xyXG4gIH07XHJcbn0gZWxzZSBpZiAoQ1NNX0xPR19MRVZFTCA9PSBDU01fTE9HX0xFVkVMX0lORk8pIHtcclxuICBDdWJpc21Mb2dJbmZvID0gKGZtdDogc3RyaW5nLCAuLi5hcmdzOiBhbnlbXSkgPT4ge1xyXG4gICAgQ3ViaXNtTG9nUHJpbnRJbihMb2dMZXZlbC5Mb2dMZXZlbF9JbmZvLCAnW0ldJyArIGZtdCwgYXJncyk7XHJcbiAgfTtcclxuXHJcbiAgQ3ViaXNtTG9nV2FybmluZyA9IChmbXQ6IHN0cmluZywgLi4uYXJnczogYW55W10pID0+IHtcclxuICAgIEN1YmlzbUxvZ1ByaW50SW4oTG9nTGV2ZWwuTG9nTGV2ZWxfV2FybmluZywgJ1tXXScgKyBmbXQsIGFyZ3MpO1xyXG4gIH07XHJcblxyXG4gIEN1YmlzbUxvZ0Vycm9yID0gKGZtdDogc3RyaW5nLCAuLi5hcmdzOiBhbnlbXSkgPT4ge1xyXG4gICAgQ3ViaXNtTG9nUHJpbnRJbihMb2dMZXZlbC5Mb2dMZXZlbF9FcnJvciwgJ1tFXScgKyBmbXQsIGFyZ3MpO1xyXG4gIH07XHJcbn0gZWxzZSBpZiAoQ1NNX0xPR19MRVZFTCA9PSBDU01fTE9HX0xFVkVMX1dBUk5JTkcpIHtcclxuICBDdWJpc21Mb2dXYXJuaW5nID0gKGZtdDogc3RyaW5nLCAuLi5hcmdzOiBhbnlbXSkgPT4ge1xyXG4gICAgQ3ViaXNtTG9nUHJpbnRJbihMb2dMZXZlbC5Mb2dMZXZlbF9XYXJuaW5nLCAnW1ddJyArIGZtdCwgYXJncyk7XHJcbiAgfTtcclxuXHJcbiAgQ3ViaXNtTG9nRXJyb3IgPSAoZm10OiBzdHJpbmcsIC4uLmFyZ3M6IGFueVtdKSA9PiB7XHJcbiAgICBDdWJpc21Mb2dQcmludEluKExvZ0xldmVsLkxvZ0xldmVsX0Vycm9yLCAnW0VdJyArIGZtdCwgYXJncyk7XHJcbiAgfTtcclxufSBlbHNlIGlmIChDU01fTE9HX0xFVkVMID09IENTTV9MT0dfTEVWRUxfRVJST1IpIHtcclxuICBDdWJpc21Mb2dFcnJvciA9IChmbXQ6IHN0cmluZywgLi4uYXJnczogYW55W10pID0+IHtcclxuICAgIEN1YmlzbUxvZ1ByaW50SW4oTG9nTGV2ZWwuTG9nTGV2ZWxfRXJyb3IsICdbRV0nICsgZm10LCBhcmdzKTtcclxuICB9O1xyXG59XHJcblxyXG4vLy0tLS0tLS0tLS0tLSBMSVZFMkQgTkFNRVNQQUNFIC0tLS0tLS0tLS0tLVxyXG5leHBvcnQgbmFtZXNwYWNlIExpdmUyREN1YmlzbUZyYW1ld29yayB7XHJcbiAgLyoqXHJcbiAgICog44OH44OQ44OD44Kw55So44Gu44Om44O844OG44Kj44Oq44OG44Kj44Kv44Op44K544CCXHJcbiAgICog44Ot44Kw44Gu5Ye65Yqb44CB44OQ44Kk44OI44Gu44OA44Oz44OX44Gq44GpXHJcbiAgICovXHJcbiAgZXhwb3J0IGNsYXNzIEN1YmlzbURlYnVnIHtcclxuICAgIC8qKlxyXG4gICAgICog44Ot44Kw44KS5Ye65Yqb44GZ44KL44CC56ys5LiA5byV5pWw44Gr44Ot44Kw44Os44OZ44Or44KS6Kit5a6a44GZ44KL44CCXHJcbiAgICAgKiBDdWJpc21GcmFtZXdvcmsuaW5pdGlhbGl6ZSgp5pmC44Gr44Kq44OX44K344On44Oz44Gn6Kit5a6a44GV44KM44Gf44Ot44Kw5Ye65Yqb44Os44OZ44Or44KS5LiL5Zue44KL5aC05ZCI44Gv44Ot44Kw44Gr5Ye644GV44Gq44GE44CCXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGxvZ0xldmVsIOODreOCsOODrOODmeODq+OBruioreWumlxyXG4gICAgICogQHBhcmFtIGZvcm1hdCDmm7jlvI/ku5jjgY3mloflrZfliJdcclxuICAgICAqIEBwYXJhbSBhcmdzIOWPr+WkiemVt+W8leaVsFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc3RhdGljIHByaW50KFxyXG4gICAgICBsb2dMZXZlbDogTG9nTGV2ZWwsXHJcbiAgICAgIGZvcm1hdDogc3RyaW5nLFxyXG4gICAgICBhcmdzPzogYW55W11cclxuICAgICk6IHZvaWQge1xyXG4gICAgICAvLyDjgqrjg5fjgrfjg6fjg7PjgafoqK3lrprjgZXjgozjgZ/jg63jgrDlh7rlipvjg6zjg5njg6vjgpLkuIvlm57jgovloLTlkIjjga/jg63jgrDjgavlh7rjgZXjgarjgYRcclxuICAgICAgaWYgKGxvZ0xldmVsIDwgY3ViaXNtZnJhbWV3b3JrLkN1YmlzbUZyYW1ld29yay5nZXRMb2dnaW5nTGV2ZWwoKSkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc3QgbG9nUHJpbnQ6IExpdmUyREN1YmlzbUNvcmUuY3NtTG9nRnVuY3Rpb24gPVxyXG4gICAgICAgIGN1YmlzbWZyYW1ld29yay5DdWJpc21GcmFtZXdvcmsuY29yZUxvZ0Z1bmN0aW9uO1xyXG5cclxuICAgICAgaWYgKCFsb2dQcmludCkgcmV0dXJuO1xyXG5cclxuICAgICAgY29uc3QgYnVmZmVyOiBzdHJpbmcgPSBmb3JtYXQucmVwbGFjZSgvXFx7KFxcZCspXFx9L2csIChtLCBrKSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIGFyZ3Nba107XHJcbiAgICAgIH0pO1xyXG4gICAgICBsb2dQcmludChidWZmZXIpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog44OH44O844K/44GL44KJ5oyH5a6a44GX44Gf6ZW344GV44Gg44GR44OA44Oz44OX5Ye65Yqb44GZ44KL44CCXHJcbiAgICAgKiBDdWJpc21GcmFtZXdvcmsuaW5pdGlhbGl6ZSgp5pmC44Gr44Kq44OX44K344On44Oz44Gn6Kit5a6a44GV44KM44Gf44Ot44Kw5Ye65Yqb44Os44OZ44Or44KS5LiL5Zue44KL5aC05ZCI44Gv44Ot44Kw44Gr5Ye644GV44Gq44GE44CCXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGxvZ0xldmVsIOODreOCsOODrOODmeODq+OBruioreWumlxyXG4gICAgICogQHBhcmFtIGRhdGEg44OA44Oz44OX44GZ44KL44OH44O844K/XHJcbiAgICAgKiBAcGFyYW0gbGVuZ3RoIOODgOODs+ODl+OBmeOCi+mVt+OBlVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc3RhdGljIGR1bXBCeXRlcyhcclxuICAgICAgbG9nTGV2ZWw6IExvZ0xldmVsLFxyXG4gICAgICBkYXRhOiBVaW50OEFycmF5LFxyXG4gICAgICBsZW5ndGg6IG51bWJlclxyXG4gICAgKTogdm9pZCB7XHJcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBpZiAoaSAlIDE2ID09IDAgJiYgaSA+IDApIHRoaXMucHJpbnQobG9nTGV2ZWwsICdcXG4nKTtcclxuICAgICAgICBlbHNlIGlmIChpICUgOCA9PSAwICYmIGkgPiAwKSB0aGlzLnByaW50KGxvZ0xldmVsLCAnICAnKTtcclxuICAgICAgICB0aGlzLnByaW50KGxvZ0xldmVsLCAnezB9ICcsIFtkYXRhW2ldICYgMHhmZl0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB0aGlzLnByaW50KGxvZ0xldmVsLCAnXFxuJyk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBwcml2YXRlIOOCs+ODs+OCueODiOODqeOCr+OCv1xyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGNvbnN0cnVjdG9yKCkge31cclxuICB9XHJcbn1cclxuXHJcbi8vLS0tLS0tLS0tLS0tIExJVkUyRCBOQU1FU1BBQ0UgLS0tLS0tLS0tLS0tXHJcbiJdLCJtYXBwaW5ncyI6Ijs7O0FBT0E7QUFJQTtBQVNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQVFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7O0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUFBOztBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFBQTs7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQUE7O0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUFBOztBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7O0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUFBOztBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFBQTs7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQUE7O0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTs7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQUE7O0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUFBOztBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7O0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUFBOztBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7O0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFBQTtBQUtBO0FBdURBO0FBQUE7QUE5Q0E7QUFNQTtBQUNBO0FBQ0E7QUFFQTtBQUdBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBVUE7QUFLQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFNQTtBQUFBO0FBeERBO0FBeURBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./Framework/src/utils/cubismdebug.ts\n");

/***/ }),

/***/ "./Framework/src/utils/cubismjson.ts":
/*!*******************************************!*\
  !*** ./Framework/src/utils/cubismjson.ts ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Live2DCubismFramework = void 0;\r\nvar csmstring_1 = __webpack_require__(/*! ../type/csmstring */ \"./Framework/src/type/csmstring.ts\");\r\nvar csmmap_1 = __webpack_require__(/*! ../type/csmmap */ \"./Framework/src/type/csmmap.ts\");\r\nvar csmvector_1 = __webpack_require__(/*! ../type/csmvector */ \"./Framework/src/type/csmvector.ts\");\r\nvar cubismdebug_1 = __webpack_require__(/*! ./cubismdebug */ \"./Framework/src/utils/cubismdebug.ts\");\r\nvar live2dcubismframework_1 = __webpack_require__(/*! ../live2dcubismframework */ \"./Framework/src/live2dcubismframework.ts\");\r\nvar csmVector = csmvector_1.Live2DCubismFramework.csmVector;\r\nvar csmMap = csmmap_1.Live2DCubismFramework.csmMap;\r\nvar csmString = csmstring_1.Live2DCubismFramework.csmString;\r\nvar Live2DCubismFramework;\r\n(function (Live2DCubismFramework) {\r\n    var CSM_JSON_ERROR_TYPE_MISMATCH = 'Error: type mismatch';\r\n    var CSM_JSON_ERROR_INDEX_OF_BOUNDS = 'Error: index out of bounds';\r\n    var Value = (function () {\r\n        function Value() {\r\n        }\r\n        Value.prototype.getRawString = function (defaultValue, indent) {\r\n            return this.getString(defaultValue, indent);\r\n        };\r\n        Value.prototype.toInt = function (defaultValue) {\r\n            if (defaultValue === void 0) { defaultValue = 0; }\r\n            return defaultValue;\r\n        };\r\n        Value.prototype.toFloat = function (defaultValue) {\r\n            if (defaultValue === void 0) { defaultValue = 0; }\r\n            return defaultValue;\r\n        };\r\n        Value.prototype.toBoolean = function (defaultValue) {\r\n            if (defaultValue === void 0) { defaultValue = false; }\r\n            return defaultValue;\r\n        };\r\n        Value.prototype.getSize = function () {\r\n            return 0;\r\n        };\r\n        Value.prototype.getArray = function (defaultValue) {\r\n            if (defaultValue === void 0) { defaultValue = null; }\r\n            return defaultValue;\r\n        };\r\n        Value.prototype.getVector = function (defaultValue) {\r\n            return defaultValue;\r\n        };\r\n        Value.prototype.getMap = function (defaultValue) {\r\n            return defaultValue;\r\n        };\r\n        Value.prototype.getValueByIndex = function (index) {\r\n            return Value.errorValue.setErrorNotForClientCall(CSM_JSON_ERROR_TYPE_MISMATCH);\r\n        };\r\n        Value.prototype.getValueByString = function (s) {\r\n            return Value.nullValue.setErrorNotForClientCall(CSM_JSON_ERROR_TYPE_MISMATCH);\r\n        };\r\n        Value.prototype.getKeys = function () {\r\n            return Value.s_dummyKeys;\r\n        };\r\n        Value.prototype.isError = function () {\r\n            return false;\r\n        };\r\n        Value.prototype.isNull = function () {\r\n            return false;\r\n        };\r\n        Value.prototype.isBool = function () {\r\n            return false;\r\n        };\r\n        Value.prototype.isFloat = function () {\r\n            return false;\r\n        };\r\n        Value.prototype.isString = function () {\r\n            return false;\r\n        };\r\n        Value.prototype.isArray = function () {\r\n            return false;\r\n        };\r\n        Value.prototype.isMap = function () {\r\n            return false;\r\n        };\r\n        Value.prototype.equals = function (value) {\r\n            return false;\r\n        };\r\n        Value.prototype.isStatic = function () {\r\n            return false;\r\n        };\r\n        Value.prototype.setErrorNotForClientCall = function (errorStr) {\r\n            return JsonError.errorValue;\r\n        };\r\n        Value.staticInitializeNotForClientCall = function () {\r\n            JsonBoolean.trueValue = new JsonBoolean(true);\r\n            JsonBoolean.falseValue = new JsonBoolean(false);\r\n            JsonError.errorValue = new JsonError('ERROR', true);\r\n            this.nullValue = new JsonNullvalue();\r\n            Value.s_dummyKeys = new csmVector();\r\n        };\r\n        Value.staticReleaseNotForClientCall = function () {\r\n            JsonBoolean.trueValue = null;\r\n            JsonBoolean.falseValue = null;\r\n            JsonError.errorValue = null;\r\n            Value.nullValue = null;\r\n            Value.s_dummyKeys = null;\r\n            JsonBoolean.trueValue = null;\r\n            JsonBoolean.falseValue = null;\r\n            JsonError.errorValue = null;\r\n            Value.nullValue = null;\r\n            Value.s_dummyKeys = null;\r\n        };\r\n        return Value;\r\n    }());\r\n    Live2DCubismFramework.Value = Value;\r\n    var CubismJson = (function () {\r\n        function CubismJson(buffer, length) {\r\n            this._error = null;\r\n            this._lineCount = 0;\r\n            this._root = null;\r\n            if (buffer != undefined) {\r\n                this.parseBytes(buffer, length);\r\n            }\r\n        }\r\n        CubismJson.create = function (buffer, size) {\r\n            var json = new CubismJson();\r\n            var succeeded = json.parseBytes(buffer, size);\r\n            if (!succeeded) {\r\n                CubismJson.delete(json);\r\n                return null;\r\n            }\r\n            else {\r\n                return json;\r\n            }\r\n        };\r\n        CubismJson.delete = function (instance) {\r\n            instance = null;\r\n        };\r\n        CubismJson.prototype.getRoot = function () {\r\n            return this._root;\r\n        };\r\n        CubismJson.prototype.arrayBufferToString = function (buffer) {\r\n            var uint8Array = new Uint8Array(buffer);\r\n            var str = '';\r\n            for (var i = 0, len = uint8Array.length; i < len; ++i) {\r\n                str += '%' + this.pad(uint8Array[i].toString(16));\r\n            }\r\n            str = decodeURIComponent(str);\r\n            return str;\r\n        };\r\n        CubismJson.prototype.pad = function (n) {\r\n            return n.length < 2 ? '0' + n : n;\r\n        };\r\n        CubismJson.prototype.parseBytes = function (buffer, size) {\r\n            var endPos = new Array(1);\r\n            var decodeBuffer = this.arrayBufferToString(buffer);\r\n            this._root = this.parseValue(decodeBuffer, size, 0, endPos);\r\n            if (this._error) {\r\n                var strbuf = '\\0';\r\n                strbuf = 'Json parse error : @line ' + (this._lineCount + 1) + '\\n';\r\n                this._root = new JsonString(strbuf);\r\n                cubismdebug_1.CubismLogInfo('{0}', this._root.getRawString());\r\n                return false;\r\n            }\r\n            else if (this._root == null) {\r\n                this._root = new JsonError(new csmString(this._error), false);\r\n                return false;\r\n            }\r\n            return true;\r\n        };\r\n        CubismJson.prototype.getParseError = function () {\r\n            return this._error;\r\n        };\r\n        CubismJson.prototype.checkEndOfFile = function () {\r\n            return this._root.getArray()[1].equals('EOF');\r\n        };\r\n        CubismJson.prototype.parseValue = function (buffer, length, begin, outEndPos) {\r\n            if (this._error)\r\n                return null;\r\n            var o = null;\r\n            var i = begin;\r\n            var f;\r\n            for (; i < length; i++) {\r\n                var c = buffer[i];\r\n                switch (c) {\r\n                    case '-':\r\n                    case '.':\r\n                    case '0':\r\n                    case '1':\r\n                    case '2':\r\n                    case '3':\r\n                    case '4':\r\n                    case '5':\r\n                    case '6':\r\n                    case '7':\r\n                    case '8':\r\n                    case '9': {\r\n                        var afterString = new Array(1);\r\n                        f = live2dcubismframework_1.strtod(buffer.slice(i), afterString);\r\n                        outEndPos[0] = buffer.indexOf(afterString[0]);\r\n                        return new JsonFloat(f);\r\n                    }\r\n                    case '\"':\r\n                        return new JsonString(this.parseString(buffer, length, i + 1, outEndPos));\r\n                    case '[':\r\n                        o = this.parseArray(buffer, length, i + 1, outEndPos);\r\n                        return o;\r\n                    case '{':\r\n                        o = this.parseObject(buffer, length, i + 1, outEndPos);\r\n                        return o;\r\n                    case 'n':\r\n                        if (i + 3 < length) {\r\n                            o = new JsonNullvalue();\r\n                            outEndPos[0] = i + 4;\r\n                        }\r\n                        else {\r\n                            this._error = 'parse null';\r\n                        }\r\n                        return o;\r\n                    case 't':\r\n                        if (i + 3 < length) {\r\n                            o = JsonBoolean.trueValue;\r\n                            outEndPos[0] = i + 4;\r\n                        }\r\n                        else {\r\n                            this._error = 'parse true';\r\n                        }\r\n                        return o;\r\n                    case 'f':\r\n                        if (i + 4 < length) {\r\n                            o = JsonBoolean.falseValue;\r\n                            outEndPos[0] = i + 5;\r\n                        }\r\n                        else {\r\n                            this._error = \"illegal ',' position\";\r\n                        }\r\n                        return o;\r\n                    case ',':\r\n                        this._error = \"illegal ',' position\";\r\n                        return null;\r\n                    case ']':\r\n                        outEndPos[0] = i;\r\n                        return null;\r\n                    case '\\n':\r\n                        this._lineCount++;\r\n                    case ' ':\r\n                    case '\\t':\r\n                    case '\\r':\r\n                    default:\r\n                        break;\r\n                }\r\n            }\r\n            this._error = 'illegal end of value';\r\n            return null;\r\n        };\r\n        CubismJson.prototype.parseString = function (string, length, begin, outEndPos) {\r\n            if (this._error)\r\n                return null;\r\n            var i = begin;\r\n            var c, c2;\r\n            var ret = new csmString('');\r\n            var bufStart = begin;\r\n            for (; i < length; i++) {\r\n                c = string[i];\r\n                switch (c) {\r\n                    case '\"': {\r\n                        outEndPos[0] = i + 1;\r\n                        ret.append(string.slice(bufStart), i - bufStart);\r\n                        return ret.s;\r\n                    }\r\n                    case '//': {\r\n                        i++;\r\n                        if (i - 1 > bufStart) {\r\n                            ret.append(string.slice(bufStart), i - bufStart);\r\n                        }\r\n                        bufStart = i + 1;\r\n                        if (i < length) {\r\n                            c2 = string[i];\r\n                            switch (c2) {\r\n                                case '\\\\':\r\n                                    ret.expansion(1, '\\\\');\r\n                                    break;\r\n                                case '\"':\r\n                                    ret.expansion(1, '\"');\r\n                                    break;\r\n                                case '/':\r\n                                    ret.expansion(1, '/');\r\n                                    break;\r\n                                case 'b':\r\n                                    ret.expansion(1, '\\b');\r\n                                    break;\r\n                                case 'f':\r\n                                    ret.expansion(1, '\\f');\r\n                                    break;\r\n                                case 'n':\r\n                                    ret.expansion(1, '\\n');\r\n                                    break;\r\n                                case 'r':\r\n                                    ret.expansion(1, '\\r');\r\n                                    break;\r\n                                case 't':\r\n                                    ret.expansion(1, '\\t');\r\n                                    break;\r\n                                case 'u':\r\n                                    this._error = 'parse string/unicord escape not supported';\r\n                                    break;\r\n                                default:\r\n                                    break;\r\n                            }\r\n                        }\r\n                        else {\r\n                            this._error = 'parse string/escape error';\r\n                        }\r\n                    }\r\n                    default: {\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n            this._error = 'parse string/illegal end';\r\n            return null;\r\n        };\r\n        CubismJson.prototype.parseObject = function (buffer, length, begin, outEndPos) {\r\n            if (this._error)\r\n                return null;\r\n            var ret = new JsonMap();\r\n            var key = '';\r\n            var i = begin;\r\n            var c = '';\r\n            var localRetEndPos2 = Array(1);\r\n            var ok = false;\r\n            for (; i < length; i++) {\r\n                FOR_LOOP: for (; i < length; i++) {\r\n                    c = buffer[i];\r\n                    switch (c) {\r\n                        case '\"':\r\n                            key = this.parseString(buffer, length, i + 1, localRetEndPos2);\r\n                            if (this._error) {\r\n                                return null;\r\n                            }\r\n                            i = localRetEndPos2[0];\r\n                            ok = true;\r\n                            break FOR_LOOP;\r\n                        case '}':\r\n                            outEndPos[0] = i + 1;\r\n                            return ret;\r\n                        case ':':\r\n                            this._error = \"illegal ':' position\";\r\n                            break;\r\n                        case '\\n':\r\n                            this._lineCount++;\r\n                        default:\r\n                            break;\r\n                    }\r\n                }\r\n                if (!ok) {\r\n                    this._error = 'key not found';\r\n                    return null;\r\n                }\r\n                ok = false;\r\n                FOR_LOOP2: for (; i < length; i++) {\r\n                    c = buffer[i];\r\n                    switch (c) {\r\n                        case ':':\r\n                            ok = true;\r\n                            i++;\r\n                            break FOR_LOOP2;\r\n                        case '}':\r\n                            this._error = \"illegal '}' position\";\r\n                            break;\r\n                        case '\\n':\r\n                            this._lineCount++;\r\n                        default:\r\n                            break;\r\n                    }\r\n                }\r\n                if (!ok) {\r\n                    this._error = \"':' not found\";\r\n                    return null;\r\n                }\r\n                var value = this.parseValue(buffer, length, i, localRetEndPos2);\r\n                if (this._error) {\r\n                    return null;\r\n                }\r\n                i = localRetEndPos2[0];\r\n                ret.put(key, value);\r\n                FOR_LOOP3: for (; i < length; i++) {\r\n                    c = buffer[i];\r\n                    switch (c) {\r\n                        case ',':\r\n                            break FOR_LOOP3;\r\n                        case '}':\r\n                            outEndPos[0] = i + 1;\r\n                            return ret;\r\n                        case '\\n':\r\n                            this._lineCount++;\r\n                        default:\r\n                            break;\r\n                    }\r\n                }\r\n            }\r\n            this._error = 'illegal end of perseObject';\r\n            return null;\r\n        };\r\n        CubismJson.prototype.parseArray = function (buffer, length, begin, outEndPos) {\r\n            if (this._error)\r\n                return null;\r\n            var ret = new JsonArray();\r\n            var i = begin;\r\n            var c;\r\n            var localRetEndpos2 = new Array(1);\r\n            for (; i < length; i++) {\r\n                var value = this.parseValue(buffer, length, i, localRetEndpos2);\r\n                if (this._error) {\r\n                    return null;\r\n                }\r\n                i = localRetEndpos2[0];\r\n                if (value) {\r\n                    ret.add(value);\r\n                }\r\n                FOR_LOOP: for (; i < length; i++) {\r\n                    c = buffer[i];\r\n                    switch (c) {\r\n                        case ',':\r\n                            break FOR_LOOP;\r\n                        case ']':\r\n                            outEndPos[0] = i + 1;\r\n                            return ret;\r\n                        case '\\n':\r\n                            ++this._lineCount;\r\n                        default:\r\n                            break;\r\n                    }\r\n                }\r\n            }\r\n            ret = void 0;\r\n            this._error = 'illegal end of parseObject';\r\n            return null;\r\n        };\r\n        return CubismJson;\r\n    }());\r\n    Live2DCubismFramework.CubismJson = CubismJson;\r\n    var JsonFloat = (function (_super) {\r\n        __extends(JsonFloat, _super);\r\n        function JsonFloat(v) {\r\n            var _this = _super.call(this) || this;\r\n            _this._value = v;\r\n            return _this;\r\n        }\r\n        JsonFloat.prototype.isFloat = function () {\r\n            return true;\r\n        };\r\n        JsonFloat.prototype.getString = function (defaultValue, indent) {\r\n            var strbuf = '\\0';\r\n            this._value = parseFloat(strbuf);\r\n            this._stringBuffer = strbuf;\r\n            return this._stringBuffer;\r\n        };\r\n        JsonFloat.prototype.toInt = function (defaultValue) {\r\n            if (defaultValue === void 0) { defaultValue = 0; }\r\n            return parseInt(this._value.toString());\r\n        };\r\n        JsonFloat.prototype.toFloat = function (defaultValue) {\r\n            if (defaultValue === void 0) { defaultValue = 0.0; }\r\n            return this._value;\r\n        };\r\n        JsonFloat.prototype.equals = function (value) {\r\n            if ('number' === typeof value) {\r\n                if (Math.round(value)) {\r\n                    return false;\r\n                }\r\n                else {\r\n                    return value == this._value;\r\n                }\r\n            }\r\n            return false;\r\n        };\r\n        return JsonFloat;\r\n    }(Value));\r\n    Live2DCubismFramework.JsonFloat = JsonFloat;\r\n    var JsonBoolean = (function (_super) {\r\n        __extends(JsonBoolean, _super);\r\n        function JsonBoolean(v) {\r\n            var _this = _super.call(this) || this;\r\n            _this._boolValue = v;\r\n            return _this;\r\n        }\r\n        JsonBoolean.prototype.isBool = function () {\r\n            return true;\r\n        };\r\n        JsonBoolean.prototype.toBoolean = function (defaultValue) {\r\n            if (defaultValue === void 0) { defaultValue = false; }\r\n            return this._boolValue;\r\n        };\r\n        JsonBoolean.prototype.getString = function (defaultValue, indent) {\r\n            this._stringBuffer = this._boolValue ? 'true' : 'false';\r\n            return this._stringBuffer;\r\n        };\r\n        JsonBoolean.prototype.equals = function (value) {\r\n            if ('boolean' === typeof value) {\r\n                return value == this._boolValue;\r\n            }\r\n            return false;\r\n        };\r\n        JsonBoolean.prototype.isStatic = function () {\r\n            return true;\r\n        };\r\n        return JsonBoolean;\r\n    }(Value));\r\n    Live2DCubismFramework.JsonBoolean = JsonBoolean;\r\n    var JsonString = (function (_super) {\r\n        __extends(JsonString, _super);\r\n        function JsonString(s) {\r\n            var _this = _super.call(this) || this;\r\n            if ('string' === typeof s) {\r\n                _this._stringBuffer = s;\r\n            }\r\n            if (s instanceof csmString) {\r\n                _this._stringBuffer = s.s;\r\n            }\r\n            return _this;\r\n        }\r\n        JsonString.prototype.isString = function () {\r\n            return true;\r\n        };\r\n        JsonString.prototype.getString = function (defaultValue, indent) {\r\n            return this._stringBuffer;\r\n        };\r\n        JsonString.prototype.equals = function (value) {\r\n            if ('string' === typeof value) {\r\n                return this._stringBuffer == value;\r\n            }\r\n            if (value instanceof csmString) {\r\n                return this._stringBuffer == value.s;\r\n            }\r\n            return false;\r\n        };\r\n        return JsonString;\r\n    }(Value));\r\n    Live2DCubismFramework.JsonString = JsonString;\r\n    var JsonError = (function (_super) {\r\n        __extends(JsonError, _super);\r\n        function JsonError(s, isStatic) {\r\n            var _this = this;\r\n            if ('string' === typeof s) {\r\n                _this = _super.call(this, s) || this;\r\n            }\r\n            else {\r\n                _this = _super.call(this, s) || this;\r\n            }\r\n            _this._isStatic = isStatic;\r\n            return _this;\r\n        }\r\n        JsonError.prototype.isStatic = function () {\r\n            return this._isStatic;\r\n        };\r\n        JsonError.prototype.setErrorNotForClientCall = function (s) {\r\n            this._stringBuffer = s;\r\n            return this;\r\n        };\r\n        JsonError.prototype.isError = function () {\r\n            return true;\r\n        };\r\n        return JsonError;\r\n    }(JsonString));\r\n    Live2DCubismFramework.JsonError = JsonError;\r\n    var JsonNullvalue = (function (_super) {\r\n        __extends(JsonNullvalue, _super);\r\n        function JsonNullvalue() {\r\n            var _this = _super.call(this) || this;\r\n            _this._stringBuffer = 'NullValue';\r\n            return _this;\r\n        }\r\n        JsonNullvalue.prototype.isNull = function () {\r\n            return true;\r\n        };\r\n        JsonNullvalue.prototype.getString = function (defaultValue, indent) {\r\n            return this._stringBuffer;\r\n        };\r\n        JsonNullvalue.prototype.isStatic = function () {\r\n            return true;\r\n        };\r\n        return JsonNullvalue;\r\n    }(Value));\r\n    Live2DCubismFramework.JsonNullvalue = JsonNullvalue;\r\n    var JsonArray = (function (_super) {\r\n        __extends(JsonArray, _super);\r\n        function JsonArray() {\r\n            var _this = _super.call(this) || this;\r\n            _this._array = new csmVector();\r\n            return _this;\r\n        }\r\n        JsonArray.prototype.release = function () {\r\n            for (var ite = this._array.begin(); ite.notEqual(this._array.end()); ite.preIncrement()) {\r\n                var v = ite.ptr();\r\n                if (v && !v.isStatic()) {\r\n                    v = void 0;\r\n                    v = null;\r\n                }\r\n            }\r\n        };\r\n        JsonArray.prototype.isArray = function () {\r\n            return true;\r\n        };\r\n        JsonArray.prototype.getValueByIndex = function (index) {\r\n            if (index < 0 || this._array.getSize() <= index) {\r\n                return Value.errorValue.setErrorNotForClientCall(CSM_JSON_ERROR_INDEX_OF_BOUNDS);\r\n            }\r\n            var v = this._array.at(index);\r\n            if (v == null) {\r\n                return Value.nullValue;\r\n            }\r\n            return v;\r\n        };\r\n        JsonArray.prototype.getValueByString = function (s) {\r\n            return Value.errorValue.setErrorNotForClientCall(CSM_JSON_ERROR_TYPE_MISMATCH);\r\n        };\r\n        JsonArray.prototype.getString = function (defaultValue, indent) {\r\n            var stringBuffer = indent + '[\\n';\r\n            for (var ite = this._array.begin(); ite.notEqual(this._array.end()); ite.increment()) {\r\n                var v = ite.ptr();\r\n                this._stringBuffer += indent + '' + v.getString(indent + ' ') + '\\n';\r\n            }\r\n            this._stringBuffer = stringBuffer + indent + ']\\n';\r\n            return this._stringBuffer;\r\n        };\r\n        JsonArray.prototype.add = function (v) {\r\n            this._array.pushBack(v);\r\n        };\r\n        JsonArray.prototype.getVector = function (defaultValue) {\r\n            if (defaultValue === void 0) { defaultValue = null; }\r\n            return this._array;\r\n        };\r\n        JsonArray.prototype.getSize = function () {\r\n            return this._array.getSize();\r\n        };\r\n        return JsonArray;\r\n    }(Value));\r\n    Live2DCubismFramework.JsonArray = JsonArray;\r\n    var JsonMap = (function (_super) {\r\n        __extends(JsonMap, _super);\r\n        function JsonMap() {\r\n            var _this = _super.call(this) || this;\r\n            _this._map = new csmMap();\r\n            return _this;\r\n        }\r\n        JsonMap.prototype.release = function () {\r\n            var ite = this._map.begin();\r\n            while (ite.notEqual(this._map.end())) {\r\n                var v = ite.ptr().second;\r\n                if (v && !v.isStatic()) {\r\n                    v = void 0;\r\n                    v = null;\r\n                }\r\n                ite.preIncrement();\r\n            }\r\n        };\r\n        JsonMap.prototype.isMap = function () {\r\n            return true;\r\n        };\r\n        JsonMap.prototype.getValueByString = function (s) {\r\n            if (s instanceof csmString) {\r\n                var ret = this._map.getValue(s.s);\r\n                if (ret == null) {\r\n                    return Value.nullValue;\r\n                }\r\n                return ret;\r\n            }\r\n            for (var iter = this._map.begin(); iter.notEqual(this._map.end()); iter.preIncrement()) {\r\n                if (iter.ptr().first == s) {\r\n                    if (iter.ptr().second == null) {\r\n                        return Value.nullValue;\r\n                    }\r\n                    return iter.ptr().second;\r\n                }\r\n            }\r\n            return Value.nullValue;\r\n        };\r\n        JsonMap.prototype.getValueByIndex = function (index) {\r\n            return Value.errorValue.setErrorNotForClientCall(CSM_JSON_ERROR_TYPE_MISMATCH);\r\n        };\r\n        JsonMap.prototype.getString = function (defaultValue, indent) {\r\n            this._stringBuffer = indent + '{\\n';\r\n            var ite = this._map.begin();\r\n            while (ite.notEqual(this._map.end())) {\r\n                var key = ite.ptr().first;\r\n                var v = ite.ptr().second;\r\n                this._stringBuffer +=\r\n                    indent + ' ' + key + ' : ' + v.getString(indent + '   ') + ' \\n';\r\n                ite.preIncrement();\r\n            }\r\n            this._stringBuffer += indent + '}\\n';\r\n            return this._stringBuffer;\r\n        };\r\n        JsonMap.prototype.getMap = function (defaultValue) {\r\n            return this._map;\r\n        };\r\n        JsonMap.prototype.put = function (key, v) {\r\n            this._map.setValue(key, v);\r\n        };\r\n        JsonMap.prototype.getKeys = function () {\r\n            if (!this._keys) {\r\n                this._keys = new csmVector();\r\n                var ite = this._map.begin();\r\n                while (ite.notEqual(this._map.end())) {\r\n                    var key = ite.ptr().first;\r\n                    this._keys.pushBack(key);\r\n                    ite.preIncrement();\r\n                }\r\n            }\r\n            return this._keys;\r\n        };\r\n        JsonMap.prototype.getSize = function () {\r\n            return this._keys.getSize();\r\n        };\r\n        return JsonMap;\r\n    }(Value));\r\n    Live2DCubismFramework.JsonMap = JsonMap;\r\n})(Live2DCubismFramework = exports.Live2DCubismFramework || (exports.Live2DCubismFramework = {}));\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9GcmFtZXdvcmsvc3JjL3V0aWxzL2N1YmlzbWpzb24udHMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9saXZlMmQvLi9GcmFtZXdvcmsvc3JjL3V0aWxzL2N1YmlzbWpzb24udHM/YjE5NiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogQ29weXJpZ2h0KGMpIExpdmUyRCBJbmMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbiAqXHJcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IHRoZSBMaXZlMkQgT3BlbiBTb2Z0d2FyZSBsaWNlbnNlXHJcbiAqIHRoYXQgY2FuIGJlIGZvdW5kIGF0IGh0dHBzOi8vd3d3LmxpdmUyZC5jb20vZXVsYS9saXZlMmQtb3Blbi1zb2Z0d2FyZS1saWNlbnNlLWFncmVlbWVudF9lbi5odG1sLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IExpdmUyREN1YmlzbUZyYW1ld29yayBhcyBjc21zdHJpbmcgfSBmcm9tICcuLi90eXBlL2NzbXN0cmluZyc7XHJcbmltcG9ydCB7IExpdmUyREN1YmlzbUZyYW1ld29yayBhcyBjc21tYXAgfSBmcm9tICcuLi90eXBlL2NzbW1hcCc7XHJcbmltcG9ydCB7IExpdmUyREN1YmlzbUZyYW1ld29yayBhcyBjc212ZWN0b3IgfSBmcm9tICcuLi90eXBlL2NzbXZlY3Rvcic7XHJcbmltcG9ydCB7IEN1YmlzbUxvZ0luZm8gfSBmcm9tICcuL2N1YmlzbWRlYnVnJztcclxuaW1wb3J0IHsgc3RydG9kIH0gZnJvbSAnLi4vbGl2ZTJkY3ViaXNtZnJhbWV3b3JrJztcclxuaW1wb3J0IGNzbVZlY3RvciA9IGNzbXZlY3Rvci5jc21WZWN0b3I7XHJcbmltcG9ydCBjc21WZWN0b3JfaXRlcmF0b3IgPSBjc212ZWN0b3IuaXRlcmF0b3I7XHJcbmltcG9ydCBjc21NYXAgPSBjc21tYXAuY3NtTWFwO1xyXG5pbXBvcnQgY3NtTWFwX2l0ZXJhdG9yID0gY3NtbWFwLml0ZXJhdG9yO1xyXG5pbXBvcnQgY3NtU3RyaW5nID0gY3Ntc3RyaW5nLmNzbVN0cmluZztcclxuXHJcbmV4cG9ydCBuYW1lc3BhY2UgTGl2ZTJEQ3ViaXNtRnJhbWV3b3JrIHtcclxuICAvLyBTdGF0aWNJbml0aWFsaXplTm90Rm9yQ2xpZW50Q2FsbCgp44Gn5Yid5pyf5YyW44GZ44KLXHJcbiAgY29uc3QgQ1NNX0pTT05fRVJST1JfVFlQRV9NSVNNQVRDSCA9ICdFcnJvcjogdHlwZSBtaXNtYXRjaCc7XHJcbiAgY29uc3QgQ1NNX0pTT05fRVJST1JfSU5ERVhfT0ZfQk9VTkRTID0gJ0Vycm9yOiBpbmRleCBvdXQgb2YgYm91bmRzJztcclxuXHJcbiAgLyoqXHJcbiAgICog44OR44O844K544GX44GfSlNPTuOCqOODrOODoeODs+ODiOOBruimgee0oOOBruWfuuW6leOCr+ODqeOCueOAglxyXG4gICAqL1xyXG4gIGV4cG9ydCBhYnN0cmFjdCBjbGFzcyBWYWx1ZSB7XHJcbiAgICAvKipcclxuICAgICAqIOOCs+ODs+OCueODiOODqeOCr+OCv1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoKSB7fVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog6KaB57Sg44KS5paH5a2X5YiX5Z6L44Gn6L+U44GZKGNzbVN0cmluZ+WeiylcclxuICAgICAqL1xyXG4gICAgcHVibGljIGFic3RyYWN0IGdldFN0cmluZyhkZWZhdWx0VmFsdWU/OiBzdHJpbmcsIGluZGVudD86IHN0cmluZyk6IHN0cmluZztcclxuXHJcbiAgICAvKipcclxuICAgICAqIOimgee0oOOCkuaWh+Wtl+WIl+Wei+OBp+i/lOOBmShzdHJpbmcpXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXRSYXdTdHJpbmcoZGVmYXVsdFZhbHVlPzogc3RyaW5nLCBpbmRlbnQ/OiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gICAgICByZXR1cm4gdGhpcy5nZXRTdHJpbmcoZGVmYXVsdFZhbHVlLCBpbmRlbnQpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog6KaB57Sg44KS5pWw5YCk5Z6L44Gn6L+U44GZKG51bWJlcilcclxuICAgICAqL1xyXG4gICAgcHVibGljIHRvSW50KGRlZmF1bHRWYWx1ZSA9IDApOiBudW1iZXIge1xyXG4gICAgICByZXR1cm4gZGVmYXVsdFZhbHVlO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog6KaB57Sg44KS5pWw5YCk5Z6L44Gn6L+U44GZKG51bWJlcilcclxuICAgICAqL1xyXG4gICAgcHVibGljIHRvRmxvYXQoZGVmYXVsdFZhbHVlID0gMCk6IG51bWJlciB7XHJcbiAgICAgIHJldHVybiBkZWZhdWx0VmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDopoHntKDjgpLnnJ/lgb3lgKTjgafov5TjgZkoYm9vbGVhbilcclxuICAgICAqL1xyXG4gICAgcHVibGljIHRvQm9vbGVhbihkZWZhdWx0VmFsdWUgPSBmYWxzZSk6IGJvb2xlYW4ge1xyXG4gICAgICByZXR1cm4gZGVmYXVsdFZhbHVlO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog44K144Kk44K644KS6L+U44GZXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXRTaXplKCk6IG51bWJlciB7XHJcbiAgICAgIHJldHVybiAwO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog6KaB57Sg44KS6YWN5YiX44Gn6L+U44GZKFZhbHVlW10pXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXRBcnJheShkZWZhdWx0VmFsdWU6IFZhbHVlW10gPSBudWxsKTogVmFsdWVbXSB7XHJcbiAgICAgIHJldHVybiBkZWZhdWx0VmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDopoHntKDjgpLjgrPjg7Pjg4bjg4rjgafov5TjgZkoYXJyYXkpXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXRWZWN0b3IoZGVmYXVsdFZhbHVlPzogY3NtVmVjdG9yPFZhbHVlPik6IGNzbVZlY3RvcjxWYWx1ZT4ge1xyXG4gICAgICByZXR1cm4gZGVmYXVsdFZhbHVlO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog6KaB57Sg44KS44Oe44OD44OX44Gn6L+U44GZKGNzbU1hcDxjc21TdHJpbmcsIFZhbHVlPilcclxuICAgICAqL1xyXG4gICAgcHVibGljIGdldE1hcChkZWZhdWx0VmFsdWU/OiBjc21NYXA8c3RyaW5nLCBWYWx1ZT4pOiBjc21NYXA8c3RyaW5nLCBWYWx1ZT4ge1xyXG4gICAgICByZXR1cm4gZGVmYXVsdFZhbHVlO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5re75a2X5ryU566X5a2QW2luZGV4XVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2V0VmFsdWVCeUluZGV4KGluZGV4OiBudW1iZXIpOiBWYWx1ZSB7XHJcbiAgICAgIHJldHVybiBWYWx1ZS5lcnJvclZhbHVlLnNldEVycm9yTm90Rm9yQ2xpZW50Q2FsbChcclxuICAgICAgICBDU01fSlNPTl9FUlJPUl9UWVBFX01JU01BVENIXHJcbiAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDmt7vlrZfmvJTnrpflrZBbc3RyaW5nIHwgY3NtU3RyaW5nXVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2V0VmFsdWVCeVN0cmluZyhzOiBzdHJpbmcgfCBjc21TdHJpbmcpOiBWYWx1ZSB7XHJcbiAgICAgIHJldHVybiBWYWx1ZS5udWxsVmFsdWUuc2V0RXJyb3JOb3RGb3JDbGllbnRDYWxsKFxyXG4gICAgICAgIENTTV9KU09OX0VSUk9SX1RZUEVfTUlTTUFUQ0hcclxuICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOODnuODg+ODl+OBruOCreODvOS4gOimp+OCkuOCs+ODs+ODhuODiuOBp+i/lOOBmVxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm4g44Oe44OD44OX44Gu44Kt44O844Gu5LiA6KanXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXRLZXlzKCk6IGNzbVZlY3RvcjxzdHJpbmc+IHtcclxuICAgICAgcmV0dXJuIFZhbHVlLnNfZHVtbXlLZXlzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogVmFsdWXjga7nqK7poZ7jgYzjgqjjg6njg7zlgKTjgarjgol0cnVlXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBpc0Vycm9yKCk6IGJvb2xlYW4ge1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBWYWx1ZeOBrueorumhnuOBjG51bGzjgarjgol0cnVlXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBpc051bGwoKTogYm9vbGVhbiB7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFZhbHVl44Gu56iu6aGe44GM55yf5YG95YCk44Gq44KJdHJ1ZVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgaXNCb29sKCk6IGJvb2xlYW4ge1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBWYWx1ZeOBrueorumhnuOBjOaVsOWApOWei+OBquOCiXRydWVcclxuICAgICAqL1xyXG4gICAgcHVibGljIGlzRmxvYXQoKTogYm9vbGVhbiB7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFZhbHVl44Gu56iu6aGe44GM5paH5a2X5YiX44Gq44KJdHJ1ZVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgaXNTdHJpbmcoKTogYm9vbGVhbiB7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFZhbHVl44Gu56iu6aGe44GM6YWN5YiX44Gq44KJdHJ1ZVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgaXNBcnJheSgpOiBib29sZWFuIHtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogVmFsdWXjga7nqK7poZ7jgYzjg57jg4Pjg5flnovjgarjgol0cnVlXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBpc01hcCgpOiBib29sZWFuIHtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5byV5pWw44Gu5YCk44Go562J44GX44GR44KM44GwdHJ1ZVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZXF1YWxzKHZhbHVlOiBjc21TdHJpbmcpOiBib29sZWFuO1xyXG4gICAgcHVibGljIGVxdWFscyh2YWx1ZTogc3RyaW5nKTogYm9vbGVhbjtcclxuICAgIHB1YmxpYyBlcXVhbHModmFsdWU6IG51bWJlcik6IGJvb2xlYW47XHJcbiAgICBwdWJsaWMgZXF1YWxzKHZhbHVlOiBib29sZWFuKTogYm9vbGVhbjtcclxuICAgIHB1YmxpYyBlcXVhbHModmFsdWU6IGFueSk6IGJvb2xlYW4ge1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBWYWx1ZeOBruWApOOBjOmdmeeahOOBquOCiXRydWXjgIHpnZnnmoTjgarjgonop6PmlL7jgZfjgarjgYRcclxuICAgICAqL1xyXG4gICAgcHVibGljIGlzU3RhdGljKCk6IGJvb2xlYW4ge1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBWYWx1ZeOBq+OCqOODqeODvOWApOOCkuOCu+ODg+ODiOOBmeOCi1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc2V0RXJyb3JOb3RGb3JDbGllbnRDYWxsKGVycm9yU3RyOiBzdHJpbmcpOiBWYWx1ZSB7XHJcbiAgICAgIHJldHVybiBKc29uRXJyb3IuZXJyb3JWYWx1ZTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOWIneacn+WMlueUqOODoeOCveODg+ODiVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc3RhdGljIHN0YXRpY0luaXRpYWxpemVOb3RGb3JDbGllbnRDYWxsKCk6IHZvaWQge1xyXG4gICAgICBKc29uQm9vbGVhbi50cnVlVmFsdWUgPSBuZXcgSnNvbkJvb2xlYW4odHJ1ZSk7XHJcbiAgICAgIEpzb25Cb29sZWFuLmZhbHNlVmFsdWUgPSBuZXcgSnNvbkJvb2xlYW4oZmFsc2UpO1xyXG5cclxuICAgICAgSnNvbkVycm9yLmVycm9yVmFsdWUgPSBuZXcgSnNvbkVycm9yKCdFUlJPUicsIHRydWUpO1xyXG4gICAgICB0aGlzLm51bGxWYWx1ZSA9IG5ldyBKc29uTnVsbHZhbHVlKCk7XHJcblxyXG4gICAgICBWYWx1ZS5zX2R1bW15S2V5cyA9IG5ldyBjc21WZWN0b3I8c3RyaW5nPigpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog44Oq44Oq44O844K555So44Oh44K944OD44OJXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzdGF0aWMgc3RhdGljUmVsZWFzZU5vdEZvckNsaWVudENhbGwoKTogdm9pZCB7XHJcbiAgICAgIEpzb25Cb29sZWFuLnRydWVWYWx1ZSA9IG51bGw7XHJcbiAgICAgIEpzb25Cb29sZWFuLmZhbHNlVmFsdWUgPSBudWxsO1xyXG4gICAgICBKc29uRXJyb3IuZXJyb3JWYWx1ZSA9IG51bGw7XHJcbiAgICAgIFZhbHVlLm51bGxWYWx1ZSA9IG51bGw7XHJcbiAgICAgIFZhbHVlLnNfZHVtbXlLZXlzID0gbnVsbDtcclxuXHJcbiAgICAgIEpzb25Cb29sZWFuLnRydWVWYWx1ZSA9IG51bGw7XHJcbiAgICAgIEpzb25Cb29sZWFuLmZhbHNlVmFsdWUgPSBudWxsO1xyXG4gICAgICBKc29uRXJyb3IuZXJyb3JWYWx1ZSA9IG51bGw7XHJcbiAgICAgIFZhbHVlLm51bGxWYWx1ZSA9IG51bGw7XHJcbiAgICAgIFZhbHVlLnNfZHVtbXlLZXlzID0gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgX3N0cmluZ0J1ZmZlcjogc3RyaW5nOyAvLyDmloflrZfliJfjg5Djg4Pjg5XjgqFcclxuXHJcbiAgICBwcml2YXRlIHN0YXRpYyBzX2R1bW15S2V5czogY3NtVmVjdG9yPHN0cmluZz47IC8vIOODgOODn+ODvOOCreODvFxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgZXJyb3JWYWx1ZTogVmFsdWU7IC8vIOS4gOaZgueahOOBqui/lOOCiuWApOOBqOOBl+OBpui/lOOBmeOCqOODqeODvOOAgiBDdWJpc21GcmFtZXdvcms6OkRpc3Bvc2XjgZnjgovjgb7jgafjga9kZWxldGXjgZfjgarjgYRcclxuICAgIHB1YmxpYyBzdGF0aWMgbnVsbFZhbHVlOiBWYWx1ZTsgLy8g5LiA5pmC55qE44Gq6L+U44KK5YCk44Go44GX44Gm6L+U44GZTlVMTOOAgiAgIEN1YmlzbUZyYW1ld29yazo6RGlzcG9zZeOBmeOCi+OBvuOBp+OBr2RlbGV0ZeOBl+OBquOBhFxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQXNjaWnmloflrZfjga7jgb/lr77lv5zjgZfjgZ/mnIDlsI/pmZDjga7ou73ph49KU09O44OR44O844K144CCXHJcbiAgICog5LuV5qeY44GvSlNPTuOBruOCteODluOCu+ODg+ODiOOBqOOBquOCi+OAglxyXG4gICAqIOioreWumuODleOCoeOCpOODqyhtb2RlbDMuanNvbinjgarjganjga7jg63jg7zjg4nnlKhcclxuICAgKlxyXG4gICAqIFvmnKrlr77lv5zpoIXnm65dXHJcbiAgICog44O75pel5pys6Kqe44Gq44Gp44Gu6Z2eQVNDSUnmloflrZdcclxuICAgKiDjg7tl44Gr44KI44KL5oyH5pWw6KGo54++XHJcbiAgICovXHJcbiAgZXhwb3J0IGNsYXNzIEN1YmlzbUpzb24ge1xyXG4gICAgLyoqXHJcbiAgICAgKiDjgrPjg7Pjgrnjg4jjg6njgq/jgr9cclxuICAgICAqL1xyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKGJ1ZmZlcj86IEFycmF5QnVmZmVyLCBsZW5ndGg/OiBudW1iZXIpIHtcclxuICAgICAgdGhpcy5fZXJyb3IgPSBudWxsO1xyXG4gICAgICB0aGlzLl9saW5lQ291bnQgPSAwO1xyXG4gICAgICB0aGlzLl9yb290ID0gbnVsbDtcclxuXHJcbiAgICAgIGlmIChidWZmZXIgIT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgdGhpcy5wYXJzZUJ5dGVzKGJ1ZmZlciwgbGVuZ3RoKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog44OQ44Kk44OI44OH44O844K/44GL44KJ55u05o6l44Ot44O844OJ44GX44Gm44OR44O844K544GZ44KLXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGJ1ZmZlciDjg5Djg4Pjg5XjgqFcclxuICAgICAqIEBwYXJhbSBzaXplIOODkOODg+ODleOCoeOCteOCpOOCulxyXG4gICAgICogQHJldHVybiBDdWJpc21Kc29u44Kv44Op44K544Gu44Kk44Oz44K544K/44Oz44K544CC5aSx5pWX44GX44Gf44KJTlVMTFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZShidWZmZXI6IEFycmF5QnVmZmVyLCBzaXplOiBudW1iZXIpIHtcclxuICAgICAgY29uc3QganNvbiA9IG5ldyBDdWJpc21Kc29uKCk7XHJcbiAgICAgIGNvbnN0IHN1Y2NlZWRlZDogYm9vbGVhbiA9IGpzb24ucGFyc2VCeXRlcyhidWZmZXIsIHNpemUpO1xyXG5cclxuICAgICAgaWYgKCFzdWNjZWVkZWQpIHtcclxuICAgICAgICBDdWJpc21Kc29uLmRlbGV0ZShqc29uKTtcclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByZXR1cm4ganNvbjtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog44OR44O844K544GX44GfSlNPTuOCquODluOCuOOCp+OCr+ODiOOBruino+aUvuWHpueQhlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBpbnN0YW5jZSBDdWJpc21Kc29u44Kv44Op44K544Gu44Kk44Oz44K544K/44Oz44K5XHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzdGF0aWMgZGVsZXRlKGluc3RhbmNlOiBDdWJpc21Kc29uKSB7XHJcbiAgICAgIGluc3RhbmNlID0gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOODkeODvOOCueOBl+OBn0pTT07jga7jg6vjg7zjg4jopoHntKDjgpLov5TjgZlcclxuICAgICAqL1xyXG4gICAgcHVibGljIGdldFJvb3QoKTogVmFsdWUge1xyXG4gICAgICByZXR1cm4gdGhpcy5fcm9vdDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqICBVbmljb2Rl44Gu44OQ44Kk44OK44Oq44KSU3RyaW5n44Gr5aSJ5o+bXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGJ1ZmZlciDlpInmj5vjgZnjgovjg5DjgqTjg4rjg6rjg4fjg7zjgr9cclxuICAgICAqIEByZXR1cm4g5aSJ5o+b5b6M44Gu5paH5a2X5YiXXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBhcnJheUJ1ZmZlclRvU3RyaW5nKGJ1ZmZlcjogQXJyYXlCdWZmZXIpOiBzdHJpbmcge1xyXG4gICAgICBjb25zdCB1aW50OEFycmF5OiBVaW50OEFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoYnVmZmVyKTtcclxuICAgICAgbGV0IHN0ciA9ICcnO1xyXG5cclxuICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbjogbnVtYmVyID0gdWludDhBcnJheS5sZW5ndGg7IGkgPCBsZW47ICsraSkge1xyXG4gICAgICAgIHN0ciArPSAnJScgKyB0aGlzLnBhZCh1aW50OEFycmF5W2ldLnRvU3RyaW5nKDE2KSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHN0ciA9IGRlY29kZVVSSUNvbXBvbmVudChzdHIpO1xyXG4gICAgICByZXR1cm4gc3RyO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog44Ko44Oz44Kz44O844OJ44CB44OR44OH44Kj44Oz44KwXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgcGFkKG46IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgICAgIHJldHVybiBuLmxlbmd0aCA8IDIgPyAnMCcgKyBuIDogbjtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEpTT07jga7jg5Hjg7zjgrnjgpLlrp/ooYzjgZnjgotcclxuICAgICAqIEBwYXJhbSBidWZmZXIgICAg44OR44O844K55a++6LGh44Gu44OH44O844K/44OQ44Kk44OIXHJcbiAgICAgKiBAcGFyYW0gc2l6ZSAgICAgIOODh+ODvOOCv+ODkOOCpOODiOOBruOCteOCpOOCulxyXG4gICAgICogcmV0dXJuIHRydWUgOiDmiJDlip9cclxuICAgICAqIHJldHVybiBmYWxzZTog5aSx5pWXXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBwYXJzZUJ5dGVzKGJ1ZmZlcjogQXJyYXlCdWZmZXIsIHNpemU6IG51bWJlcik6IGJvb2xlYW4ge1xyXG4gICAgICBjb25zdCBlbmRQb3M6IG51bWJlcltdID0gbmV3IEFycmF5KDEpOyAvLyDlj4LnhafmuKHjgZfjgavjgZnjgovjgZ/jgoHphY3liJdcclxuICAgICAgY29uc3QgZGVjb2RlQnVmZmVyOiBzdHJpbmcgPSB0aGlzLmFycmF5QnVmZmVyVG9TdHJpbmcoYnVmZmVyKTtcclxuICAgICAgdGhpcy5fcm9vdCA9IHRoaXMucGFyc2VWYWx1ZShkZWNvZGVCdWZmZXIsIHNpemUsIDAsIGVuZFBvcyk7XHJcblxyXG4gICAgICBpZiAodGhpcy5fZXJyb3IpIHtcclxuICAgICAgICBsZXQgc3RyYnVmID0gJ1xcMCc7XHJcbiAgICAgICAgc3RyYnVmID0gJ0pzb24gcGFyc2UgZXJyb3IgOiBAbGluZSAnICsgKHRoaXMuX2xpbmVDb3VudCArIDEpICsgJ1xcbic7XHJcbiAgICAgICAgdGhpcy5fcm9vdCA9IG5ldyBKc29uU3RyaW5nKHN0cmJ1Zik7XHJcblxyXG4gICAgICAgIEN1YmlzbUxvZ0luZm8oJ3swfScsIHRoaXMuX3Jvb3QuZ2V0UmF3U3RyaW5nKCkpO1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgfSBlbHNlIGlmICh0aGlzLl9yb290ID09IG51bGwpIHtcclxuICAgICAgICB0aGlzLl9yb290ID0gbmV3IEpzb25FcnJvcihuZXcgY3NtU3RyaW5nKHRoaXMuX2Vycm9yKSwgZmFsc2UpOyAvLyByb29044Gv6Kej5pS+44GV44KM44KL44Gu44Gn44Ko44Op44O844Kq44OW44K444Kn44Kv44OI44KS5Yil6YCU5L2c5oiQ44GZ44KLXHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog44OR44O844K55pmC44Gu44Ko44Op44O85YCk44KS6L+U44GZXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXRQYXJzZUVycm9yKCk6IHN0cmluZyB7XHJcbiAgICAgIHJldHVybiB0aGlzLl9lcnJvcjtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOODq+ODvOODiOimgee0oOOBruasoeOBruimgee0oOOBjOODleOCoeOCpOODq+OBrue1guerr+OBoOOBo+OBn+OCiXRydWXjgpLov5TjgZlcclxuICAgICAqL1xyXG4gICAgcHVibGljIGNoZWNrRW5kT2ZGaWxlKCk6IGJvb2xlYW4ge1xyXG4gICAgICByZXR1cm4gdGhpcy5fcm9vdC5nZXRBcnJheSgpWzFdLmVxdWFscygnRU9GJyk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBKU09O44Ko44Os44Oh44Oz44OI44GL44KJVmFsdWUoZmxvYXQsU3RyaW5nLFZhbHVlKixBcnJheSxudWxsLHRydWUsZmFsc2Up44KS44OR44O844K544GZ44KLXHJcbiAgICAgKiDjgqjjg6zjg6Hjg7Pjg4jjga7mm7jlvI/jgavlv5zjgZjjgablhoXpg6jjgadQYXJzZVN0cmluZygpLCBQYXJzZU9iamVjdCgpLCBQYXJzZUFycmF5KCnjgpLlkbzjgbZcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gICBidWZmZXIgICAgICBKU09O44Ko44Os44Oh44Oz44OI44Gu44OQ44OD44OV44KhXHJcbiAgICAgKiBAcGFyYW0gICBsZW5ndGggICAgICDjg5Hjg7zjgrnjgZnjgovplbfjgZVcclxuICAgICAqIEBwYXJhbSAgIGJlZ2luICAgICAgIOODkeODvOOCueOCkumWi+Wni+OBmeOCi+S9jee9rlxyXG4gICAgICogQHBhcmFtICAgb3V0RW5kUG9zICAg44OR44O844K557WC5LqG5pmC44Gu5L2N572uXHJcbiAgICAgKiBAcmV0dXJuICAgICAg44OR44O844K544GL44KJ5Y+W5b6X44GX44GfVmFsdWXjgqrjg5bjgrjjgqfjgq/jg4hcclxuICAgICAqL1xyXG4gICAgcHJvdGVjdGVkIHBhcnNlVmFsdWUoXHJcbiAgICAgIGJ1ZmZlcjogc3RyaW5nLFxyXG4gICAgICBsZW5ndGg6IG51bWJlcixcclxuICAgICAgYmVnaW46IG51bWJlcixcclxuICAgICAgb3V0RW5kUG9zOiBudW1iZXJbXVxyXG4gICAgKSB7XHJcbiAgICAgIGlmICh0aGlzLl9lcnJvcikgcmV0dXJuIG51bGw7XHJcblxyXG4gICAgICBsZXQgbzogVmFsdWUgPSBudWxsO1xyXG4gICAgICBsZXQgaTogbnVtYmVyID0gYmVnaW47XHJcbiAgICAgIGxldCBmOiBudW1iZXI7XHJcblxyXG4gICAgICBmb3IgKDsgaSA8IGxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgY29uc3QgYzogc3RyaW5nID0gYnVmZmVyW2ldO1xyXG4gICAgICAgIHN3aXRjaCAoYykge1xyXG4gICAgICAgICAgY2FzZSAnLSc6XHJcbiAgICAgICAgICBjYXNlICcuJzpcclxuICAgICAgICAgIGNhc2UgJzAnOlxyXG4gICAgICAgICAgY2FzZSAnMSc6XHJcbiAgICAgICAgICBjYXNlICcyJzpcclxuICAgICAgICAgIGNhc2UgJzMnOlxyXG4gICAgICAgICAgY2FzZSAnNCc6XHJcbiAgICAgICAgICBjYXNlICc1JzpcclxuICAgICAgICAgIGNhc2UgJzYnOlxyXG4gICAgICAgICAgY2FzZSAnNyc6XHJcbiAgICAgICAgICBjYXNlICc4JzpcclxuICAgICAgICAgIGNhc2UgJzknOiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGFmdGVyU3RyaW5nOiBzdHJpbmdbXSA9IG5ldyBBcnJheSgxKTsgLy8g5Y+C54Wn5rih44GX44Gr44GZ44KL44Gf44KBXHJcbiAgICAgICAgICAgIGYgPSBzdHJ0b2QoYnVmZmVyLnNsaWNlKGkpLCBhZnRlclN0cmluZyk7XHJcbiAgICAgICAgICAgIG91dEVuZFBvc1swXSA9IGJ1ZmZlci5pbmRleE9mKGFmdGVyU3RyaW5nWzBdKTtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBKc29uRmxvYXQoZik7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBjYXNlICdcIic6XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgSnNvblN0cmluZyhcclxuICAgICAgICAgICAgICB0aGlzLnBhcnNlU3RyaW5nKGJ1ZmZlciwgbGVuZ3RoLCBpICsgMSwgb3V0RW5kUG9zKVxyXG4gICAgICAgICAgICApOyAvLyBcXFwi44Gu5qyh44Gu5paH5a2X44GL44KJXHJcbiAgICAgICAgICBjYXNlICdbJzpcclxuICAgICAgICAgICAgbyA9IHRoaXMucGFyc2VBcnJheShidWZmZXIsIGxlbmd0aCwgaSArIDEsIG91dEVuZFBvcyk7XHJcbiAgICAgICAgICAgIHJldHVybiBvO1xyXG4gICAgICAgICAgY2FzZSAneyc6XHJcbiAgICAgICAgICAgIG8gPSB0aGlzLnBhcnNlT2JqZWN0KGJ1ZmZlciwgbGVuZ3RoLCBpICsgMSwgb3V0RW5kUG9zKTtcclxuICAgICAgICAgICAgcmV0dXJuIG87XHJcbiAgICAgICAgICBjYXNlICduJzogLy8gbnVsbOS7peWkluOBq+OBquOBhFxyXG4gICAgICAgICAgICBpZiAoaSArIDMgPCBsZW5ndGgpIHtcclxuICAgICAgICAgICAgICBvID0gbmV3IEpzb25OdWxsdmFsdWUoKTsgLy8g6Kej5pS+44Gn44GN44KL44KI44GG44Gr44GZ44KLXHJcbiAgICAgICAgICAgICAgb3V0RW5kUG9zWzBdID0gaSArIDQ7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgdGhpcy5fZXJyb3IgPSAncGFyc2UgbnVsbCc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIG87XHJcbiAgICAgICAgICBjYXNlICd0JzogLy8gdHJ1ZeS7peWkluOBq+OBquOBhFxyXG4gICAgICAgICAgICBpZiAoaSArIDMgPCBsZW5ndGgpIHtcclxuICAgICAgICAgICAgICBvID0gSnNvbkJvb2xlYW4udHJ1ZVZhbHVlO1xyXG4gICAgICAgICAgICAgIG91dEVuZFBvc1swXSA9IGkgKyA0O1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIHRoaXMuX2Vycm9yID0gJ3BhcnNlIHRydWUnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBvO1xyXG4gICAgICAgICAgY2FzZSAnZic6IC8vIGZhbHNl5Lul5aSW44Gr44Gq44GEXHJcbiAgICAgICAgICAgIGlmIChpICsgNCA8IGxlbmd0aCkge1xyXG4gICAgICAgICAgICAgIG8gPSBKc29uQm9vbGVhbi5mYWxzZVZhbHVlO1xyXG4gICAgICAgICAgICAgIG91dEVuZFBvc1swXSA9IGkgKyA1O1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIHRoaXMuX2Vycm9yID0gXCJpbGxlZ2FsICcsJyBwb3NpdGlvblwiO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBvO1xyXG4gICAgICAgICAgY2FzZSAnLCc6IC8vIEFycmF5IHNlcGFyYXRvclxyXG4gICAgICAgICAgICB0aGlzLl9lcnJvciA9IFwiaWxsZWdhbCAnLCcgcG9zaXRpb25cIjtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICBjYXNlICddJzogLy8g5LiN5q2j44Gq772d44Gg44GM44K544Kt44OD44OX44GZ44KL44CC6YWN5YiX44Gu5pyA5b6M44Gr5LiN6KaB44GqICwg44GM44GC44KL44Go5oCd44KP44KM44KLXHJcbiAgICAgICAgICAgIG91dEVuZFBvc1swXSA9IGk7IC8vIOWQjOOBmOaWh+Wtl+OCkuWGjeWHpueQhlxyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgIGNhc2UgJ1xcbic6XHJcbiAgICAgICAgICAgIHRoaXMuX2xpbmVDb3VudCsrO1xyXG4gICAgICAgICAgY2FzZSAnICc6XHJcbiAgICAgICAgICBjYXNlICdcXHQnOlxyXG4gICAgICAgICAgY2FzZSAnXFxyJzpcclxuICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgIC8vIOOCueOCreODg+ODl1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHRoaXMuX2Vycm9yID0gJ2lsbGVnYWwgZW5kIG9mIHZhbHVlJztcclxuICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDmrKHjga7jgIxcIuOAjeOBvuOBp+OBruaWh+Wtl+WIl+OCkuODkeODvOOCueOBmeOCi+OAglxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSAgIHN0cmluZyAgLT4gIOODkeODvOOCueWvvuixoeOBruaWh+Wtl+WIl1xyXG4gICAgICogQHBhcmFtICAgbGVuZ3RoICAtPiAg44OR44O844K544GZ44KL6ZW344GVXHJcbiAgICAgKiBAcGFyYW0gICBiZWdpbiAgIC0+ICDjg5Hjg7zjgrnjgpLplovlp4vjgZnjgovkvY3nva5cclxuICAgICAqIEBwYXJhbSAgb3V0RW5kUG9zICAgLT4gIOODkeODvOOCuee1guS6huaZguOBruS9jee9rlxyXG4gICAgICogQHJldHVybiAgICAgIOODkeODvOOCueOBl+OBn+aWh0blrZfliJfopoHntKBcclxuICAgICAqL1xyXG4gICAgcHJvdGVjdGVkIHBhcnNlU3RyaW5nKFxyXG4gICAgICBzdHJpbmc6IHN0cmluZyxcclxuICAgICAgbGVuZ3RoOiBudW1iZXIsXHJcbiAgICAgIGJlZ2luOiBudW1iZXIsXHJcbiAgICAgIG91dEVuZFBvczogbnVtYmVyW11cclxuICAgICk6IHN0cmluZyB7XHJcbiAgICAgIGlmICh0aGlzLl9lcnJvcikgcmV0dXJuIG51bGw7XHJcblxyXG4gICAgICBsZXQgaSA9IGJlZ2luO1xyXG4gICAgICBsZXQgYzogc3RyaW5nLCBjMjogc3RyaW5nO1xyXG4gICAgICBjb25zdCByZXQ6IGNzbVN0cmluZyA9IG5ldyBjc21TdHJpbmcoJycpO1xyXG4gICAgICBsZXQgYnVmU3RhcnQ6IG51bWJlciA9IGJlZ2luOyAvLyBzYnVm44Gr55m76Yyy44GV44KM44Gm44GE44Gq44GE5paH5a2X44Gu6ZaL5aeL5L2N572uXHJcblxyXG4gICAgICBmb3IgKDsgaSA8IGxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgYyA9IHN0cmluZ1tpXTtcclxuXHJcbiAgICAgICAgc3dpdGNoIChjKSB7XHJcbiAgICAgICAgICBjYXNlICdcIic6IHtcclxuICAgICAgICAgICAgLy8g57WC56uv44Gu4oCd44CB44Ko44K544Kx44O844OX5paH5a2X44Gv5Yil44Gr5Yem55CG44GV44KM44KL44Gu44Gn44GT44GT44Gr5p2l44Gq44GEXHJcbiAgICAgICAgICAgIG91dEVuZFBvc1swXSA9IGkgKyAxOyAvLyDigJ3jga7mrKHjga7mloflrZdcclxuICAgICAgICAgICAgcmV0LmFwcGVuZChzdHJpbmcuc2xpY2UoYnVmU3RhcnQpLCBpIC0gYnVmU3RhcnQpOyAvLyDliY3jga7mloflrZfjgb7jgafjgpLnmbvpjLLjgZnjgotcclxuICAgICAgICAgICAgcmV0dXJuIHJldC5zO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgY2FzZSAnLy8nOiB7XHJcbiAgICAgICAgICAgIC8vIOOCqOOCueOCseODvOODl+OBruWgtOWQiFxyXG4gICAgICAgICAgICBpKys7IC8vIO+8kuaWh+Wtl+OCkuOCu+ODg+ODiOOBp+aJseOBhlxyXG5cclxuICAgICAgICAgICAgaWYgKGkgLSAxID4gYnVmU3RhcnQpIHtcclxuICAgICAgICAgICAgICByZXQuYXBwZW5kKHN0cmluZy5zbGljZShidWZTdGFydCksIGkgLSBidWZTdGFydCk7IC8vIOWJjeOBruaWh+Wtl+OBvuOBp+OCkueZu+mMsuOBmeOCi1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGJ1ZlN0YXJ0ID0gaSArIDE7IC8vIOOCqOOCueOCseODvOODl++8iO+8kuaWh+Wtlynjga7mrKHjga7mloflrZfjgYvjgolcclxuXHJcbiAgICAgICAgICAgIGlmIChpIDwgbGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgYzIgPSBzdHJpbmdbaV07XHJcblxyXG4gICAgICAgICAgICAgIHN3aXRjaCAoYzIpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ1xcXFwnOlxyXG4gICAgICAgICAgICAgICAgICByZXQuZXhwYW5zaW9uKDEsICdcXFxcJyk7XHJcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnXCInOlxyXG4gICAgICAgICAgICAgICAgICByZXQuZXhwYW5zaW9uKDEsICdcIicpO1xyXG4gICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgJy8nOlxyXG4gICAgICAgICAgICAgICAgICByZXQuZXhwYW5zaW9uKDEsICcvJyk7XHJcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnYic6XHJcbiAgICAgICAgICAgICAgICAgIHJldC5leHBhbnNpb24oMSwgJ1xcYicpO1xyXG4gICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2YnOlxyXG4gICAgICAgICAgICAgICAgICByZXQuZXhwYW5zaW9uKDEsICdcXGYnKTtcclxuICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlICduJzpcclxuICAgICAgICAgICAgICAgICAgcmV0LmV4cGFuc2lvbigxLCAnXFxuJyk7XHJcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAncic6XHJcbiAgICAgICAgICAgICAgICAgIHJldC5leHBhbnNpb24oMSwgJ1xccicpO1xyXG4gICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgJ3QnOlxyXG4gICAgICAgICAgICAgICAgICByZXQuZXhwYW5zaW9uKDEsICdcXHQnKTtcclxuICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlICd1JzpcclxuICAgICAgICAgICAgICAgICAgdGhpcy5fZXJyb3IgPSAncGFyc2Ugc3RyaW5nL3VuaWNvcmQgZXNjYXBlIG5vdCBzdXBwb3J0ZWQnO1xyXG4gICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICB0aGlzLl9lcnJvciA9ICdwYXJzZSBzdHJpbmcvZXNjYXBlIGVycm9yJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgZGVmYXVsdDoge1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHRoaXMuX2Vycm9yID0gJ3BhcnNlIHN0cmluZy9pbGxlZ2FsIGVuZCc7XHJcbiAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogSlNPTuOBruOCquODluOCuOOCp+OCr+ODiOOCqOODrOODoeODs+ODiOOCkuODkeODvOOCueOBl+OBplZhbHVl44Kq44OW44K444Kn44Kv44OI44KS6L+U44GZXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGJ1ZmZlciAgICBKU09O44Ko44Os44Oh44Oz44OI44Gu44OQ44OD44OV44KhXHJcbiAgICAgKiBAcGFyYW0gbGVuZ3RoICAgIOODkeODvOOCueOBmeOCi+mVt+OBlVxyXG4gICAgICogQHBhcmFtIGJlZ2luICAgICDjg5Hjg7zjgrnjgpLplovlp4vjgZnjgovkvY3nva5cclxuICAgICAqIEBwYXJhbSBvdXRFbmRQb3Mg44OR44O844K557WC5LqG5pmC44Gu5L2N572uXHJcbiAgICAgKiBAcmV0dXJuIOODkeODvOOCueOBi+OCieWPluW+l+OBl+OBn1ZhbHVl44Kq44OW44K444Kn44Kv44OIXHJcbiAgICAgKi9cclxuICAgIHByb3RlY3RlZCBwYXJzZU9iamVjdChcclxuICAgICAgYnVmZmVyOiBzdHJpbmcsXHJcbiAgICAgIGxlbmd0aDogbnVtYmVyLFxyXG4gICAgICBiZWdpbjogbnVtYmVyLFxyXG4gICAgICBvdXRFbmRQb3M6IG51bWJlcltdXHJcbiAgICApOiBWYWx1ZSB7XHJcbiAgICAgIGlmICh0aGlzLl9lcnJvcikgcmV0dXJuIG51bGw7XHJcbiAgICAgIGNvbnN0IHJldDogSnNvbk1hcCA9IG5ldyBKc29uTWFwKCk7XHJcblxyXG4gICAgICAvLyBLZXk6IFZhbHVlXHJcbiAgICAgIGxldCBrZXkgPSAnJztcclxuICAgICAgbGV0IGk6IG51bWJlciA9IGJlZ2luO1xyXG4gICAgICBsZXQgYyA9ICcnO1xyXG4gICAgICBjb25zdCBsb2NhbFJldEVuZFBvczI6IG51bWJlcltdID0gQXJyYXkoMSk7XHJcbiAgICAgIGxldCBvayA9IGZhbHNlO1xyXG5cclxuICAgICAgLy8gLCDjgYzntprjgY/pmZDjgorjg6vjg7zjg5dcclxuICAgICAgZm9yICg7IGkgPCBsZW5ndGg7IGkrKykge1xyXG4gICAgICAgIEZPUl9MT09QOiBmb3IgKDsgaSA8IGxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICBjID0gYnVmZmVyW2ldO1xyXG5cclxuICAgICAgICAgIHN3aXRjaCAoYykge1xyXG4gICAgICAgICAgICBjYXNlICdcIic6XHJcbiAgICAgICAgICAgICAga2V5ID0gdGhpcy5wYXJzZVN0cmluZyhidWZmZXIsIGxlbmd0aCwgaSArIDEsIGxvY2FsUmV0RW5kUG9zMik7XHJcbiAgICAgICAgICAgICAgaWYgKHRoaXMuX2Vycm9yKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgIGkgPSBsb2NhbFJldEVuZFBvczJbMF07XHJcbiAgICAgICAgICAgICAgb2sgPSB0cnVlO1xyXG4gICAgICAgICAgICAgIGJyZWFrIEZPUl9MT09QOyAvLy0tIGxvb3DjgYvjgonlh7rjgotcclxuICAgICAgICAgICAgY2FzZSAnfSc6IC8vIOmWieOBmOOCq+ODg+OCs1xyXG4gICAgICAgICAgICAgIG91dEVuZFBvc1swXSA9IGkgKyAxO1xyXG4gICAgICAgICAgICAgIHJldHVybiByZXQ7IC8vIOepulxyXG4gICAgICAgICAgICBjYXNlICc6JzpcclxuICAgICAgICAgICAgICB0aGlzLl9lcnJvciA9IFwiaWxsZWdhbCAnOicgcG9zaXRpb25cIjtcclxuICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnXFxuJzpcclxuICAgICAgICAgICAgICB0aGlzLl9saW5lQ291bnQrKztcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICBicmVhazsgLy8g44K544Kt44OD44OX44GZ44KL5paH5a2XXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghb2spIHtcclxuICAgICAgICAgIHRoaXMuX2Vycm9yID0gJ2tleSBub3QgZm91bmQnO1xyXG4gICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBvayA9IGZhbHNlO1xyXG5cclxuICAgICAgICAvLyA6IOOCkuODgeOCp+ODg+OCr1xyXG4gICAgICAgIEZPUl9MT09QMjogZm9yICg7IGkgPCBsZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgYyA9IGJ1ZmZlcltpXTtcclxuXHJcbiAgICAgICAgICBzd2l0Y2ggKGMpIHtcclxuICAgICAgICAgICAgY2FzZSAnOic6XHJcbiAgICAgICAgICAgICAgb2sgPSB0cnVlO1xyXG4gICAgICAgICAgICAgIGkrKztcclxuICAgICAgICAgICAgICBicmVhayBGT1JfTE9PUDI7XHJcbiAgICAgICAgICAgIGNhc2UgJ30nOlxyXG4gICAgICAgICAgICAgIHRoaXMuX2Vycm9yID0gXCJpbGxlZ2FsICd9JyBwb3NpdGlvblwiO1xyXG4gICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdcXG4nOlxyXG4gICAgICAgICAgICAgIHRoaXMuX2xpbmVDb3VudCsrO1xyXG4gICAgICAgICAgICAvLyBjYXNlICcgJzogY2FzZSAnXFx0JyA6IGNhc2UgJ1xccic6XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgYnJlYWs7IC8vIOOCueOCreODg+ODl+OBmeOCi+aWh+Wtl1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCFvaykge1xyXG4gICAgICAgICAgdGhpcy5fZXJyb3IgPSBcIic6JyBub3QgZm91bmRcIjtcclxuICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8g5YCk44KS44OB44Kn44OD44KvXHJcbiAgICAgICAgY29uc3QgdmFsdWU6IFZhbHVlID0gdGhpcy5wYXJzZVZhbHVlKFxyXG4gICAgICAgICAgYnVmZmVyLFxyXG4gICAgICAgICAgbGVuZ3RoLFxyXG4gICAgICAgICAgaSxcclxuICAgICAgICAgIGxvY2FsUmV0RW5kUG9zMlxyXG4gICAgICAgICk7XHJcbiAgICAgICAgaWYgKHRoaXMuX2Vycm9yKSB7XHJcbiAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGkgPSBsb2NhbFJldEVuZFBvczJbMF07XHJcblxyXG4gICAgICAgIC8vIHJldC5wdXQoa2V5LCB2YWx1ZSk7XHJcbiAgICAgICAgcmV0LnB1dChrZXksIHZhbHVlKTtcclxuXHJcbiAgICAgICAgRk9SX0xPT1AzOiBmb3IgKDsgaSA8IGxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICBjID0gYnVmZmVyW2ldO1xyXG5cclxuICAgICAgICAgIHN3aXRjaCAoYykge1xyXG4gICAgICAgICAgICBjYXNlICcsJzpcclxuICAgICAgICAgICAgICBicmVhayBGT1JfTE9PUDM7XHJcbiAgICAgICAgICAgIGNhc2UgJ30nOlxyXG4gICAgICAgICAgICAgIG91dEVuZFBvc1swXSA9IGkgKyAxO1xyXG4gICAgICAgICAgICAgIHJldHVybiByZXQ7IC8vIOato+W4uOe1guS6hlxyXG4gICAgICAgICAgICBjYXNlICdcXG4nOlxyXG4gICAgICAgICAgICAgIHRoaXMuX2xpbmVDb3VudCsrO1xyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgIGJyZWFrOyAvLyDjgrnjgq3jg4Pjg5dcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHRoaXMuX2Vycm9yID0gJ2lsbGVnYWwgZW5kIG9mIHBlcnNlT2JqZWN0JztcclxuICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDmrKHjga7jgIxcIuOAjeOBvuOBp+OBruaWh+Wtl+WIl+OCkuODkeODvOOCueOBmeOCi+OAglxyXG4gICAgICogQHBhcmFtIGJ1ZmZlciAgICBKU09O44Ko44Os44Oh44Oz44OI44Gu44OQ44OD44OV44KhXHJcbiAgICAgKiBAcGFyYW0gbGVuZ3RoICAgIOODkeODvOOCueOBmeOCi+mVt+OBlVxyXG4gICAgICogQHBhcmFtIGJlZ2luICAgICDjg5Hjg7zjgrnjgpLplovlp4vjgZnjgovkvY3nva5cclxuICAgICAqIEBwYXJhbSBvdXRFbmRQb3Mg44OR44O844K557WC5LqG5pmC44Gu5L2N572uXHJcbiAgICAgKiBAcmV0dXJuIOODkeODvOOCueOBi+OCieWPluW+l+OBl+OBn1ZhbHVl44Kq44OW44K444Kn44Kv44OIXHJcbiAgICAgKi9cclxuICAgIHByb3RlY3RlZCBwYXJzZUFycmF5KFxyXG4gICAgICBidWZmZXI6IHN0cmluZyxcclxuICAgICAgbGVuZ3RoOiBudW1iZXIsXHJcbiAgICAgIGJlZ2luOiBudW1iZXIsXHJcbiAgICAgIG91dEVuZFBvczogbnVtYmVyW11cclxuICAgICk6IFZhbHVlIHtcclxuICAgICAgaWYgKHRoaXMuX2Vycm9yKSByZXR1cm4gbnVsbDtcclxuICAgICAgbGV0IHJldDogSnNvbkFycmF5ID0gbmV3IEpzb25BcnJheSgpO1xyXG5cclxuICAgICAgLy8ga2V5IDogdmFsdWVcclxuICAgICAgbGV0IGk6IG51bWJlciA9IGJlZ2luO1xyXG4gICAgICBsZXQgYzogc3RyaW5nO1xyXG4gICAgICBjb25zdCBsb2NhbFJldEVuZHBvczI6IG51bWJlcltdID0gbmV3IEFycmF5KDEpO1xyXG5cclxuICAgICAgLy8gLCDjgYzntprjgY/pmZDjgorjg6vjg7zjg5dcclxuICAgICAgZm9yICg7IGkgPCBsZW5ndGg7IGkrKykge1xyXG4gICAgICAgIC8vIDog44KS44OB44Kn44OD44KvXHJcbiAgICAgICAgY29uc3QgdmFsdWU6IFZhbHVlID0gdGhpcy5wYXJzZVZhbHVlKFxyXG4gICAgICAgICAgYnVmZmVyLFxyXG4gICAgICAgICAgbGVuZ3RoLFxyXG4gICAgICAgICAgaSxcclxuICAgICAgICAgIGxvY2FsUmV0RW5kcG9zMlxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLl9lcnJvcikge1xyXG4gICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGkgPSBsb2NhbFJldEVuZHBvczJbMF07XHJcblxyXG4gICAgICAgIGlmICh2YWx1ZSkge1xyXG4gICAgICAgICAgcmV0LmFkZCh2YWx1ZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBGT1JfTE9PUDM6XHJcbiAgICAgICAgLy8gYm9vbGVhbiBicmVha2ZsYWcgPSBmYWxzZTtcclxuICAgICAgICBGT1JfTE9PUDogZm9yICg7IGkgPCBsZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgYyA9IGJ1ZmZlcltpXTtcclxuXHJcbiAgICAgICAgICBzd2l0Y2ggKGMpIHtcclxuICAgICAgICAgICAgY2FzZSAnLCc6XHJcbiAgICAgICAgICAgICAgLy8gYnJlYWtmbGFnID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAvLyBicmVhazsgLy8g5qyh44GuS0VZLCBWQWxVReOBuFxyXG4gICAgICAgICAgICAgIGJyZWFrIEZPUl9MT09QO1xyXG4gICAgICAgICAgICBjYXNlICddJzpcclxuICAgICAgICAgICAgICBvdXRFbmRQb3NbMF0gPSBpICsgMTtcclxuICAgICAgICAgICAgICByZXR1cm4gcmV0OyAvLyDntYLkuoZcclxuICAgICAgICAgICAgY2FzZSAnXFxuJzpcclxuICAgICAgICAgICAgICArK3RoaXMuX2xpbmVDb3VudDtcclxuICAgICAgICAgICAgLy9jYXNlICcgJzogY2FzZSAnXFx0JzogY2FzZSAnXFxyJzpcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICBicmVhazsgLy8g44K544Kt44OD44OXXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICByZXQgPSB2b2lkIDA7XHJcbiAgICAgIHRoaXMuX2Vycm9yID0gJ2lsbGVnYWwgZW5kIG9mIHBhcnNlT2JqZWN0JztcclxuICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgX2Vycm9yOiBzdHJpbmc7IC8vIOODkeODvOOCueaZguOBruOCqOODqeODvFxyXG4gICAgX2xpbmVDb3VudDogbnVtYmVyOyAvLyDjgqjjg6njg7zloLHlkYrjgavnlKjjgYTjgovooYzmlbDjgqvjgqbjg7Pjg4hcclxuICAgIF9yb290OiBWYWx1ZTsgLy8g44OR44O844K544GV44KM44Gf44Or44O844OI6KaB57SgXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDjg5Hjg7zjgrnjgZfjgZ9KU09O44Gu6KaB57Sg44KSZmxvYXTlgKTjgajjgZfjgabmibHjgYZcclxuICAgKi9cclxuICBleHBvcnQgY2xhc3MgSnNvbkZsb2F0IGV4dGVuZHMgVmFsdWUge1xyXG4gICAgLyoqXHJcbiAgICAgKiDjgrPjg7Pjgrnjg4jjg6njgq/jgr9cclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IodjogbnVtYmVyKSB7XHJcbiAgICAgIHN1cGVyKCk7XHJcblxyXG4gICAgICB0aGlzLl92YWx1ZSA9IHY7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBWYWx1ZeOBrueorumhnuOBjOaVsOWApOWei+OBquOCiXRydWVcclxuICAgICAqL1xyXG4gICAgcHVibGljIGlzRmxvYXQoKTogYm9vbGVhbiB7XHJcbiAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog6KaB57Sg44KS5paH5a2X5YiX44Gn6L+U44GZKGNzbVN0cmluZ+WeiylcclxuICAgICAqL1xyXG4gICAgcHVibGljIGdldFN0cmluZyhkZWZhdWx0VmFsdWU6IHN0cmluZywgaW5kZW50OiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gICAgICBjb25zdCBzdHJidWYgPSAnXFwwJztcclxuICAgICAgdGhpcy5fdmFsdWUgPSBwYXJzZUZsb2F0KHN0cmJ1Zik7XHJcbiAgICAgIHRoaXMuX3N0cmluZ0J1ZmZlciA9IHN0cmJ1ZjtcclxuXHJcbiAgICAgIHJldHVybiB0aGlzLl9zdHJpbmdCdWZmZXI7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDopoHntKDjgpLmlbDlgKTlnovjgafov5TjgZkobnVtYmVyKVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgdG9JbnQoZGVmYXVsdFZhbHVlID0gMCk6IG51bWJlciB7XHJcbiAgICAgIHJldHVybiBwYXJzZUludCh0aGlzLl92YWx1ZS50b1N0cmluZygpKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOimgee0oOOCkuaVsOWApOWei+OBp+i/lOOBmShudW1iZXIpXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyB0b0Zsb2F0KGRlZmF1bHRWYWx1ZSA9IDAuMCk6IG51bWJlciB7XHJcbiAgICAgIHJldHVybiB0aGlzLl92YWx1ZTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOW8leaVsOOBruWApOOBqOetieOBl+OBkeOCjOOBsHRydWVcclxuICAgICAqL1xyXG4gICAgcHVibGljIGVxdWFscyh2YWx1ZTogY3NtU3RyaW5nKTogYm9vbGVhbjtcclxuICAgIHB1YmxpYyBlcXVhbHModmFsdWU6IHN0cmluZyk6IGJvb2xlYW47XHJcbiAgICBwdWJsaWMgZXF1YWxzKHZhbHVlOiBudW1iZXIpOiBib29sZWFuO1xyXG4gICAgcHVibGljIGVxdWFscyh2YWx1ZTogYm9vbGVhbik6IGJvb2xlYW47XHJcbiAgICBwdWJsaWMgZXF1YWxzKHZhbHVlOiBhbnkpOiBib29sZWFuIHtcclxuICAgICAgaWYgKCdudW1iZXInID09PSB0eXBlb2YgdmFsdWUpIHtcclxuICAgICAgICAvLyBpbnRcclxuICAgICAgICBpZiAoTWF0aC5yb3VuZCh2YWx1ZSkpIHtcclxuICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gZmxvYXRcclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgIHJldHVybiB2YWx1ZSA9PSB0aGlzLl92YWx1ZTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgX3ZhbHVlOiBudW1iZXI7IC8vIEpTT07opoHntKDjga7lgKRcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOODkeODvOOCueOBl+OBn0pTT07jga7opoHntKDjgpLnnJ/lgb3lgKTjgajjgZfjgabmibHjgYZcclxuICAgKi9cclxuICBleHBvcnQgY2xhc3MgSnNvbkJvb2xlYW4gZXh0ZW5kcyBWYWx1ZSB7XHJcbiAgICAvKipcclxuICAgICAqIFZhbHVl44Gu56iu6aGe44GM55yf5YG95YCk44Gq44KJdHJ1ZVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgaXNCb29sKCk6IGJvb2xlYW4ge1xyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOimgee0oOOCkuecn+WBveWApOOBp+i/lOOBmShib29sZWFuKVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgdG9Cb29sZWFuKGRlZmF1bHRWYWx1ZSA9IGZhbHNlKTogYm9vbGVhbiB7XHJcbiAgICAgIHJldHVybiB0aGlzLl9ib29sVmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDopoHntKDjgpLmloflrZfliJfjgafov5TjgZkoY3NtU3RyaW5n5Z6LKVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2V0U3RyaW5nKGRlZmF1bHRWYWx1ZTogc3RyaW5nLCBpbmRlbnQ6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgICAgIHRoaXMuX3N0cmluZ0J1ZmZlciA9IHRoaXMuX2Jvb2xWYWx1ZSA/ICd0cnVlJyA6ICdmYWxzZSc7XHJcblxyXG4gICAgICByZXR1cm4gdGhpcy5fc3RyaW5nQnVmZmVyO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5byV5pWw44Gu5YCk44Go562J44GX44GR44KM44GwdHJ1ZVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZXF1YWxzKHZhbHVlOiBjc21TdHJpbmcpOiBib29sZWFuO1xyXG4gICAgcHVibGljIGVxdWFscyh2YWx1ZTogc3RyaW5nKTogYm9vbGVhbjtcclxuICAgIHB1YmxpYyBlcXVhbHModmFsdWU6IG51bWJlcik6IGJvb2xlYW47XHJcbiAgICBwdWJsaWMgZXF1YWxzKHZhbHVlOiBib29sZWFuKTogYm9vbGVhbjtcclxuICAgIHB1YmxpYyBlcXVhbHModmFsdWU6IGFueSk6IGJvb2xlYW4ge1xyXG4gICAgICBpZiAoJ2Jvb2xlYW4nID09PSB0eXBlb2YgdmFsdWUpIHtcclxuICAgICAgICByZXR1cm4gdmFsdWUgPT0gdGhpcy5fYm9vbFZhbHVlO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFZhbHVl44Gu5YCk44GM6Z2Z55qE44Gq44KJdHJ1ZSwg6Z2Z55qE44Gq44KJ6Kej5pS+44GX44Gq44GEXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBpc1N0YXRpYygpOiBib29sZWFuIHtcclxuICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDlvJXmlbDku5jjgY3jgrPjg7Pjgrnjg4jjg6njgq/jgr9cclxuICAgICAqL1xyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKHY6IGJvb2xlYW4pIHtcclxuICAgICAgc3VwZXIoKTtcclxuXHJcbiAgICAgIHRoaXMuX2Jvb2xWYWx1ZSA9IHY7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIHRydWVWYWx1ZTogSnNvbkJvb2xlYW47IC8vIHRydWVcclxuICAgIHN0YXRpYyBmYWxzZVZhbHVlOiBKc29uQm9vbGVhbjsgLy8gZmFsc2VcclxuXHJcbiAgICBwcml2YXRlIF9ib29sVmFsdWU6IGJvb2xlYW47IC8vIEpTT07opoHntKDjga7lgKRcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOODkeODvOOCueOBl+OBn0pTT07jga7opoHntKDjgpLmloflrZfliJfjgajjgZfjgabmibHjgYZcclxuICAgKi9cclxuICBleHBvcnQgY2xhc3MgSnNvblN0cmluZyBleHRlbmRzIFZhbHVlIHtcclxuICAgIC8qKlxyXG4gICAgICog5byV5pWw5LuY44GN44Kz44Oz44K544OI44Op44Kv44K/XHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcihzOiBzdHJpbmcpO1xyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKHM6IGNzbVN0cmluZyk7XHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoczogYW55KSB7XHJcbiAgICAgIHN1cGVyKCk7XHJcblxyXG4gICAgICBpZiAoJ3N0cmluZycgPT09IHR5cGVvZiBzKSB7XHJcbiAgICAgICAgdGhpcy5fc3RyaW5nQnVmZmVyID0gcztcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKHMgaW5zdGFuY2VvZiBjc21TdHJpbmcpIHtcclxuICAgICAgICB0aGlzLl9zdHJpbmdCdWZmZXIgPSBzLnM7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFZhbHVl44Gu56iu6aGe44GM5paH5a2X5YiX44Gq44KJdHJ1ZVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgaXNTdHJpbmcoKTogYm9vbGVhbiB7XHJcbiAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog6KaB57Sg44KS5paH5a2X5YiX44Gn6L+U44GZKGNzbVN0cmluZ+WeiylcclxuICAgICAqL1xyXG4gICAgcHVibGljIGdldFN0cmluZyhkZWZhdWx0VmFsdWU6IHN0cmluZywgaW5kZW50OiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gICAgICByZXR1cm4gdGhpcy5fc3RyaW5nQnVmZmVyO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5byV5pWw44Gu5YCk44Go562J44GX44GR44KM44GwdHJ1ZVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZXF1YWxzKHZhbHVlOiBjc21TdHJpbmcpOiBib29sZWFuO1xyXG4gICAgcHVibGljIGVxdWFscyh2YWx1ZTogc3RyaW5nKTogYm9vbGVhbjtcclxuICAgIHB1YmxpYyBlcXVhbHModmFsdWU6IG51bWJlcik6IGJvb2xlYW47XHJcbiAgICBwdWJsaWMgZXF1YWxzKHZhbHVlOiBib29sZWFuKTogYm9vbGVhbjtcclxuICAgIHB1YmxpYyBlcXVhbHModmFsdWU6IGFueSk6IGJvb2xlYW4ge1xyXG4gICAgICBpZiAoJ3N0cmluZycgPT09IHR5cGVvZiB2YWx1ZSkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9zdHJpbmdCdWZmZXIgPT0gdmFsdWU7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIGNzbVN0cmluZykge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9zdHJpbmdCdWZmZXIgPT0gdmFsdWUucztcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogSlNPTuODkeODvOOCueaZguOBruOCqOODqeODvOe1kOaenOOAguaWh+Wtl+WIl+Wei+OBruOCiOOBhuOBq+OBteOCi+OBvuOBhlxyXG4gICAqL1xyXG4gIGV4cG9ydCBjbGFzcyBKc29uRXJyb3IgZXh0ZW5kcyBKc29uU3RyaW5nIHtcclxuICAgIC8qKlxyXG4gICAgICogVmFsdWXjga7lgKTjgYzpnZnnmoTjgarjgol0cnVl44CB6Z2Z55qE44Gq44KJ6Kej5pS+44GX44Gq44GEXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBpc1N0YXRpYygpOiBib29sZWFuIHtcclxuICAgICAgcmV0dXJuIHRoaXMuX2lzU3RhdGljO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog44Ko44Op44O85oOF5aCx44KS44K744OD44OI44GZ44KLXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzZXRFcnJvck5vdEZvckNsaWVudENhbGwoczogc3RyaW5nKTogVmFsdWUge1xyXG4gICAgICB0aGlzLl9zdHJpbmdCdWZmZXIgPSBzO1xyXG4gICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOW8leaVsOS7mOOBjeOCs+ODs+OCueODiOODqeOCr+OCv1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoczogY3NtU3RyaW5nIHwgc3RyaW5nLCBpc1N0YXRpYzogYm9vbGVhbikge1xyXG4gICAgICBpZiAoJ3N0cmluZycgPT09IHR5cGVvZiBzKSB7XHJcbiAgICAgICAgc3VwZXIocyk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgc3VwZXIocyk7XHJcbiAgICAgIH1cclxuICAgICAgdGhpcy5faXNTdGF0aWMgPSBpc1N0YXRpYztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFZhbHVl44Gu56iu6aGe44GM44Ko44Op44O85YCk44Gq44KJdHJ1ZVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgaXNFcnJvcigpOiBib29sZWFuIHtcclxuICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIF9pc1N0YXRpYzogYm9vbGVhbjsgLy8g6Z2Z55qE44GqVmFsdWXjgYvjganjgYbjgYtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOODkeODvOOCueOBl+OBn0pTT07jga7opoHntKDjgpJOVUxM5YCk44Go44GX44Gm5oyB44GkXHJcbiAgICovXHJcbiAgZXhwb3J0IGNsYXNzIEpzb25OdWxsdmFsdWUgZXh0ZW5kcyBWYWx1ZSB7XHJcbiAgICAvKipcclxuICAgICAqIFZhbHVl44Gu56iu6aGe44GMTlVMTOWApOOBquOCiXRydWVcclxuICAgICAqL1xyXG4gICAgcHVibGljIGlzTnVsbCgpOiBib29sZWFuIHtcclxuICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDopoHntKDjgpLmloflrZfliJfjgafov5TjgZkoY3NtU3RyaW5n5Z6LKVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2V0U3RyaW5nKGRlZmF1bHRWYWx1ZTogc3RyaW5nLCBpbmRlbnQ6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgICAgIHJldHVybiB0aGlzLl9zdHJpbmdCdWZmZXI7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBWYWx1ZeOBruWApOOBjOmdmeeahOOBquOCiXRydWUsIOmdmeeahOOBquOCieino+aUvuOBl+OBquOBhFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgaXNTdGF0aWMoKTogYm9vbGVhbiB7XHJcbiAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog44Kz44Oz44K544OI44Op44Kv44K/XHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgc3VwZXIoKTtcclxuXHJcbiAgICAgIHRoaXMuX3N0cmluZ0J1ZmZlciA9ICdOdWxsVmFsdWUnO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog44OR44O844K544GX44GfSlNPTuOBruimgee0oOOCkumFjeWIl+OBqOOBl+OBpuaMgeOBpFxyXG4gICAqL1xyXG4gIGV4cG9ydCBjbGFzcyBKc29uQXJyYXkgZXh0ZW5kcyBWYWx1ZSB7XHJcbiAgICAvKipcclxuICAgICAqIOOCs+ODs+OCueODiOODqeOCr+OCv1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgIHN1cGVyKCk7XHJcbiAgICAgIHRoaXMuX2FycmF5ID0gbmV3IGNzbVZlY3RvcjxWYWx1ZT4oKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOODh+OCueODiOODqeOCr+OCv+ebuOW9k+OBruWHpueQhlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgcmVsZWFzZSgpOiB2b2lkIHtcclxuICAgICAgZm9yIChcclxuICAgICAgICBsZXQgaXRlOiBjc21WZWN0b3JfaXRlcmF0b3I8VmFsdWU+ID0gdGhpcy5fYXJyYXkuYmVnaW4oKTtcclxuICAgICAgICBpdGUubm90RXF1YWwodGhpcy5fYXJyYXkuZW5kKCkpO1xyXG4gICAgICAgIGl0ZS5wcmVJbmNyZW1lbnQoKVxyXG4gICAgICApIHtcclxuICAgICAgICBsZXQgdjogVmFsdWUgPSBpdGUucHRyKCk7XHJcblxyXG4gICAgICAgIGlmICh2ICYmICF2LmlzU3RhdGljKCkpIHtcclxuICAgICAgICAgIHYgPSB2b2lkIDA7XHJcbiAgICAgICAgICB2ID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFZhbHVl44Gu56iu6aGe44GM6YWN5YiX44Gq44KJdHJ1ZVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgaXNBcnJheSgpOiBib29sZWFuIHtcclxuICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDmt7vlrZfmvJTnrpflrZBbaW5kZXhdXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXRWYWx1ZUJ5SW5kZXgoaW5kZXg6IG51bWJlcik6IFZhbHVlIHtcclxuICAgICAgaWYgKGluZGV4IDwgMCB8fCB0aGlzLl9hcnJheS5nZXRTaXplKCkgPD0gaW5kZXgpIHtcclxuICAgICAgICByZXR1cm4gVmFsdWUuZXJyb3JWYWx1ZS5zZXRFcnJvck5vdEZvckNsaWVudENhbGwoXHJcbiAgICAgICAgICBDU01fSlNPTl9FUlJPUl9JTkRFWF9PRl9CT1VORFNcclxuICAgICAgICApO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zdCB2OiBWYWx1ZSA9IHRoaXMuX2FycmF5LmF0KGluZGV4KTtcclxuXHJcbiAgICAgIGlmICh2ID09IG51bGwpIHtcclxuICAgICAgICByZXR1cm4gVmFsdWUubnVsbFZhbHVlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gdjtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOa3u+Wtl+a8lOeul+WtkFtzdHJpbmcgfCBjc21TdHJpbmddXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXRWYWx1ZUJ5U3RyaW5nKHM6IHN0cmluZyB8IGNzbVN0cmluZyk6IFZhbHVlIHtcclxuICAgICAgcmV0dXJuIFZhbHVlLmVycm9yVmFsdWUuc2V0RXJyb3JOb3RGb3JDbGllbnRDYWxsKFxyXG4gICAgICAgIENTTV9KU09OX0VSUk9SX1RZUEVfTUlTTUFUQ0hcclxuICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOimgee0oOOCkuaWh+Wtl+WIl+OBp+i/lOOBmShjc21TdHJpbmflnospXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXRTdHJpbmcoZGVmYXVsdFZhbHVlOiBzdHJpbmcsIGluZGVudDogc3RyaW5nKTogc3RyaW5nIHtcclxuICAgICAgY29uc3Qgc3RyaW5nQnVmZmVyOiBzdHJpbmcgPSBpbmRlbnQgKyAnW1xcbic7XHJcblxyXG4gICAgICBmb3IgKFxyXG4gICAgICAgIGxldCBpdGU6IGNzbVZlY3Rvcl9pdGVyYXRvcjxWYWx1ZT4gPSB0aGlzLl9hcnJheS5iZWdpbigpO1xyXG4gICAgICAgIGl0ZS5ub3RFcXVhbCh0aGlzLl9hcnJheS5lbmQoKSk7XHJcbiAgICAgICAgaXRlLmluY3JlbWVudCgpXHJcbiAgICAgICkge1xyXG4gICAgICAgIGNvbnN0IHY6IFZhbHVlID0gaXRlLnB0cigpO1xyXG4gICAgICAgIHRoaXMuX3N0cmluZ0J1ZmZlciArPSBpbmRlbnQgKyAnJyArIHYuZ2V0U3RyaW5nKGluZGVudCArICcgJykgKyAnXFxuJztcclxuICAgICAgfVxyXG5cclxuICAgICAgdGhpcy5fc3RyaW5nQnVmZmVyID0gc3RyaW5nQnVmZmVyICsgaW5kZW50ICsgJ11cXG4nO1xyXG5cclxuICAgICAgcmV0dXJuIHRoaXMuX3N0cmluZ0J1ZmZlcjtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOmFjeWIl+imgee0oOOCkui/veWKoOOBmeOCi1xyXG4gICAgICogQHBhcmFtIHYg6L+95Yqg44GZ44KL6KaB57SgXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBhZGQodjogVmFsdWUpOiB2b2lkIHtcclxuICAgICAgdGhpcy5fYXJyYXkucHVzaEJhY2sodik7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDopoHntKDjgpLjgrPjg7Pjg4bjg4rjgafov5TjgZkoY3NtVmVjdG9yPFZhbHVlPilcclxuICAgICAqL1xyXG4gICAgcHVibGljIGdldFZlY3RvcihkZWZhdWx0VmFsdWU6IGNzbVZlY3RvcjxWYWx1ZT4gPSBudWxsKTogY3NtVmVjdG9yPFZhbHVlPiB7XHJcbiAgICAgIHJldHVybiB0aGlzLl9hcnJheTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOimgee0oOOBruaVsOOCkui/lOOBmVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2V0U2l6ZSgpOiBudW1iZXIge1xyXG4gICAgICByZXR1cm4gdGhpcy5fYXJyYXkuZ2V0U2l6ZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgX2FycmF5OiBjc21WZWN0b3I8VmFsdWU+OyAvLyBKU09O6KaB57Sg44Gu5YCkXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDjg5Hjg7zjgrnjgZfjgZ9KU09O44Gu6KaB57Sg44KS44Oe44OD44OX44Go44GX44Gm5oyB44GkXHJcbiAgICovXHJcbiAgZXhwb3J0IGNsYXNzIEpzb25NYXAgZXh0ZW5kcyBWYWx1ZSB7XHJcbiAgICAvKipcclxuICAgICAqIOOCs+ODs+OCueODiOODqeOCr+OCv1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgIHN1cGVyKCk7XHJcbiAgICAgIHRoaXMuX21hcCA9IG5ldyBjc21NYXA8c3RyaW5nLCBWYWx1ZT4oKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOODh+OCueODiOODqeOCr+OCv+ebuOW9k+OBruWHpueQhlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgcmVsZWFzZSgpOiB2b2lkIHtcclxuICAgICAgY29uc3QgaXRlOiBjc21NYXBfaXRlcmF0b3I8c3RyaW5nLCBWYWx1ZT4gPSB0aGlzLl9tYXAuYmVnaW4oKTtcclxuXHJcbiAgICAgIHdoaWxlIChpdGUubm90RXF1YWwodGhpcy5fbWFwLmVuZCgpKSkge1xyXG4gICAgICAgIGxldCB2OiBWYWx1ZSA9IGl0ZS5wdHIoKS5zZWNvbmQ7XHJcblxyXG4gICAgICAgIGlmICh2ICYmICF2LmlzU3RhdGljKCkpIHtcclxuICAgICAgICAgIHYgPSB2b2lkIDA7XHJcbiAgICAgICAgICB2ID0gbnVsbDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGl0ZS5wcmVJbmNyZW1lbnQoKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogVmFsdWXjga7lgKTjgYxNYXDlnovjgarjgol0cnVlXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBpc01hcCgpOiBib29sZWFuIHtcclxuICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDmt7vlrZfmvJTnrpflrZBbc3RyaW5nIHwgY3NtU3RyaW5nXVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2V0VmFsdWVCeVN0cmluZyhzOiBzdHJpbmcgfCBjc21TdHJpbmcpOiBWYWx1ZSB7XHJcbiAgICAgIGlmIChzIGluc3RhbmNlb2YgY3NtU3RyaW5nKSB7XHJcbiAgICAgICAgY29uc3QgcmV0OiBWYWx1ZSA9IHRoaXMuX21hcC5nZXRWYWx1ZShzLnMpO1xyXG4gICAgICAgIGlmIChyZXQgPT0gbnVsbCkge1xyXG4gICAgICAgICAgcmV0dXJuIFZhbHVlLm51bGxWYWx1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJldDtcclxuICAgICAgfVxyXG5cclxuICAgICAgZm9yIChcclxuICAgICAgICBsZXQgaXRlcjogY3NtTWFwX2l0ZXJhdG9yPHN0cmluZywgVmFsdWU+ID0gdGhpcy5fbWFwLmJlZ2luKCk7XHJcbiAgICAgICAgaXRlci5ub3RFcXVhbCh0aGlzLl9tYXAuZW5kKCkpO1xyXG4gICAgICAgIGl0ZXIucHJlSW5jcmVtZW50KClcclxuICAgICAgKSB7XHJcbiAgICAgICAgaWYgKGl0ZXIucHRyKCkuZmlyc3QgPT0gcykge1xyXG4gICAgICAgICAgaWYgKGl0ZXIucHRyKCkuc2Vjb25kID09IG51bGwpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFZhbHVlLm51bGxWYWx1ZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHJldHVybiBpdGVyLnB0cigpLnNlY29uZDtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiBWYWx1ZS5udWxsVmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDmt7vlrZfmvJTnrpflrZBbaW5kZXhdXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXRWYWx1ZUJ5SW5kZXgoaW5kZXg6IG51bWJlcik6IFZhbHVlIHtcclxuICAgICAgcmV0dXJuIFZhbHVlLmVycm9yVmFsdWUuc2V0RXJyb3JOb3RGb3JDbGllbnRDYWxsKFxyXG4gICAgICAgIENTTV9KU09OX0VSUk9SX1RZUEVfTUlTTUFUQ0hcclxuICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOimgee0oOOCkuaWh+Wtl+WIl+OBp+i/lOOBmShjc21TdHJpbmflnospXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXRTdHJpbmcoZGVmYXVsdFZhbHVlOiBzdHJpbmcsIGluZGVudDogc3RyaW5nKSB7XHJcbiAgICAgIHRoaXMuX3N0cmluZ0J1ZmZlciA9IGluZGVudCArICd7XFxuJztcclxuXHJcbiAgICAgIGNvbnN0IGl0ZTogY3NtTWFwX2l0ZXJhdG9yPHN0cmluZywgVmFsdWU+ID0gdGhpcy5fbWFwLmJlZ2luKCk7XHJcbiAgICAgIHdoaWxlIChpdGUubm90RXF1YWwodGhpcy5fbWFwLmVuZCgpKSkge1xyXG4gICAgICAgIGNvbnN0IGtleSA9IGl0ZS5wdHIoKS5maXJzdDtcclxuICAgICAgICBjb25zdCB2OiBWYWx1ZSA9IGl0ZS5wdHIoKS5zZWNvbmQ7XHJcblxyXG4gICAgICAgIHRoaXMuX3N0cmluZ0J1ZmZlciArPVxyXG4gICAgICAgICAgaW5kZW50ICsgJyAnICsga2V5ICsgJyA6ICcgKyB2LmdldFN0cmluZyhpbmRlbnQgKyAnICAgJykgKyAnIFxcbic7XHJcbiAgICAgICAgaXRlLnByZUluY3JlbWVudCgpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB0aGlzLl9zdHJpbmdCdWZmZXIgKz0gaW5kZW50ICsgJ31cXG4nO1xyXG5cclxuICAgICAgcmV0dXJuIHRoaXMuX3N0cmluZ0J1ZmZlcjtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOimgee0oOOCkk1hcOWei+OBp+i/lOOBmVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2V0TWFwKGRlZmF1bHRWYWx1ZT86IGNzbU1hcDxzdHJpbmcsIFZhbHVlPik6IGNzbU1hcDxzdHJpbmcsIFZhbHVlPiB7XHJcbiAgICAgIHJldHVybiB0aGlzLl9tYXA7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBNYXDjgavopoHntKDjgpLov73liqDjgZnjgotcclxuICAgICAqL1xyXG4gICAgcHVibGljIHB1dChrZXk6IHN0cmluZywgdjogVmFsdWUpOiB2b2lkIHtcclxuICAgICAgdGhpcy5fbWFwLnNldFZhbHVlKGtleSwgdik7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBNYXDjgYvjgonjgq3jg7zjga7jg6rjgrnjg4jjgpLlj5blvpfjgZnjgotcclxuICAgICAqL1xyXG4gICAgcHVibGljIGdldEtleXMoKTogY3NtVmVjdG9yPHN0cmluZz4ge1xyXG4gICAgICBpZiAoIXRoaXMuX2tleXMpIHtcclxuICAgICAgICB0aGlzLl9rZXlzID0gbmV3IGNzbVZlY3RvcjxzdHJpbmc+KCk7XHJcblxyXG4gICAgICAgIGNvbnN0IGl0ZTogY3NtTWFwX2l0ZXJhdG9yPHN0cmluZywgVmFsdWU+ID0gdGhpcy5fbWFwLmJlZ2luKCk7XHJcblxyXG4gICAgICAgIHdoaWxlIChpdGUubm90RXF1YWwodGhpcy5fbWFwLmVuZCgpKSkge1xyXG4gICAgICAgICAgY29uc3Qga2V5OiBzdHJpbmcgPSBpdGUucHRyKCkuZmlyc3Q7XHJcbiAgICAgICAgICB0aGlzLl9rZXlzLnB1c2hCYWNrKGtleSk7XHJcbiAgICAgICAgICBpdGUucHJlSW5jcmVtZW50KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiB0aGlzLl9rZXlzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogTWFw44Gu6KaB57Sg5pWw44KS5Y+W5b6X44GZ44KLXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXRTaXplKCk6IG51bWJlciB7XHJcbiAgICAgIHJldHVybiB0aGlzLl9rZXlzLmdldFNpemUoKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIF9tYXA6IGNzbU1hcDxzdHJpbmcsIFZhbHVlPjsgLy8gSlNPTuimgee0oOOBruWApFxyXG4gICAgcHJpdmF0ZSBfa2V5czogY3NtVmVjdG9yPHN0cmluZz47IC8vIEpTT07opoHntKDjga7lgKRcclxuICB9XHJcbn1cclxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUVBO0FBQUE7QUFFQTtBQUNBO0FBS0E7QUFJQTtBQUFBO0FBVUE7QUFDQTtBQUNBO0FBS0E7QUFBQTtBQUNBO0FBQ0E7QUFLQTtBQUFBO0FBQ0E7QUFDQTtBQUtBO0FBQUE7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBS0E7QUFBQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBR0E7QUFLQTtBQUNBO0FBR0E7QUFPQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFTQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVFBO0FBQUE7QUE1TUE7QUF1TkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBU0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQVFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQVNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFZQTtBQU1BO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQVdBO0FBTUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBV0E7QUFNQTtBQUFBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQU1BO0FBQ0E7QUFDQTtBQUVBO0FBR0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFVQTtBQU1BO0FBQUE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUdBO0FBRUE7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFFQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFBQTtBQTVlQTtBQWlmQTtBQUFBO0FBSUE7QUFBQTtBQUdBOztBQUNBO0FBS0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBS0E7QUFBQTtBQUNBO0FBQ0E7QUFLQTtBQUFBO0FBQ0E7QUFDQTtBQVNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUFBO0FBaEVBO0FBcUVBO0FBQUE7QUFnREE7QUFBQTtBQUdBOztBQUNBO0FBaERBO0FBQ0E7QUFDQTtBQUtBO0FBQUE7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUVBO0FBQ0E7QUFTQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFlQTtBQUFBO0FBMURBO0FBK0RBO0FBQUE7QUFNQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBOztBQUNBO0FBS0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBU0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQWxEQTtBQXVEQTtBQUFBO0FBbUJBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQXRCQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQWlCQTtBQUNBO0FBQ0E7QUFHQTtBQUFBO0FBcENBO0FBeUNBO0FBQUE7QUF5QkE7QUFBQTtBQUdBOztBQUNBO0FBekJBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQVVBO0FBQUE7QUE5QkE7QUFtQ0E7QUFBQTtBQUlBO0FBQUE7QUFFQTs7QUFDQTtBQUtBO0FBQ0E7QUFLQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUdBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBS0E7QUFDQTtBQUdBO0FBS0E7QUFDQTtBQUVBO0FBS0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBS0E7QUFBQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFHQTtBQUFBO0FBekdBO0FBOEdBO0FBQUE7QUFJQTtBQUFBO0FBRUE7O0FBQ0E7QUFLQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBS0E7QUFDQTtBQUdBO0FBS0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFJQTtBQUFBO0FBcklBO0FBc0lBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./Framework/src/utils/cubismjson.ts\n");

/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./src/asset/index.css":
/*!*******************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./src/asset/index.css ***!
  \*******************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../node_modules/css-loader/dist/runtime/api.js */ \"./node_modules/css-loader/dist/runtime/api.js\");\n/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);\n// Imports\n\nvar ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()(true);\n// Module\n___CSS_LOADER_EXPORT___.push([module.i, \"@font-face {\\r\\n    font-family: 'iconfont';  /* project id 1168737 */\\r\\n    src: url('//at.alicdn.com/t/font_1168737_j6ahlsx1dk.eot');\\r\\n    src: url('//at.alicdn.com/t/font_1168737_j6ahlsx1dk.eot?#iefix') format('embedded-opentype'),\\r\\n    url('//at.alicdn.com/t/font_1168737_j6ahlsx1dk.woff2') format('woff2'),\\r\\n    url('//at.alicdn.com/t/font_1168737_j6ahlsx1dk.woff') format('woff'),\\r\\n    url('//at.alicdn.com/t/font_1168737_j6ahlsx1dk.ttf') format('truetype'),\\r\\n    url('//at.alicdn.com/t/font_1168737_j6ahlsx1dk.svg#iconfont') format('svg');\\r\\n  }\\r\\n\\r\\n.iconfont{\\r\\n    font-family:\\\"iconfont\\\" !important;\\r\\n    font-size:16px;font-style:normal;\\r\\n    -webkit-font-smoothing: antialiased;\\r\\n    -webkit-text-stroke-width: 0.2px;\\r\\n    -moz-osx-font-smoothing: grayscale;\\r\\n    cursor: pointer;\\r\\n}\\r\\n\\r\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://src/asset/index.css\"],\"names\":[],\"mappings\":\"AAAA;IACI,uBAAuB,GAAG,uBAAuB;IACjD,yDAAyD;IACzD;;;;+EAI2E;EAC7E;;AAEF;IACI,iCAAiC;IACjC,cAAc,CAAC,iBAAiB;IAChC,mCAAmC;IACnC,gCAAgC;IAChC,kCAAkC;IAClC,eAAe;AACnB\",\"sourcesContent\":[\"@font-face {\\r\\n    font-family: 'iconfont';  /* project id 1168737 */\\r\\n    src: url('//at.alicdn.com/t/font_1168737_j6ahlsx1dk.eot');\\r\\n    src: url('//at.alicdn.com/t/font_1168737_j6ahlsx1dk.eot?#iefix') format('embedded-opentype'),\\r\\n    url('//at.alicdn.com/t/font_1168737_j6ahlsx1dk.woff2') format('woff2'),\\r\\n    url('//at.alicdn.com/t/font_1168737_j6ahlsx1dk.woff') format('woff'),\\r\\n    url('//at.alicdn.com/t/font_1168737_j6ahlsx1dk.ttf') format('truetype'),\\r\\n    url('//at.alicdn.com/t/font_1168737_j6ahlsx1dk.svg#iconfont') format('svg');\\r\\n  }\\r\\n\\r\\n.iconfont{\\r\\n    font-family:\\\"iconfont\\\" !important;\\r\\n    font-size:16px;font-style:normal;\\r\\n    -webkit-font-smoothing: antialiased;\\r\\n    -webkit-text-stroke-width: 0.2px;\\r\\n    -moz-osx-font-smoothing: grayscale;\\r\\n    cursor: pointer;\\r\\n}\\r\\n\\r\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\n/* harmony default export */ __webpack_exports__[\"default\"] = (___CSS_LOADER_EXPORT___);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL3NyYy9hc3NldC9pbmRleC5jc3MuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9saXZlMmQvLi9zcmMvYXNzZXQvaW5kZXguY3NzPzhhYWEiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gSW1wb3J0c1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyBmcm9tIFwiLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiO1xudmFyIF9fX0NTU19MT0FERVJfRVhQT1JUX19fID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKHRydWUpO1xuLy8gTW9kdWxlXG5fX19DU1NfTE9BREVSX0VYUE9SVF9fXy5wdXNoKFttb2R1bGUuaWQsIFwiQGZvbnQtZmFjZSB7XFxyXFxuICAgIGZvbnQtZmFtaWx5OiAnaWNvbmZvbnQnOyAgLyogcHJvamVjdCBpZCAxMTY4NzM3ICovXFxyXFxuICAgIHNyYzogdXJsKCcvL2F0LmFsaWNkbi5jb20vdC9mb250XzExNjg3MzdfajZhaGxzeDFkay5lb3QnKTtcXHJcXG4gICAgc3JjOiB1cmwoJy8vYXQuYWxpY2RuLmNvbS90L2ZvbnRfMTE2ODczN19qNmFobHN4MWRrLmVvdD8jaWVmaXgnKSBmb3JtYXQoJ2VtYmVkZGVkLW9wZW50eXBlJyksXFxyXFxuICAgIHVybCgnLy9hdC5hbGljZG4uY29tL3QvZm9udF8xMTY4NzM3X2o2YWhsc3gxZGsud29mZjInKSBmb3JtYXQoJ3dvZmYyJyksXFxyXFxuICAgIHVybCgnLy9hdC5hbGljZG4uY29tL3QvZm9udF8xMTY4NzM3X2o2YWhsc3gxZGsud29mZicpIGZvcm1hdCgnd29mZicpLFxcclxcbiAgICB1cmwoJy8vYXQuYWxpY2RuLmNvbS90L2ZvbnRfMTE2ODczN19qNmFobHN4MWRrLnR0ZicpIGZvcm1hdCgndHJ1ZXR5cGUnKSxcXHJcXG4gICAgdXJsKCcvL2F0LmFsaWNkbi5jb20vdC9mb250XzExNjg3MzdfajZhaGxzeDFkay5zdmcjaWNvbmZvbnQnKSBmb3JtYXQoJ3N2ZycpO1xcclxcbiAgfVxcclxcblxcclxcbi5pY29uZm9udHtcXHJcXG4gICAgZm9udC1mYW1pbHk6XFxcImljb25mb250XFxcIiAhaW1wb3J0YW50O1xcclxcbiAgICBmb250LXNpemU6MTZweDtmb250LXN0eWxlOm5vcm1hbDtcXHJcXG4gICAgLXdlYmtpdC1mb250LXNtb290aGluZzogYW50aWFsaWFzZWQ7XFxyXFxuICAgIC13ZWJraXQtdGV4dC1zdHJva2Utd2lkdGg6IDAuMnB4O1xcclxcbiAgICAtbW96LW9zeC1mb250LXNtb290aGluZzogZ3JheXNjYWxlO1xcclxcbiAgICBjdXJzb3I6IHBvaW50ZXI7XFxyXFxufVxcclxcblxcclxcblwiLCBcIlwiLHtcInZlcnNpb25cIjozLFwic291cmNlc1wiOltcIndlYnBhY2s6Ly9zcmMvYXNzZXQvaW5kZXguY3NzXCJdLFwibmFtZXNcIjpbXSxcIm1hcHBpbmdzXCI6XCJBQUFBO0lBQ0ksdUJBQXVCLEdBQUcsdUJBQXVCO0lBQ2pELHlEQUF5RDtJQUN6RDs7OzsrRUFJMkU7RUFDN0U7O0FBRUY7SUFDSSxpQ0FBaUM7SUFDakMsY0FBYyxDQUFDLGlCQUFpQjtJQUNoQyxtQ0FBbUM7SUFDbkMsZ0NBQWdDO0lBQ2hDLGtDQUFrQztJQUNsQyxlQUFlO0FBQ25CXCIsXCJzb3VyY2VzQ29udGVudFwiOltcIkBmb250LWZhY2Uge1xcclxcbiAgICBmb250LWZhbWlseTogJ2ljb25mb250JzsgIC8qIHByb2plY3QgaWQgMTE2ODczNyAqL1xcclxcbiAgICBzcmM6IHVybCgnLy9hdC5hbGljZG4uY29tL3QvZm9udF8xMTY4NzM3X2o2YWhsc3gxZGsuZW90Jyk7XFxyXFxuICAgIHNyYzogdXJsKCcvL2F0LmFsaWNkbi5jb20vdC9mb250XzExNjg3MzdfajZhaGxzeDFkay5lb3Q/I2llZml4JykgZm9ybWF0KCdlbWJlZGRlZC1vcGVudHlwZScpLFxcclxcbiAgICB1cmwoJy8vYXQuYWxpY2RuLmNvbS90L2ZvbnRfMTE2ODczN19qNmFobHN4MWRrLndvZmYyJykgZm9ybWF0KCd3b2ZmMicpLFxcclxcbiAgICB1cmwoJy8vYXQuYWxpY2RuLmNvbS90L2ZvbnRfMTE2ODczN19qNmFobHN4MWRrLndvZmYnKSBmb3JtYXQoJ3dvZmYnKSxcXHJcXG4gICAgdXJsKCcvL2F0LmFsaWNkbi5jb20vdC9mb250XzExNjg3MzdfajZhaGxzeDFkay50dGYnKSBmb3JtYXQoJ3RydWV0eXBlJyksXFxyXFxuICAgIHVybCgnLy9hdC5hbGljZG4uY29tL3QvZm9udF8xMTY4NzM3X2o2YWhsc3gxZGsuc3ZnI2ljb25mb250JykgZm9ybWF0KCdzdmcnKTtcXHJcXG4gIH1cXHJcXG5cXHJcXG4uaWNvbmZvbnR7XFxyXFxuICAgIGZvbnQtZmFtaWx5OlxcXCJpY29uZm9udFxcXCIgIWltcG9ydGFudDtcXHJcXG4gICAgZm9udC1zaXplOjE2cHg7Zm9udC1zdHlsZTpub3JtYWw7XFxyXFxuICAgIC13ZWJraXQtZm9udC1zbW9vdGhpbmc6IGFudGlhbGlhc2VkO1xcclxcbiAgICAtd2Via2l0LXRleHQtc3Ryb2tlLXdpZHRoOiAwLjJweDtcXHJcXG4gICAgLW1vei1vc3gtZm9udC1zbW9vdGhpbmc6IGdyYXlzY2FsZTtcXHJcXG4gICAgY3Vyc29yOiBwb2ludGVyO1xcclxcbn1cXHJcXG5cXHJcXG5cIl0sXCJzb3VyY2VSb290XCI6XCJcIn1dKTtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IF9fX0NTU19MT0FERVJfRVhQT1JUX19fO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/css-loader/dist/cjs.js!./src/asset/index.css\n");

/***/ }),

/***/ "./node_modules/css-loader/dist/runtime/api.js":
/*!*****************************************************!*\
  !*** ./node_modules/css-loader/dist/runtime/api.js ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\n// eslint-disable-next-line func-names\nmodule.exports = function (useSourceMap) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item, useSourceMap);\n\n      if (item[2]) {\n        return \"@media \".concat(item[2], \" {\").concat(content, \"}\");\n      }\n\n      return content;\n    }).join('');\n  }; // import a list of modules into the list\n  // eslint-disable-next-line func-names\n\n\n  list.i = function (modules, mediaQuery, dedupe) {\n    if (typeof modules === 'string') {\n      // eslint-disable-next-line no-param-reassign\n      modules = [[null, modules, '']];\n    }\n\n    var alreadyImportedModules = {};\n\n    if (dedupe) {\n      for (var i = 0; i < this.length; i++) {\n        // eslint-disable-next-line prefer-destructuring\n        var id = this[i][0];\n\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n\n    for (var _i = 0; _i < modules.length; _i++) {\n      var item = [].concat(modules[_i]);\n\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        // eslint-disable-next-line no-continue\n        continue;\n      }\n\n      if (mediaQuery) {\n        if (!item[2]) {\n          item[2] = mediaQuery;\n        } else {\n          item[2] = \"\".concat(mediaQuery, \" and \").concat(item[2]);\n        }\n      }\n\n      list.push(item);\n    }\n  };\n\n  return list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n  var content = item[1] || ''; // eslint-disable-next-line prefer-destructuring\n\n  var cssMapping = item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (useSourceMap && typeof btoa === 'function') {\n    var sourceMapping = toComment(cssMapping);\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return \"/*# sourceURL=\".concat(cssMapping.sourceRoot || '').concat(source, \" */\");\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n  }\n\n  return [content].join('\\n');\n} // Adapted from convert-source-map (MIT)\n\n\nfunction toComment(sourceMap) {\n  // eslint-disable-next-line no-undef\n  var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n  var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n  return \"/*# \".concat(data, \" */\");\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbGl2ZTJkLy4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qcz8yNGZiIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG4vKlxuICBNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxuICBBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXG4qL1xuLy8gY3NzIGJhc2UgY29kZSwgaW5qZWN0ZWQgYnkgdGhlIGNzcy1sb2FkZXJcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jLW5hbWVzXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICh1c2VTb3VyY2VNYXApIHtcbiAgdmFyIGxpc3QgPSBbXTsgLy8gcmV0dXJuIHRoZSBsaXN0IG9mIG1vZHVsZXMgYXMgY3NzIHN0cmluZ1xuXG4gIGxpc3QudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgIHZhciBjb250ZW50ID0gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtLCB1c2VTb3VyY2VNYXApO1xuXG4gICAgICBpZiAoaXRlbVsyXSkge1xuICAgICAgICByZXR1cm4gXCJAbWVkaWEgXCIuY29uY2F0KGl0ZW1bMl0sIFwiIHtcIikuY29uY2F0KGNvbnRlbnQsIFwifVwiKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGNvbnRlbnQ7XG4gICAgfSkuam9pbignJyk7XG4gIH07IC8vIGltcG9ydCBhIGxpc3Qgb2YgbW9kdWxlcyBpbnRvIHRoZSBsaXN0XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jLW5hbWVzXG5cblxuICBsaXN0LmkgPSBmdW5jdGlvbiAobW9kdWxlcywgbWVkaWFRdWVyeSwgZGVkdXBlKSB7XG4gICAgaWYgKHR5cGVvZiBtb2R1bGVzID09PSAnc3RyaW5nJykge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gICAgICBtb2R1bGVzID0gW1tudWxsLCBtb2R1bGVzLCAnJ11dO1xuICAgIH1cblxuICAgIHZhciBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzID0ge307XG5cbiAgICBpZiAoZGVkdXBlKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByZWZlci1kZXN0cnVjdHVyaW5nXG4gICAgICAgIHZhciBpZCA9IHRoaXNbaV1bMF07XG5cbiAgICAgICAgaWYgKGlkICE9IG51bGwpIHtcbiAgICAgICAgICBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2lkXSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgbW9kdWxlcy5sZW5ndGg7IF9pKyspIHtcbiAgICAgIHZhciBpdGVtID0gW10uY29uY2F0KG1vZHVsZXNbX2ldKTtcblxuICAgICAgaWYgKGRlZHVwZSAmJiBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2l0ZW1bMF1dKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb250aW51ZVxuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKG1lZGlhUXVlcnkpIHtcbiAgICAgICAgaWYgKCFpdGVtWzJdKSB7XG4gICAgICAgICAgaXRlbVsyXSA9IG1lZGlhUXVlcnk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaXRlbVsyXSA9IFwiXCIuY29uY2F0KG1lZGlhUXVlcnksIFwiIGFuZCBcIikuY29uY2F0KGl0ZW1bMl0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGxpc3QucHVzaChpdGVtKTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIGxpc3Q7XG59O1xuXG5mdW5jdGlvbiBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0sIHVzZVNvdXJjZU1hcCkge1xuICB2YXIgY29udGVudCA9IGl0ZW1bMV0gfHwgJyc7IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItZGVzdHJ1Y3R1cmluZ1xuXG4gIHZhciBjc3NNYXBwaW5nID0gaXRlbVszXTtcblxuICBpZiAoIWNzc01hcHBpbmcpIHtcbiAgICByZXR1cm4gY29udGVudDtcbiAgfVxuXG4gIGlmICh1c2VTb3VyY2VNYXAgJiYgdHlwZW9mIGJ0b2EgPT09ICdmdW5jdGlvbicpIHtcbiAgICB2YXIgc291cmNlTWFwcGluZyA9IHRvQ29tbWVudChjc3NNYXBwaW5nKTtcbiAgICB2YXIgc291cmNlVVJMcyA9IGNzc01hcHBpbmcuc291cmNlcy5tYXAoZnVuY3Rpb24gKHNvdXJjZSkge1xuICAgICAgcmV0dXJuIFwiLyojIHNvdXJjZVVSTD1cIi5jb25jYXQoY3NzTWFwcGluZy5zb3VyY2VSb290IHx8ICcnKS5jb25jYXQoc291cmNlLCBcIiAqL1wiKTtcbiAgICB9KTtcbiAgICByZXR1cm4gW2NvbnRlbnRdLmNvbmNhdChzb3VyY2VVUkxzKS5jb25jYXQoW3NvdXJjZU1hcHBpbmddKS5qb2luKCdcXG4nKTtcbiAgfVxuXG4gIHJldHVybiBbY29udGVudF0uam9pbignXFxuJyk7XG59IC8vIEFkYXB0ZWQgZnJvbSBjb252ZXJ0LXNvdXJjZS1tYXAgKE1JVClcblxuXG5mdW5jdGlvbiB0b0NvbW1lbnQoc291cmNlTWFwKSB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuICB2YXIgYmFzZTY0ID0gYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKTtcbiAgdmFyIGRhdGEgPSBcInNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LFwiLmNvbmNhdChiYXNlNjQpO1xuICByZXR1cm4gXCIvKiMgXCIuY29uY2F0KGRhdGEsIFwiICovXCIpO1xufSJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/css-loader/dist/runtime/api.js\n");

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js":
/*!****************************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js ***!
  \****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar isOldIE = function isOldIE() {\n  var memo;\n  return function memorize() {\n    if (typeof memo === 'undefined') {\n      // Test for IE <= 9 as proposed by Browserhacks\n      // @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n      // Tests for existence of standard globals is to allow style-loader\n      // to operate correctly into non-standard environments\n      // @see https://github.com/webpack-contrib/style-loader/issues/177\n      memo = Boolean(window && document && document.all && !window.atob);\n    }\n\n    return memo;\n  };\n}();\n\nvar getTarget = function getTarget() {\n  var memo = {};\n  return function memorize(target) {\n    if (typeof memo[target] === 'undefined') {\n      var styleTarget = document.querySelector(target); // Special case to return head of iframe instead of iframe itself\n\n      if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n        try {\n          // This will throw an exception if access to iframe is blocked\n          // due to cross-origin restrictions\n          styleTarget = styleTarget.contentDocument.head;\n        } catch (e) {\n          // istanbul ignore next\n          styleTarget = null;\n        }\n      }\n\n      memo[target] = styleTarget;\n    }\n\n    return memo[target];\n  };\n}();\n\nvar stylesInDom = [];\n\nfunction getIndexByIdentifier(identifier) {\n  var result = -1;\n\n  for (var i = 0; i < stylesInDom.length; i++) {\n    if (stylesInDom[i].identifier === identifier) {\n      result = i;\n      break;\n    }\n  }\n\n  return result;\n}\n\nfunction modulesToDom(list, options) {\n  var idCountMap = {};\n  var identifiers = [];\n\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var count = idCountMap[id] || 0;\n    var identifier = \"\".concat(id, \" \").concat(count);\n    idCountMap[id] = count + 1;\n    var index = getIndexByIdentifier(identifier);\n    var obj = {\n      css: item[1],\n      media: item[2],\n      sourceMap: item[3]\n    };\n\n    if (index !== -1) {\n      stylesInDom[index].references++;\n      stylesInDom[index].updater(obj);\n    } else {\n      stylesInDom.push({\n        identifier: identifier,\n        updater: addStyle(obj, options),\n        references: 1\n      });\n    }\n\n    identifiers.push(identifier);\n  }\n\n  return identifiers;\n}\n\nfunction insertStyleElement(options) {\n  var style = document.createElement('style');\n  var attributes = options.attributes || {};\n\n  if (typeof attributes.nonce === 'undefined') {\n    var nonce =  true ? __webpack_require__.nc : undefined;\n\n    if (nonce) {\n      attributes.nonce = nonce;\n    }\n  }\n\n  Object.keys(attributes).forEach(function (key) {\n    style.setAttribute(key, attributes[key]);\n  });\n\n  if (typeof options.insert === 'function') {\n    options.insert(style);\n  } else {\n    var target = getTarget(options.insert || 'head');\n\n    if (!target) {\n      throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n    }\n\n    target.appendChild(style);\n  }\n\n  return style;\n}\n\nfunction removeStyleElement(style) {\n  // istanbul ignore if\n  if (style.parentNode === null) {\n    return false;\n  }\n\n  style.parentNode.removeChild(style);\n}\n/* istanbul ignore next  */\n\n\nvar replaceText = function replaceText() {\n  var textStore = [];\n  return function replace(index, replacement) {\n    textStore[index] = replacement;\n    return textStore.filter(Boolean).join('\\n');\n  };\n}();\n\nfunction applyToSingletonTag(style, index, remove, obj) {\n  var css = remove ? '' : obj.media ? \"@media \".concat(obj.media, \" {\").concat(obj.css, \"}\") : obj.css; // For old IE\n\n  /* istanbul ignore if  */\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = replaceText(index, css);\n  } else {\n    var cssNode = document.createTextNode(css);\n    var childNodes = style.childNodes;\n\n    if (childNodes[index]) {\n      style.removeChild(childNodes[index]);\n    }\n\n    if (childNodes.length) {\n      style.insertBefore(cssNode, childNodes[index]);\n    } else {\n      style.appendChild(cssNode);\n    }\n  }\n}\n\nfunction applyToTag(style, options, obj) {\n  var css = obj.css;\n  var media = obj.media;\n  var sourceMap = obj.sourceMap;\n\n  if (media) {\n    style.setAttribute('media', media);\n  } else {\n    style.removeAttribute('media');\n  }\n\n  if (sourceMap && btoa) {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  } // For old IE\n\n  /* istanbul ignore if  */\n\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    while (style.firstChild) {\n      style.removeChild(style.firstChild);\n    }\n\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar singleton = null;\nvar singletonCounter = 0;\n\nfunction addStyle(obj, options) {\n  var style;\n  var update;\n  var remove;\n\n  if (options.singleton) {\n    var styleIndex = singletonCounter++;\n    style = singleton || (singleton = insertStyleElement(options));\n    update = applyToSingletonTag.bind(null, style, styleIndex, false);\n    remove = applyToSingletonTag.bind(null, style, styleIndex, true);\n  } else {\n    style = insertStyleElement(options);\n    update = applyToTag.bind(null, style, options);\n\n    remove = function remove() {\n      removeStyleElement(style);\n    };\n  }\n\n  update(obj);\n  return function updateStyle(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap) {\n        return;\n      }\n\n      update(obj = newObj);\n    } else {\n      remove();\n    }\n  };\n}\n\nmodule.exports = function (list, options) {\n  options = options || {}; // Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n  // tags it will allow on a page\n\n  if (!options.singleton && typeof options.singleton !== 'boolean') {\n    options.singleton = isOldIE();\n  }\n\n  list = list || [];\n  var lastIdentifiers = modulesToDom(list, options);\n  return function update(newList) {\n    newList = newList || [];\n\n    if (Object.prototype.toString.call(newList) !== '[object Array]') {\n      return;\n    }\n\n    for (var i = 0; i < lastIdentifiers.length; i++) {\n      var identifier = lastIdentifiers[i];\n      var index = getIndexByIdentifier(identifier);\n      stylesInDom[index].references--;\n    }\n\n    var newLastIdentifiers = modulesToDom(newList, options);\n\n    for (var _i = 0; _i < lastIdentifiers.length; _i++) {\n      var _identifier = lastIdentifiers[_i];\n\n      var _index = getIndexByIdentifier(_identifier);\n\n      if (stylesInDom[_index].references === 0) {\n        stylesInDom[_index].updater();\n\n        stylesInDom.splice(_index, 1);\n      }\n    }\n\n    lastIdentifiers = newLastIdentifiers;\n  };\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9saXZlMmQvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanM/MmRiYSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxudmFyIGlzT2xkSUUgPSBmdW5jdGlvbiBpc09sZElFKCkge1xuICB2YXIgbWVtbztcbiAgcmV0dXJuIGZ1bmN0aW9uIG1lbW9yaXplKCkge1xuICAgIGlmICh0eXBlb2YgbWVtbyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIC8vIFRlc3QgZm9yIElFIDw9IDkgYXMgcHJvcG9zZWQgYnkgQnJvd3NlcmhhY2tzXG4gICAgICAvLyBAc2VlIGh0dHA6Ly9icm93c2VyaGFja3MuY29tLyNoYWNrLWU3MWQ4NjkyZjY1MzM0MTczZmVlNzE1YzIyMmNiODA1XG4gICAgICAvLyBUZXN0cyBmb3IgZXhpc3RlbmNlIG9mIHN0YW5kYXJkIGdsb2JhbHMgaXMgdG8gYWxsb3cgc3R5bGUtbG9hZGVyXG4gICAgICAvLyB0byBvcGVyYXRlIGNvcnJlY3RseSBpbnRvIG5vbi1zdGFuZGFyZCBlbnZpcm9ubWVudHNcbiAgICAgIC8vIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3dlYnBhY2stY29udHJpYi9zdHlsZS1sb2FkZXIvaXNzdWVzLzE3N1xuICAgICAgbWVtbyA9IEJvb2xlYW4od2luZG93ICYmIGRvY3VtZW50ICYmIGRvY3VtZW50LmFsbCAmJiAhd2luZG93LmF0b2IpO1xuICAgIH1cblxuICAgIHJldHVybiBtZW1vO1xuICB9O1xufSgpO1xuXG52YXIgZ2V0VGFyZ2V0ID0gZnVuY3Rpb24gZ2V0VGFyZ2V0KCkge1xuICB2YXIgbWVtbyA9IHt9O1xuICByZXR1cm4gZnVuY3Rpb24gbWVtb3JpemUodGFyZ2V0KSB7XG4gICAgaWYgKHR5cGVvZiBtZW1vW3RhcmdldF0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB2YXIgc3R5bGVUYXJnZXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRhcmdldCk7IC8vIFNwZWNpYWwgY2FzZSB0byByZXR1cm4gaGVhZCBvZiBpZnJhbWUgaW5zdGVhZCBvZiBpZnJhbWUgaXRzZWxmXG5cbiAgICAgIGlmICh3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQgJiYgc3R5bGVUYXJnZXQgaW5zdGFuY2VvZiB3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAvLyBUaGlzIHdpbGwgdGhyb3cgYW4gZXhjZXB0aW9uIGlmIGFjY2VzcyB0byBpZnJhbWUgaXMgYmxvY2tlZFxuICAgICAgICAgIC8vIGR1ZSB0byBjcm9zcy1vcmlnaW4gcmVzdHJpY3Rpb25zXG4gICAgICAgICAgc3R5bGVUYXJnZXQgPSBzdHlsZVRhcmdldC5jb250ZW50RG9jdW1lbnQuaGVhZDtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIC8vIGlzdGFuYnVsIGlnbm9yZSBuZXh0XG4gICAgICAgICAgc3R5bGVUYXJnZXQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIG1lbW9bdGFyZ2V0XSA9IHN0eWxlVGFyZ2V0O1xuICAgIH1cblxuICAgIHJldHVybiBtZW1vW3RhcmdldF07XG4gIH07XG59KCk7XG5cbnZhciBzdHlsZXNJbkRvbSA9IFtdO1xuXG5mdW5jdGlvbiBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKSB7XG4gIHZhciByZXN1bHQgPSAtMTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlc0luRG9tLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKHN0eWxlc0luRG9tW2ldLmlkZW50aWZpZXIgPT09IGlkZW50aWZpZXIpIHtcbiAgICAgIHJlc3VsdCA9IGk7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucykge1xuICB2YXIgaWRDb3VudE1hcCA9IHt9O1xuICB2YXIgaWRlbnRpZmllcnMgPSBbXTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgaXRlbSA9IGxpc3RbaV07XG4gICAgdmFyIGlkID0gb3B0aW9ucy5iYXNlID8gaXRlbVswXSArIG9wdGlvbnMuYmFzZSA6IGl0ZW1bMF07XG4gICAgdmFyIGNvdW50ID0gaWRDb3VudE1hcFtpZF0gfHwgMDtcbiAgICB2YXIgaWRlbnRpZmllciA9IFwiXCIuY29uY2F0KGlkLCBcIiBcIikuY29uY2F0KGNvdW50KTtcbiAgICBpZENvdW50TWFwW2lkXSA9IGNvdW50ICsgMTtcbiAgICB2YXIgaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKTtcbiAgICB2YXIgb2JqID0ge1xuICAgICAgY3NzOiBpdGVtWzFdLFxuICAgICAgbWVkaWE6IGl0ZW1bMl0sXG4gICAgICBzb3VyY2VNYXA6IGl0ZW1bM11cbiAgICB9O1xuXG4gICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgc3R5bGVzSW5Eb21baW5kZXhdLnJlZmVyZW5jZXMrKztcbiAgICAgIHN0eWxlc0luRG9tW2luZGV4XS51cGRhdGVyKG9iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0eWxlc0luRG9tLnB1c2goe1xuICAgICAgICBpZGVudGlmaWVyOiBpZGVudGlmaWVyLFxuICAgICAgICB1cGRhdGVyOiBhZGRTdHlsZShvYmosIG9wdGlvbnMpLFxuICAgICAgICByZWZlcmVuY2VzOiAxXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZGVudGlmaWVycy5wdXNoKGlkZW50aWZpZXIpO1xuICB9XG5cbiAgcmV0dXJuIGlkZW50aWZpZXJzO1xufVxuXG5mdW5jdGlvbiBpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucykge1xuICB2YXIgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICB2YXIgYXR0cmlidXRlcyA9IG9wdGlvbnMuYXR0cmlidXRlcyB8fCB7fTtcblxuICBpZiAodHlwZW9mIGF0dHJpYnV0ZXMubm9uY2UgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgdmFyIG5vbmNlID0gdHlwZW9mIF9fd2VicGFja19ub25jZV9fICE9PSAndW5kZWZpbmVkJyA/IF9fd2VicGFja19ub25jZV9fIDogbnVsbDtcblxuICAgIGlmIChub25jZSkge1xuICAgICAgYXR0cmlidXRlcy5ub25jZSA9IG5vbmNlO1xuICAgIH1cbiAgfVxuXG4gIE9iamVjdC5rZXlzKGF0dHJpYnV0ZXMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIHN0eWxlLnNldEF0dHJpYnV0ZShrZXksIGF0dHJpYnV0ZXNba2V5XSk7XG4gIH0pO1xuXG4gIGlmICh0eXBlb2Ygb3B0aW9ucy5pbnNlcnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICBvcHRpb25zLmluc2VydChzdHlsZSk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIHRhcmdldCA9IGdldFRhcmdldChvcHRpb25zLmluc2VydCB8fCAnaGVhZCcpO1xuXG4gICAgaWYgKCF0YXJnZXQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkNvdWxkbid0IGZpbmQgYSBzdHlsZSB0YXJnZXQuIFRoaXMgcHJvYmFibHkgbWVhbnMgdGhhdCB0aGUgdmFsdWUgZm9yIHRoZSAnaW5zZXJ0JyBwYXJhbWV0ZXIgaXMgaW52YWxpZC5cIik7XG4gICAgfVxuXG4gICAgdGFyZ2V0LmFwcGVuZENoaWxkKHN0eWxlKTtcbiAgfVxuXG4gIHJldHVybiBzdHlsZTtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlKSB7XG4gIC8vIGlzdGFuYnVsIGlnbm9yZSBpZlxuICBpZiAoc3R5bGUucGFyZW50Tm9kZSA9PT0gbnVsbCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHN0eWxlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3R5bGUpO1xufVxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5cblxudmFyIHJlcGxhY2VUZXh0ID0gZnVuY3Rpb24gcmVwbGFjZVRleHQoKSB7XG4gIHZhciB0ZXh0U3RvcmUgPSBbXTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHJlcGxhY2UoaW5kZXgsIHJlcGxhY2VtZW50KSB7XG4gICAgdGV4dFN0b3JlW2luZGV4XSA9IHJlcGxhY2VtZW50O1xuICAgIHJldHVybiB0ZXh0U3RvcmUuZmlsdGVyKEJvb2xlYW4pLmpvaW4oJ1xcbicpO1xuICB9O1xufSgpO1xuXG5mdW5jdGlvbiBhcHBseVRvU2luZ2xldG9uVGFnKHN0eWxlLCBpbmRleCwgcmVtb3ZlLCBvYmopIHtcbiAgdmFyIGNzcyA9IHJlbW92ZSA/ICcnIDogb2JqLm1lZGlhID8gXCJAbWVkaWEgXCIuY29uY2F0KG9iai5tZWRpYSwgXCIge1wiKS5jb25jYXQob2JqLmNzcywgXCJ9XCIpIDogb2JqLmNzczsgLy8gRm9yIG9sZCBJRVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAgKi9cblxuICBpZiAoc3R5bGUuc3R5bGVTaGVldCkge1xuICAgIHN0eWxlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IHJlcGxhY2VUZXh0KGluZGV4LCBjc3MpO1xuICB9IGVsc2Uge1xuICAgIHZhciBjc3NOb2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKTtcbiAgICB2YXIgY2hpbGROb2RlcyA9IHN0eWxlLmNoaWxkTm9kZXM7XG5cbiAgICBpZiAoY2hpbGROb2Rlc1tpbmRleF0pIHtcbiAgICAgIHN0eWxlLnJlbW92ZUNoaWxkKGNoaWxkTm9kZXNbaW5kZXhdKTtcbiAgICB9XG5cbiAgICBpZiAoY2hpbGROb2Rlcy5sZW5ndGgpIHtcbiAgICAgIHN0eWxlLmluc2VydEJlZm9yZShjc3NOb2RlLCBjaGlsZE5vZGVzW2luZGV4XSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0eWxlLmFwcGVuZENoaWxkKGNzc05vZGUpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBhcHBseVRvVGFnKHN0eWxlLCBvcHRpb25zLCBvYmopIHtcbiAgdmFyIGNzcyA9IG9iai5jc3M7XG4gIHZhciBtZWRpYSA9IG9iai5tZWRpYTtcbiAgdmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XG5cbiAgaWYgKG1lZGlhKSB7XG4gICAgc3R5bGUuc2V0QXR0cmlidXRlKCdtZWRpYScsIG1lZGlhKTtcbiAgfSBlbHNlIHtcbiAgICBzdHlsZS5yZW1vdmVBdHRyaWJ1dGUoJ21lZGlhJyk7XG4gIH1cblxuICBpZiAoc291cmNlTWFwICYmIGJ0b2EpIHtcbiAgICBjc3MgKz0gXCJcXG4vKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LFwiLmNvbmNhdChidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpLCBcIiAqL1wiKTtcbiAgfSAvLyBGb3Igb2xkIElFXG5cbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICAqL1xuXG5cbiAgaWYgKHN0eWxlLnN0eWxlU2hlZXQpIHtcbiAgICBzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3M7XG4gIH0gZWxzZSB7XG4gICAgd2hpbGUgKHN0eWxlLmZpcnN0Q2hpbGQpIHtcbiAgICAgIHN0eWxlLnJlbW92ZUNoaWxkKHN0eWxlLmZpcnN0Q2hpbGQpO1xuICAgIH1cblxuICAgIHN0eWxlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcykpO1xuICB9XG59XG5cbnZhciBzaW5nbGV0b24gPSBudWxsO1xudmFyIHNpbmdsZXRvbkNvdW50ZXIgPSAwO1xuXG5mdW5jdGlvbiBhZGRTdHlsZShvYmosIG9wdGlvbnMpIHtcbiAgdmFyIHN0eWxlO1xuICB2YXIgdXBkYXRlO1xuICB2YXIgcmVtb3ZlO1xuXG4gIGlmIChvcHRpb25zLnNpbmdsZXRvbikge1xuICAgIHZhciBzdHlsZUluZGV4ID0gc2luZ2xldG9uQ291bnRlcisrO1xuICAgIHN0eWxlID0gc2luZ2xldG9uIHx8IChzaW5nbGV0b24gPSBpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucykpO1xuICAgIHVwZGF0ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZSwgc3R5bGVJbmRleCwgZmFsc2UpO1xuICAgIHJlbW92ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZSwgc3R5bGVJbmRleCwgdHJ1ZSk7XG4gIH0gZWxzZSB7XG4gICAgc3R5bGUgPSBpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucyk7XG4gICAgdXBkYXRlID0gYXBwbHlUb1RhZy5iaW5kKG51bGwsIHN0eWxlLCBvcHRpb25zKTtcblxuICAgIHJlbW92ZSA9IGZ1bmN0aW9uIHJlbW92ZSgpIHtcbiAgICAgIHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZSk7XG4gICAgfTtcbiAgfVxuXG4gIHVwZGF0ZShvYmopO1xuICByZXR1cm4gZnVuY3Rpb24gdXBkYXRlU3R5bGUobmV3T2JqKSB7XG4gICAgaWYgKG5ld09iaikge1xuICAgICAgaWYgKG5ld09iai5jc3MgPT09IG9iai5jc3MgJiYgbmV3T2JqLm1lZGlhID09PSBvYmoubWVkaWEgJiYgbmV3T2JqLnNvdXJjZU1hcCA9PT0gb2JqLnNvdXJjZU1hcCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHVwZGF0ZShvYmogPSBuZXdPYmopO1xuICAgIH0gZWxzZSB7XG4gICAgICByZW1vdmUoKTtcbiAgICB9XG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGxpc3QsIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307IC8vIEZvcmNlIHNpbmdsZS10YWcgc29sdXRpb24gb24gSUU2LTksIHdoaWNoIGhhcyBhIGhhcmQgbGltaXQgb24gdGhlICMgb2YgPHN0eWxlPlxuICAvLyB0YWdzIGl0IHdpbGwgYWxsb3cgb24gYSBwYWdlXG5cbiAgaWYgKCFvcHRpb25zLnNpbmdsZXRvbiAmJiB0eXBlb2Ygb3B0aW9ucy5zaW5nbGV0b24gIT09ICdib29sZWFuJykge1xuICAgIG9wdGlvbnMuc2luZ2xldG9uID0gaXNPbGRJRSgpO1xuICB9XG5cbiAgbGlzdCA9IGxpc3QgfHwgW107XG4gIHZhciBsYXN0SWRlbnRpZmllcnMgPSBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucyk7XG4gIHJldHVybiBmdW5jdGlvbiB1cGRhdGUobmV3TGlzdCkge1xuICAgIG5ld0xpc3QgPSBuZXdMaXN0IHx8IFtdO1xuXG4gICAgaWYgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChuZXdMaXN0KSAhPT0gJ1tvYmplY3QgQXJyYXldJykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGFzdElkZW50aWZpZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgaWRlbnRpZmllciA9IGxhc3RJZGVudGlmaWVyc1tpXTtcbiAgICAgIHZhciBpbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpO1xuICAgICAgc3R5bGVzSW5Eb21baW5kZXhdLnJlZmVyZW5jZXMtLTtcbiAgICB9XG5cbiAgICB2YXIgbmV3TGFzdElkZW50aWZpZXJzID0gbW9kdWxlc1RvRG9tKG5ld0xpc3QsIG9wdGlvbnMpO1xuXG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGxhc3RJZGVudGlmaWVycy5sZW5ndGg7IF9pKyspIHtcbiAgICAgIHZhciBfaWRlbnRpZmllciA9IGxhc3RJZGVudGlmaWVyc1tfaV07XG5cbiAgICAgIHZhciBfaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihfaWRlbnRpZmllcik7XG5cbiAgICAgIGlmIChzdHlsZXNJbkRvbVtfaW5kZXhdLnJlZmVyZW5jZXMgPT09IDApIHtcbiAgICAgICAgc3R5bGVzSW5Eb21bX2luZGV4XS51cGRhdGVyKCk7XG5cbiAgICAgICAgc3R5bGVzSW5Eb20uc3BsaWNlKF9pbmRleCwgMSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgbGFzdElkZW50aWZpZXJzID0gbmV3TGFzdElkZW50aWZpZXJzO1xuICB9O1xufTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\n");

/***/ }),

/***/ "./node_modules/whatwg-fetch/fetch.js":
/*!********************************************!*\
  !*** ./node_modules/whatwg-fetch/fetch.js ***!
  \********************************************/
/*! exports provided: Headers, Request, Response, DOMException, fetch */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Headers\", function() { return Headers; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Request\", function() { return Request; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Response\", function() { return Response; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DOMException\", function() { return DOMException; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"fetch\", function() { return fetch; });\nvar support = {\n  searchParams: 'URLSearchParams' in self,\n  iterable: 'Symbol' in self && 'iterator' in Symbol,\n  blob:\n    'FileReader' in self &&\n    'Blob' in self &&\n    (function() {\n      try {\n        new Blob()\n        return true\n      } catch (e) {\n        return false\n      }\n    })(),\n  formData: 'FormData' in self,\n  arrayBuffer: 'ArrayBuffer' in self\n}\n\nfunction isDataView(obj) {\n  return obj && DataView.prototype.isPrototypeOf(obj)\n}\n\nif (support.arrayBuffer) {\n  var viewClasses = [\n    '[object Int8Array]',\n    '[object Uint8Array]',\n    '[object Uint8ClampedArray]',\n    '[object Int16Array]',\n    '[object Uint16Array]',\n    '[object Int32Array]',\n    '[object Uint32Array]',\n    '[object Float32Array]',\n    '[object Float64Array]'\n  ]\n\n  var isArrayBufferView =\n    ArrayBuffer.isView ||\n    function(obj) {\n      return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1\n    }\n}\n\nfunction normalizeName(name) {\n  if (typeof name !== 'string') {\n    name = String(name)\n  }\n  if (/[^a-z0-9\\-#$%&'*+.^_`|~]/i.test(name)) {\n    throw new TypeError('Invalid character in header field name')\n  }\n  return name.toLowerCase()\n}\n\nfunction normalizeValue(value) {\n  if (typeof value !== 'string') {\n    value = String(value)\n  }\n  return value\n}\n\n// Build a destructive iterator for the value list\nfunction iteratorFor(items) {\n  var iterator = {\n    next: function() {\n      var value = items.shift()\n      return {done: value === undefined, value: value}\n    }\n  }\n\n  if (support.iterable) {\n    iterator[Symbol.iterator] = function() {\n      return iterator\n    }\n  }\n\n  return iterator\n}\n\nfunction Headers(headers) {\n  this.map = {}\n\n  if (headers instanceof Headers) {\n    headers.forEach(function(value, name) {\n      this.append(name, value)\n    }, this)\n  } else if (Array.isArray(headers)) {\n    headers.forEach(function(header) {\n      this.append(header[0], header[1])\n    }, this)\n  } else if (headers) {\n    Object.getOwnPropertyNames(headers).forEach(function(name) {\n      this.append(name, headers[name])\n    }, this)\n  }\n}\n\nHeaders.prototype.append = function(name, value) {\n  name = normalizeName(name)\n  value = normalizeValue(value)\n  var oldValue = this.map[name]\n  this.map[name] = oldValue ? oldValue + ', ' + value : value\n}\n\nHeaders.prototype['delete'] = function(name) {\n  delete this.map[normalizeName(name)]\n}\n\nHeaders.prototype.get = function(name) {\n  name = normalizeName(name)\n  return this.has(name) ? this.map[name] : null\n}\n\nHeaders.prototype.has = function(name) {\n  return this.map.hasOwnProperty(normalizeName(name))\n}\n\nHeaders.prototype.set = function(name, value) {\n  this.map[normalizeName(name)] = normalizeValue(value)\n}\n\nHeaders.prototype.forEach = function(callback, thisArg) {\n  for (var name in this.map) {\n    if (this.map.hasOwnProperty(name)) {\n      callback.call(thisArg, this.map[name], name, this)\n    }\n  }\n}\n\nHeaders.prototype.keys = function() {\n  var items = []\n  this.forEach(function(value, name) {\n    items.push(name)\n  })\n  return iteratorFor(items)\n}\n\nHeaders.prototype.values = function() {\n  var items = []\n  this.forEach(function(value) {\n    items.push(value)\n  })\n  return iteratorFor(items)\n}\n\nHeaders.prototype.entries = function() {\n  var items = []\n  this.forEach(function(value, name) {\n    items.push([name, value])\n  })\n  return iteratorFor(items)\n}\n\nif (support.iterable) {\n  Headers.prototype[Symbol.iterator] = Headers.prototype.entries\n}\n\nfunction consumed(body) {\n  if (body.bodyUsed) {\n    return Promise.reject(new TypeError('Already read'))\n  }\n  body.bodyUsed = true\n}\n\nfunction fileReaderReady(reader) {\n  return new Promise(function(resolve, reject) {\n    reader.onload = function() {\n      resolve(reader.result)\n    }\n    reader.onerror = function() {\n      reject(reader.error)\n    }\n  })\n}\n\nfunction readBlobAsArrayBuffer(blob) {\n  var reader = new FileReader()\n  var promise = fileReaderReady(reader)\n  reader.readAsArrayBuffer(blob)\n  return promise\n}\n\nfunction readBlobAsText(blob) {\n  var reader = new FileReader()\n  var promise = fileReaderReady(reader)\n  reader.readAsText(blob)\n  return promise\n}\n\nfunction readArrayBufferAsText(buf) {\n  var view = new Uint8Array(buf)\n  var chars = new Array(view.length)\n\n  for (var i = 0; i < view.length; i++) {\n    chars[i] = String.fromCharCode(view[i])\n  }\n  return chars.join('')\n}\n\nfunction bufferClone(buf) {\n  if (buf.slice) {\n    return buf.slice(0)\n  } else {\n    var view = new Uint8Array(buf.byteLength)\n    view.set(new Uint8Array(buf))\n    return view.buffer\n  }\n}\n\nfunction Body() {\n  this.bodyUsed = false\n\n  this._initBody = function(body) {\n    this._bodyInit = body\n    if (!body) {\n      this._bodyText = ''\n    } else if (typeof body === 'string') {\n      this._bodyText = body\n    } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n      this._bodyBlob = body\n    } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n      this._bodyFormData = body\n    } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n      this._bodyText = body.toString()\n    } else if (support.arrayBuffer && support.blob && isDataView(body)) {\n      this._bodyArrayBuffer = bufferClone(body.buffer)\n      // IE 10-11 can't handle a DataView body.\n      this._bodyInit = new Blob([this._bodyArrayBuffer])\n    } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {\n      this._bodyArrayBuffer = bufferClone(body)\n    } else {\n      this._bodyText = body = Object.prototype.toString.call(body)\n    }\n\n    if (!this.headers.get('content-type')) {\n      if (typeof body === 'string') {\n        this.headers.set('content-type', 'text/plain;charset=UTF-8')\n      } else if (this._bodyBlob && this._bodyBlob.type) {\n        this.headers.set('content-type', this._bodyBlob.type)\n      } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n        this.headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8')\n      }\n    }\n  }\n\n  if (support.blob) {\n    this.blob = function() {\n      var rejected = consumed(this)\n      if (rejected) {\n        return rejected\n      }\n\n      if (this._bodyBlob) {\n        return Promise.resolve(this._bodyBlob)\n      } else if (this._bodyArrayBuffer) {\n        return Promise.resolve(new Blob([this._bodyArrayBuffer]))\n      } else if (this._bodyFormData) {\n        throw new Error('could not read FormData body as blob')\n      } else {\n        return Promise.resolve(new Blob([this._bodyText]))\n      }\n    }\n\n    this.arrayBuffer = function() {\n      if (this._bodyArrayBuffer) {\n        return consumed(this) || Promise.resolve(this._bodyArrayBuffer)\n      } else {\n        return this.blob().then(readBlobAsArrayBuffer)\n      }\n    }\n  }\n\n  this.text = function() {\n    var rejected = consumed(this)\n    if (rejected) {\n      return rejected\n    }\n\n    if (this._bodyBlob) {\n      return readBlobAsText(this._bodyBlob)\n    } else if (this._bodyArrayBuffer) {\n      return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer))\n    } else if (this._bodyFormData) {\n      throw new Error('could not read FormData body as text')\n    } else {\n      return Promise.resolve(this._bodyText)\n    }\n  }\n\n  if (support.formData) {\n    this.formData = function() {\n      return this.text().then(decode)\n    }\n  }\n\n  this.json = function() {\n    return this.text().then(JSON.parse)\n  }\n\n  return this\n}\n\n// HTTP methods whose capitalization should be normalized\nvar methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT']\n\nfunction normalizeMethod(method) {\n  var upcased = method.toUpperCase()\n  return methods.indexOf(upcased) > -1 ? upcased : method\n}\n\nfunction Request(input, options) {\n  options = options || {}\n  var body = options.body\n\n  if (input instanceof Request) {\n    if (input.bodyUsed) {\n      throw new TypeError('Already read')\n    }\n    this.url = input.url\n    this.credentials = input.credentials\n    if (!options.headers) {\n      this.headers = new Headers(input.headers)\n    }\n    this.method = input.method\n    this.mode = input.mode\n    this.signal = input.signal\n    if (!body && input._bodyInit != null) {\n      body = input._bodyInit\n      input.bodyUsed = true\n    }\n  } else {\n    this.url = String(input)\n  }\n\n  this.credentials = options.credentials || this.credentials || 'same-origin'\n  if (options.headers || !this.headers) {\n    this.headers = new Headers(options.headers)\n  }\n  this.method = normalizeMethod(options.method || this.method || 'GET')\n  this.mode = options.mode || this.mode || null\n  this.signal = options.signal || this.signal\n  this.referrer = null\n\n  if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n    throw new TypeError('Body not allowed for GET or HEAD requests')\n  }\n  this._initBody(body)\n}\n\nRequest.prototype.clone = function() {\n  return new Request(this, {body: this._bodyInit})\n}\n\nfunction decode(body) {\n  var form = new FormData()\n  body\n    .trim()\n    .split('&')\n    .forEach(function(bytes) {\n      if (bytes) {\n        var split = bytes.split('=')\n        var name = split.shift().replace(/\\+/g, ' ')\n        var value = split.join('=').replace(/\\+/g, ' ')\n        form.append(decodeURIComponent(name), decodeURIComponent(value))\n      }\n    })\n  return form\n}\n\nfunction parseHeaders(rawHeaders) {\n  var headers = new Headers()\n  // Replace instances of \\r\\n and \\n followed by at least one space or horizontal tab with a space\n  // https://tools.ietf.org/html/rfc7230#section-3.2\n  var preProcessedHeaders = rawHeaders.replace(/\\r?\\n[\\t ]+/g, ' ')\n  preProcessedHeaders.split(/\\r?\\n/).forEach(function(line) {\n    var parts = line.split(':')\n    var key = parts.shift().trim()\n    if (key) {\n      var value = parts.join(':').trim()\n      headers.append(key, value)\n    }\n  })\n  return headers\n}\n\nBody.call(Request.prototype)\n\nfunction Response(bodyInit, options) {\n  if (!options) {\n    options = {}\n  }\n\n  this.type = 'default'\n  this.status = options.status === undefined ? 200 : options.status\n  this.ok = this.status >= 200 && this.status < 300\n  this.statusText = 'statusText' in options ? options.statusText : 'OK'\n  this.headers = new Headers(options.headers)\n  this.url = options.url || ''\n  this._initBody(bodyInit)\n}\n\nBody.call(Response.prototype)\n\nResponse.prototype.clone = function() {\n  return new Response(this._bodyInit, {\n    status: this.status,\n    statusText: this.statusText,\n    headers: new Headers(this.headers),\n    url: this.url\n  })\n}\n\nResponse.error = function() {\n  var response = new Response(null, {status: 0, statusText: ''})\n  response.type = 'error'\n  return response\n}\n\nvar redirectStatuses = [301, 302, 303, 307, 308]\n\nResponse.redirect = function(url, status) {\n  if (redirectStatuses.indexOf(status) === -1) {\n    throw new RangeError('Invalid status code')\n  }\n\n  return new Response(null, {status: status, headers: {location: url}})\n}\n\nvar DOMException = self.DOMException\ntry {\n  new DOMException()\n} catch (err) {\n  DOMException = function(message, name) {\n    this.message = message\n    this.name = name\n    var error = Error(message)\n    this.stack = error.stack\n  }\n  DOMException.prototype = Object.create(Error.prototype)\n  DOMException.prototype.constructor = DOMException\n}\n\nfunction fetch(input, init) {\n  return new Promise(function(resolve, reject) {\n    var request = new Request(input, init)\n\n    if (request.signal && request.signal.aborted) {\n      return reject(new DOMException('Aborted', 'AbortError'))\n    }\n\n    var xhr = new XMLHttpRequest()\n\n    function abortXhr() {\n      xhr.abort()\n    }\n\n    xhr.onload = function() {\n      var options = {\n        status: xhr.status,\n        statusText: xhr.statusText,\n        headers: parseHeaders(xhr.getAllResponseHeaders() || '')\n      }\n      options.url = 'responseURL' in xhr ? xhr.responseURL : options.headers.get('X-Request-URL')\n      var body = 'response' in xhr ? xhr.response : xhr.responseText\n      resolve(new Response(body, options))\n    }\n\n    xhr.onerror = function() {\n      reject(new TypeError('Network request failed'))\n    }\n\n    xhr.ontimeout = function() {\n      reject(new TypeError('Network request failed'))\n    }\n\n    xhr.onabort = function() {\n      reject(new DOMException('Aborted', 'AbortError'))\n    }\n\n    xhr.open(request.method, request.url, true)\n\n    if (request.credentials === 'include') {\n      xhr.withCredentials = true\n    } else if (request.credentials === 'omit') {\n      xhr.withCredentials = false\n    }\n\n    if ('responseType' in xhr && support.blob) {\n      xhr.responseType = 'blob'\n    }\n\n    request.headers.forEach(function(value, name) {\n      xhr.setRequestHeader(name, value)\n    })\n\n    if (request.signal) {\n      request.signal.addEventListener('abort', abortXhr)\n\n      xhr.onreadystatechange = function() {\n        // DONE (success or failure)\n        if (xhr.readyState === 4) {\n          request.signal.removeEventListener('abort', abortXhr)\n        }\n      }\n    }\n\n    xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit)\n  })\n}\n\nfetch.polyfill = true\n\nif (!self.fetch) {\n  self.fetch = fetch\n  self.Headers = Headers\n  self.Request = Request\n  self.Response = Response\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvd2hhdHdnLWZldGNoL2ZldGNoLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbGl2ZTJkLy4vbm9kZV9tb2R1bGVzL3doYXR3Zy1mZXRjaC9mZXRjaC5qcz82ZDkzIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBzdXBwb3J0ID0ge1xuICBzZWFyY2hQYXJhbXM6ICdVUkxTZWFyY2hQYXJhbXMnIGluIHNlbGYsXG4gIGl0ZXJhYmxlOiAnU3ltYm9sJyBpbiBzZWxmICYmICdpdGVyYXRvcicgaW4gU3ltYm9sLFxuICBibG9iOlxuICAgICdGaWxlUmVhZGVyJyBpbiBzZWxmICYmXG4gICAgJ0Jsb2InIGluIHNlbGYgJiZcbiAgICAoZnVuY3Rpb24oKSB7XG4gICAgICB0cnkge1xuICAgICAgICBuZXcgQmxvYigpXG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgfVxuICAgIH0pKCksXG4gIGZvcm1EYXRhOiAnRm9ybURhdGEnIGluIHNlbGYsXG4gIGFycmF5QnVmZmVyOiAnQXJyYXlCdWZmZXInIGluIHNlbGZcbn1cblxuZnVuY3Rpb24gaXNEYXRhVmlldyhvYmopIHtcbiAgcmV0dXJuIG9iaiAmJiBEYXRhVmlldy5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihvYmopXG59XG5cbmlmIChzdXBwb3J0LmFycmF5QnVmZmVyKSB7XG4gIHZhciB2aWV3Q2xhc3NlcyA9IFtcbiAgICAnW29iamVjdCBJbnQ4QXJyYXldJyxcbiAgICAnW29iamVjdCBVaW50OEFycmF5XScsXG4gICAgJ1tvYmplY3QgVWludDhDbGFtcGVkQXJyYXldJyxcbiAgICAnW29iamVjdCBJbnQxNkFycmF5XScsXG4gICAgJ1tvYmplY3QgVWludDE2QXJyYXldJyxcbiAgICAnW29iamVjdCBJbnQzMkFycmF5XScsXG4gICAgJ1tvYmplY3QgVWludDMyQXJyYXldJyxcbiAgICAnW29iamVjdCBGbG9hdDMyQXJyYXldJyxcbiAgICAnW29iamVjdCBGbG9hdDY0QXJyYXldJ1xuICBdXG5cbiAgdmFyIGlzQXJyYXlCdWZmZXJWaWV3ID1cbiAgICBBcnJheUJ1ZmZlci5pc1ZpZXcgfHxcbiAgICBmdW5jdGlvbihvYmopIHtcbiAgICAgIHJldHVybiBvYmogJiYgdmlld0NsYXNzZXMuaW5kZXhPZihPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwob2JqKSkgPiAtMVxuICAgIH1cbn1cblxuZnVuY3Rpb24gbm9ybWFsaXplTmFtZShuYW1lKSB7XG4gIGlmICh0eXBlb2YgbmFtZSAhPT0gJ3N0cmluZycpIHtcbiAgICBuYW1lID0gU3RyaW5nKG5hbWUpXG4gIH1cbiAgaWYgKC9bXmEtejAtOVxcLSMkJSYnKisuXl9gfH5dL2kudGVzdChuYW1lKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgY2hhcmFjdGVyIGluIGhlYWRlciBmaWVsZCBuYW1lJylcbiAgfVxuICByZXR1cm4gbmFtZS50b0xvd2VyQ2FzZSgpXG59XG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZVZhbHVlKHZhbHVlKSB7XG4gIGlmICh0eXBlb2YgdmFsdWUgIT09ICdzdHJpbmcnKSB7XG4gICAgdmFsdWUgPSBTdHJpbmcodmFsdWUpXG4gIH1cbiAgcmV0dXJuIHZhbHVlXG59XG5cbi8vIEJ1aWxkIGEgZGVzdHJ1Y3RpdmUgaXRlcmF0b3IgZm9yIHRoZSB2YWx1ZSBsaXN0XG5mdW5jdGlvbiBpdGVyYXRvckZvcihpdGVtcykge1xuICB2YXIgaXRlcmF0b3IgPSB7XG4gICAgbmV4dDogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgdmFsdWUgPSBpdGVtcy5zaGlmdCgpXG4gICAgICByZXR1cm4ge2RvbmU6IHZhbHVlID09PSB1bmRlZmluZWQsIHZhbHVlOiB2YWx1ZX1cbiAgICB9XG4gIH1cblxuICBpZiAoc3VwcG9ydC5pdGVyYWJsZSkge1xuICAgIGl0ZXJhdG9yW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBpdGVyYXRvclxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBpdGVyYXRvclxufVxuXG5leHBvcnQgZnVuY3Rpb24gSGVhZGVycyhoZWFkZXJzKSB7XG4gIHRoaXMubWFwID0ge31cblxuICBpZiAoaGVhZGVycyBpbnN0YW5jZW9mIEhlYWRlcnMpIHtcbiAgICBoZWFkZXJzLmZvckVhY2goZnVuY3Rpb24odmFsdWUsIG5hbWUpIHtcbiAgICAgIHRoaXMuYXBwZW5kKG5hbWUsIHZhbHVlKVxuICAgIH0sIHRoaXMpXG4gIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShoZWFkZXJzKSkge1xuICAgIGhlYWRlcnMuZm9yRWFjaChmdW5jdGlvbihoZWFkZXIpIHtcbiAgICAgIHRoaXMuYXBwZW5kKGhlYWRlclswXSwgaGVhZGVyWzFdKVxuICAgIH0sIHRoaXMpXG4gIH0gZWxzZSBpZiAoaGVhZGVycykge1xuICAgIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGhlYWRlcnMpLmZvckVhY2goZnVuY3Rpb24obmFtZSkge1xuICAgICAgdGhpcy5hcHBlbmQobmFtZSwgaGVhZGVyc1tuYW1lXSlcbiAgICB9LCB0aGlzKVxuICB9XG59XG5cbkhlYWRlcnMucHJvdG90eXBlLmFwcGVuZCA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7XG4gIG5hbWUgPSBub3JtYWxpemVOYW1lKG5hbWUpXG4gIHZhbHVlID0gbm9ybWFsaXplVmFsdWUodmFsdWUpXG4gIHZhciBvbGRWYWx1ZSA9IHRoaXMubWFwW25hbWVdXG4gIHRoaXMubWFwW25hbWVdID0gb2xkVmFsdWUgPyBvbGRWYWx1ZSArICcsICcgKyB2YWx1ZSA6IHZhbHVlXG59XG5cbkhlYWRlcnMucHJvdG90eXBlWydkZWxldGUnXSA9IGZ1bmN0aW9uKG5hbWUpIHtcbiAgZGVsZXRlIHRoaXMubWFwW25vcm1hbGl6ZU5hbWUobmFtZSldXG59XG5cbkhlYWRlcnMucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uKG5hbWUpIHtcbiAgbmFtZSA9IG5vcm1hbGl6ZU5hbWUobmFtZSlcbiAgcmV0dXJuIHRoaXMuaGFzKG5hbWUpID8gdGhpcy5tYXBbbmFtZV0gOiBudWxsXG59XG5cbkhlYWRlcnMucHJvdG90eXBlLmhhcyA9IGZ1bmN0aW9uKG5hbWUpIHtcbiAgcmV0dXJuIHRoaXMubWFwLmhhc093blByb3BlcnR5KG5vcm1hbGl6ZU5hbWUobmFtZSkpXG59XG5cbkhlYWRlcnMucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7XG4gIHRoaXMubWFwW25vcm1hbGl6ZU5hbWUobmFtZSldID0gbm9ybWFsaXplVmFsdWUodmFsdWUpXG59XG5cbkhlYWRlcnMucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbihjYWxsYmFjaywgdGhpc0FyZykge1xuICBmb3IgKHZhciBuYW1lIGluIHRoaXMubWFwKSB7XG4gICAgaWYgKHRoaXMubWFwLmhhc093blByb3BlcnR5KG5hbWUpKSB7XG4gICAgICBjYWxsYmFjay5jYWxsKHRoaXNBcmcsIHRoaXMubWFwW25hbWVdLCBuYW1lLCB0aGlzKVxuICAgIH1cbiAgfVxufVxuXG5IZWFkZXJzLnByb3RvdHlwZS5rZXlzID0gZnVuY3Rpb24oKSB7XG4gIHZhciBpdGVtcyA9IFtdXG4gIHRoaXMuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSwgbmFtZSkge1xuICAgIGl0ZW1zLnB1c2gobmFtZSlcbiAgfSlcbiAgcmV0dXJuIGl0ZXJhdG9yRm9yKGl0ZW1zKVxufVxuXG5IZWFkZXJzLnByb3RvdHlwZS52YWx1ZXMgPSBmdW5jdGlvbigpIHtcbiAgdmFyIGl0ZW1zID0gW11cbiAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgaXRlbXMucHVzaCh2YWx1ZSlcbiAgfSlcbiAgcmV0dXJuIGl0ZXJhdG9yRm9yKGl0ZW1zKVxufVxuXG5IZWFkZXJzLnByb3RvdHlwZS5lbnRyaWVzID0gZnVuY3Rpb24oKSB7XG4gIHZhciBpdGVtcyA9IFtdXG4gIHRoaXMuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSwgbmFtZSkge1xuICAgIGl0ZW1zLnB1c2goW25hbWUsIHZhbHVlXSlcbiAgfSlcbiAgcmV0dXJuIGl0ZXJhdG9yRm9yKGl0ZW1zKVxufVxuXG5pZiAoc3VwcG9ydC5pdGVyYWJsZSkge1xuICBIZWFkZXJzLnByb3RvdHlwZVtTeW1ib2wuaXRlcmF0b3JdID0gSGVhZGVycy5wcm90b3R5cGUuZW50cmllc1xufVxuXG5mdW5jdGlvbiBjb25zdW1lZChib2R5KSB7XG4gIGlmIChib2R5LmJvZHlVc2VkKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBUeXBlRXJyb3IoJ0FscmVhZHkgcmVhZCcpKVxuICB9XG4gIGJvZHkuYm9keVVzZWQgPSB0cnVlXG59XG5cbmZ1bmN0aW9uIGZpbGVSZWFkZXJSZWFkeShyZWFkZXIpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgIHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJlc29sdmUocmVhZGVyLnJlc3VsdClcbiAgICB9XG4gICAgcmVhZGVyLm9uZXJyb3IgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJlamVjdChyZWFkZXIuZXJyb3IpXG4gICAgfVxuICB9KVxufVxuXG5mdW5jdGlvbiByZWFkQmxvYkFzQXJyYXlCdWZmZXIoYmxvYikge1xuICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKVxuICB2YXIgcHJvbWlzZSA9IGZpbGVSZWFkZXJSZWFkeShyZWFkZXIpXG4gIHJlYWRlci5yZWFkQXNBcnJheUJ1ZmZlcihibG9iKVxuICByZXR1cm4gcHJvbWlzZVxufVxuXG5mdW5jdGlvbiByZWFkQmxvYkFzVGV4dChibG9iKSB7XG4gIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpXG4gIHZhciBwcm9taXNlID0gZmlsZVJlYWRlclJlYWR5KHJlYWRlcilcbiAgcmVhZGVyLnJlYWRBc1RleHQoYmxvYilcbiAgcmV0dXJuIHByb21pc2Vcbn1cblxuZnVuY3Rpb24gcmVhZEFycmF5QnVmZmVyQXNUZXh0KGJ1Zikge1xuICB2YXIgdmlldyA9IG5ldyBVaW50OEFycmF5KGJ1ZilcbiAgdmFyIGNoYXJzID0gbmV3IEFycmF5KHZpZXcubGVuZ3RoKVxuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgdmlldy5sZW5ndGg7IGkrKykge1xuICAgIGNoYXJzW2ldID0gU3RyaW5nLmZyb21DaGFyQ29kZSh2aWV3W2ldKVxuICB9XG4gIHJldHVybiBjaGFycy5qb2luKCcnKVxufVxuXG5mdW5jdGlvbiBidWZmZXJDbG9uZShidWYpIHtcbiAgaWYgKGJ1Zi5zbGljZSkge1xuICAgIHJldHVybiBidWYuc2xpY2UoMClcbiAgfSBlbHNlIHtcbiAgICB2YXIgdmlldyA9IG5ldyBVaW50OEFycmF5KGJ1Zi5ieXRlTGVuZ3RoKVxuICAgIHZpZXcuc2V0KG5ldyBVaW50OEFycmF5KGJ1ZikpXG4gICAgcmV0dXJuIHZpZXcuYnVmZmVyXG4gIH1cbn1cblxuZnVuY3Rpb24gQm9keSgpIHtcbiAgdGhpcy5ib2R5VXNlZCA9IGZhbHNlXG5cbiAgdGhpcy5faW5pdEJvZHkgPSBmdW5jdGlvbihib2R5KSB7XG4gICAgdGhpcy5fYm9keUluaXQgPSBib2R5XG4gICAgaWYgKCFib2R5KSB7XG4gICAgICB0aGlzLl9ib2R5VGV4dCA9ICcnXG4gICAgfSBlbHNlIGlmICh0eXBlb2YgYm9keSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHRoaXMuX2JvZHlUZXh0ID0gYm9keVxuICAgIH0gZWxzZSBpZiAoc3VwcG9ydC5ibG9iICYmIEJsb2IucHJvdG90eXBlLmlzUHJvdG90eXBlT2YoYm9keSkpIHtcbiAgICAgIHRoaXMuX2JvZHlCbG9iID0gYm9keVxuICAgIH0gZWxzZSBpZiAoc3VwcG9ydC5mb3JtRGF0YSAmJiBGb3JtRGF0YS5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihib2R5KSkge1xuICAgICAgdGhpcy5fYm9keUZvcm1EYXRhID0gYm9keVxuICAgIH0gZWxzZSBpZiAoc3VwcG9ydC5zZWFyY2hQYXJhbXMgJiYgVVJMU2VhcmNoUGFyYW1zLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGJvZHkpKSB7XG4gICAgICB0aGlzLl9ib2R5VGV4dCA9IGJvZHkudG9TdHJpbmcoKVxuICAgIH0gZWxzZSBpZiAoc3VwcG9ydC5hcnJheUJ1ZmZlciAmJiBzdXBwb3J0LmJsb2IgJiYgaXNEYXRhVmlldyhib2R5KSkge1xuICAgICAgdGhpcy5fYm9keUFycmF5QnVmZmVyID0gYnVmZmVyQ2xvbmUoYm9keS5idWZmZXIpXG4gICAgICAvLyBJRSAxMC0xMSBjYW4ndCBoYW5kbGUgYSBEYXRhVmlldyBib2R5LlxuICAgICAgdGhpcy5fYm9keUluaXQgPSBuZXcgQmxvYihbdGhpcy5fYm9keUFycmF5QnVmZmVyXSlcbiAgICB9IGVsc2UgaWYgKHN1cHBvcnQuYXJyYXlCdWZmZXIgJiYgKEFycmF5QnVmZmVyLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGJvZHkpIHx8IGlzQXJyYXlCdWZmZXJWaWV3KGJvZHkpKSkge1xuICAgICAgdGhpcy5fYm9keUFycmF5QnVmZmVyID0gYnVmZmVyQ2xvbmUoYm9keSlcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fYm9keVRleHQgPSBib2R5ID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGJvZHkpXG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLmhlYWRlcnMuZ2V0KCdjb250ZW50LXR5cGUnKSkge1xuICAgICAgaWYgKHR5cGVvZiBib2R5ID09PSAnc3RyaW5nJykge1xuICAgICAgICB0aGlzLmhlYWRlcnMuc2V0KCdjb250ZW50LXR5cGUnLCAndGV4dC9wbGFpbjtjaGFyc2V0PVVURi04JylcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5fYm9keUJsb2IgJiYgdGhpcy5fYm9keUJsb2IudHlwZSkge1xuICAgICAgICB0aGlzLmhlYWRlcnMuc2V0KCdjb250ZW50LXR5cGUnLCB0aGlzLl9ib2R5QmxvYi50eXBlKVxuICAgICAgfSBlbHNlIGlmIChzdXBwb3J0LnNlYXJjaFBhcmFtcyAmJiBVUkxTZWFyY2hQYXJhbXMucHJvdG90eXBlLmlzUHJvdG90eXBlT2YoYm9keSkpIHtcbiAgICAgICAgdGhpcy5oZWFkZXJzLnNldCgnY29udGVudC10eXBlJywgJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDtjaGFyc2V0PVVURi04JylcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBpZiAoc3VwcG9ydC5ibG9iKSB7XG4gICAgdGhpcy5ibG9iID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgcmVqZWN0ZWQgPSBjb25zdW1lZCh0aGlzKVxuICAgICAgaWYgKHJlamVjdGVkKSB7XG4gICAgICAgIHJldHVybiByZWplY3RlZFxuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5fYm9keUJsb2IpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLl9ib2R5QmxvYilcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5fYm9keUFycmF5QnVmZmVyKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUobmV3IEJsb2IoW3RoaXMuX2JvZHlBcnJheUJ1ZmZlcl0pKVxuICAgICAgfSBlbHNlIGlmICh0aGlzLl9ib2R5Rm9ybURhdGEpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdjb3VsZCBub3QgcmVhZCBGb3JtRGF0YSBib2R5IGFzIGJsb2InKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShuZXcgQmxvYihbdGhpcy5fYm9keVRleHRdKSlcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLmFycmF5QnVmZmVyID0gZnVuY3Rpb24oKSB7XG4gICAgICBpZiAodGhpcy5fYm9keUFycmF5QnVmZmVyKSB7XG4gICAgICAgIHJldHVybiBjb25zdW1lZCh0aGlzKSB8fCBQcm9taXNlLnJlc29sdmUodGhpcy5fYm9keUFycmF5QnVmZmVyKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYmxvYigpLnRoZW4ocmVhZEJsb2JBc0FycmF5QnVmZmVyKVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHRoaXMudGV4dCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciByZWplY3RlZCA9IGNvbnN1bWVkKHRoaXMpXG4gICAgaWYgKHJlamVjdGVkKSB7XG4gICAgICByZXR1cm4gcmVqZWN0ZWRcbiAgICB9XG5cbiAgICBpZiAodGhpcy5fYm9keUJsb2IpIHtcbiAgICAgIHJldHVybiByZWFkQmxvYkFzVGV4dCh0aGlzLl9ib2R5QmxvYilcbiAgICB9IGVsc2UgaWYgKHRoaXMuX2JvZHlBcnJheUJ1ZmZlcikge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShyZWFkQXJyYXlCdWZmZXJBc1RleHQodGhpcy5fYm9keUFycmF5QnVmZmVyKSlcbiAgICB9IGVsc2UgaWYgKHRoaXMuX2JvZHlGb3JtRGF0YSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdjb3VsZCBub3QgcmVhZCBGb3JtRGF0YSBib2R5IGFzIHRleHQnKVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuX2JvZHlUZXh0KVxuICAgIH1cbiAgfVxuXG4gIGlmIChzdXBwb3J0LmZvcm1EYXRhKSB7XG4gICAgdGhpcy5mb3JtRGF0YSA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMudGV4dCgpLnRoZW4oZGVjb2RlKVxuICAgIH1cbiAgfVxuXG4gIHRoaXMuanNvbiA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLnRleHQoKS50aGVuKEpTT04ucGFyc2UpXG4gIH1cblxuICByZXR1cm4gdGhpc1xufVxuXG4vLyBIVFRQIG1ldGhvZHMgd2hvc2UgY2FwaXRhbGl6YXRpb24gc2hvdWxkIGJlIG5vcm1hbGl6ZWRcbnZhciBtZXRob2RzID0gWydERUxFVEUnLCAnR0VUJywgJ0hFQUQnLCAnT1BUSU9OUycsICdQT1NUJywgJ1BVVCddXG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZU1ldGhvZChtZXRob2QpIHtcbiAgdmFyIHVwY2FzZWQgPSBtZXRob2QudG9VcHBlckNhc2UoKVxuICByZXR1cm4gbWV0aG9kcy5pbmRleE9mKHVwY2FzZWQpID4gLTEgPyB1cGNhc2VkIDogbWV0aG9kXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBSZXF1ZXN0KGlucHV0LCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9XG4gIHZhciBib2R5ID0gb3B0aW9ucy5ib2R5XG5cbiAgaWYgKGlucHV0IGluc3RhbmNlb2YgUmVxdWVzdCkge1xuICAgIGlmIChpbnB1dC5ib2R5VXNlZCkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQWxyZWFkeSByZWFkJylcbiAgICB9XG4gICAgdGhpcy51cmwgPSBpbnB1dC51cmxcbiAgICB0aGlzLmNyZWRlbnRpYWxzID0gaW5wdXQuY3JlZGVudGlhbHNcbiAgICBpZiAoIW9wdGlvbnMuaGVhZGVycykge1xuICAgICAgdGhpcy5oZWFkZXJzID0gbmV3IEhlYWRlcnMoaW5wdXQuaGVhZGVycylcbiAgICB9XG4gICAgdGhpcy5tZXRob2QgPSBpbnB1dC5tZXRob2RcbiAgICB0aGlzLm1vZGUgPSBpbnB1dC5tb2RlXG4gICAgdGhpcy5zaWduYWwgPSBpbnB1dC5zaWduYWxcbiAgICBpZiAoIWJvZHkgJiYgaW5wdXQuX2JvZHlJbml0ICE9IG51bGwpIHtcbiAgICAgIGJvZHkgPSBpbnB1dC5fYm9keUluaXRcbiAgICAgIGlucHV0LmJvZHlVc2VkID0gdHJ1ZVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB0aGlzLnVybCA9IFN0cmluZyhpbnB1dClcbiAgfVxuXG4gIHRoaXMuY3JlZGVudGlhbHMgPSBvcHRpb25zLmNyZWRlbnRpYWxzIHx8IHRoaXMuY3JlZGVudGlhbHMgfHwgJ3NhbWUtb3JpZ2luJ1xuICBpZiAob3B0aW9ucy5oZWFkZXJzIHx8ICF0aGlzLmhlYWRlcnMpIHtcbiAgICB0aGlzLmhlYWRlcnMgPSBuZXcgSGVhZGVycyhvcHRpb25zLmhlYWRlcnMpXG4gIH1cbiAgdGhpcy5tZXRob2QgPSBub3JtYWxpemVNZXRob2Qob3B0aW9ucy5tZXRob2QgfHwgdGhpcy5tZXRob2QgfHwgJ0dFVCcpXG4gIHRoaXMubW9kZSA9IG9wdGlvbnMubW9kZSB8fCB0aGlzLm1vZGUgfHwgbnVsbFxuICB0aGlzLnNpZ25hbCA9IG9wdGlvbnMuc2lnbmFsIHx8IHRoaXMuc2lnbmFsXG4gIHRoaXMucmVmZXJyZXIgPSBudWxsXG5cbiAgaWYgKCh0aGlzLm1ldGhvZCA9PT0gJ0dFVCcgfHwgdGhpcy5tZXRob2QgPT09ICdIRUFEJykgJiYgYm9keSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0JvZHkgbm90IGFsbG93ZWQgZm9yIEdFVCBvciBIRUFEIHJlcXVlc3RzJylcbiAgfVxuICB0aGlzLl9pbml0Qm9keShib2R5KVxufVxuXG5SZXF1ZXN0LnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbmV3IFJlcXVlc3QodGhpcywge2JvZHk6IHRoaXMuX2JvZHlJbml0fSlcbn1cblxuZnVuY3Rpb24gZGVjb2RlKGJvZHkpIHtcbiAgdmFyIGZvcm0gPSBuZXcgRm9ybURhdGEoKVxuICBib2R5XG4gICAgLnRyaW0oKVxuICAgIC5zcGxpdCgnJicpXG4gICAgLmZvckVhY2goZnVuY3Rpb24oYnl0ZXMpIHtcbiAgICAgIGlmIChieXRlcykge1xuICAgICAgICB2YXIgc3BsaXQgPSBieXRlcy5zcGxpdCgnPScpXG4gICAgICAgIHZhciBuYW1lID0gc3BsaXQuc2hpZnQoKS5yZXBsYWNlKC9cXCsvZywgJyAnKVxuICAgICAgICB2YXIgdmFsdWUgPSBzcGxpdC5qb2luKCc9JykucmVwbGFjZSgvXFwrL2csICcgJylcbiAgICAgICAgZm9ybS5hcHBlbmQoZGVjb2RlVVJJQ29tcG9uZW50KG5hbWUpLCBkZWNvZGVVUklDb21wb25lbnQodmFsdWUpKVxuICAgICAgfVxuICAgIH0pXG4gIHJldHVybiBmb3JtXG59XG5cbmZ1bmN0aW9uIHBhcnNlSGVhZGVycyhyYXdIZWFkZXJzKSB7XG4gIHZhciBoZWFkZXJzID0gbmV3IEhlYWRlcnMoKVxuICAvLyBSZXBsYWNlIGluc3RhbmNlcyBvZiBcXHJcXG4gYW5kIFxcbiBmb2xsb3dlZCBieSBhdCBsZWFzdCBvbmUgc3BhY2Ugb3IgaG9yaXpvbnRhbCB0YWIgd2l0aCBhIHNwYWNlXG4gIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmM3MjMwI3NlY3Rpb24tMy4yXG4gIHZhciBwcmVQcm9jZXNzZWRIZWFkZXJzID0gcmF3SGVhZGVycy5yZXBsYWNlKC9cXHI/XFxuW1xcdCBdKy9nLCAnICcpXG4gIHByZVByb2Nlc3NlZEhlYWRlcnMuc3BsaXQoL1xccj9cXG4vKS5mb3JFYWNoKGZ1bmN0aW9uKGxpbmUpIHtcbiAgICB2YXIgcGFydHMgPSBsaW5lLnNwbGl0KCc6JylcbiAgICB2YXIga2V5ID0gcGFydHMuc2hpZnQoKS50cmltKClcbiAgICBpZiAoa2V5KSB7XG4gICAgICB2YXIgdmFsdWUgPSBwYXJ0cy5qb2luKCc6JykudHJpbSgpXG4gICAgICBoZWFkZXJzLmFwcGVuZChrZXksIHZhbHVlKVxuICAgIH1cbiAgfSlcbiAgcmV0dXJuIGhlYWRlcnNcbn1cblxuQm9keS5jYWxsKFJlcXVlc3QucHJvdG90eXBlKVxuXG5leHBvcnQgZnVuY3Rpb24gUmVzcG9uc2UoYm9keUluaXQsIG9wdGlvbnMpIHtcbiAgaWYgKCFvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IHt9XG4gIH1cblxuICB0aGlzLnR5cGUgPSAnZGVmYXVsdCdcbiAgdGhpcy5zdGF0dXMgPSBvcHRpb25zLnN0YXR1cyA9PT0gdW5kZWZpbmVkID8gMjAwIDogb3B0aW9ucy5zdGF0dXNcbiAgdGhpcy5vayA9IHRoaXMuc3RhdHVzID49IDIwMCAmJiB0aGlzLnN0YXR1cyA8IDMwMFxuICB0aGlzLnN0YXR1c1RleHQgPSAnc3RhdHVzVGV4dCcgaW4gb3B0aW9ucyA/IG9wdGlvbnMuc3RhdHVzVGV4dCA6ICdPSydcbiAgdGhpcy5oZWFkZXJzID0gbmV3IEhlYWRlcnMob3B0aW9ucy5oZWFkZXJzKVxuICB0aGlzLnVybCA9IG9wdGlvbnMudXJsIHx8ICcnXG4gIHRoaXMuX2luaXRCb2R5KGJvZHlJbml0KVxufVxuXG5Cb2R5LmNhbGwoUmVzcG9uc2UucHJvdG90eXBlKVxuXG5SZXNwb25zZS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG5ldyBSZXNwb25zZSh0aGlzLl9ib2R5SW5pdCwge1xuICAgIHN0YXR1czogdGhpcy5zdGF0dXMsXG4gICAgc3RhdHVzVGV4dDogdGhpcy5zdGF0dXNUZXh0LFxuICAgIGhlYWRlcnM6IG5ldyBIZWFkZXJzKHRoaXMuaGVhZGVycyksXG4gICAgdXJsOiB0aGlzLnVybFxuICB9KVxufVxuXG5SZXNwb25zZS5lcnJvciA9IGZ1bmN0aW9uKCkge1xuICB2YXIgcmVzcG9uc2UgPSBuZXcgUmVzcG9uc2UobnVsbCwge3N0YXR1czogMCwgc3RhdHVzVGV4dDogJyd9KVxuICByZXNwb25zZS50eXBlID0gJ2Vycm9yJ1xuICByZXR1cm4gcmVzcG9uc2Vcbn1cblxudmFyIHJlZGlyZWN0U3RhdHVzZXMgPSBbMzAxLCAzMDIsIDMwMywgMzA3LCAzMDhdXG5cblJlc3BvbnNlLnJlZGlyZWN0ID0gZnVuY3Rpb24odXJsLCBzdGF0dXMpIHtcbiAgaWYgKHJlZGlyZWN0U3RhdHVzZXMuaW5kZXhPZihzdGF0dXMpID09PSAtMSkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdJbnZhbGlkIHN0YXR1cyBjb2RlJylcbiAgfVxuXG4gIHJldHVybiBuZXcgUmVzcG9uc2UobnVsbCwge3N0YXR1czogc3RhdHVzLCBoZWFkZXJzOiB7bG9jYXRpb246IHVybH19KVxufVxuXG5leHBvcnQgdmFyIERPTUV4Y2VwdGlvbiA9IHNlbGYuRE9NRXhjZXB0aW9uXG50cnkge1xuICBuZXcgRE9NRXhjZXB0aW9uKClcbn0gY2F0Y2ggKGVycikge1xuICBET01FeGNlcHRpb24gPSBmdW5jdGlvbihtZXNzYWdlLCBuYW1lKSB7XG4gICAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZVxuICAgIHRoaXMubmFtZSA9IG5hbWVcbiAgICB2YXIgZXJyb3IgPSBFcnJvcihtZXNzYWdlKVxuICAgIHRoaXMuc3RhY2sgPSBlcnJvci5zdGFja1xuICB9XG4gIERPTUV4Y2VwdGlvbi5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEVycm9yLnByb3RvdHlwZSlcbiAgRE9NRXhjZXB0aW9uLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IERPTUV4Y2VwdGlvblxufVxuXG5leHBvcnQgZnVuY3Rpb24gZmV0Y2goaW5wdXQsIGluaXQpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgIHZhciByZXF1ZXN0ID0gbmV3IFJlcXVlc3QoaW5wdXQsIGluaXQpXG5cbiAgICBpZiAocmVxdWVzdC5zaWduYWwgJiYgcmVxdWVzdC5zaWduYWwuYWJvcnRlZCkge1xuICAgICAgcmV0dXJuIHJlamVjdChuZXcgRE9NRXhjZXB0aW9uKCdBYm9ydGVkJywgJ0Fib3J0RXJyb3InKSlcbiAgICB9XG5cbiAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KClcblxuICAgIGZ1bmN0aW9uIGFib3J0WGhyKCkge1xuICAgICAgeGhyLmFib3J0KClcbiAgICB9XG5cbiAgICB4aHIub25sb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgb3B0aW9ucyA9IHtcbiAgICAgICAgc3RhdHVzOiB4aHIuc3RhdHVzLFxuICAgICAgICBzdGF0dXNUZXh0OiB4aHIuc3RhdHVzVGV4dCxcbiAgICAgICAgaGVhZGVyczogcGFyc2VIZWFkZXJzKHhoci5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSB8fCAnJylcbiAgICAgIH1cbiAgICAgIG9wdGlvbnMudXJsID0gJ3Jlc3BvbnNlVVJMJyBpbiB4aHIgPyB4aHIucmVzcG9uc2VVUkwgOiBvcHRpb25zLmhlYWRlcnMuZ2V0KCdYLVJlcXVlc3QtVVJMJylcbiAgICAgIHZhciBib2R5ID0gJ3Jlc3BvbnNlJyBpbiB4aHIgPyB4aHIucmVzcG9uc2UgOiB4aHIucmVzcG9uc2VUZXh0XG4gICAgICByZXNvbHZlKG5ldyBSZXNwb25zZShib2R5LCBvcHRpb25zKSlcbiAgICB9XG5cbiAgICB4aHIub25lcnJvciA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmVqZWN0KG5ldyBUeXBlRXJyb3IoJ05ldHdvcmsgcmVxdWVzdCBmYWlsZWQnKSlcbiAgICB9XG5cbiAgICB4aHIub250aW1lb3V0ID0gZnVuY3Rpb24oKSB7XG4gICAgICByZWplY3QobmV3IFR5cGVFcnJvcignTmV0d29yayByZXF1ZXN0IGZhaWxlZCcpKVxuICAgIH1cblxuICAgIHhoci5vbmFib3J0ID0gZnVuY3Rpb24oKSB7XG4gICAgICByZWplY3QobmV3IERPTUV4Y2VwdGlvbignQWJvcnRlZCcsICdBYm9ydEVycm9yJykpXG4gICAgfVxuXG4gICAgeGhyLm9wZW4ocmVxdWVzdC5tZXRob2QsIHJlcXVlc3QudXJsLCB0cnVlKVxuXG4gICAgaWYgKHJlcXVlc3QuY3JlZGVudGlhbHMgPT09ICdpbmNsdWRlJykge1xuICAgICAgeGhyLndpdGhDcmVkZW50aWFscyA9IHRydWVcbiAgICB9IGVsc2UgaWYgKHJlcXVlc3QuY3JlZGVudGlhbHMgPT09ICdvbWl0Jykge1xuICAgICAgeGhyLndpdGhDcmVkZW50aWFscyA9IGZhbHNlXG4gICAgfVxuXG4gICAgaWYgKCdyZXNwb25zZVR5cGUnIGluIHhociAmJiBzdXBwb3J0LmJsb2IpIHtcbiAgICAgIHhoci5yZXNwb25zZVR5cGUgPSAnYmxvYidcbiAgICB9XG5cbiAgICByZXF1ZXN0LmhlYWRlcnMuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSwgbmFtZSkge1xuICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIobmFtZSwgdmFsdWUpXG4gICAgfSlcblxuICAgIGlmIChyZXF1ZXN0LnNpZ25hbCkge1xuICAgICAgcmVxdWVzdC5zaWduYWwuYWRkRXZlbnRMaXN0ZW5lcignYWJvcnQnLCBhYm9ydFhocilcblxuICAgICAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAvLyBET05FIChzdWNjZXNzIG9yIGZhaWx1cmUpXG4gICAgICAgIGlmICh4aHIucmVhZHlTdGF0ZSA9PT0gNCkge1xuICAgICAgICAgIHJlcXVlc3Quc2lnbmFsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Fib3J0JywgYWJvcnRYaHIpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICB4aHIuc2VuZCh0eXBlb2YgcmVxdWVzdC5fYm9keUluaXQgPT09ICd1bmRlZmluZWQnID8gbnVsbCA6IHJlcXVlc3QuX2JvZHlJbml0KVxuICB9KVxufVxuXG5mZXRjaC5wb2x5ZmlsbCA9IHRydWVcblxuaWYgKCFzZWxmLmZldGNoKSB7XG4gIHNlbGYuZmV0Y2ggPSBmZXRjaFxuICBzZWxmLkhlYWRlcnMgPSBIZWFkZXJzXG4gIHNlbGYuUmVxdWVzdCA9IFJlcXVlc3RcbiAgc2VsZi5SZXNwb25zZSA9IFJlc3BvbnNlXG59XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/whatwg-fetch/fetch.js\n");

/***/ }),

/***/ "./src/asset/index.css":
/*!*****************************!*\
  !*** ./src/asset/index.css ***!
  \*****************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var api = __webpack_require__(/*! ../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ \"./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = __webpack_require__(/*! !../../node_modules/css-loader/dist/cjs.js!./index.css */ \"./node_modules/css-loader/dist/cjs.js!./src/asset/index.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.i, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvYXNzZXQvaW5kZXguY3NzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbGl2ZTJkLy4vc3JjL2Fzc2V0L2luZGV4LmNzcz83YTQ1Il0sInNvdXJjZXNDb250ZW50IjpbInZhciBhcGkgPSByZXF1aXJlKFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qc1wiKTtcbiAgICAgICAgICAgIHZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9pbmRleC5jc3NcIik7XG5cbiAgICAgICAgICAgIGNvbnRlbnQgPSBjb250ZW50Ll9fZXNNb2R1bGUgPyBjb250ZW50LmRlZmF1bHQgOiBjb250ZW50O1xuXG4gICAgICAgICAgICBpZiAodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcbiAgICAgICAgICAgIH1cblxudmFyIG9wdGlvbnMgPSB7fTtcblxub3B0aW9ucy5pbnNlcnQgPSBcImhlYWRcIjtcbm9wdGlvbnMuc2luZ2xldG9uID0gZmFsc2U7XG5cbnZhciB1cGRhdGUgPSBhcGkoY29udGVudCwgb3B0aW9ucyk7XG5cblxuXG5tb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzIHx8IHt9OyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/asset/index.css\n");

/***/ }),

/***/ "./src/index.js":
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _lappdelegate__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./lappdelegate */ \"./src/lappdelegate.ts\");\n/* harmony import */ var _lappdelegate__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_lappdelegate__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _lapplive2dmanager__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./lapplive2dmanager */ \"./src/lapplive2dmanager.ts\");\n/* harmony import */ var _lapplive2dmanager__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_lapplive2dmanager__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _lappdefine__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./lappdefine */ \"./src/lappdefine.ts\");\n/* harmony import */ var _lappdefine__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_lappdefine__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _asset_index_css__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./asset/index.css */ \"./src/asset/index.css\");\n/* harmony import */ var _asset_index_css__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_asset_index_css__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _lappmodel__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./lappmodel */ \"./src/lappmodel.ts\");\n/* harmony import */ var _lappmodel__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_lappmodel__WEBPACK_IMPORTED_MODULE_5__);\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\n\n\n\n\n\n\n\nfunction ReactLive2d(props) {\n  // 好看颜色列表\n  // green: '#B4DEAE',\n  // DeepBlue: '#5B8DBE',\n  // LightBlue: '#C8E6FE',\n  // pink: '#F9B8BE'\n  // 容器样式\n  var containerStyle = {\n    position: 'fixed',\n    top: props.top ? props.top : '',\n    right: props.right ? props.right : '0',\n    bottom: props.bottom ? props.bottom : '0',\n    left: props.left ? props.left : ''\n  }; // canvas样式\n\n  var canvasStyle = {\n    position: 'relative',\n    top: props.top ? props.top : '',\n    right: props.right ? props.right : '0',\n    bottom: props.bottom ? props.bottom : '0',\n    left: props.left ? props.left : ''\n  }; // 对话框样式\n\n  var printStyle = {\n    position: 'absolute',\n    width: props.width > 300 ? props.width / 2 : '150px',\n    left: props.width > 300 ? (props.width - props.width / 2) / 2 + 'px' : (props.width - 150) / 2 + 'px',\n    top: '0',\n    minHeight: '20px',\n    borderRadius: '5px',\n    border: '1px dashed #ccc',\n    padding: '5px',\n    background: props.color ? props.color : '#C8E6FE',\n    display: 'none'\n  }; // 面板主题样式\n\n  var Theme = {\n    color: props.color ? props.color : '#C8E6FE',\n    width: '30px',\n    height: '30px'\n  };\n  var timer = null;\n\n  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useState\"])(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      controllerOn = _useState2[0],\n      setControllerOn = _useState2[1];\n\n  var _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useState\"])(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      controllerIn = _useState4[0],\n      setControllerIn = _useState4[1];\n\n  var _useState5 = Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useState\"])(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      printMenu = _useState6[0],\n      setPrintMenu = _useState6[1]; // 进入显示控制台\n\n\n  function cvMouseOver() {\n    setControllerOn(true);\n  }\n\n  function cvMouseOut() {\n    timer = setTimeout(function () {\n      // 0.01秒内没有进入点击面板，说明已经鼠标离开\n      if (!controllerIn) {\n        setControllerOn(false);\n        setControllerIn(false);\n      }\n    }, 10);\n  } // 进入选择菜单\n\n\n  function ctMouseOver() {\n    setControllerIn(true);\n    clearTimeout(timer);\n  } // 离开选择菜单\n\n\n  function ctMouseOut() {\n    setControllerIn(false);\n  } //切换\n\n\n  function ctTab() {\n    _lapplive2dmanager__WEBPACK_IMPORTED_MODULE_1__[\"LAppLive2DManager\"].getInstance().nextScene();\n  } // 悬停菜单时的对白\n\n\n  function talkPrint(print) {\n    var printNow = document.getElementById('live2d-print');\n    printNow.innerHTML = print;\n    printNow.style.display = 'block';\n  }\n\n  function cancelPrint() {\n    var printNow = document.getElementById('live2d-print');\n    printNow.innerHTML = '';\n    printNow.style.display = 'none';\n  }\n\n  Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useEffect\"])(function () {\n    console.log('props', props);\n    props.ModelList ? _lappdefine__WEBPACK_IMPORTED_MODULE_2__[\"lappdefineSet\"].setModelDir(props.ModelList) : _lappdefine__WEBPACK_IMPORTED_MODULE_2__[\"lappdefineSet\"].setModelDir([]);\n    props.TouchBody ? _lappdefine__WEBPACK_IMPORTED_MODULE_2__[\"lappdefineSet\"].setHitBody(props.TouchBody) : _lappdefine__WEBPACK_IMPORTED_MODULE_2__[\"lappdefineSet\"].setHitBody([]);\n    props.TouchHead ? _lappdefine__WEBPACK_IMPORTED_MODULE_2__[\"lappdefineSet\"].setHitHead(props.TouchHead) : _lappdefine__WEBPACK_IMPORTED_MODULE_2__[\"lappdefineSet\"].setHitHead([]);\n    props.TouchDefault ? _lappdefine__WEBPACK_IMPORTED_MODULE_2__[\"lappdefineSet\"].setHitDefault(props.TouchDefault) : _lappdefine__WEBPACK_IMPORTED_MODULE_2__[\"lappdefineSet\"].setHitDefault([]);\n    props.PathFull ? _lappdefine__WEBPACK_IMPORTED_MODULE_2__[\"lappdefineSet\"].setPathFull(props.PathFull) : _lappdefine__WEBPACK_IMPORTED_MODULE_2__[\"lappdefineSet\"].setPathFull('');\n\n    if (!navigator.userAgent.match(/mobile/i) || props.MobileShow == true) {\n      if (_lappdelegate__WEBPACK_IMPORTED_MODULE_0__[\"LAppDelegate\"].getInstance().initialize() == false) {\n        return;\n      }\n\n      _lappdelegate__WEBPACK_IMPORTED_MODULE_0__[\"LAppDelegate\"].getInstance().run(); // window.onbeforeunload = () => LAppDelegate.releaseInstance();\n    }\n  }, []);\n  Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useEffect\"])(function () {\n    console.log(1234567);\n    console.log(props.motion);\n    var manager = _lapplive2dmanager__WEBPACK_IMPORTED_MODULE_1__[\"LAppLive2DManager\"].getInstance();\n\n    var modelCount = manager._models.getSize();\n\n    for (var i = 0; i < modelCount; ++i) {\n      var mode = manager.getModel(i);\n      mode.setExpression(props.motion);\n    }\n  }, [props]);\n  Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useEffect\"])(function () {\n    if (props.release == true) {\n      _lappdelegate__WEBPACK_IMPORTED_MODULE_0__[\"LAppDelegate\"].releaseInstance();\n    }\n  }, [props.release]);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(\"div\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(\"div\", {\n    style: containerStyle,\n    width: props.width ? props.width : '300',\n    height: props.height ? props.height : '500',\n    id: \"live2d-container\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(\"div\", {\n    id: \"live2d-hidden\",\n    style: {\n      width: '100%',\n      height: '100%',\n      position: 'absolute',\n      top: '0',\n      left: '0',\n      zIndex: '2'\n    }\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(\"div\", {\n    id: \"live2d-print\",\n    style: printStyle\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(\"canvas\", {\n    id: \"live2d\",\n    style: canvasStyle,\n    width: props.width ? props.width : '300',\n    height: props.height ? props.height : '500',\n    className: \"live2d\",\n    onMouseEnter: cvMouseOver,\n    onMouseLeave: cvMouseOut\n  }), controllerOn && (!props.menuList || props.menuList.length > 0) && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(\"div\", {\n    className: \"live2d-controller\",\n    style: {\n      position: 'absolute',\n      top: '20px',\n      left: '20px'\n    },\n    onMouseEnter: ctMouseOver,\n    onMouseLeave: ctMouseOut\n  }, (!props.menuList || props.menuList.indexOf('Mtab') > -1) && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(\"div\", {\n    className: \"iconfont\",\n    style: Theme,\n    onClick: ctTab,\n    onMouseEnter: function onMouseEnter() {\n      return talkPrint('你想要换一个看板娘吗？');\n    },\n    onMouseLeave: cancelPrint\n  }, \"\\uE7CA\"))));\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (ReactLive2d);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvaW5kZXguanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9saXZlMmQvLi9zcmMvaW5kZXguanM/YjYzNSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBMQXBwRGVsZWdhdGUgfSBmcm9tICcuL2xhcHBkZWxlZ2F0ZSc7XHJcbmltcG9ydCB7IExBcHBMaXZlMkRNYW5hZ2VyIH0gZnJvbSAnLi9sYXBwbGl2ZTJkbWFuYWdlcic7XHJcbmltcG9ydCAqIGFzIExBcHBEZWZpbmUgZnJvbSAnLi9sYXBwZGVmaW5lJztcclxuaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCAnLi9hc3NldC9pbmRleC5jc3MnXHJcbmltcG9ydCB7TEFwcE1vZGVsfSBmcm9tIFwiLi9sYXBwbW9kZWxcIjtcclxuXHJcbmZ1bmN0aW9uIFJlYWN0TGl2ZTJkKHByb3BzKSB7XHJcblxyXG4gICAgLy8g5aW955yL6aKc6Imy5YiX6KGoXHJcbiAgICAvLyBncmVlbjogJyNCNERFQUUnLFxyXG4gICAgLy8gRGVlcEJsdWU6ICcjNUI4REJFJyxcclxuICAgIC8vIExpZ2h0Qmx1ZTogJyNDOEU2RkUnLFxyXG4gICAgLy8gcGluazogJyNGOUI4QkUnXHJcblxyXG4gICAgLy8g5a655Zmo5qC35byPXHJcbiAgICBsZXQgY29udGFpbmVyU3R5bGUgPSB7XHJcbiAgICAgICAgcG9zaXRpb246ICdmaXhlZCcsXHJcbiAgICAgICAgdG9wOiBwcm9wcy50b3AgPyBwcm9wcy50b3AgOiAnJyxcclxuICAgICAgICByaWdodDogcHJvcHMucmlnaHQgPyBwcm9wcy5yaWdodCA6ICcwJyxcclxuICAgICAgICBib3R0b206IHByb3BzLmJvdHRvbSA/IHByb3BzLmJvdHRvbSA6ICcwJyxcclxuICAgICAgICBsZWZ0OiBwcm9wcy5sZWZ0ID8gcHJvcHMubGVmdCA6ICcnXHJcbiAgICB9XHJcbiAgICAvLyBjYW52YXPmoLflvI9cclxuICAgIGxldCBjYW52YXNTdHlsZSA9IHtcclxuICAgICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJyxcclxuICAgICAgICB0b3A6IHByb3BzLnRvcCA/IHByb3BzLnRvcCA6ICcnLFxyXG4gICAgICAgIHJpZ2h0OiBwcm9wcy5yaWdodCA/IHByb3BzLnJpZ2h0IDogJzAnLFxyXG4gICAgICAgIGJvdHRvbTogcHJvcHMuYm90dG9tID8gcHJvcHMuYm90dG9tIDogJzAnLFxyXG4gICAgICAgIGxlZnQ6IHByb3BzLmxlZnQgPyBwcm9wcy5sZWZ0IDogJydcclxuICAgIH1cclxuICAgIC8vIOWvueivneahhuagt+W8j1xyXG4gICAgbGV0IHByaW50U3R5bGUgPSB7XHJcbiAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXHJcbiAgICAgICAgd2lkdGg6IHByb3BzLndpZHRoID4gMzAwID8gcHJvcHMud2lkdGggLyAyIDogJzE1MHB4JyxcclxuICAgICAgICBsZWZ0OiBwcm9wcy53aWR0aCA+IDMwMCA/IChwcm9wcy53aWR0aCAtIHByb3BzLndpZHRoIC8gMikgLyAyICsgJ3B4JyA6IChwcm9wcy53aWR0aCAtIDE1MCkgLyAyICsgJ3B4JyxcclxuICAgICAgICB0b3A6ICcwJyxcclxuICAgICAgICBtaW5IZWlnaHQ6ICcyMHB4JyxcclxuICAgICAgICBib3JkZXJSYWRpdXM6ICc1cHgnLFxyXG4gICAgICAgIGJvcmRlcjogJzFweCBkYXNoZWQgI2NjYycsXHJcbiAgICAgICAgcGFkZGluZzogJzVweCcsXHJcbiAgICAgICAgYmFja2dyb3VuZDogcHJvcHMuY29sb3IgPyBwcm9wcy5jb2xvciA6ICcjQzhFNkZFJyxcclxuICAgICAgICBkaXNwbGF5OiAnbm9uZScsXHJcbiAgICB9XHJcblxyXG4gICAgLy8g6Z2i5p2/5Li76aKY5qC35byPXHJcbiAgICBsZXQgVGhlbWUgPSB7XHJcbiAgICAgICAgY29sb3I6IHByb3BzLmNvbG9yID8gcHJvcHMuY29sb3IgOiAnI0M4RTZGRScsXHJcbiAgICAgICAgd2lkdGg6ICczMHB4JyxcclxuICAgICAgICBoZWlnaHQ6ICczMHB4JyxcclxuICAgIH1cclxuXHJcbiAgICBsZXQgdGltZXIgPSBudWxsO1xyXG5cclxuICAgIGNvbnN0IFtjb250cm9sbGVyT24sIHNldENvbnRyb2xsZXJPbl0gPSB1c2VTdGF0ZShmYWxzZSlcclxuXHJcbiAgICBjb25zdCBbY29udHJvbGxlckluLCBzZXRDb250cm9sbGVySW5dID0gdXNlU3RhdGUoZmFsc2UpXHJcblxyXG4gICAgY29uc3QgW3ByaW50TWVudSwgc2V0UHJpbnRNZW51XSA9IHVzZVN0YXRlKGZhbHNlKVxyXG5cclxuICAgIC8vIOi/m+WFpeaYvuekuuaOp+WItuWPsFxyXG4gICAgZnVuY3Rpb24gY3ZNb3VzZU92ZXIoKSB7XHJcbiAgICAgICAgc2V0Q29udHJvbGxlck9uKHRydWUpXHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gY3ZNb3VzZU91dCgpIHtcclxuICAgICAgICB0aW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAvLyAwLjAx56eS5YaF5rKh5pyJ6L+b5YWl54K55Ye76Z2i5p2/77yM6K+05piO5bey57uP6byg5qCH56a75byAXHJcbiAgICAgICAgICAgIGlmICghY29udHJvbGxlckluKSB7XHJcbiAgICAgICAgICAgICAgICBzZXRDb250cm9sbGVyT24oZmFsc2UpXHJcbiAgICAgICAgICAgICAgICBzZXRDb250cm9sbGVySW4oZmFsc2UpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LCAxMCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8g6L+b5YWl6YCJ5oup6I+c5Y2VXHJcbiAgICBmdW5jdGlvbiBjdE1vdXNlT3ZlcigpIHtcclxuICAgICAgICBzZXRDb250cm9sbGVySW4odHJ1ZSlcclxuICAgICAgICBjbGVhclRpbWVvdXQodGltZXIpXHJcbiAgICB9XHJcblxyXG4gICAgLy8g56a75byA6YCJ5oup6I+c5Y2VXHJcbiAgICBmdW5jdGlvbiBjdE1vdXNlT3V0KCkge1xyXG4gICAgICAgIHNldENvbnRyb2xsZXJJbihmYWxzZSlcclxuICAgIH1cclxuXHJcbiAgICAvL+WIh+aNolxyXG4gICAgZnVuY3Rpb24gY3RUYWIoKSB7XHJcbiAgICAgICAgTEFwcExpdmUyRE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5uZXh0U2NlbmUoKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyDmgqzlgZzoj5zljZXml7bnmoTlr7nnmb1cclxuICAgIGZ1bmN0aW9uIHRhbGtQcmludChwcmludCkge1xyXG4gICAgICAgIGxldCBwcmludE5vdyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsaXZlMmQtcHJpbnQnKTtcclxuICAgICAgICBwcmludE5vdy5pbm5lckhUTUwgPSBwcmludDtcclxuICAgICAgICBwcmludE5vdy5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBjYW5jZWxQcmludCgpIHtcclxuICAgICAgICBsZXQgcHJpbnROb3cgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGl2ZTJkLXByaW50Jyk7XHJcbiAgICAgICAgcHJpbnROb3cuaW5uZXJIVE1MID0gJyc7XHJcbiAgICAgICAgcHJpbnROb3cuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgIH1cclxuXHJcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdwcm9wcycsIHByb3BzKVxyXG4gICAgICAgIHByb3BzLk1vZGVsTGlzdCA/IExBcHBEZWZpbmUubGFwcGRlZmluZVNldC5zZXRNb2RlbERpcihwcm9wcy5Nb2RlbExpc3QpIDogTEFwcERlZmluZS5sYXBwZGVmaW5lU2V0LnNldE1vZGVsRGlyKFtdKVxyXG4gICAgICAgIHByb3BzLlRvdWNoQm9keSA/IExBcHBEZWZpbmUubGFwcGRlZmluZVNldC5zZXRIaXRCb2R5KHByb3BzLlRvdWNoQm9keSkgOiBMQXBwRGVmaW5lLmxhcHBkZWZpbmVTZXQuc2V0SGl0Qm9keShbXSlcclxuICAgICAgICBwcm9wcy5Ub3VjaEhlYWQgPyBMQXBwRGVmaW5lLmxhcHBkZWZpbmVTZXQuc2V0SGl0SGVhZChwcm9wcy5Ub3VjaEhlYWQpIDogTEFwcERlZmluZS5sYXBwZGVmaW5lU2V0LnNldEhpdEhlYWQoW10pXHJcbiAgICAgICAgcHJvcHMuVG91Y2hEZWZhdWx0ID8gTEFwcERlZmluZS5sYXBwZGVmaW5lU2V0LnNldEhpdERlZmF1bHQocHJvcHMuVG91Y2hEZWZhdWx0KSA6IExBcHBEZWZpbmUubGFwcGRlZmluZVNldC5zZXRIaXREZWZhdWx0KFtdKVxyXG4gICAgICAgIHByb3BzLlBhdGhGdWxsID8gTEFwcERlZmluZS5sYXBwZGVmaW5lU2V0LnNldFBhdGhGdWxsKHByb3BzLlBhdGhGdWxsKSA6IExBcHBEZWZpbmUubGFwcGRlZmluZVNldC5zZXRQYXRoRnVsbCgnJylcclxuXHJcbiAgICAgICAgaWYgKCFuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9tb2JpbGUvaSkgfHwgcHJvcHMuTW9iaWxlU2hvdyA9PSB0cnVlKSB7XHJcblxyXG4gICAgICAgICAgICBpZiAoTEFwcERlbGVnYXRlLmdldEluc3RhbmNlKCkuaW5pdGlhbGl6ZSgpID09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIExBcHBEZWxlZ2F0ZS5nZXRJbnN0YW5jZSgpLnJ1bigpO1xyXG5cclxuXHJcbiAgICAgICAgICAgIC8vIHdpbmRvdy5vbmJlZm9yZXVubG9hZCA9ICgpID0+IExBcHBEZWxlZ2F0ZS5yZWxlYXNlSW5zdGFuY2UoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfSwgW10pO1xyXG5cclxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICAgICAgIGNvbnNvbGUubG9nKDEyMzQ1NjcpO1xyXG4gICAgICAgICBjb25zb2xlLmxvZyhwcm9wcy5tb3Rpb24pO1xyXG4gICAgICAgICBjb25zdCAgbWFuYWdlciAgPSBMQXBwTGl2ZTJETWFuYWdlci5nZXRJbnN0YW5jZSgpXHJcbiAgICAgICAgIGNvbnN0IG1vZGVsQ291bnQgPSBtYW5hZ2VyLl9tb2RlbHMuZ2V0U2l6ZSgpO1xyXG4gICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtb2RlbENvdW50OyArK2kpIHtcclxuICAgICAgICAgICAgICBjb25zdCBtb2RlID0gbWFuYWdlci5nZXRNb2RlbChpKTtcclxuICAgICAgICAgICAgICBtb2RlLnNldEV4cHJlc3Npb24ocHJvcHMubW90aW9uKTtcclxuICAgICAgICAgIH1cclxuICAgIH0sIFtwcm9wc10pO1xyXG5cclxuICAgIHVzZUVmZmVjdCgoKSA9PntcclxuICAgICAgICBpZihwcm9wcy5yZWxlYXNlPT10cnVlKXtcclxuICAgICAgICAgICAgTEFwcERlbGVnYXRlLnJlbGVhc2VJbnN0YW5jZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH0sIFtwcm9wcy5yZWxlYXNlXSlcclxuXHJcbiAgICByZXR1cm4gKFxyXG4gICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICAgIHN0eWxlPXtjb250YWluZXJTdHlsZX1cclxuICAgICAgICAgICAgICAgIHdpZHRoPXtwcm9wcy53aWR0aCA/IHByb3BzLndpZHRoIDogJzMwMCd9XHJcbiAgICAgICAgICAgICAgICBoZWlnaHQ9e3Byb3BzLmhlaWdodCA/IHByb3BzLmhlaWdodCA6ICc1MDAnfVxyXG4gICAgICAgICAgICAgICAgaWQ9XCJsaXZlMmQtY29udGFpbmVyXCI+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGlkPVwibGl2ZTJkLWhpZGRlblwiXHJcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6JzEwMCUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6JzEwMCUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjonYWJzb2x1dGUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b3A6JzAnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OicwJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgekluZGV4OicyJ1xyXG4gICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICA+XHJcblxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGlkPVwibGl2ZTJkLXByaW50XCJcclxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17cHJpbnRTdHlsZX1cclxuICAgICAgICAgICAgICAgID48L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxjYW52YXNcclxuICAgICAgICAgICAgICAgICAgICBpZD1cImxpdmUyZFwiXHJcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e2NhbnZhc1N0eWxlfVxyXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoPXtwcm9wcy53aWR0aCA/IHByb3BzLndpZHRoIDogJzMwMCd9XHJcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0PXtwcm9wcy5oZWlnaHQgPyBwcm9wcy5oZWlnaHQgOiAnNTAwJ31cclxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJsaXZlMmRcIlxyXG4gICAgICAgICAgICAgICAgICAgIG9uTW91c2VFbnRlcj17Y3ZNb3VzZU92ZXJ9XHJcbiAgICAgICAgICAgICAgICAgICAgb25Nb3VzZUxlYXZlPXtjdk1vdXNlT3V0fVxyXG4gICAgICAgICAgICAgICAgPlxyXG5cclxuICAgICAgICAgICAgICAgIDwvY2FudmFzPlxyXG4gICAgICAgICAgICAgICAge2NvbnRyb2xsZXJPbiAmJiAoIXByb3BzLm1lbnVMaXN0IHx8IHByb3BzLm1lbnVMaXN0Lmxlbmd0aD4wKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwibGl2ZTJkLWNvbnRyb2xsZXJcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3A6ICcyMHB4JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQ6ICcyMHB4JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgb25Nb3VzZUVudGVyPXtjdE1vdXNlT3Zlcn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgb25Nb3VzZUxlYXZlPXtjdE1vdXNlT3V0fVxyXG4gICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgeyghcHJvcHMubWVudUxpc3QgfHwgcHJvcHMubWVudUxpc3QuaW5kZXhPZignTXRhYicpPi0xKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImljb25mb250XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17VGhlbWV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17Y3RUYWJ9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25Nb3VzZUVudGVyPXsoKT0+dGFsa1ByaW50KCfkvaDmg7PopoHmjaLkuIDkuKrnnIvmnb/lqJjlkJfvvJ8nKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbk1vdXNlTGVhdmU9e2NhbmNlbFByaW50fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPiYjeGU3Y2E7PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICApXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFJlYWN0TGl2ZTJkIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUxBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFMQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVZBO0FBQ0E7QUFhQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBTUE7QUFDQTtBQTlDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQW9EQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFOQTtBQURBO0FBWUE7QUFDQTtBQURBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFQQTtBQWFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBQ0E7QUFSQTtBQVlBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBTEE7QUFhQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/index.js\n");

/***/ }),

/***/ "./src/lappdefine.ts":
/*!***************************!*\
  !*** ./src/lappdefine.ts ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.lappdefineSet = exports.RenderTargetHeight = exports.RenderTargetWidth = exports.CubismLoggingLevel = exports.DebugTouchLogEnable = exports.DebugLogEnable = exports.PriorityForce = exports.PriorityNormal = exports.PriorityIdle = exports.PriorityNone = exports.HitDefaultList = exports.HitHeadList = exports.HitBodyList = exports.HitAreaNameBody = exports.HitAreaNameHead = exports.MotionGroupTapBody = exports.MotionGroupIdle = exports.MotionGroupDefault = exports.ModelDir = exports.PowerImageName = exports.GearImageName = exports.BackImageName = exports.ResourcesPath = exports.ViewLogicalMaxTop = exports.ViewLogicalMaxBottom = exports.ViewLogicalMaxRight = exports.ViewLogicalMaxLeft = exports.ViewLogicalRight = exports.ViewLogicalLeft = exports.ViewMinScale = exports.ViewMaxScale = void 0;\r\nvar live2dcubismframework_1 = __webpack_require__(/*! ../Framework/src/live2dcubismframework */ \"./Framework/src/live2dcubismframework.ts\");\r\nexports.ViewMaxScale = 2.0;\r\nexports.ViewMinScale = 0.8;\r\nexports.ViewLogicalLeft = -1.0;\r\nexports.ViewLogicalRight = 1.0;\r\nexports.ViewLogicalMaxLeft = -2.0;\r\nexports.ViewLogicalMaxRight = 2.0;\r\nexports.ViewLogicalMaxBottom = -2.0;\r\nexports.ViewLogicalMaxTop = 2.0;\r\nexports.ResourcesPath = './Resources/';\r\nexports.BackImageName = 'back_class_normal.png';\r\nexports.GearImageName = 'icon_gear.png';\r\nexports.PowerImageName = 'CloseNormal.png';\r\nexports.ModelDir = ['Hiyori', 'Haru', 'Rice'];\r\nexports.MotionGroupDefault = '';\r\nexports.MotionGroupIdle = 'Idle';\r\nexports.MotionGroupTapBody = 'TapBody';\r\nexports.HitAreaNameHead = 'Head';\r\nexports.HitAreaNameBody = 'Body';\r\nexports.HitBodyList = ['啊呀，你的手在摸哪里嘛~', '哼，坏人'];\r\nexports.HitHeadList = ['讨厌~不要掐人家的脸嘛~', '希望明天也能感受到你的触摸呢'];\r\nexports.HitDefaultList = ['今天又是开心的一天呢~', '真是元气满满呀'];\r\nexports.PriorityNone = 0;\r\nexports.PriorityIdle = 1;\r\nexports.PriorityNormal = 2;\r\nexports.PriorityForce = 3;\r\nexports.DebugLogEnable = true;\r\nexports.DebugTouchLogEnable = false;\r\nexports.CubismLoggingLevel = live2dcubismframework_1.LogLevel.LogLevel_Verbose;\r\nexports.RenderTargetWidth = 1900;\r\nexports.RenderTargetHeight = 1000;\r\nvar lappdefineSet = (function () {\r\n    function lappdefineSet() {\r\n    }\r\n    lappdefineSet.setModelDir = function (modelDir) {\r\n        exports.ModelDir = modelDir.length > 0 ? modelDir : exports.ModelDir;\r\n    };\r\n    lappdefineSet.setHitBody = function (hitBodyList) {\r\n        exports.HitBodyList = hitBodyList.length > 0 ? hitBodyList : exports.HitBodyList;\r\n    };\r\n    lappdefineSet.setHitHead = function (hitHeadList) {\r\n        exports.HitHeadList = hitHeadList.length > 0 ? hitHeadList : exports.HitHeadList;\r\n    };\r\n    lappdefineSet.setHitDefault = function (hitDefaultList) {\r\n        exports.HitDefaultList = hitDefaultList.length > 0 ? hitDefaultList : exports.HitDefaultList;\r\n    };\r\n    lappdefineSet.setPathFull = function (pathfull) {\r\n        exports.ResourcesPath = pathfull.length > 0 ? pathfull : exports.ResourcesPath;\r\n    };\r\n    return lappdefineSet;\r\n}());\r\nexports.lappdefineSet = lappdefineSet;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbGFwcGRlZmluZS50cy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL2xpdmUyZC8uL3NyYy9sYXBwZGVmaW5lLnRzPzFjM2IiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIENvcHlyaWdodChjKSBMaXZlMkQgSW5jLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4gKlxyXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSB0aGUgTGl2ZTJEIE9wZW4gU29mdHdhcmUgbGljZW5zZVxyXG4gKiB0aGF0IGNhbiBiZSBmb3VuZCBhdCBodHRwczovL3d3dy5saXZlMmQuY29tL2V1bGEvbGl2ZTJkLW9wZW4tc29mdHdhcmUtbGljZW5zZS1hZ3JlZW1lbnRfZW4uaHRtbC5cclxuICovXHJcblxyXG5pbXBvcnQgeyBMb2dMZXZlbCB9IGZyb20gJy4uL0ZyYW1ld29yay9zcmMvbGl2ZTJkY3ViaXNtZnJhbWV3b3JrJ1xyXG5cclxuLyoqXHJcbiAqIFNhbXBsZSBBcHDjgafkvb/nlKjjgZnjgovlrprmlbBcclxuICovXHJcbi8vIOeUu+mdolxyXG5leHBvcnQgY29uc3QgVmlld01heFNjYWxlID0gMi4wO1xyXG5leHBvcnQgY29uc3QgVmlld01pblNjYWxlID0gMC44O1xyXG5cclxuZXhwb3J0IGNvbnN0IFZpZXdMb2dpY2FsTGVmdCA9IC0xLjA7XHJcbmV4cG9ydCBjb25zdCBWaWV3TG9naWNhbFJpZ2h0ID0gMS4wO1xyXG5cclxuZXhwb3J0IGNvbnN0IFZpZXdMb2dpY2FsTWF4TGVmdCA9IC0yLjA7XHJcbmV4cG9ydCBjb25zdCBWaWV3TG9naWNhbE1heFJpZ2h0ID0gMi4wO1xyXG5leHBvcnQgY29uc3QgVmlld0xvZ2ljYWxNYXhCb3R0b20gPSAtMi4wO1xyXG5leHBvcnQgY29uc3QgVmlld0xvZ2ljYWxNYXhUb3AgPSAyLjA7XHJcblxyXG4vLyDnm7jlr77jg5HjgrlcclxuZXhwb3J0IGxldCBSZXNvdXJjZXNQYXRoID0gJy4vUmVzb3VyY2VzLyc7XHJcbi8vIOe7neWvuei3r+W+hO+8jOaPkOS+m+e7mVNTUuexu+Wei+mhueebrlxyXG4vLyBleHBvcnQgbGV0IFJlc291cmNlc1BhdGhGdWxsID0gJyc7XHJcblxyXG4vLyDjg6Ljg4fjg6vjga7lvozjgo3jgavjgYLjgovog4zmma/jga7nlLvlg4/jg5XjgqHjgqTjg6tcclxuZXhwb3J0IGNvbnN0IEJhY2tJbWFnZU5hbWUgPSAnYmFja19jbGFzc19ub3JtYWwucG5nJztcclxuXHJcbi8vIOWIh+aNolxyXG5leHBvcnQgY29uc3QgR2VhckltYWdlTmFtZSA9ICdpY29uX2dlYXIucG5nJztcclxuXHJcbi8vIOe1guS6huODnOOCv+ODs1xyXG5leHBvcnQgY29uc3QgUG93ZXJJbWFnZU5hbWUgPSAnQ2xvc2VOb3JtYWwucG5nJztcclxuXHJcbi8vIOODouODh+ODq+Wumue+qS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4vLyDjg6Ljg4fjg6vjgpLphY3nva7jgZfjgZ/jg4fjgqPjg6zjgq/jg4jjg6rlkI3jga7phY3liJdcclxuLy8g44OH44Kj44Os44Kv44OI44Oq5ZCN44GobW9kZWwzLmpzb27jga7lkI3liY3jgpLkuIDoh7TjgZXjgZvjgabjgYrjgY/jgZPjgahcclxuZXhwb3J0IGxldCBNb2RlbERpcjogc3RyaW5nW10gPSBbJ0hpeW9yaScsICdIYXJ1JywgJ1JpY2UnXTtcclxuXHJcbi8vIOWklumDqOWumue+qeODleOCoeOCpOODq++8iGpzb27vvInjgajlkIjjgo/jgZvjgotcclxuZXhwb3J0IGNvbnN0IE1vdGlvbkdyb3VwRGVmYXVsdCA9ICcnOyAvLyDpu5jorqTnmoTlhbbku5bmqKHlnotcclxuZXhwb3J0IGNvbnN0IE1vdGlvbkdyb3VwSWRsZSA9ICdJZGxlJzsgLy8g44Ki44Kk44OJ44Oq44Oz44KwXHJcbmV4cG9ydCBjb25zdCBNb3Rpb25Hcm91cFRhcEJvZHkgPSAnVGFwQm9keSc7IC8vIOS9k+OCkuOCv+ODg+ODl+OBl+OBn+OBqOOBjVxyXG5cclxuLy8g5aSW6YOo5a6a576p44OV44Kh44Kk44Or77yIanNvbu+8ieOBqOWQiOOCj+OBm+OCi1xyXG5leHBvcnQgY29uc3QgSGl0QXJlYU5hbWVIZWFkID0gJ0hlYWQnO1xyXG5leHBvcnQgY29uc3QgSGl0QXJlYU5hbWVCb2R5ID0gJ0JvZHknO1xyXG5cclxuLy8g5a+56K+d5YaF5a65XHJcbmV4cG9ydCBsZXQgSGl0Qm9keUxpc3Q6IHN0cmluZ1tdID0gWyfllYrlkYDvvIzkvaDnmoTmiYvlnKjmkbjlk6rph4zlmJt+Jywn5ZO877yM5Z2P5Lq6J107XHJcbmV4cG9ydCBsZXQgSGl0SGVhZExpc3Q6IHN0cmluZ1tdID0gWyforqjljox+5LiN6KaB5o6Q5Lq65a6255qE6IS45ZibficsJ+W4jOacm+aYjuWkqeS5n+iDveaEn+WPl+WIsOS9oOeahOinpuaRuOWRoiddO1xyXG5leHBvcnQgbGV0IEhpdERlZmF1bHRMaXN0OiBzdHJpbmdbXSA9IFsn5LuK5aSp5Y+I5piv5byA5b+D55qE5LiA5aSp5ZGificsJ+ecn+aYr+WFg+awlOa7oea7oeWRgCddO1xyXG5cclxuLy8g44Oi44O844K344On44Oz44Gu5YSq5YWI5bqm5a6a5pWwXHJcbmV4cG9ydCBjb25zdCBQcmlvcml0eU5vbmUgPSAwO1xyXG5leHBvcnQgY29uc3QgUHJpb3JpdHlJZGxlID0gMTtcclxuZXhwb3J0IGNvbnN0IFByaW9yaXR5Tm9ybWFsID0gMjtcclxuZXhwb3J0IGNvbnN0IFByaW9yaXR5Rm9yY2UgPSAzO1xyXG5cclxuLy8g44OH44OQ44OD44Kw55So44Ot44Kw44Gu6KGo56S644Kq44OX44K344On44OzXHJcbmV4cG9ydCBjb25zdCBEZWJ1Z0xvZ0VuYWJsZSA9IHRydWU7XHJcbmV4cG9ydCBjb25zdCBEZWJ1Z1RvdWNoTG9nRW5hYmxlID0gZmFsc2U7XHJcblxyXG4vLyBGcmFtZXdvcmvjgYvjgonlh7rlipvjgZnjgovjg63jgrDjga7jg6zjg5njg6voqK3lrppcclxuZXhwb3J0IGNvbnN0IEN1YmlzbUxvZ2dpbmdMZXZlbDogTG9nTGV2ZWwgPSBMb2dMZXZlbC5Mb2dMZXZlbF9WZXJib3NlO1xyXG5cclxuLy8g44OH44OV44Kp44Or44OI44Gu44Os44Oz44OA44O844K/44O844Ky44OD44OI44K144Kk44K6XHJcbmV4cG9ydCBjb25zdCBSZW5kZXJUYXJnZXRXaWR0aCA9IDE5MDA7XHJcbmV4cG9ydCBjb25zdCBSZW5kZXJUYXJnZXRIZWlnaHQgPSAxMDAwO1xyXG5cclxuLy8g5aSW6YOo5Lyg5YWl5Yqo5oCB5Y+C5pWwXHJcbmV4cG9ydCBjbGFzcyBsYXBwZGVmaW5lU2V0IHtcclxuICAgIC8vIOaooeWei+WIl+ihqFxyXG4gICAgcHVibGljIHN0YXRpYyBzZXRNb2RlbERpcihtb2RlbERpcjpBcnJheTxzdHJpbmc+KTogdm9pZCB7XHJcbiAgICAgICAgTW9kZWxEaXIgPSBtb2RlbERpci5sZW5ndGg+MCA/IG1vZGVsRGlyIDogTW9kZWxEaXJcclxuICAgIH1cclxuICAgIC8vIOi6q+S9k+eCueWHu+ivreiogFxyXG4gICAgcHVibGljIHN0YXRpYyBzZXRIaXRCb2R5KGhpdEJvZHlMaXN0OkFycmF5PHN0cmluZz4pOiB2b2lkIHtcclxuICAgICAgICBIaXRCb2R5TGlzdCA9IGhpdEJvZHlMaXN0Lmxlbmd0aD4wID8gaGl0Qm9keUxpc3QgOiBIaXRCb2R5TGlzdFxyXG4gICAgfVxyXG4gICAgLy8g5aS06YOo54K55Ye76K+t6KiAXHJcbiAgICBwdWJsaWMgc3RhdGljIHNldEhpdEhlYWQoaGl0SGVhZExpc3Q6QXJyYXk8c3RyaW5nPik6IHZvaWQge1xyXG4gICAgICAgIEhpdEhlYWRMaXN0ID0gaGl0SGVhZExpc3QubGVuZ3RoPjAgPyBoaXRIZWFkTGlzdCA6IEhpdEhlYWRMaXN0XHJcbiAgICB9XHJcbiAgICAvLyDpu5jorqTngrnlh7vor63oqIBcclxuICAgIHB1YmxpYyBzdGF0aWMgc2V0SGl0RGVmYXVsdChoaXREZWZhdWx0TGlzdDpBcnJheTxzdHJpbmc+KTogdm9pZCB7XHJcbiAgICAgICAgSGl0RGVmYXVsdExpc3QgPSBoaXREZWZhdWx0TGlzdC5sZW5ndGg+MCA/IGhpdERlZmF1bHRMaXN0IDogSGl0RGVmYXVsdExpc3RcclxuICAgIH1cclxuICAgIC8vIOaooeWei+e7neWvuei3r+W+hFxyXG4gICAgcHVibGljIHN0YXRpYyBzZXRQYXRoRnVsbChwYXRoZnVsbDpzdHJpbmcpOiB2b2lkIHtcclxuICAgICAgICBSZXNvdXJjZXNQYXRoID0gcGF0aGZ1bGwubGVuZ3RoPjAgPyBwYXRoZnVsbCA6IFJlc291cmNlc1BhdGhcclxuICAgIH1cclxufVxyXG4iXSwibWFwcGluZ3MiOiI7OztBQU9BO0FBTUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBS0E7QUFHQTtBQUdBO0FBS0E7QUFHQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBR0E7QUFHQTtBQUNBO0FBR0E7QUFBQTtBQXFCQTtBQW5CQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBckJBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/lappdefine.ts\n");

/***/ }),

/***/ "./src/lappdelegate.ts":
/*!*****************************!*\
  !*** ./src/lappdelegate.ts ***!
  \*****************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.LAppDelegate = exports.frameBuffer = exports.gl = exports.s_instance = exports.canvas = void 0;\r\nvar live2dcubismframework_1 = __webpack_require__(/*! ../Framework/src/live2dcubismframework */ \"./Framework/src/live2dcubismframework.ts\");\r\nvar Csm_CubismFramework = live2dcubismframework_1.Live2DCubismFramework.CubismFramework;\r\nvar lappview_1 = __webpack_require__(/*! ./lappview */ \"./src/lappview.ts\");\r\nvar lapppal_1 = __webpack_require__(/*! ./lapppal */ \"./src/lapppal.ts\");\r\nvar lapptexturemanager_1 = __webpack_require__(/*! ./lapptexturemanager */ \"./src/lapptexturemanager.ts\");\r\nvar lapplive2dmanager_1 = __webpack_require__(/*! ./lapplive2dmanager */ \"./src/lapplive2dmanager.ts\");\r\nvar LAppDefine = __importStar(__webpack_require__(/*! ./lappdefine */ \"./src/lappdefine.ts\"));\r\nexports.canvas = null;\r\nexports.s_instance = null;\r\nexports.gl = null;\r\nexports.frameBuffer = null;\r\nvar LAppDelegate = (function () {\r\n    function LAppDelegate() {\r\n        this._captured = false;\r\n        this._mouseX = 0.0;\r\n        this._mouseY = 0.0;\r\n        this._isEnd = false;\r\n        this._cubismOption = new live2dcubismframework_1.Option();\r\n        this._view = new lappview_1.LAppView();\r\n        this._textureManager = new lapptexturemanager_1.LAppTextureManager();\r\n    }\r\n    LAppDelegate.getInstance = function () {\r\n        if (exports.s_instance == null) {\r\n            exports.s_instance = new LAppDelegate();\r\n        }\r\n        return exports.s_instance;\r\n    };\r\n    LAppDelegate.releaseInstance = function () {\r\n        console.log(\"释放实例\");\r\n        if (exports.s_instance != null) {\r\n            exports.s_instance.release();\r\n        }\r\n        exports.s_instance = null;\r\n    };\r\n    LAppDelegate.prototype.initialize = function () {\r\n        exports.canvas = document.getElementById(\"live2d\");\r\n        document.addEventListener(\"mousemove\", function (e) {\r\n            if (!LAppDelegate.getInstance()._view) {\r\n                lapppal_1.LAppPal.printMessage(\"view notfound\");\r\n                return;\r\n            }\r\n            else {\r\n            }\r\n            if (document.getElementById(\"live2d\")) {\r\n                var rect = document.getElementById(\"live2d\").getBoundingClientRect();\r\n                var posX = e.clientX - rect.left;\r\n                var posY = e.clientY - rect.top;\r\n                LAppDelegate.getInstance()._view.onTouchesMoved(posX, posY);\r\n            }\r\n        }, false);\r\n        document.addEventListener(\"mouseout\", function (e) {\r\n            var live2DManager = lapplive2dmanager_1.LAppLive2DManager.getInstance();\r\n            live2DManager.onDrag(0.0, 0.0);\r\n        }, false);\r\n        exports.canvas.addEventListener(\"click\", function (e) {\r\n            if (!LAppDelegate.getInstance()._view) {\r\n                lapppal_1.LAppPal.printMessage(\"view notfound\");\r\n                return;\r\n            }\r\n            var rect = exports.canvas.getBoundingClientRect();\r\n            var posX = e.clientX - rect.left;\r\n            var posY = e.clientY - rect.top;\r\n            LAppDelegate.getInstance()._view.onTouchesBegan(posX, posY);\r\n            LAppDelegate.getInstance()._view.onTouchesEnded(posX, posY);\r\n        }, false);\r\n        exports.gl = exports.canvas.getContext('webgl') || exports.canvas.getContext('experimental-webgl');\r\n        if (!exports.gl) {\r\n            alert('Cannot initialize WebGL. This browser does not support.');\r\n            exports.gl = null;\r\n            document.body.innerHTML =\r\n                'This browser does not support the <code>&lt;canvas&gt;</code> element.';\r\n            return false;\r\n        }\r\n        if (!exports.frameBuffer) {\r\n            exports.frameBuffer = exports.gl.getParameter(exports.gl.FRAMEBUFFER_BINDING);\r\n        }\r\n        exports.gl.enable(exports.gl.BLEND);\r\n        exports.gl.blendFunc(exports.gl.SRC_ALPHA, exports.gl.ONE_MINUS_SRC_ALPHA);\r\n        var supportTouch = 'ontouchend' in exports.canvas;\r\n        if (supportTouch) {\r\n            exports.canvas.ontouchstart = onTouchBegan;\r\n            exports.canvas.ontouchmove = onTouchMoved;\r\n            exports.canvas.ontouchend = onTouchEnded;\r\n            exports.canvas.ontouchcancel = onTouchCancel;\r\n        }\r\n        else {\r\n        }\r\n        this._view.initialize();\r\n        this.initializeCubism();\r\n        return true;\r\n    };\r\n    LAppDelegate.prototype.release = function () {\r\n        this._textureManager.release();\r\n        this._textureManager = null;\r\n        this._view.release();\r\n        this._view = null;\r\n        lapplive2dmanager_1.LAppLive2DManager.releaseInstance();\r\n        Csm_CubismFramework.dispose();\r\n    };\r\n    LAppDelegate.prototype.run = function () {\r\n        var _this = this;\r\n        var loop = function () {\r\n            if (exports.s_instance == null) {\r\n                return;\r\n            }\r\n            lapppal_1.LAppPal.updateTime();\r\n            exports.gl.clearColor(0.0, 0.0, 0.0, 0.0);\r\n            exports.gl.enable(exports.gl.DEPTH_TEST);\r\n            exports.gl.depthFunc(exports.gl.LEQUAL);\r\n            exports.gl.clear(exports.gl.COLOR_BUFFER_BIT | exports.gl.DEPTH_BUFFER_BIT);\r\n            exports.gl.clearDepth(1.0);\r\n            exports.gl.enable(exports.gl.BLEND);\r\n            exports.gl.blendFunc(exports.gl.SRC_ALPHA, exports.gl.ONE_MINUS_SRC_ALPHA);\r\n            _this._view.render();\r\n            requestAnimationFrame(loop);\r\n        };\r\n        loop();\r\n    };\r\n    LAppDelegate.prototype.createShader = function () {\r\n        var vertexShaderId = exports.gl.createShader(exports.gl.VERTEX_SHADER);\r\n        if (vertexShaderId == null) {\r\n            lapppal_1.LAppPal.printMessage('failed to create vertexShader');\r\n            return null;\r\n        }\r\n        var vertexShader = 'precision mediump float;' +\r\n            'attribute vec3 position;' +\r\n            'attribute vec2 uv;' +\r\n            'varying vec2 vuv;' +\r\n            'void main(void)' +\r\n            '{' +\r\n            '   gl_Position = vec4(position, 1.0);' +\r\n            '   vuv = uv;' +\r\n            '}';\r\n        exports.gl.shaderSource(vertexShaderId, vertexShader);\r\n        exports.gl.compileShader(vertexShaderId);\r\n        var fragmentShaderId = exports.gl.createShader(exports.gl.FRAGMENT_SHADER);\r\n        if (fragmentShaderId == null) {\r\n            lapppal_1.LAppPal.printMessage('failed to create fragmentShader');\r\n            return null;\r\n        }\r\n        var fragmentShader = 'precision mediump float;' +\r\n            'varying vec2 vuv;' +\r\n            'uniform sampler2D texture;' +\r\n            'void main(void)' +\r\n            '{' +\r\n            '   gl_FragColor = texture2D(texture, vuv);' +\r\n            '}';\r\n        exports.gl.shaderSource(fragmentShaderId, fragmentShader);\r\n        exports.gl.compileShader(fragmentShaderId);\r\n        var programId = exports.gl.createProgram();\r\n        exports.gl.attachShader(programId, vertexShaderId);\r\n        exports.gl.attachShader(programId, fragmentShaderId);\r\n        exports.gl.deleteShader(vertexShaderId);\r\n        exports.gl.deleteShader(fragmentShaderId);\r\n        exports.gl.linkProgram(programId);\r\n        exports.gl.useProgram(programId);\r\n        return programId;\r\n    };\r\n    LAppDelegate.prototype.getView = function () {\r\n        return this._view;\r\n    };\r\n    LAppDelegate.prototype.getTextureManager = function () {\r\n        return this._textureManager;\r\n    };\r\n    LAppDelegate.prototype.initializeCubism = function () {\r\n        this._cubismOption.logFunction = lapppal_1.LAppPal.printMessage;\r\n        this._cubismOption.loggingLevel = LAppDefine.CubismLoggingLevel;\r\n        Csm_CubismFramework.startUp(this._cubismOption);\r\n        Csm_CubismFramework.initialize();\r\n        lapplive2dmanager_1.LAppLive2DManager.getInstance();\r\n        lapppal_1.LAppPal.updateTime();\r\n        this._view.initializeSprite();\r\n    };\r\n    return LAppDelegate;\r\n}());\r\nexports.LAppDelegate = LAppDelegate;\r\nfunction onClickBegan(e) {\r\n    if (!LAppDelegate.getInstance()._view) {\r\n        lapppal_1.LAppPal.printMessage('view notfound');\r\n        return;\r\n    }\r\n    LAppDelegate.getInstance()._captured = true;\r\n    var posX = e.pageX;\r\n    var posY = e.pageY;\r\n    LAppDelegate.getInstance()._view.onTouchesBegan(posX, posY);\r\n}\r\nfunction onMouseMoved(e) {\r\n    if (!LAppDelegate.getInstance()._captured) {\r\n        return;\r\n    }\r\n    if (!LAppDelegate.getInstance()._view) {\r\n        lapppal_1.LAppPal.printMessage('view notfound');\r\n        return;\r\n    }\r\n    var rect = e.target.getBoundingClientRect();\r\n    var posX = e.clientX - rect.left;\r\n    var posY = e.clientY - rect.top;\r\n    LAppDelegate.getInstance()._view.onTouchesMoved(posX, posY);\r\n}\r\nfunction onClickEnded(e) {\r\n    LAppDelegate.getInstance()._captured = false;\r\n    if (!LAppDelegate.getInstance()._view) {\r\n        lapppal_1.LAppPal.printMessage('view notfound');\r\n        return;\r\n    }\r\n    var rect = e.target.getBoundingClientRect();\r\n    var posX = e.clientX - rect.left;\r\n    var posY = e.clientY - rect.top;\r\n    LAppDelegate.getInstance()._view.onTouchesEnded(posX, posY);\r\n}\r\nfunction onTouchBegan(e) {\r\n    if (!LAppDelegate.getInstance()._view) {\r\n        lapppal_1.LAppPal.printMessage('view notfound');\r\n        return;\r\n    }\r\n    LAppDelegate.getInstance()._captured = true;\r\n    var posX = e.changedTouches[0].pageX;\r\n    var posY = e.changedTouches[0].pageY;\r\n    LAppDelegate.getInstance()._view.onTouchesBegan(posX, posY);\r\n}\r\nfunction onTouchMoved(e) {\r\n    if (!LAppDelegate.getInstance()._captured) {\r\n        return;\r\n    }\r\n    if (!LAppDelegate.getInstance()._view) {\r\n        lapppal_1.LAppPal.printMessage('view notfound');\r\n        return;\r\n    }\r\n    var rect = e.target.getBoundingClientRect();\r\n    var posX = e.changedTouches[0].clientX - rect.left;\r\n    var posY = e.changedTouches[0].clientY - rect.top;\r\n    LAppDelegate.getInstance()._view.onTouchesMoved(posX, posY);\r\n}\r\nfunction onTouchEnded(e) {\r\n    LAppDelegate.getInstance()._captured = false;\r\n    if (!LAppDelegate.getInstance()._view) {\r\n        lapppal_1.LAppPal.printMessage('view notfound');\r\n        return;\r\n    }\r\n    var rect = e.target.getBoundingClientRect();\r\n    var posX = e.changedTouches[0].clientX - rect.left;\r\n    var posY = e.changedTouches[0].clientY - rect.top;\r\n    LAppDelegate.getInstance()._view.onTouchesEnded(posX, posY);\r\n}\r\nfunction onTouchCancel(e) {\r\n    LAppDelegate.getInstance()._captured = false;\r\n    if (!LAppDelegate.getInstance()._view) {\r\n        lapppal_1.LAppPal.printMessage('view notfound');\r\n        return;\r\n    }\r\n    var rect = e.target.getBoundingClientRect();\r\n    var posX = e.changedTouches[0].clientX - rect.left;\r\n    var posY = e.changedTouches[0].clientY - rect.top;\r\n    LAppDelegate.getInstance()._view.onTouchesEnded(posX, posY);\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbGFwcGRlbGVnYXRlLnRzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbGl2ZTJkLy4vc3JjL2xhcHBkZWxlZ2F0ZS50cz82OTcxIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBDb3B5cmlnaHQoYykgTGl2ZTJEIEluYy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuICpcclxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgdGhlIExpdmUyRCBPcGVuIFNvZnR3YXJlIGxpY2Vuc2VcclxuICogdGhhdCBjYW4gYmUgZm91bmQgYXQgaHR0cHM6Ly93d3cubGl2ZTJkLmNvbS9ldWxhL2xpdmUyZC1vcGVuLXNvZnR3YXJlLWxpY2Vuc2UtYWdyZWVtZW50X2VuLmh0bWwuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHtcclxuICBMaXZlMkRDdWJpc21GcmFtZXdvcmsgYXMgbGl2ZTJkY3ViaXNtZnJhbWV3b3JrLFxyXG4gIE9wdGlvbiBhcyBDc21fT3B0aW9uXHJcbn0gZnJvbSAnLi4vRnJhbWV3b3JrL3NyYy9saXZlMmRjdWJpc21mcmFtZXdvcmsnO1xyXG5pbXBvcnQgQ3NtX0N1YmlzbUZyYW1ld29yayA9IGxpdmUyZGN1YmlzbWZyYW1ld29yay5DdWJpc21GcmFtZXdvcms7XHJcbmltcG9ydCB7IExBcHBWaWV3IH0gZnJvbSAnLi9sYXBwdmlldyc7XHJcbmltcG9ydCB7IExBcHBQYWwgfSBmcm9tICcuL2xhcHBwYWwnO1xyXG5pbXBvcnQgeyBMQXBwVGV4dHVyZU1hbmFnZXIgfSBmcm9tICcuL2xhcHB0ZXh0dXJlbWFuYWdlcic7XHJcbmltcG9ydCB7IExBcHBMaXZlMkRNYW5hZ2VyIH0gZnJvbSAnLi9sYXBwbGl2ZTJkbWFuYWdlcic7XHJcbmltcG9ydCAqIGFzIExBcHBEZWZpbmUgZnJvbSAnLi9sYXBwZGVmaW5lJztcclxuXHJcbmV4cG9ydCBsZXQgY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudCA9IG51bGw7XHJcbmV4cG9ydCBsZXQgc19pbnN0YW5jZTogTEFwcERlbGVnYXRlID0gbnVsbDtcclxuZXhwb3J0IGxldCBnbDogV2ViR0xSZW5kZXJpbmdDb250ZXh0ID0gbnVsbDtcclxuZXhwb3J0IGxldCBmcmFtZUJ1ZmZlcjogV2ViR0xGcmFtZWJ1ZmZlciA9IG51bGw7XHJcblxyXG4vKipcclxuICog44Ki44OX44Oq44Kx44O844K344On44Oz44Kv44Op44K544CCXHJcbiAqIEN1YmlzbSBTREvjga7nrqHnkIbjgpLooYzjgYbjgIJcclxuICovXHJcbmV4cG9ydCBjbGFzcyBMQXBwRGVsZWdhdGUge1xyXG4gIC8qKlxyXG4gICAqIOOCr+ODqeOCueOBruOCpOODs+OCueOCv+ODs+OCue+8iOOCt+ODs+OCsOODq+ODiOODs++8ieOCkui/lOOBmeOAglxyXG4gICAqIOOCpOODs+OCueOCv+ODs+OCueOBjOeUn+aIkOOBleOCjOOBpuOBhOOBquOBhOWgtOWQiOOBr+WGhemDqOOBp+OCpOODs+OCueOCv+ODs+OCueOCkueUn+aIkOOBmeOCi+OAglxyXG4gICAqXHJcbiAgICogQHJldHVybiDjgq/jg6njgrnjga7jgqTjg7Pjgrnjgr/jg7PjgrlcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIGdldEluc3RhbmNlKCk6IExBcHBEZWxlZ2F0ZSB7XHJcbiAgICBpZiAoc19pbnN0YW5jZSA9PSBudWxsKSB7XHJcbiAgICAgIHNfaW5zdGFuY2UgPSBuZXcgTEFwcERlbGVnYXRlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHNfaW5zdGFuY2U7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDjgq/jg6njgrnjga7jgqTjg7Pjgrnjgr/jg7PjgrnvvIjjgrfjg7PjgrDjg6vjg4jjg7PvvInjgpLop6PmlL7jgZnjgovjgIJcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIHJlbGVhc2VJbnN0YW5jZSgpOiB2b2lkIHtcclxuICAgIGNvbnNvbGUubG9nKFwi6YeK5pS+5a6e5L6LXCIpXHJcbiAgICBpZiAoc19pbnN0YW5jZSAhPSBudWxsKSB7XHJcbiAgICAgIHNfaW5zdGFuY2UucmVsZWFzZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHNfaW5zdGFuY2UgPSBudWxsO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQVBQ44Gr5b+F6KaB44Gq54mp44KS5Yid5pyf5YyW44GZ44KL44CCXHJcbiAgICovXHJcbiAgcHVibGljIGluaXRpYWxpemUoKTogYm9vbGVhbiB7XHJcbiAgICAvLyDjgq3jg6Pjg7Pjg5Djgrnjga7kvZzmiJBcclxuICAgIC8vIGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xyXG4gICAgLy8gY2FudmFzLndpZHRoID0gTEFwcERlZmluZS5SZW5kZXJUYXJnZXRXaWR0aDtcclxuICAgIC8vIGNhbnZhcy5oZWlnaHQgPSBMQXBwRGVmaW5lLlJlbmRlclRhcmdldEhlaWdodDtcclxuXHJcbiAgICAvLyAg5Y+W5raI5qGG5p625Y6f5pyJ55qEY2FudmFz55S75biD5bC65a+477yM54us56uL6K6+572u5bC65a+4XHJcbiAgICAvLyAg5qC55o2uaWTojrflj5bpobXpnaLph4znmoRjYW52YXNcclxuICAgIGNhbnZhcyA9IDxIVE1MQ2FudmFzRWxlbWVudD5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImxpdmUyZFwiKTtcclxuXHJcbiAgICAvL+a3u+WKoOWFqOWxgOm8oOagh+enu+WKqOS6i+S7tuebkeaOp1xyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCBmdW5jdGlvbiAoZSkge1xyXG5cclxuICAgICAgaWYgKCFMQXBwRGVsZWdhdGUuZ2V0SW5zdGFuY2UoKS5fdmlldykge1xyXG4gICAgICAgIExBcHBQYWwucHJpbnRNZXNzYWdlKFwidmlldyBub3Rmb3VuZFwiKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyDlpoLmnpzkuI3lrZjlnKhsaXZlMmQs5LiN6L+b6KGM5pON5L2cXHJcbiAgICAgIGlmKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibGl2ZTJkXCIpKXtcclxuICAgICAgICAvL+i/memHjGlk55qE5YC85LiO5LiK5pa555qEIGNhdmFucyDlj5jph4/kv53mjIHkuIDoh7RcclxuICAgICAgICBsZXQgcmVjdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibGl2ZTJkXCIpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgICAgIGxldCBwb3NYOiBudW1iZXIgPSBlLmNsaWVudFggLSByZWN0LmxlZnQ7XHJcbiAgICAgICAgbGV0IHBvc1k6IG51bWJlciA9IGUuY2xpZW50WSAtIHJlY3QudG9wO1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwib25Nb3VzZU1vdmVkOiBnYXRl5paH5Lu25LitcG9zWeWAvOS4uu+8miDjgJBcIitwb3NZK1wi44CRICBjYW52YXPnmoR0b3Dot53nprvkuLrvvJpcIityZWN0LnRvcCk7XHJcbiAgICAgICAgTEFwcERlbGVnYXRlLmdldEluc3RhbmNlKCkuX3ZpZXcub25Ub3VjaGVzTW92ZWQocG9zWCwgcG9zWSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICB9LCBmYWxzZSk7XHJcblxyXG4gICAgLy/lnKjov5nph4zliqDkuIrpvKDmoIfnprvlvIDmtY/op4jlmajlkI7vvIzkuIDliIflvZLkvY1cclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW91dFwiLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAvL+m8oOagh+emu+W8gGRvY3VtZW505ZCO77yM5bCG5YW25L2N572u572u5Li677yIMO+8jDDvvIkgIFxyXG4gICAgICBsZXQgbGl2ZTJETWFuYWdlcjogTEFwcExpdmUyRE1hbmFnZXIgPSBMQXBwTGl2ZTJETWFuYWdlci5nZXRJbnN0YW5jZSgpO1xyXG4gICAgICBsaXZlMkRNYW5hZ2VyLm9uRHJhZygwLjAsIDAuMCk7XHJcbiAgICB9LCBmYWxzZSk7XHJcblxyXG4gICAgLy/mt7vliqDpvKDmoIfngrnlh7vkuovku7ZcclxuICAgIC8v55uR5ZCsY2F2YXPnmoTpvKDmoIfngrnlh7vkuovku7Ys5aaC5p6c5L2g5biM5pyb5Zyo6byg5qCH54K55Ye76aG16Z2i5YWD57Sg5ZCOXHJcbiAgICAvL+eci+adv+WomOS4jeWcqOeci+WQkem8oOagh++8jOebtOWIsOS9oOWGjeasoeenu+WKqOm8oOagh++8jOaKiuebkeWQrOS6i+S7tuWvueixoeS7jmNhbnZhc+aNouaIkGRvY3VtZW50XHJcbiAgICBjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgIGlmICghTEFwcERlbGVnYXRlLmdldEluc3RhbmNlKCkuX3ZpZXcpIHtcclxuICAgICAgICBMQXBwUGFsLnByaW50TWVzc2FnZShcInZpZXcgbm90Zm91bmRcIik7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICAgIGxldCByZWN0ID0gY2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgICBsZXQgcG9zWDogbnVtYmVyID0gZS5jbGllbnRYIC0gcmVjdC5sZWZ0O1xyXG4gICAgICBsZXQgcG9zWTogbnVtYmVyID0gZS5jbGllbnRZIC0gcmVjdC50b3A7XHJcbiAgICAgIC8vIGNvbnNvbGUubG9nKFwib25Nb3VzZU1vdmVkOiBnYXRl5paH5Lu25LitcG9zWeWAvOS4uu+8miDjgJBcIitwb3NZK1wi44CRICBjYW52YXPnmoR0b3Dot53nprvkuLrvvJpcIityZWN0LnRvcCk7XHJcbiAgICAgIC8v5YW25a6e5bCx5piv54Wn5oqE5LiK6Z2i55qE77yM5oqK5LiL6Z2i5Lik6KGM5Luj56CB5Yqg5LiKXHJcbiAgICAgIExBcHBEZWxlZ2F0ZS5nZXRJbnN0YW5jZSgpLl92aWV3Lm9uVG91Y2hlc0JlZ2FuKHBvc1gsIHBvc1kpO1xyXG4gICAgICBMQXBwRGVsZWdhdGUuZ2V0SW5zdGFuY2UoKS5fdmlldy5vblRvdWNoZXNFbmRlZChwb3NYLCBwb3NZKTtcclxuICAgIH0sIGZhbHNlKTtcclxuXHJcbiAgICAvLyBnbOOCs+ODs+ODhuOCreOCueODiOOCkuWIneacn+WMllxyXG4gICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgZ2wgPSBjYW52YXMuZ2V0Q29udGV4dCgnd2ViZ2wnKSB8fCBjYW52YXMuZ2V0Q29udGV4dCgnZXhwZXJpbWVudGFsLXdlYmdsJyk7XHJcblxyXG4gICAgaWYgKCFnbCkge1xyXG4gICAgICBhbGVydCgnQ2Fubm90IGluaXRpYWxpemUgV2ViR0wuIFRoaXMgYnJvd3NlciBkb2VzIG5vdCBzdXBwb3J0LicpO1xyXG4gICAgICBnbCA9IG51bGw7XHJcblxyXG4gICAgICBkb2N1bWVudC5ib2R5LmlubmVySFRNTCA9XHJcbiAgICAgICAgJ1RoaXMgYnJvd3NlciBkb2VzIG5vdCBzdXBwb3J0IHRoZSA8Y29kZT4mbHQ7Y2FudmFzJmd0OzwvY29kZT4gZWxlbWVudC4nO1xyXG5cclxuICAgICAgLy8gZ2zliJ3mnJ/ljJblpLHmlZdcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIOOCreODo+ODs+ODkOOCueOCkiBET00g44Gr6L+95YqgXHJcbiAgICAvLyBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGNhbnZhcyk7XHJcblxyXG4gICAgaWYgKCFmcmFtZUJ1ZmZlcikge1xyXG4gICAgICBmcmFtZUJ1ZmZlciA9IGdsLmdldFBhcmFtZXRlcihnbC5GUkFNRUJVRkZFUl9CSU5ESU5HKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyDpgI/pgY7oqK3lrppcclxuICAgIGdsLmVuYWJsZShnbC5CTEVORCk7XHJcbiAgICBnbC5ibGVuZEZ1bmMoZ2wuU1JDX0FMUEhBLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBKTtcclxuXHJcbiAgICBjb25zdCBzdXBwb3J0VG91Y2g6IGJvb2xlYW4gPSAnb250b3VjaGVuZCcgaW4gY2FudmFzO1xyXG5cclxuICAgIGlmIChzdXBwb3J0VG91Y2gpIHtcclxuICAgICAgLy8g44K/44OD44OB6Zai6YCj44Kz44O844Or44OQ44OD44Kv6Zai5pWw55m76YyyXHJcbiAgICAgIGNhbnZhcy5vbnRvdWNoc3RhcnQgPSBvblRvdWNoQmVnYW47XHJcbiAgICAgIGNhbnZhcy5vbnRvdWNobW92ZSA9IG9uVG91Y2hNb3ZlZDtcclxuICAgICAgY2FudmFzLm9udG91Y2hlbmQgPSBvblRvdWNoRW5kZWQ7XHJcbiAgICAgIGNhbnZhcy5vbnRvdWNoY2FuY2VsID0gb25Ub3VjaENhbmNlbDtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIC8vIOODnuOCpuOCuemWoumAo+OCs+ODvOODq+ODkOODg+OCr+mWouaVsOeZu+mMslxyXG4gICAgICAvLyBjYW52YXMub25tb3VzZWRvd24gPSBvbkNsaWNrQmVnYW47XHJcbiAgICAgIC8vIGNhbnZhcy5vbm1vdXNlbW92ZSA9IG9uTW91c2VNb3ZlZDtcclxuICAgICAgLy8gY2FudmFzLm9ubW91c2V1cCA9IG9uQ2xpY2tFbmRlZDtcclxuICAgIH1cclxuXHJcbiAgICAvLyBBcHBWaWV344Gu5Yid5pyf5YyWXHJcbiAgICB0aGlzLl92aWV3LmluaXRpYWxpemUoKTtcclxuXHJcbiAgICAvLyBDdWJpc20gU0RL44Gu5Yid5pyf5YyWXHJcbiAgICB0aGlzLmluaXRpYWxpemVDdWJpc20oKTtcclxuXHJcbiAgICByZXR1cm4gdHJ1ZTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOino+aUvuOBmeOCi+OAglxyXG4gICAqL1xyXG4gIHB1YmxpYyByZWxlYXNlKCk6IHZvaWQge1xyXG4gICAgdGhpcy5fdGV4dHVyZU1hbmFnZXIucmVsZWFzZSgpO1xyXG4gICAgdGhpcy5fdGV4dHVyZU1hbmFnZXIgPSBudWxsO1xyXG5cclxuICAgIHRoaXMuX3ZpZXcucmVsZWFzZSgpO1xyXG4gICAgdGhpcy5fdmlldyA9IG51bGw7XHJcblxyXG4gICAgLy8g44Oq44K944O844K544KS6Kej5pS+XHJcbiAgICBMQXBwTGl2ZTJETWFuYWdlci5yZWxlYXNlSW5zdGFuY2UoKTtcclxuXHJcbiAgICAvLyBDdWJpc20gU0RL44Gu6Kej5pS+XHJcbiAgICBDc21fQ3ViaXNtRnJhbWV3b3JrLmRpc3Bvc2UoKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOWun+ihjOWHpueQhuOAglxyXG4gICAqL1xyXG4gIHB1YmxpYyBydW4oKTogdm9pZCB7XHJcbiAgICAvLyDjg6HjgqTjg7Pjg6vjg7zjg5dcclxuICAgIGNvbnN0IGxvb3AgPSAoKTogdm9pZCA9PiB7XHJcbiAgICAgIC8vIOOCpOODs+OCueOCv+ODs+OCueOBruacieeEoeOBrueiuuiqjVxyXG4gICAgICAvLyDnoa7lrprmnInml6Dlrp7kvotcclxuICAgICAgaWYgKHNfaW5zdGFuY2UgPT0gbnVsbCkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8g5pmC6ZaT5pu05pawXHJcbiAgICAgIExBcHBQYWwudXBkYXRlVGltZSgpO1xyXG5cclxuICAgICAgLy8g55S76Z2i44Gu5Yid5pyf5YyWXHJcbiAgICAgIGdsLmNsZWFyQ29sb3IoMC4wLCAwLjAsIDAuMCwgMC4wKTtcclxuXHJcbiAgICAgIC8vIOa3seW6puODhuOCueODiOOCkuacieWKueWMllxyXG4gICAgICBnbC5lbmFibGUoZ2wuREVQVEhfVEVTVCk7XHJcblxyXG4gICAgICAvLyDov5HjgY/jgavjgYLjgovniankvZPjga/jgIHpgaDjgY/jgavjgYLjgovniankvZPjgpLopobjgYTpmqDjgZlcclxuICAgICAgZ2wuZGVwdGhGdW5jKGdsLkxFUVVBTCk7XHJcblxyXG4gICAgICAvLyDjgqvjg6njg7zjg5Djg4Pjg5XjgqHjgoTmt7Hluqbjg5Djg4Pjg5XjgqHjgpLjgq/jg6rjgqLjgZnjgotcclxuICAgICAgZ2wuY2xlYXIoZ2wuQ09MT1JfQlVGRkVSX0JJVCB8IGdsLkRFUFRIX0JVRkZFUl9CSVQpO1xyXG5cclxuICAgICAgZ2wuY2xlYXJEZXB0aCgxLjApO1xyXG5cclxuICAgICAgLy8g6YCP6YGO6Kit5a6aXHJcbiAgICAgIGdsLmVuYWJsZShnbC5CTEVORCk7XHJcbiAgICAgIGdsLmJsZW5kRnVuYyhnbC5TUkNfQUxQSEEsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEEpO1xyXG5cclxuICAgICAgLy8g5o+P55S75pu05pawXHJcbiAgICAgIHRoaXMuX3ZpZXcucmVuZGVyKCk7XHJcblxyXG4gICAgICAvLyDjg6vjg7zjg5fjga7jgZ/jgoHjgavlho3luLDlkbzjgbPlh7rjgZdcclxuICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGxvb3ApO1xyXG4gICAgfTtcclxuICAgIGxvb3AoKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOOCt+OCp+ODvOODgOODvOOCkueZu+mMsuOBmeOCi+OAglxyXG4gICAqL1xyXG4gIHB1YmxpYyBjcmVhdGVTaGFkZXIoKTogV2ViR0xQcm9ncmFtIHtcclxuICAgIC8vIOODkOODvOODhuODg+OCr+OCueOCt+OCp+ODvOODgOODvOOBruOCs+ODs+ODkeOCpOODq1xyXG4gICAgY29uc3QgdmVydGV4U2hhZGVySWQgPSBnbC5jcmVhdGVTaGFkZXIoZ2wuVkVSVEVYX1NIQURFUik7XHJcblxyXG4gICAgaWYgKHZlcnRleFNoYWRlcklkID09IG51bGwpIHtcclxuICAgICAgTEFwcFBhbC5wcmludE1lc3NhZ2UoJ2ZhaWxlZCB0byBjcmVhdGUgdmVydGV4U2hhZGVyJyk7XHJcbiAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHZlcnRleFNoYWRlcjogc3RyaW5nID1cclxuICAgICAgJ3ByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OycgK1xyXG4gICAgICAnYXR0cmlidXRlIHZlYzMgcG9zaXRpb247JyArXHJcbiAgICAgICdhdHRyaWJ1dGUgdmVjMiB1djsnICtcclxuICAgICAgJ3ZhcnlpbmcgdmVjMiB2dXY7JyArXHJcbiAgICAgICd2b2lkIG1haW4odm9pZCknICtcclxuICAgICAgJ3snICtcclxuICAgICAgJyAgIGdsX1Bvc2l0aW9uID0gdmVjNChwb3NpdGlvbiwgMS4wKTsnICtcclxuICAgICAgJyAgIHZ1diA9IHV2OycgK1xyXG4gICAgICAnfSc7XHJcblxyXG4gICAgZ2wuc2hhZGVyU291cmNlKHZlcnRleFNoYWRlcklkLCB2ZXJ0ZXhTaGFkZXIpO1xyXG4gICAgZ2wuY29tcGlsZVNoYWRlcih2ZXJ0ZXhTaGFkZXJJZCk7XHJcblxyXG4gICAgLy8g44OV44Op44Kw44Oh44Oz44OI44K344Kn44O844OA44Gu44Kz44Oz44OR44Kk44OrXHJcbiAgICBjb25zdCBmcmFnbWVudFNoYWRlcklkID0gZ2wuY3JlYXRlU2hhZGVyKGdsLkZSQUdNRU5UX1NIQURFUik7XHJcblxyXG4gICAgaWYgKGZyYWdtZW50U2hhZGVySWQgPT0gbnVsbCkge1xyXG4gICAgICBMQXBwUGFsLnByaW50TWVzc2FnZSgnZmFpbGVkIHRvIGNyZWF0ZSBmcmFnbWVudFNoYWRlcicpO1xyXG4gICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBmcmFnbWVudFNoYWRlcjogc3RyaW5nID1cclxuICAgICAgJ3ByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OycgK1xyXG4gICAgICAndmFyeWluZyB2ZWMyIHZ1djsnICtcclxuICAgICAgJ3VuaWZvcm0gc2FtcGxlcjJEIHRleHR1cmU7JyArXHJcbiAgICAgICd2b2lkIG1haW4odm9pZCknICtcclxuICAgICAgJ3snICtcclxuICAgICAgJyAgIGdsX0ZyYWdDb2xvciA9IHRleHR1cmUyRCh0ZXh0dXJlLCB2dXYpOycgK1xyXG4gICAgICAnfSc7XHJcblxyXG4gICAgZ2wuc2hhZGVyU291cmNlKGZyYWdtZW50U2hhZGVySWQsIGZyYWdtZW50U2hhZGVyKTtcclxuICAgIGdsLmNvbXBpbGVTaGFkZXIoZnJhZ21lbnRTaGFkZXJJZCk7XHJcblxyXG4gICAgLy8g44OX44Ot44Kw44Op44Og44Kq44OW44K444Kn44Kv44OI44Gu5L2c5oiQXHJcbiAgICBjb25zdCBwcm9ncmFtSWQgPSBnbC5jcmVhdGVQcm9ncmFtKCk7XHJcbiAgICBnbC5hdHRhY2hTaGFkZXIocHJvZ3JhbUlkLCB2ZXJ0ZXhTaGFkZXJJZCk7XHJcbiAgICBnbC5hdHRhY2hTaGFkZXIocHJvZ3JhbUlkLCBmcmFnbWVudFNoYWRlcklkKTtcclxuXHJcbiAgICBnbC5kZWxldGVTaGFkZXIodmVydGV4U2hhZGVySWQpO1xyXG4gICAgZ2wuZGVsZXRlU2hhZGVyKGZyYWdtZW50U2hhZGVySWQpO1xyXG5cclxuICAgIC8vIOODquODs+OCr1xyXG4gICAgZ2wubGlua1Byb2dyYW0ocHJvZ3JhbUlkKTtcclxuXHJcbiAgICBnbC51c2VQcm9ncmFtKHByb2dyYW1JZCk7XHJcblxyXG4gICAgcmV0dXJuIHByb2dyYW1JZDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFZpZXfmg4XloLHjgpLlj5blvpfjgZnjgovjgIJcclxuICAgKi9cclxuICBwdWJsaWMgZ2V0VmlldygpOiBMQXBwVmlldyB7XHJcbiAgICByZXR1cm4gdGhpcy5fdmlldztcclxuICB9XHJcblxyXG4gIHB1YmxpYyBnZXRUZXh0dXJlTWFuYWdlcigpOiBMQXBwVGV4dHVyZU1hbmFnZXIge1xyXG4gICAgcmV0dXJuIHRoaXMuX3RleHR1cmVNYW5hZ2VyO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog44Kz44Oz44K544OI44Op44Kv44K/XHJcbiAgICovXHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICB0aGlzLl9jYXB0dXJlZCA9IGZhbHNlO1xyXG4gICAgdGhpcy5fbW91c2VYID0gMC4wO1xyXG4gICAgdGhpcy5fbW91c2VZID0gMC4wO1xyXG4gICAgdGhpcy5faXNFbmQgPSBmYWxzZTtcclxuXHJcbiAgICB0aGlzLl9jdWJpc21PcHRpb24gPSBuZXcgQ3NtX09wdGlvbigpO1xyXG4gICAgdGhpcy5fdmlldyA9IG5ldyBMQXBwVmlldygpO1xyXG4gICAgdGhpcy5fdGV4dHVyZU1hbmFnZXIgPSBuZXcgTEFwcFRleHR1cmVNYW5hZ2VyKCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDdWJpc20gU0RL44Gu5Yid5pyf5YyWXHJcbiAgICovXHJcbiAgcHVibGljIGluaXRpYWxpemVDdWJpc20oKTogdm9pZCB7XHJcbiAgICAvLyBzZXR1cCBjdWJpc21cclxuICAgIHRoaXMuX2N1YmlzbU9wdGlvbi5sb2dGdW5jdGlvbiA9IExBcHBQYWwucHJpbnRNZXNzYWdlO1xyXG4gICAgdGhpcy5fY3ViaXNtT3B0aW9uLmxvZ2dpbmdMZXZlbCA9IExBcHBEZWZpbmUuQ3ViaXNtTG9nZ2luZ0xldmVsO1xyXG4gICAgQ3NtX0N1YmlzbUZyYW1ld29yay5zdGFydFVwKHRoaXMuX2N1YmlzbU9wdGlvbik7XHJcblxyXG4gICAgLy8gaW5pdGlhbGl6ZSBjdWJpc21cclxuICAgIENzbV9DdWJpc21GcmFtZXdvcmsuaW5pdGlhbGl6ZSgpO1xyXG5cclxuICAgIC8vIGxvYWQgbW9kZWxcclxuICAgIExBcHBMaXZlMkRNYW5hZ2VyLmdldEluc3RhbmNlKCk7XHJcblxyXG4gICAgTEFwcFBhbC51cGRhdGVUaW1lKCk7XHJcblxyXG4gICAgdGhpcy5fdmlldy5pbml0aWFsaXplU3ByaXRlKCk7XHJcbiAgfVxyXG5cclxuICBfY3ViaXNtT3B0aW9uOiBDc21fT3B0aW9uOyAvLyBDdWJpc20gU0RLIE9wdGlvblxyXG4gIF92aWV3OiBMQXBwVmlldzsgLy8gVmlld+aDheWgsVxyXG4gIF9jYXB0dXJlZDogYm9vbGVhbjsgLy8g44Kv44Oq44OD44Kv44GX44Gm44GE44KL44GLXHJcbiAgX21vdXNlWDogbnVtYmVyOyAvLyDjg57jgqbjgrlY5bqn5qiZXHJcbiAgX21vdXNlWTogbnVtYmVyOyAvLyDjg57jgqbjgrlZ5bqn5qiZXHJcbiAgX2lzRW5kOiBib29sZWFuOyAvLyBBUFDntYLkuobjgZfjgabjgYTjgovjgYtcclxuICBfdGV4dHVyZU1hbmFnZXI6IExBcHBUZXh0dXJlTWFuYWdlcjsgLy8g44OG44Kv44K544OB44Oj44Oe44ON44O844K444Oj44O8XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDjgq/jg6rjg4Pjgq/jgZfjgZ/jgajjgY3jgavlkbzjgbDjgozjgovjgIJcclxuICovXHJcbmZ1bmN0aW9uIG9uQ2xpY2tCZWdhbihlOiBNb3VzZUV2ZW50KTogdm9pZCB7XHJcbiAgaWYgKCFMQXBwRGVsZWdhdGUuZ2V0SW5zdGFuY2UoKS5fdmlldykge1xyXG4gICAgTEFwcFBhbC5wcmludE1lc3NhZ2UoJ3ZpZXcgbm90Zm91bmQnKTtcclxuICAgIHJldHVybjtcclxuICB9XHJcbiAgTEFwcERlbGVnYXRlLmdldEluc3RhbmNlKCkuX2NhcHR1cmVkID0gdHJ1ZTtcclxuXHJcbiAgY29uc3QgcG9zWDogbnVtYmVyID0gZS5wYWdlWDtcclxuICBjb25zdCBwb3NZOiBudW1iZXIgPSBlLnBhZ2VZO1xyXG5cclxuICBMQXBwRGVsZWdhdGUuZ2V0SW5zdGFuY2UoKS5fdmlldy5vblRvdWNoZXNCZWdhbihwb3NYLCBwb3NZKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIOODnuOCpuOCueODneOCpOODs+OCv+OBjOWLleOBhOOBn+OCieWRvOOBsOOCjOOCi+OAglxyXG4gKi9cclxuZnVuY3Rpb24gb25Nb3VzZU1vdmVkKGU6IE1vdXNlRXZlbnQpOiB2b2lkIHtcclxuICBpZiAoIUxBcHBEZWxlZ2F0ZS5nZXRJbnN0YW5jZSgpLl9jYXB0dXJlZCkge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgaWYgKCFMQXBwRGVsZWdhdGUuZ2V0SW5zdGFuY2UoKS5fdmlldykge1xyXG4gICAgTEFwcFBhbC5wcmludE1lc3NhZ2UoJ3ZpZXcgbm90Zm91bmQnKTtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIGNvbnN0IHJlY3QgPSAoZS50YXJnZXQgYXMgRWxlbWVudCkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgY29uc3QgcG9zWDogbnVtYmVyID0gZS5jbGllbnRYIC0gcmVjdC5sZWZ0O1xyXG4gIGNvbnN0IHBvc1k6IG51bWJlciA9IGUuY2xpZW50WSAtIHJlY3QudG9wO1xyXG5cclxuICBMQXBwRGVsZWdhdGUuZ2V0SW5zdGFuY2UoKS5fdmlldy5vblRvdWNoZXNNb3ZlZChwb3NYLCBwb3NZKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIOOCr+ODquODg+OCr+OBjOe1guS6huOBl+OBn+OCieWRvOOBsOOCjOOCi+OAglxyXG4gKi9cclxuZnVuY3Rpb24gb25DbGlja0VuZGVkKGU6IE1vdXNlRXZlbnQpOiB2b2lkIHtcclxuICBMQXBwRGVsZWdhdGUuZ2V0SW5zdGFuY2UoKS5fY2FwdHVyZWQgPSBmYWxzZTtcclxuICBpZiAoIUxBcHBEZWxlZ2F0ZS5nZXRJbnN0YW5jZSgpLl92aWV3KSB7XHJcbiAgICBMQXBwUGFsLnByaW50TWVzc2FnZSgndmlldyBub3Rmb3VuZCcpO1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgcmVjdCA9IChlLnRhcmdldCBhcyBFbGVtZW50KS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICBjb25zdCBwb3NYOiBudW1iZXIgPSBlLmNsaWVudFggLSByZWN0LmxlZnQ7XHJcbiAgY29uc3QgcG9zWTogbnVtYmVyID0gZS5jbGllbnRZIC0gcmVjdC50b3A7XHJcblxyXG4gIExBcHBEZWxlZ2F0ZS5nZXRJbnN0YW5jZSgpLl92aWV3Lm9uVG91Y2hlc0VuZGVkKHBvc1gsIHBvc1kpO1xyXG59XHJcblxyXG4vKipcclxuICog44K/44OD44OB44GX44Gf44Go44GN44Gr5ZG844Gw44KM44KL44CCXHJcbiAqL1xyXG5mdW5jdGlvbiBvblRvdWNoQmVnYW4oZTogVG91Y2hFdmVudCk6IHZvaWQge1xyXG4gIGlmICghTEFwcERlbGVnYXRlLmdldEluc3RhbmNlKCkuX3ZpZXcpIHtcclxuICAgIExBcHBQYWwucHJpbnRNZXNzYWdlKCd2aWV3IG5vdGZvdW5kJyk7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICBMQXBwRGVsZWdhdGUuZ2V0SW5zdGFuY2UoKS5fY2FwdHVyZWQgPSB0cnVlO1xyXG5cclxuICBjb25zdCBwb3NYID0gZS5jaGFuZ2VkVG91Y2hlc1swXS5wYWdlWDtcclxuICBjb25zdCBwb3NZID0gZS5jaGFuZ2VkVG91Y2hlc1swXS5wYWdlWTtcclxuXHJcbiAgTEFwcERlbGVnYXRlLmdldEluc3RhbmNlKCkuX3ZpZXcub25Ub3VjaGVzQmVnYW4ocG9zWCwgcG9zWSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDjgrnjg6/jgqTjg5fjgZnjgovjgajlkbzjgbDjgozjgovjgIJcclxuICovXHJcbmZ1bmN0aW9uIG9uVG91Y2hNb3ZlZChlOiBUb3VjaEV2ZW50KTogdm9pZCB7XHJcbiAgaWYgKCFMQXBwRGVsZWdhdGUuZ2V0SW5zdGFuY2UoKS5fY2FwdHVyZWQpIHtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIGlmICghTEFwcERlbGVnYXRlLmdldEluc3RhbmNlKCkuX3ZpZXcpIHtcclxuICAgIExBcHBQYWwucHJpbnRNZXNzYWdlKCd2aWV3IG5vdGZvdW5kJyk7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICBjb25zdCByZWN0ID0gKGUudGFyZ2V0IGFzIEVsZW1lbnQpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG5cclxuICBjb25zdCBwb3NYID0gZS5jaGFuZ2VkVG91Y2hlc1swXS5jbGllbnRYIC0gcmVjdC5sZWZ0O1xyXG4gIGNvbnN0IHBvc1kgPSBlLmNoYW5nZWRUb3VjaGVzWzBdLmNsaWVudFkgLSByZWN0LnRvcDtcclxuXHJcbiAgTEFwcERlbGVnYXRlLmdldEluc3RhbmNlKCkuX3ZpZXcub25Ub3VjaGVzTW92ZWQocG9zWCwgcG9zWSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDjgr/jg4Pjg4HjgYzntYLkuobjgZfjgZ/jgonlkbzjgbDjgozjgovjgIJcclxuICovXHJcbmZ1bmN0aW9uIG9uVG91Y2hFbmRlZChlOiBUb3VjaEV2ZW50KTogdm9pZCB7XHJcbiAgTEFwcERlbGVnYXRlLmdldEluc3RhbmNlKCkuX2NhcHR1cmVkID0gZmFsc2U7XHJcblxyXG4gIGlmICghTEFwcERlbGVnYXRlLmdldEluc3RhbmNlKCkuX3ZpZXcpIHtcclxuICAgIExBcHBQYWwucHJpbnRNZXNzYWdlKCd2aWV3IG5vdGZvdW5kJyk7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICBjb25zdCByZWN0ID0gKGUudGFyZ2V0IGFzIEVsZW1lbnQpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG5cclxuICBjb25zdCBwb3NYID0gZS5jaGFuZ2VkVG91Y2hlc1swXS5jbGllbnRYIC0gcmVjdC5sZWZ0O1xyXG4gIGNvbnN0IHBvc1kgPSBlLmNoYW5nZWRUb3VjaGVzWzBdLmNsaWVudFkgLSByZWN0LnRvcDtcclxuXHJcbiAgTEFwcERlbGVnYXRlLmdldEluc3RhbmNlKCkuX3ZpZXcub25Ub3VjaGVzRW5kZWQocG9zWCwgcG9zWSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDjgr/jg4Pjg4HjgYzjgq3jg6Pjg7Pjgrvjg6vjgZXjgozjgovjgajlkbzjgbDjgozjgovjgIJcclxuICovXHJcbmZ1bmN0aW9uIG9uVG91Y2hDYW5jZWwoZTogVG91Y2hFdmVudCk6IHZvaWQge1xyXG4gIExBcHBEZWxlZ2F0ZS5nZXRJbnN0YW5jZSgpLl9jYXB0dXJlZCA9IGZhbHNlO1xyXG5cclxuICBpZiAoIUxBcHBEZWxlZ2F0ZS5nZXRJbnN0YW5jZSgpLl92aWV3KSB7XHJcbiAgICBMQXBwUGFsLnByaW50TWVzc2FnZSgndmlldyBub3Rmb3VuZCcpO1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgcmVjdCA9IChlLnRhcmdldCBhcyBFbGVtZW50KS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuXHJcbiAgY29uc3QgcG9zWCA9IGUuY2hhbmdlZFRvdWNoZXNbMF0uY2xpZW50WCAtIHJlY3QubGVmdDtcclxuICBjb25zdCBwb3NZID0gZS5jaGFuZ2VkVG91Y2hlc1swXS5jbGllbnRZIC0gcmVjdC50b3A7XHJcblxyXG4gIExBcHBEZWxlZ2F0ZS5nZXRJbnN0YW5jZSgpLl92aWV3Lm9uVG91Y2hlc0VuZGVkKHBvc1gsIHBvc1kpO1xyXG59XHJcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQU9BO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQStRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFqUkE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFLQTtBQVFBO0FBR0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFHQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUdBO0FBRUE7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUlBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUdBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBRUE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUtBO0FBR0E7QUFHQTtBQUVBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBR0E7QUFHQTtBQUNBO0FBS0E7QUFBQTtBQUVBO0FBR0E7QUFDQTtBQUNBO0FBR0E7QUFHQTtBQUdBO0FBR0E7QUFHQTtBQUVBO0FBR0E7QUFDQTtBQUdBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBR0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFHQTtBQUVBO0FBRUE7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQW1CQTtBQUVBO0FBQ0E7QUFDQTtBQUdBO0FBR0E7QUFFQTtBQUVBO0FBQ0E7QUFTQTtBQUFBO0FBclRBO0FBMFRBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUtBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFLQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFFQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/lappdelegate.ts\n");

/***/ }),

/***/ "./src/lapplive2dmanager.ts":
/*!**********************************!*\
  !*** ./src/lapplive2dmanager.ts ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.LAppLive2DManager = exports.s_instance = void 0;\r\nvar cubismmatrix44_1 = __webpack_require__(/*! ../Framework/src/math/cubismmatrix44 */ \"./Framework/src/math/cubismmatrix44.ts\");\r\nvar csmvector_1 = __webpack_require__(/*! ../Framework/src/type/csmvector */ \"./Framework/src/type/csmvector.ts\");\r\nvar Csm_csmVector = csmvector_1.Live2DCubismFramework.csmVector;\r\nvar Csm_CubismMatrix44 = cubismmatrix44_1.Live2DCubismFramework.CubismMatrix44;\r\nvar lappmodel_1 = __webpack_require__(/*! ./lappmodel */ \"./src/lappmodel.ts\");\r\nvar lapppal_1 = __webpack_require__(/*! ./lapppal */ \"./src/lapppal.ts\");\r\nvar lappdelegate_1 = __webpack_require__(/*! ./lappdelegate */ \"./src/lappdelegate.ts\");\r\nvar LAppDefine = __importStar(__webpack_require__(/*! ./lappdefine */ \"./src/lappdefine.ts\"));\r\nexports.s_instance = null;\r\nvar timer = null;\r\nvar LAppLive2DManager = (function () {\r\n    function LAppLive2DManager() {\r\n        this._finishedMotion = function (self) {\r\n            lapppal_1.LAppPal.printMessage('Motion Finished:');\r\n        };\r\n        this._viewMatrix = new Csm_CubismMatrix44();\r\n        this._models = new Csm_csmVector();\r\n        this._sceneIndex = 0;\r\n        this.changeScene(this._sceneIndex);\r\n    }\r\n    LAppLive2DManager.getInstance = function () {\r\n        if (exports.s_instance == null) {\r\n            exports.s_instance = new LAppLive2DManager();\r\n        }\r\n        return exports.s_instance;\r\n    };\r\n    LAppLive2DManager.releaseInstance = function () {\r\n        if (exports.s_instance != null) {\r\n            exports.s_instance = void 0;\r\n        }\r\n        exports.s_instance = null;\r\n    };\r\n    LAppLive2DManager.prototype.getModel = function (no) {\r\n        if (no < this._models.getSize()) {\r\n            return this._models.at(no);\r\n        }\r\n        return null;\r\n    };\r\n    LAppLive2DManager.prototype.releaseAllModel = function () {\r\n        for (var i = 0; i < this._models.getSize(); i++) {\r\n            this._models.at(i).release();\r\n            this._models.set(i, null);\r\n        }\r\n        this._models.clear();\r\n    };\r\n    LAppLive2DManager.prototype.onDrag = function (x, y) {\r\n        for (var i = 0; i < this._models.getSize(); i++) {\r\n            var model = this.getModel(i);\r\n            if (model) {\r\n                model.setDragging(x, y);\r\n            }\r\n        }\r\n    };\r\n    LAppLive2DManager.prototype.onTap = function (x, y) {\r\n        if (LAppDefine.DebugLogEnable) {\r\n            lapppal_1.LAppPal.printMessage(\"[APP]tap point: {x: \" + x.toFixed(2) + \" y: \" + y.toFixed(2) + \"}\");\r\n        }\r\n        for (var i = 0; i < this._models.getSize(); i++) {\r\n            if (this._models.at(i).hitTest(LAppDefine.HitAreaNameHead, x, y)) {\r\n                if (LAppDefine.DebugLogEnable) {\r\n                    lapppal_1.LAppPal.printMessage(\"[APP]hit area: [\" + LAppDefine.HitAreaNameHead + \"]\");\r\n                    this.talkPrint(LAppDefine.HitHeadList[Math.floor(Math.random() * LAppDefine.HitHeadList.length)]);\r\n                }\r\n                this._models.at(i).setRandomExpression();\r\n            }\r\n            else if (this._models.at(i).hitTest(LAppDefine.HitAreaNameBody, x, y)) {\r\n                if (LAppDefine.DebugLogEnable) {\r\n                    lapppal_1.LAppPal.printMessage(\"[APP]hit area: [\" + LAppDefine.HitAreaNameBody + \"]\");\r\n                    this.talkPrint(LAppDefine.HitBodyList[Math.floor(Math.random() * LAppDefine.HitBodyList.length)]);\r\n                }\r\n                this._models\r\n                    .at(i)\r\n                    .startRandomMotion(LAppDefine.MotionGroupTapBody, LAppDefine.PriorityNormal, this._finishedMotion);\r\n            }\r\n            else {\r\n                this._models\r\n                    .at(i)\r\n                    .startRandomMotion(LAppDefine.MotionGroupDefault, LAppDefine.PriorityNormal, this._finishedMotion);\r\n                this.talkPrint(LAppDefine.HitDefaultList[Math.floor(Math.random() * LAppDefine.HitDefaultList.length)]);\r\n            }\r\n        }\r\n    };\r\n    LAppLive2DManager.prototype.talkPrint = function (print) {\r\n        clearTimeout(timer);\r\n        var printNow = document.getElementById('live2d-print');\r\n        printNow.innerHTML = print;\r\n        printNow.style.display = 'block';\r\n        timer = setTimeout(function () {\r\n            printNow.innerHTML = '';\r\n            printNow.style.display = 'none';\r\n        }, 2000);\r\n    };\r\n    LAppLive2DManager.prototype.onUpdate = function () {\r\n        var projection = new Csm_CubismMatrix44();\r\n        var width = lappdelegate_1.canvas.width, height = lappdelegate_1.canvas.height;\r\n        projection.scale(1.0, width / height);\r\n        if (this._viewMatrix != null) {\r\n            projection.multiplyByMatrix(this._viewMatrix);\r\n        }\r\n        var saveProjection = projection.clone();\r\n        var modelCount = this._models.getSize();\r\n        for (var i = 0; i < modelCount; ++i) {\r\n            var model = this.getModel(i);\r\n            projection = saveProjection.clone();\r\n            model.update();\r\n            model.draw(projection);\r\n        }\r\n    };\r\n    LAppLive2DManager.prototype.nextScene = function () {\r\n        var no = (this._sceneIndex + 1) % LAppDefine.ModelDir.length;\r\n        this.changeScene(no);\r\n    };\r\n    LAppLive2DManager.prototype.changeScene = function (index) {\r\n        this._sceneIndex = index;\r\n        if (LAppDefine.DebugLogEnable) {\r\n            lapppal_1.LAppPal.printMessage(\"[APP]model index: \" + this._sceneIndex);\r\n        }\r\n        var model = LAppDefine.ModelDir[index];\r\n        var modelPath = LAppDefine.ResourcesPath + model + '/';\r\n        var modelJsonName = LAppDefine.ModelDir[index];\r\n        modelJsonName += '.model3.json';\r\n        this.releaseAllModel();\r\n        this._models.pushBack(new lappmodel_1.LAppModel());\r\n        this._models.at(0).loadAssets(modelPath, modelJsonName);\r\n    };\r\n    return LAppLive2DManager;\r\n}());\r\nexports.LAppLive2DManager = LAppLive2DManager;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbGFwcGxpdmUyZG1hbmFnZXIudHMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9saXZlMmQvLi9zcmMvbGFwcGxpdmUyZG1hbmFnZXIudHM/N2YyZCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogQ29weXJpZ2h0KGMpIExpdmUyRCBJbmMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbiAqXHJcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IHRoZSBMaXZlMkQgT3BlbiBTb2Z0d2FyZSBsaWNlbnNlXHJcbiAqIHRoYXQgY2FuIGJlIGZvdW5kIGF0IGh0dHBzOi8vd3d3LmxpdmUyZC5jb20vZXVsYS9saXZlMmQtb3Blbi1zb2Z0d2FyZS1saWNlbnNlLWFncmVlbWVudF9lbi5odG1sLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IExpdmUyREN1YmlzbUZyYW1ld29yayBhcyBjdWJpc21tYXRyaXg0NCB9IGZyb20gJy4uL0ZyYW1ld29yay9zcmMvbWF0aC9jdWJpc21tYXRyaXg0NCc7XHJcbmltcG9ydCB7IExpdmUyREN1YmlzbUZyYW1ld29yayBhcyBjc212ZWN0b3IgfSBmcm9tICcuLi9GcmFtZXdvcmsvc3JjL3R5cGUvY3NtdmVjdG9yJztcclxuaW1wb3J0IHsgTGl2ZTJEQ3ViaXNtRnJhbWV3b3JrIGFzIGFjdWJpc21tb3Rpb24gfSBmcm9tICcuLi9GcmFtZXdvcmsvc3JjL21vdGlvbi9hY3ViaXNtbW90aW9uJztcclxuaW1wb3J0IENzbV9jc21WZWN0b3IgPSBjc212ZWN0b3IuY3NtVmVjdG9yO1xyXG5pbXBvcnQgQ3NtX0N1YmlzbU1hdHJpeDQ0ID0gY3ViaXNtbWF0cml4NDQuQ3ViaXNtTWF0cml4NDQ7XHJcbmltcG9ydCBBQ3ViaXNtTW90aW9uID0gYWN1YmlzbW1vdGlvbi5BQ3ViaXNtTW90aW9uO1xyXG5cclxuaW1wb3J0IHsgTEFwcE1vZGVsIH0gZnJvbSAnLi9sYXBwbW9kZWwnO1xyXG5pbXBvcnQgeyBMQXBwUGFsIH0gZnJvbSAnLi9sYXBwcGFsJztcclxuaW1wb3J0IHsgY2FudmFzIH0gZnJvbSAnLi9sYXBwZGVsZWdhdGUnO1xyXG5pbXBvcnQgKiBhcyBMQXBwRGVmaW5lIGZyb20gJy4vbGFwcGRlZmluZSc7XHJcblxyXG5leHBvcnQgbGV0IHNfaW5zdGFuY2U6IExBcHBMaXZlMkRNYW5hZ2VyID0gbnVsbDtcclxuXHJcbmxldCB0aW1lciA9IG51bGw7XHJcblxyXG4vKipcclxuICog44K144Oz44OX44Or44Ki44OX44Oq44Kx44O844K344On44Oz44Gr44GK44GE44GmQ3ViaXNtTW9kZWzjgpLnrqHnkIbjgZnjgovjgq/jg6njgrlcclxuICog44Oi44OH44Or55Sf5oiQ44Go56C05qOE44CB44K/44OD44OX44Kk44OZ44Oz44OI44Gu5Yem55CG44CB44Oi44OH44Or5YiH44KK5pu/44GI44KS6KGM44GG44CCXHJcbiAqIOeuoeeQhuagt+acrOW6lOeUqOeoi+W6j+S4reeahEN1YmlzbU1vZGVs55qE57G7XHJcbiAqIOi/m+ihjOaooeWei+eUn+aIkOWSjOW6n+W8g+OAgeaKveWktOS6i+S7tueahOWkhOeQhuOAgeaooeWei+WIh+aNouOAglxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIExBcHBMaXZlMkRNYW5hZ2VyIHtcclxuICAvKipcclxuICAgKiDjgq/jg6njgrnjga7jgqTjg7Pjgrnjgr/jg7PjgrnvvIjjgrfjg7PjgrDjg6vjg4jjg7PvvInjgpLov5TjgZnjgIJcclxuICAgKiDjgqTjg7Pjgrnjgr/jg7PjgrnjgYznlJ/miJDjgZXjgozjgabjgYTjgarjgYTloLTlkIjjga/lhoXpg6jjgafjgqTjg7Pjgrnjgr/jg7PjgrnjgpLnlJ/miJDjgZnjgovjgIJcclxuICAgKlxyXG4gICAqIEByZXR1cm4g44Kv44Op44K544Gu44Kk44Oz44K544K/44Oz44K5XHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBnZXRJbnN0YW5jZSgpOiBMQXBwTGl2ZTJETWFuYWdlciB7XHJcbiAgICBpZiAoc19pbnN0YW5jZSA9PSBudWxsKSB7XHJcbiAgICAgIHNfaW5zdGFuY2UgPSBuZXcgTEFwcExpdmUyRE1hbmFnZXIoKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gc19pbnN0YW5jZTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOOCr+ODqeOCueOBruOCpOODs+OCueOCv+ODs+OCue+8iOOCt+ODs+OCsOODq+ODiOODs++8ieOCkuino+aUvuOBmeOCi+OAglxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgcmVsZWFzZUluc3RhbmNlKCk6IHZvaWQge1xyXG4gICAgaWYgKHNfaW5zdGFuY2UgIT0gbnVsbCkge1xyXG4gICAgICBzX2luc3RhbmNlID0gdm9pZCAwO1xyXG4gICAgfVxyXG5cclxuICAgIHNfaW5zdGFuY2UgPSBudWxsO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog54++5Zyo44Gu44K344O844Oz44Gn5L+d5oyB44GX44Gm44GE44KL44Oi44OH44Or44KS6L+U44GZ44CCXHJcbiAgICpcclxuICAgKiBAcGFyYW0gbm8g44Oi44OH44Or44Oq44K544OI44Gu44Kk44Oz44OH44OD44Kv44K55YCkXHJcbiAgICogQHJldHVybiDjg6Ljg4fjg6vjga7jgqTjg7Pjgrnjgr/jg7PjgrnjgpLov5TjgZnjgILjgqTjg7Pjg4fjg4Pjgq/jgrnlgKTjgYznr4Tlm7LlpJbjga7loLTlkIjjga9OVUxM44KS6L+U44GZ44CCXHJcbiAgICovXHJcbiAgcHVibGljIGdldE1vZGVsKG5vOiBudW1iZXIpOiBMQXBwTW9kZWwge1xyXG4gICAgaWYgKG5vIDwgdGhpcy5fbW9kZWxzLmdldFNpemUoKSkge1xyXG4gICAgICByZXR1cm4gdGhpcy5fbW9kZWxzLmF0KG5vKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gbnVsbDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOePvuWcqOOBruOCt+ODvOODs+OBp+S/neaMgeOBl+OBpuOBhOOCi+OBmeOBueOBpuOBruODouODh+ODq+OCkuino+aUvuOBmeOCi1xyXG4gICAqL1xyXG4gIHB1YmxpYyByZWxlYXNlQWxsTW9kZWwoKTogdm9pZCB7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX21vZGVscy5nZXRTaXplKCk7IGkrKykge1xyXG4gICAgICB0aGlzLl9tb2RlbHMuYXQoaSkucmVsZWFzZSgpO1xyXG4gICAgICB0aGlzLl9tb2RlbHMuc2V0KGksIG51bGwpO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuX21vZGVscy5jbGVhcigpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog55S76Z2i44KS44OJ44Op44OD44Kw44GX44Gf5pmC44Gu5Yem55CGXHJcbiAgICpcclxuICAgKiBAcGFyYW0geCDnlLvpnaLjga5Y5bqn5qiZXHJcbiAgICogQHBhcmFtIHkg55S76Z2i44GuWeW6p+aomVxyXG4gICAqL1xyXG4gIHB1YmxpYyBvbkRyYWcoeDogbnVtYmVyLCB5OiBudW1iZXIpOiB2b2lkIHtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5fbW9kZWxzLmdldFNpemUoKTsgaSsrKSB7XHJcbiAgICAgIGNvbnN0IG1vZGVsOiBMQXBwTW9kZWwgPSB0aGlzLmdldE1vZGVsKGkpO1xyXG5cclxuICAgICAgaWYgKG1vZGVsKSB7XHJcbiAgICAgICAgbW9kZWwuc2V0RHJhZ2dpbmcoeCwgeSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOeUu+mdouOCkuOCv+ODg+ODl+OBl+OBn+aZguOBruWHpueQhlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHgg55S76Z2i44GuWOW6p+aomVxyXG4gICAqIEBwYXJhbSB5IOeUu+mdouOBrlnluqfmqJlcclxuICAgKi9cclxuICBwdWJsaWMgb25UYXAoeDogbnVtYmVyLCB5OiBudW1iZXIpOiB2b2lkIHtcclxuICAgIGlmIChMQXBwRGVmaW5lLkRlYnVnTG9nRW5hYmxlKSB7XHJcbiAgICAgIExBcHBQYWwucHJpbnRNZXNzYWdlKFxyXG4gICAgICAgIGBbQVBQXXRhcCBwb2ludDoge3g6ICR7eC50b0ZpeGVkKDIpfSB5OiAke3kudG9GaXhlZCgyKX19YFxyXG4gICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5fbW9kZWxzLmdldFNpemUoKTsgaSsrKSB7XHJcbiAgICAgIGlmICh0aGlzLl9tb2RlbHMuYXQoaSkuaGl0VGVzdChMQXBwRGVmaW5lLkhpdEFyZWFOYW1lSGVhZCwgeCwgeSkpIHtcclxuICAgICAgICBpZiAoTEFwcERlZmluZS5EZWJ1Z0xvZ0VuYWJsZSkge1xyXG4gICAgICAgICAgTEFwcFBhbC5wcmludE1lc3NhZ2UoXHJcbiAgICAgICAgICAgIGBbQVBQXWhpdCBhcmVhOiBbJHtMQXBwRGVmaW5lLkhpdEFyZWFOYW1lSGVhZH1dYFxyXG4gICAgICAgICAgKTtcclxuICAgICAgICAgIHRoaXMudGFsa1ByaW50KExBcHBEZWZpbmUuSGl0SGVhZExpc3RbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKkxBcHBEZWZpbmUuSGl0SGVhZExpc3QubGVuZ3RoKV0pXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX21vZGVscy5hdChpKS5zZXRSYW5kb21FeHByZXNzaW9uKCk7XHJcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5fbW9kZWxzLmF0KGkpLmhpdFRlc3QoTEFwcERlZmluZS5IaXRBcmVhTmFtZUJvZHksIHgsIHkpKSB7XHJcbiAgICAgICAgaWYgKExBcHBEZWZpbmUuRGVidWdMb2dFbmFibGUpIHtcclxuICAgICAgICAgIExBcHBQYWwucHJpbnRNZXNzYWdlKFxyXG4gICAgICAgICAgICBgW0FQUF1oaXQgYXJlYTogWyR7TEFwcERlZmluZS5IaXRBcmVhTmFtZUJvZHl9XWBcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgICB0aGlzLnRhbGtQcmludChMQXBwRGVmaW5lLkhpdEJvZHlMaXN0W01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSpMQXBwRGVmaW5lLkhpdEJvZHlMaXN0Lmxlbmd0aCldKVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9tb2RlbHNcclxuICAgICAgICAgIC5hdChpKVxyXG4gICAgICAgICAgLnN0YXJ0UmFuZG9tTW90aW9uKFxyXG4gICAgICAgICAgICBMQXBwRGVmaW5lLk1vdGlvbkdyb3VwVGFwQm9keSxcclxuICAgICAgICAgICAgTEFwcERlZmluZS5Qcmlvcml0eU5vcm1hbCxcclxuICAgICAgICAgICAgdGhpcy5fZmluaXNoZWRNb3Rpb25cclxuICAgICAgICAgICk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5fbW9kZWxzXHJcbiAgICAgICAgICAuYXQoaSlcclxuICAgICAgICAgIC5zdGFydFJhbmRvbU1vdGlvbihcclxuICAgICAgICAgICAgTEFwcERlZmluZS5Nb3Rpb25Hcm91cERlZmF1bHQsXHJcbiAgICAgICAgICAgIExBcHBEZWZpbmUuUHJpb3JpdHlOb3JtYWwsXHJcbiAgICAgICAgICAgIHRoaXMuX2ZpbmlzaGVkTW90aW9uXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgIHRoaXMudGFsa1ByaW50KExBcHBEZWZpbmUuSGl0RGVmYXVsdExpc3RbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKkxBcHBEZWZpbmUuSGl0RGVmYXVsdExpc3QubGVuZ3RoKV0pXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIOmhtemdouWxnuaAp+WPmOWMllxyXG4gIHB1YmxpYyB0YWxrUHJpbnQocHJpbnQ6c3RyaW5nKTogdm9pZCB7XHJcbiAgICBjbGVhclRpbWVvdXQodGltZXIpO1xyXG4gICAgbGV0IHByaW50Tm93ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xpdmUyZC1wcmludCcpO1xyXG4gICAgcHJpbnROb3cuaW5uZXJIVE1MID0gcHJpbnQ7XHJcbiAgICBwcmludE5vdy5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcclxuICAgIHRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgIHByaW50Tm93LmlubmVySFRNTCA9ICcnO1xyXG4gICAgICBwcmludE5vdy5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgfSwgMjAwMCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDnlLvpnaLjgpLmm7TmlrDjgZnjgovjgajjgY3jga7lh6bnkIZcclxuICAgKiDjg6Ljg4fjg6vjga7mm7TmlrDlh6bnkIblj4rjgbPmj4/nlLvlh6bnkIbjgpLooYzjgYZcclxuICAgKi9cclxuICBwdWJsaWMgb25VcGRhdGUoKTogdm9pZCB7XHJcbiAgICBsZXQgcHJvamVjdGlvbjogQ3NtX0N1YmlzbU1hdHJpeDQ0ID0gbmV3IENzbV9DdWJpc21NYXRyaXg0NCgpO1xyXG5cclxuICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gY2FudmFzO1xyXG4gICAgcHJvamVjdGlvbi5zY2FsZSgxLjAsIHdpZHRoIC8gaGVpZ2h0KTtcclxuXHJcbiAgICBpZiAodGhpcy5fdmlld01hdHJpeCAhPSBudWxsKSB7XHJcbiAgICAgIHByb2plY3Rpb24ubXVsdGlwbHlCeU1hdHJpeCh0aGlzLl92aWV3TWF0cml4KTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBzYXZlUHJvamVjdGlvbjogQ3NtX0N1YmlzbU1hdHJpeDQ0ID0gcHJvamVjdGlvbi5jbG9uZSgpO1xyXG4gICAgY29uc3QgbW9kZWxDb3VudDogbnVtYmVyID0gdGhpcy5fbW9kZWxzLmdldFNpemUoKTtcclxuXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1vZGVsQ291bnQ7ICsraSkge1xyXG4gICAgICBjb25zdCBtb2RlbDogTEFwcE1vZGVsID0gdGhpcy5nZXRNb2RlbChpKTtcclxuICAgICAgcHJvamVjdGlvbiA9IHNhdmVQcm9qZWN0aW9uLmNsb25lKCk7XHJcblxyXG4gICAgICBtb2RlbC51cGRhdGUoKTtcclxuICAgICAgbW9kZWwuZHJhdyhwcm9qZWN0aW9uKTsgLy8g5Y+C54Wn5rih44GX44Gq44Gu44GncHJvamVjdGlvbuOBr+WkieizquOBmeOCi+OAglxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog5qyh44Gu44K344O844Oz44Gr5YiH44KK44GL44GI44KLXHJcbiAgICog44K144Oz44OX44Or44Ki44OX44Oq44Kx44O844K344On44Oz44Gn44Gv44Oi44OH44Or44K744OD44OI44Gu5YiH44KK5pu/44GI44KS6KGM44GG44CCXHJcbiAgICovXHJcbiAgcHVibGljIG5leHRTY2VuZSgpOiB2b2lkIHtcclxuICAgIGNvbnN0IG5vOiBudW1iZXIgPSAodGhpcy5fc2NlbmVJbmRleCArIDEpICUgTEFwcERlZmluZS5Nb2RlbERpci5sZW5ndGg7XHJcbiAgICB0aGlzLmNoYW5nZVNjZW5lKG5vKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOOCt+ODvOODs+OCkuWIh+OCiuabv+OBiOOCi1xyXG4gICAqIOOCteODs+ODl+ODq+OCouODl+ODquOCseODvOOCt+ODp+ODs+OBp+OBr+ODouODh+ODq+OCu+ODg+ODiOOBruWIh+OCiuabv+OBiOOCkuihjOOBhuOAglxyXG4gICAqIOi9rOaNoumVnOWktFxyXG4gICAqIOWcqOagt+acrOW6lOeUqOeoi+W6j+S4reWIh+aNouaooeWei+mbhuOAglxyXG4gICAqL1xyXG4gIHB1YmxpYyBjaGFuZ2VTY2VuZShpbmRleDogbnVtYmVyKTogdm9pZCB7XHJcbiAgICB0aGlzLl9zY2VuZUluZGV4ID0gaW5kZXg7XHJcbiAgICBpZiAoTEFwcERlZmluZS5EZWJ1Z0xvZ0VuYWJsZSkge1xyXG4gICAgICBMQXBwUGFsLnByaW50TWVzc2FnZShgW0FQUF1tb2RlbCBpbmRleDogJHt0aGlzLl9zY2VuZUluZGV4fWApO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIE1vZGVsRGlyW13jgavkv53mjIHjgZfjgZ/jg4fjgqPjg6zjgq/jg4jjg6rlkI3jgYvjgolcclxuICAgIC8vIG1vZGVsMy5qc29u44Gu44OR44K544KS5rG65a6a44GZ44KL44CCXHJcbiAgICAvLyDjg4fjgqPjg6zjgq/jg4jjg6rlkI3jgahtb2RlbDMuanNvbuOBruWQjeWJjeOCkuS4gOiHtOOBleOBm+OBpuOBiuOBj+OBk+OBqOOAglxyXG5cclxuICAgIGNvbnN0IG1vZGVsOiBzdHJpbmcgPSBMQXBwRGVmaW5lLk1vZGVsRGlyW2luZGV4XTtcclxuICAgIGNvbnN0IG1vZGVsUGF0aDogc3RyaW5nID0gTEFwcERlZmluZS5SZXNvdXJjZXNQYXRoICsgbW9kZWwgKyAnLyc7XHJcbiAgICBsZXQgbW9kZWxKc29uTmFtZTogc3RyaW5nID0gTEFwcERlZmluZS5Nb2RlbERpcltpbmRleF07XHJcbiAgICBtb2RlbEpzb25OYW1lICs9ICcubW9kZWwzLmpzb24nO1xyXG5cclxuICAgIHRoaXMucmVsZWFzZUFsbE1vZGVsKCk7XHJcbiAgICB0aGlzLl9tb2RlbHMucHVzaEJhY2sobmV3IExBcHBNb2RlbCgpKTtcclxuICAgIHRoaXMuX21vZGVscy5hdCgwKS5sb2FkQXNzZXRzKG1vZGVsUGF0aCwgbW9kZWxKc29uTmFtZSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDjgrPjg7Pjgrnjg4jjg6njgq/jgr9cclxuICAgKi9cclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIHRoaXMuX3ZpZXdNYXRyaXggPSBuZXcgQ3NtX0N1YmlzbU1hdHJpeDQ0KCk7XHJcbiAgICB0aGlzLl9tb2RlbHMgPSBuZXcgQ3NtX2NzbVZlY3RvcjxMQXBwTW9kZWw+KCk7XHJcbiAgICB0aGlzLl9zY2VuZUluZGV4ID0gMDtcclxuICAgIHRoaXMuY2hhbmdlU2NlbmUodGhpcy5fc2NlbmVJbmRleCk7XHJcbiAgfVxyXG5cclxuICBfdmlld01hdHJpeDogQ3NtX0N1YmlzbU1hdHJpeDQ0OyAvLyDjg6Ljg4fjg6vmj4/nlLvjgavnlKjjgYTjgot2aWV36KGM5YiXXHJcbiAgX21vZGVsczogQ3NtX2NzbVZlY3RvcjxMQXBwTW9kZWw+OyAvLyDjg6Ljg4fjg6vjgqTjg7Pjgrnjgr/jg7Pjgrnjga7jgrPjg7Pjg4bjg4pcclxuICBfc2NlbmVJbmRleDogbnVtYmVyOyAvLyDooajnpLrjgZnjgovjgrfjg7zjg7Pjga7jgqTjg7Pjg4fjg4Pjgq/jgrnlgKRcclxuICAvLyDjg6Ljg7zjgrfjg6fjg7Plho3nlJ/ntYLkuobjga7jgrPjg7zjg6vjg5Djg4Pjgq/plqLmlbBcclxuICBfZmluaXNoZWRNb3Rpb24gPSAoc2VsZjogQUN1YmlzbU1vdGlvbik6IHZvaWQgPT4ge1xyXG4gICAgTEFwcFBhbC5wcmludE1lc3NhZ2UoJ01vdGlvbiBGaW5pc2hlZDonKTtcclxuICB9O1xyXG59XHJcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQU9BO0FBQ0E7QUFFQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBUUE7QUFpTUE7QUFXQTtBQUNBO0FBQ0E7QUFaQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBL0xBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBUUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVFBO0FBQ0E7QUFDQTtBQUdBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQW1CQTtBQUFBO0FBL01BOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/lapplive2dmanager.ts\n");

/***/ }),

/***/ "./src/lappmodel.ts":
/*!**************************!*\
  !*** ./src/lappmodel.ts ***!
  \**************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.LAppModel = void 0;\r\nvar live2dcubismframework_1 = __webpack_require__(/*! ../Framework/src/live2dcubismframework */ \"./Framework/src/live2dcubismframework.ts\");\r\nvar cubismusermodel_1 = __webpack_require__(/*! ../Framework/src/model/cubismusermodel */ \"./Framework/src/model/cubismusermodel.ts\");\r\nvar cubismmodelsettingjson_1 = __webpack_require__(/*! ../Framework/src/cubismmodelsettingjson */ \"./Framework/src/cubismmodelsettingjson.ts\");\r\nvar cubismdefaultparameterid_1 = __webpack_require__(/*! ../Framework/src/cubismdefaultparameterid */ \"./Framework/src/cubismdefaultparameterid.ts\");\r\nvar acubismmotion_1 = __webpack_require__(/*! ../Framework/src/motion/acubismmotion */ \"./Framework/src/motion/acubismmotion.ts\");\r\nvar cubismeyeblink_1 = __webpack_require__(/*! ../Framework/src/effect/cubismeyeblink */ \"./Framework/src/effect/cubismeyeblink.ts\");\r\nvar cubismbreath_1 = __webpack_require__(/*! ../Framework/src/effect/cubismbreath */ \"./Framework/src/effect/cubismbreath.ts\");\r\nvar csmvector_1 = __webpack_require__(/*! ../Framework/src/type/csmvector */ \"./Framework/src/type/csmvector.ts\");\r\nvar csmmap_1 = __webpack_require__(/*! ../Framework/src/type/csmmap */ \"./Framework/src/type/csmmap.ts\");\r\nvar cubismmotionqueuemanager_1 = __webpack_require__(/*! ../Framework/src/motion/cubismmotionqueuemanager */ \"./Framework/src/motion/cubismmotionqueuemanager.ts\");\r\nvar cubismdebug_1 = __webpack_require__(/*! ../Framework/src/utils/cubismdebug */ \"./Framework/src/utils/cubismdebug.ts\");\r\nvar InvalidMotionQueueEntryHandleValue = cubismmotionqueuemanager_1.Live2DCubismFramework.InvalidMotionQueueEntryHandleValue;\r\nvar csmMap = csmmap_1.Live2DCubismFramework.csmMap;\r\nvar csmVector = csmvector_1.Live2DCubismFramework.csmVector;\r\nvar CubismBreath = cubismbreath_1.Live2DCubismFramework.CubismBreath;\r\nvar BreathParameterData = cubismbreath_1.Live2DCubismFramework.BreathParameterData;\r\nvar CubismEyeBlink = cubismeyeblink_1.Live2DCubismFramework.CubismEyeBlink;\r\nvar ACubismMotion = acubismmotion_1.Live2DCubismFramework.ACubismMotion;\r\nvar CubismFramework = live2dcubismframework_1.Live2DCubismFramework.CubismFramework;\r\nvar CubismUserModel = cubismusermodel_1.Live2DCubismFramework.CubismUserModel;\r\nvar CubismModelSettingJson = cubismmodelsettingjson_1.Live2DCubismFramework.CubismModelSettingJson;\r\nvar CubismDefaultParameterId = cubismdefaultparameterid_1.Live2DCubismFramework;\r\nvar lapppal_1 = __webpack_require__(/*! ./lapppal */ \"./src/lapppal.ts\");\r\nvar lappdelegate_1 = __webpack_require__(/*! ./lappdelegate */ \"./src/lappdelegate.ts\");\r\nvar LAppDefine = __importStar(__webpack_require__(/*! ./lappdefine */ \"./src/lappdefine.ts\"));\r\n__webpack_require__(/*! whatwg-fetch */ \"./node_modules/whatwg-fetch/fetch.js\");\r\nvar LoadStep;\r\n(function (LoadStep) {\r\n    LoadStep[LoadStep[\"LoadAssets\"] = 0] = \"LoadAssets\";\r\n    LoadStep[LoadStep[\"LoadModel\"] = 1] = \"LoadModel\";\r\n    LoadStep[LoadStep[\"WaitLoadModel\"] = 2] = \"WaitLoadModel\";\r\n    LoadStep[LoadStep[\"LoadExpression\"] = 3] = \"LoadExpression\";\r\n    LoadStep[LoadStep[\"WaitLoadExpression\"] = 4] = \"WaitLoadExpression\";\r\n    LoadStep[LoadStep[\"LoadPhysics\"] = 5] = \"LoadPhysics\";\r\n    LoadStep[LoadStep[\"WaitLoadPhysics\"] = 6] = \"WaitLoadPhysics\";\r\n    LoadStep[LoadStep[\"LoadPose\"] = 7] = \"LoadPose\";\r\n    LoadStep[LoadStep[\"WaitLoadPose\"] = 8] = \"WaitLoadPose\";\r\n    LoadStep[LoadStep[\"SetupEyeBlink\"] = 9] = \"SetupEyeBlink\";\r\n    LoadStep[LoadStep[\"SetupBreath\"] = 10] = \"SetupBreath\";\r\n    LoadStep[LoadStep[\"LoadUserData\"] = 11] = \"LoadUserData\";\r\n    LoadStep[LoadStep[\"WaitLoadUserData\"] = 12] = \"WaitLoadUserData\";\r\n    LoadStep[LoadStep[\"SetupEyeBlinkIds\"] = 13] = \"SetupEyeBlinkIds\";\r\n    LoadStep[LoadStep[\"SetupLipSyncIds\"] = 14] = \"SetupLipSyncIds\";\r\n    LoadStep[LoadStep[\"SetupLayout\"] = 15] = \"SetupLayout\";\r\n    LoadStep[LoadStep[\"LoadMotion\"] = 16] = \"LoadMotion\";\r\n    LoadStep[LoadStep[\"WaitLoadMotion\"] = 17] = \"WaitLoadMotion\";\r\n    LoadStep[LoadStep[\"CompleteInitialize\"] = 18] = \"CompleteInitialize\";\r\n    LoadStep[LoadStep[\"CompleteSetupModel\"] = 19] = \"CompleteSetupModel\";\r\n    LoadStep[LoadStep[\"LoadTexture\"] = 20] = \"LoadTexture\";\r\n    LoadStep[LoadStep[\"WaitLoadTexture\"] = 21] = \"WaitLoadTexture\";\r\n    LoadStep[LoadStep[\"CompleteSetup\"] = 22] = \"CompleteSetup\";\r\n})(LoadStep || (LoadStep = {}));\r\nvar LAppModel = (function (_super) {\r\n    __extends(LAppModel, _super);\r\n    function LAppModel() {\r\n        var _this = _super.call(this) || this;\r\n        _this._modelSetting = null;\r\n        _this._modelHomeDir = null;\r\n        _this._userTimeSeconds = 0.0;\r\n        _this._eyeBlinkIds = new csmVector();\r\n        _this._lipSyncIds = new csmVector();\r\n        _this._motions = new csmMap();\r\n        _this._expressions = new csmMap();\r\n        _this._hitArea = new csmVector();\r\n        _this._userArea = new csmVector();\r\n        _this._idParamAngleX = CubismFramework.getIdManager().getId(CubismDefaultParameterId.ParamAngleX);\r\n        _this._idParamAngleY = CubismFramework.getIdManager().getId(CubismDefaultParameterId.ParamAngleY);\r\n        _this._idParamAngleZ = CubismFramework.getIdManager().getId(CubismDefaultParameterId.ParamAngleZ);\r\n        _this._idParamEyeBallX = CubismFramework.getIdManager().getId(CubismDefaultParameterId.ParamEyeBallX);\r\n        _this._idParamEyeBallY = CubismFramework.getIdManager().getId(CubismDefaultParameterId.ParamEyeBallY);\r\n        _this._idParamBodyAngleX = CubismFramework.getIdManager().getId(CubismDefaultParameterId.ParamBodyAngleX);\r\n        _this._state = LoadStep.LoadAssets;\r\n        _this._expressionCount = 0;\r\n        _this._textureCount = 0;\r\n        _this._motionCount = 0;\r\n        _this._allMotionCount = 0;\r\n        return _this;\r\n    }\r\n    LAppModel.prototype.loadAssets = function (dir, fileName) {\r\n        var _this = this;\r\n        console.log('资源路径', dir);\r\n        this._modelHomeDir = dir;\r\n        fetch(\"\" + this._modelHomeDir + fileName)\r\n            .then(function (response) { return response.arrayBuffer(); })\r\n            .then(function (arrayBuffer) {\r\n            var setting = new CubismModelSettingJson(arrayBuffer, arrayBuffer.byteLength);\r\n            _this._state = LoadStep.LoadModel;\r\n            _this.setupModel(setting);\r\n        });\r\n    };\r\n    LAppModel.prototype.setupModel = function (setting) {\r\n        var _this = this;\r\n        this._updating = true;\r\n        this._initialized = false;\r\n        this._modelSetting = setting;\r\n        if (this._modelSetting.getModelFileName() != '') {\r\n            var modelFileName = this._modelSetting.getModelFileName();\r\n            fetch(\"\" + this._modelHomeDir + modelFileName)\r\n                .then(function (response) { return response.arrayBuffer(); })\r\n                .then(function (arrayBuffer) {\r\n                _this.loadModel(arrayBuffer);\r\n                _this._state = LoadStep.LoadExpression;\r\n                loadCubismExpression();\r\n            });\r\n            this._state = LoadStep.WaitLoadModel;\r\n        }\r\n        else {\r\n            lapppal_1.LAppPal.printMessage('Model data does not exist.');\r\n        }\r\n        var loadCubismExpression = function () {\r\n            if (_this._modelSetting.getExpressionCount() > 0) {\r\n                var count_1 = _this._modelSetting.getExpressionCount();\r\n                var _loop_1 = function (i) {\r\n                    var expressionName = _this._modelSetting.getExpressionName(i);\r\n                    var expressionFileName = _this._modelSetting.getExpressionFileName(i);\r\n                    fetch(\"\" + _this._modelHomeDir + expressionFileName)\r\n                        .then(function (response) { return response.arrayBuffer(); })\r\n                        .then(function (arrayBuffer) {\r\n                        var motion = _this.loadExpression(arrayBuffer, arrayBuffer.byteLength, expressionName);\r\n                        if (_this._expressions.getValue(expressionName) != null) {\r\n                            ACubismMotion.delete(_this._expressions.getValue(expressionName));\r\n                            _this._expressions.setValue(expressionName, null);\r\n                        }\r\n                        _this._expressions.setValue(expressionName, motion);\r\n                        _this._expressionCount++;\r\n                        if (_this._expressionCount >= count_1) {\r\n                            _this._state = LoadStep.LoadPhysics;\r\n                            loadCubismPhysics();\r\n                        }\r\n                    });\r\n                };\r\n                for (var i = 0; i < count_1; i++) {\r\n                    _loop_1(i);\r\n                }\r\n                _this._state = LoadStep.WaitLoadExpression;\r\n            }\r\n            else {\r\n                _this._state = LoadStep.LoadPhysics;\r\n                loadCubismPhysics();\r\n            }\r\n        };\r\n        var loadCubismPhysics = function () {\r\n            if (_this._modelSetting.getPhysicsFileName() != '') {\r\n                var physicsFileName = _this._modelSetting.getPhysicsFileName();\r\n                fetch(\"\" + _this._modelHomeDir + physicsFileName)\r\n                    .then(function (response) { return response.arrayBuffer(); })\r\n                    .then(function (arrayBuffer) {\r\n                    _this.loadPhysics(arrayBuffer, arrayBuffer.byteLength);\r\n                    _this._state = LoadStep.LoadPose;\r\n                    loadCubismPose();\r\n                });\r\n                _this._state = LoadStep.WaitLoadPhysics;\r\n            }\r\n            else {\r\n                _this._state = LoadStep.LoadPose;\r\n                loadCubismPose();\r\n            }\r\n        };\r\n        var loadCubismPose = function () {\r\n            if (_this._modelSetting.getPoseFileName() != '') {\r\n                var poseFileName = _this._modelSetting.getPoseFileName();\r\n                fetch(\"\" + _this._modelHomeDir + poseFileName)\r\n                    .then(function (response) { return response.arrayBuffer(); })\r\n                    .then(function (arrayBuffer) {\r\n                    _this.loadPose(arrayBuffer, arrayBuffer.byteLength);\r\n                    _this._state = LoadStep.SetupEyeBlink;\r\n                    setupEyeBlink();\r\n                });\r\n                _this._state = LoadStep.WaitLoadPose;\r\n            }\r\n            else {\r\n                _this._state = LoadStep.SetupEyeBlink;\r\n                setupEyeBlink();\r\n            }\r\n        };\r\n        var setupEyeBlink = function () {\r\n            if (_this._modelSetting.getEyeBlinkParameterCount() > 0) {\r\n                _this._eyeBlink = CubismEyeBlink.create(_this._modelSetting);\r\n                _this._state = LoadStep.SetupBreath;\r\n            }\r\n            setupBreath();\r\n        };\r\n        var setupBreath = function () {\r\n            _this._breath = CubismBreath.create();\r\n            var breathParameters = new csmVector();\r\n            breathParameters.pushBack(new BreathParameterData(_this._idParamAngleX, 0.0, 15.0, 6.5345, 0.5));\r\n            breathParameters.pushBack(new BreathParameterData(_this._idParamAngleY, 0.0, 8.0, 3.5345, 0.5));\r\n            breathParameters.pushBack(new BreathParameterData(_this._idParamAngleZ, 0.0, 10.0, 5.5345, 0.5));\r\n            breathParameters.pushBack(new BreathParameterData(_this._idParamBodyAngleX, 0.0, 4.0, 15.5345, 0.5));\r\n            breathParameters.pushBack(new BreathParameterData(CubismFramework.getIdManager().getId(CubismDefaultParameterId.ParamBreath), 0.0, 0.5, 3.2345, 0.5));\r\n            _this._breath.setParameters(breathParameters);\r\n            _this._state = LoadStep.LoadUserData;\r\n            loadUserData();\r\n        };\r\n        var loadUserData = function () {\r\n            if (_this._modelSetting.getUserDataFile() != '') {\r\n                var userDataFile = _this._modelSetting.getUserDataFile();\r\n                fetch(\"\" + _this._modelHomeDir + userDataFile)\r\n                    .then(function (response) { return response.arrayBuffer(); })\r\n                    .then(function (arrayBuffer) {\r\n                    _this.loadUserData(arrayBuffer, arrayBuffer.byteLength);\r\n                    _this._state = LoadStep.SetupEyeBlinkIds;\r\n                    setupEyeBlinkIds();\r\n                });\r\n                _this._state = LoadStep.WaitLoadUserData;\r\n            }\r\n            else {\r\n                _this._state = LoadStep.SetupEyeBlinkIds;\r\n                setupEyeBlinkIds();\r\n            }\r\n        };\r\n        var setupEyeBlinkIds = function () {\r\n            var eyeBlinkIdCount = _this._modelSetting.getEyeBlinkParameterCount();\r\n            for (var i = 0; i < eyeBlinkIdCount; ++i) {\r\n                _this._eyeBlinkIds.pushBack(_this._modelSetting.getEyeBlinkParameterId(i));\r\n            }\r\n            _this._state = LoadStep.SetupLipSyncIds;\r\n            setupLipSyncIds();\r\n        };\r\n        var setupLipSyncIds = function () {\r\n            var lipSyncIdCount = _this._modelSetting.getLipSyncParameterCount();\r\n            for (var i = 0; i < lipSyncIdCount; ++i) {\r\n                _this._lipSyncIds.pushBack(_this._modelSetting.getLipSyncParameterId(i));\r\n            }\r\n            _this._state = LoadStep.SetupLayout;\r\n            setupLayout();\r\n        };\r\n        var setupLayout = function () {\r\n            var layout = new csmMap();\r\n            _this._modelSetting.getLayoutMap(layout);\r\n            _this._modelMatrix.setupFromLayout(layout);\r\n            _this._state = LoadStep.LoadMotion;\r\n            loadCubismMotion();\r\n        };\r\n        var loadCubismMotion = function () {\r\n            document.getElementById('live2d-hidden').style.display = 'block';\r\n            _this._state = LoadStep.WaitLoadMotion;\r\n            _this._model.saveParameters();\r\n            _this._allMotionCount = 0;\r\n            _this._motionCount = 0;\r\n            var group = [];\r\n            var motionGroupCount = _this._modelSetting.getMotionGroupCount();\r\n            for (var i = 0; i < motionGroupCount; i++) {\r\n                group[i] = _this._modelSetting.getMotionGroupName(i);\r\n                _this._allMotionCount += _this._modelSetting.getMotionCount(group[i]);\r\n            }\r\n            for (var i = 0; i < motionGroupCount; i++) {\r\n                _this.preLoadMotionGroup(group[i]);\r\n            }\r\n            if (motionGroupCount == 0) {\r\n                _this._state = LoadStep.LoadTexture;\r\n                _this._motionManager.stopAllMotions();\r\n                _this._updating = false;\r\n                _this._initialized = true;\r\n                _this.createRenderer();\r\n                _this.setupTextures();\r\n                _this.getRenderer().startUp(lappdelegate_1.gl);\r\n            }\r\n        };\r\n    };\r\n    LAppModel.prototype.setupTextures = function () {\r\n        var _this = this;\r\n        var usePremultiply = true;\r\n        if (this._state == LoadStep.LoadTexture) {\r\n            var textureCount_1 = this._modelSetting.getTextureCount();\r\n            var _loop_2 = function (modelTextureNumber) {\r\n                if (this_1._modelSetting.getTextureFileName(modelTextureNumber) == '') {\r\n                    return \"continue\";\r\n                }\r\n                var texturePath = this_1._modelSetting.getTextureFileName(modelTextureNumber);\r\n                texturePath = this_1._modelHomeDir + texturePath;\r\n                var onLoad = function (textureInfo) {\r\n                    _this.getRenderer().bindTexture(modelTextureNumber, textureInfo.id);\r\n                    _this._textureCount++;\r\n                    if (_this._textureCount >= textureCount_1) {\r\n                        _this._state = LoadStep.CompleteSetup;\r\n                    }\r\n                };\r\n                lappdelegate_1.LAppDelegate.getInstance()\r\n                    .getTextureManager()\r\n                    .createTextureFromPngFile(texturePath, usePremultiply, onLoad);\r\n                this_1.getRenderer().setIsPremultipliedAlpha(usePremultiply);\r\n            };\r\n            var this_1 = this;\r\n            for (var modelTextureNumber = 0; modelTextureNumber < textureCount_1; modelTextureNumber++) {\r\n                _loop_2(modelTextureNumber);\r\n            }\r\n            this._state = LoadStep.WaitLoadTexture;\r\n        }\r\n    };\r\n    LAppModel.prototype.reloadRenderer = function () {\r\n        this.deleteRenderer();\r\n        this.createRenderer();\r\n        this.setupTextures();\r\n    };\r\n    LAppModel.prototype.update = function () {\r\n        if (this._state != LoadStep.CompleteSetup)\r\n            return;\r\n        var deltaTimeSeconds = lapppal_1.LAppPal.getDeltaTime();\r\n        this._userTimeSeconds += deltaTimeSeconds;\r\n        this._dragManager.update(deltaTimeSeconds);\r\n        this._dragX = this._dragManager.getX();\r\n        this._dragY = this._dragManager.getY();\r\n        var motionUpdated = false;\r\n        this._model.loadParameters();\r\n        if (this._motionManager.isFinished()) {\r\n            this.startRandomMotion(LAppDefine.MotionGroupIdle, LAppDefine.PriorityIdle);\r\n            var lucky = Math.floor(Math.random() * 1000 + 100);\r\n            if (lucky == 999) {\r\n                this.startRandomMotion(LAppDefine.MotionGroupIdle, LAppDefine.PriorityIdle);\r\n            }\r\n            else if (lucky == 888) {\r\n                this.startRandomMotion(LAppDefine.MotionGroupDefault, LAppDefine.PriorityIdle);\r\n            }\r\n        }\r\n        else {\r\n            motionUpdated = this._motionManager.updateMotion(this._model, deltaTimeSeconds);\r\n        }\r\n        this._model.saveParameters();\r\n        if (!motionUpdated) {\r\n            if (this._eyeBlink != null) {\r\n                this._eyeBlink.updateParameters(this._model, deltaTimeSeconds);\r\n            }\r\n        }\r\n        if (this._expressionManager != null) {\r\n            this._expressionManager.updateMotion(this._model, deltaTimeSeconds);\r\n        }\r\n        this._model.addParameterValueById(this._idParamAngleX, this._dragX * 30);\r\n        this._model.addParameterValueById(this._idParamAngleY, this._dragY * 30);\r\n        this._model.addParameterValueById(this._idParamAngleZ, this._dragX * this._dragY * -30);\r\n        this._model.addParameterValueById(this._idParamBodyAngleX, this._dragX * 10);\r\n        this._model.addParameterValueById(this._idParamEyeBallX, this._dragX);\r\n        this._model.addParameterValueById(this._idParamEyeBallY, this._dragY);\r\n        if (this._breath != null) {\r\n            this._breath.updateParameters(this._model, deltaTimeSeconds);\r\n        }\r\n        if (this._physics != null) {\r\n            this._physics.evaluate(this._model, deltaTimeSeconds);\r\n        }\r\n        if (this._lipsync) {\r\n            var value = 0;\r\n            for (var i = 0; i < this._lipSyncIds.getSize(); ++i) {\r\n                this._model.addParameterValueById(this._lipSyncIds.at(i), value, 0.8);\r\n            }\r\n        }\r\n        if (this._pose != null) {\r\n            this._pose.updateParameters(this._model, deltaTimeSeconds);\r\n        }\r\n        this._model.update();\r\n    };\r\n    LAppModel.prototype.startMotion = function (group, no, priority, onFinishedMotionHandler) {\r\n        var _this = this;\r\n        if (priority == LAppDefine.PriorityForce) {\r\n            this._motionManager.setReservePriority(priority);\r\n        }\r\n        else if (!this._motionManager.reserveMotion(priority)) {\r\n            if (this._debugMode) {\r\n                lapppal_1.LAppPal.printMessage(\"[APP]can't start motion.\");\r\n            }\r\n            return InvalidMotionQueueEntryHandleValue;\r\n        }\r\n        var motionFileName = this._modelSetting.getMotionFileName(group, no);\r\n        var name = group + \"_\" + no;\r\n        var motion = this._motions.getValue(name);\r\n        var autoDelete = false;\r\n        if (motion == null) {\r\n            fetch(\"\" + this._modelHomeDir + motionFileName)\r\n                .then(function (response) { return response.arrayBuffer(); })\r\n                .then(function (arrayBuffer) {\r\n                motion = _this.loadMotion(arrayBuffer, arrayBuffer.byteLength, null, onFinishedMotionHandler);\r\n                var fadeTime = _this._modelSetting.getMotionFadeInTimeValue(group, no);\r\n                if (fadeTime >= 0.0) {\r\n                    motion.setFadeInTime(fadeTime);\r\n                }\r\n                fadeTime = _this._modelSetting.getMotionFadeOutTimeValue(group, no);\r\n                if (fadeTime >= 0.0) {\r\n                    motion.setFadeOutTime(fadeTime);\r\n                }\r\n                motion.setEffectIds(_this._eyeBlinkIds, _this._lipSyncIds);\r\n                autoDelete = true;\r\n            });\r\n        }\r\n        else {\r\n            motion.setFinishedMotionHandler(onFinishedMotionHandler);\r\n        }\r\n        if (this._debugMode) {\r\n            lapppal_1.LAppPal.printMessage(\"[APP]start motion: [\" + group + \"_\" + no);\r\n        }\r\n        return this._motionManager.startMotionPriority(motion, autoDelete, priority);\r\n    };\r\n    LAppModel.prototype.startRandomMotion = function (group, priority, onFinishedMotionHandler) {\r\n        if (this._modelSetting.getMotionCount(group) == 0) {\r\n            return InvalidMotionQueueEntryHandleValue;\r\n        }\r\n        var no = Math.floor(Math.random() * this._modelSetting.getMotionCount(group));\r\n        return this.startMotion(group, no, priority, onFinishedMotionHandler);\r\n    };\r\n    LAppModel.prototype.setExpression = function (expressionId) {\r\n        var motion = this._expressions.getValue(expressionId);\r\n        if (this._debugMode) {\r\n            lapppal_1.LAppPal.printMessage(\"[APP]expression: [\" + expressionId + \"]\");\r\n        }\r\n        if (motion != null) {\r\n            this._expressionManager.startMotionPriority(motion, false, LAppDefine.PriorityForce);\r\n        }\r\n        else {\r\n            if (this._debugMode) {\r\n                lapppal_1.LAppPal.printMessage(\"[APP]expression[\" + expressionId + \"] is null\");\r\n            }\r\n        }\r\n    };\r\n    LAppModel.prototype.setRandomExpression = function () {\r\n        if (this._expressions.getSize() == 0) {\r\n            return;\r\n        }\r\n        var no = Math.floor(Math.random() * this._expressions.getSize());\r\n        for (var i = 0; i < this._expressions.getSize(); i++) {\r\n            if (i == no) {\r\n                var name_1 = this._expressions._keyValues[i].first;\r\n                console.log(\"client--->:\" + name_1);\r\n                this.setExpression(name_1);\r\n                return;\r\n            }\r\n        }\r\n    };\r\n    LAppModel.prototype.motionEventFired = function (eventValue) {\r\n        cubismdebug_1.CubismLogInfo('{0} is fired on LAppModel!!', eventValue.s);\r\n    };\r\n    LAppModel.prototype.hitTest = function (hitArenaName, x, y) {\r\n        if (this._opacity < 1) {\r\n            return false;\r\n        }\r\n        var count = this._modelSetting.getHitAreasCount();\r\n        for (var i = 0; i < count; i++) {\r\n            if (this._modelSetting.getHitAreaName(i) == hitArenaName) {\r\n                var drawId = this._modelSetting.getHitAreaId(i);\r\n                return this.isHit(drawId, x, y);\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n    LAppModel.prototype.preLoadMotionGroup = function (group) {\r\n        var _this = this;\r\n        var _loop_3 = function (i) {\r\n            var motionFileName = this_2._modelSetting.getMotionFileName(group, i);\r\n            var name_2 = group + \"_\" + i;\r\n            if (this_2._debugMode) {\r\n                lapppal_1.LAppPal.printMessage(\"[APP]load motion: \" + motionFileName + \" => [\" + name_2 + \"]\");\r\n            }\r\n            fetch(\"\" + this_2._modelHomeDir + motionFileName)\r\n                .then(function (response) { return response.arrayBuffer(); })\r\n                .then(function (arrayBuffer) {\r\n                var tmpMotion = _this.loadMotion(arrayBuffer, arrayBuffer.byteLength, name_2);\r\n                var fadeTime = _this._modelSetting.getMotionFadeInTimeValue(group, i);\r\n                if (fadeTime >= 0.0) {\r\n                    tmpMotion.setFadeInTime(fadeTime);\r\n                }\r\n                fadeTime = _this._modelSetting.getMotionFadeOutTimeValue(group, i);\r\n                if (fadeTime >= 0.0) {\r\n                    tmpMotion.setFadeOutTime(fadeTime);\r\n                }\r\n                tmpMotion.setEffectIds(_this._eyeBlinkIds, _this._lipSyncIds);\r\n                if (_this._motions.getValue(name_2) != null) {\r\n                    ACubismMotion.delete(_this._motions.getValue(name_2));\r\n                }\r\n                _this._motions.setValue(name_2, tmpMotion);\r\n                _this._motionCount++;\r\n                if (_this._motionCount >= _this._allMotionCount) {\r\n                    _this._state = LoadStep.LoadTexture;\r\n                    document.getElementById('live2d-hidden').style.display = 'none';\r\n                    if (_this._motionManager) {\r\n                        _this._motionManager.stopAllMotions();\r\n                        _this.createRenderer();\r\n                        _this.setupTextures();\r\n                        _this.getRenderer().startUp(lappdelegate_1.gl);\r\n                    }\r\n                    _this._updating = false;\r\n                    _this._initialized = true;\r\n                    document.getElementById('live2d').style.visibility = 'visible';\r\n                }\r\n            });\r\n        };\r\n        var this_2 = this;\r\n        for (var i = 0; i < this._modelSetting.getMotionCount(group); i++) {\r\n            _loop_3(i);\r\n        }\r\n    };\r\n    LAppModel.prototype.releaseMotions = function () {\r\n        this._motions.clear();\r\n    };\r\n    LAppModel.prototype.releaseExpressions = function () {\r\n        this._expressions.clear();\r\n    };\r\n    LAppModel.prototype.doDraw = function () {\r\n        if (this._model == null)\r\n            return;\r\n        var viewport = [0, 0, lappdelegate_1.canvas.width, lappdelegate_1.canvas.height];\r\n        this.getRenderer().setRenderState(lappdelegate_1.frameBuffer, viewport);\r\n        this.getRenderer().drawModel();\r\n    };\r\n    LAppModel.prototype.draw = function (matrix) {\r\n        if (this._model == null) {\r\n            return;\r\n        }\r\n        if (this._state == LoadStep.CompleteSetup) {\r\n            matrix.multiplyByMatrix(this._modelMatrix);\r\n            this.getRenderer().setMvpMatrix(matrix);\r\n            this.doDraw();\r\n        }\r\n    };\r\n    return LAppModel;\r\n}(CubismUserModel));\r\nexports.LAppModel = LAppModel;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbGFwcG1vZGVsLnRzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbGl2ZTJkLy4vc3JjL2xhcHBtb2RlbC50cz8xOGNmIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBDb3B5cmlnaHQoYykgTGl2ZTJEIEluYy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuICpcclxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgdGhlIExpdmUyRCBPcGVuIFNvZnR3YXJlIGxpY2Vuc2VcclxuICogdGhhdCBjYW4gYmUgZm91bmQgYXQgaHR0cHM6Ly93d3cubGl2ZTJkLmNvbS9ldWxhL2xpdmUyZC1vcGVuLXNvZnR3YXJlLWxpY2Vuc2UtYWdyZWVtZW50X2VuLmh0bWwuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgTGl2ZTJEQ3ViaXNtRnJhbWV3b3JrIGFzIGxpdmUyZGN1YmlzbWZyYW1ld29yayB9IGZyb20gJy4uL0ZyYW1ld29yay9zcmMvbGl2ZTJkY3ViaXNtZnJhbWV3b3JrJztcclxuaW1wb3J0IHsgTGl2ZTJEQ3ViaXNtRnJhbWV3b3JrIGFzIGN1YmlzbWlkIH0gZnJvbSAnLi4vRnJhbWV3b3JrL3NyYy9pZC9jdWJpc21pZCc7XHJcbmltcG9ydCB7IExpdmUyREN1YmlzbUZyYW1ld29yayBhcyBjdWJpc211c2VybW9kZWwgfSBmcm9tICcuLi9GcmFtZXdvcmsvc3JjL21vZGVsL2N1YmlzbXVzZXJtb2RlbCc7XHJcbmltcG9ydCB7IExpdmUyREN1YmlzbUZyYW1ld29yayBhcyBpY3ViaXNtbW9kZWxzZXR0aW5nIH0gZnJvbSAnLi4vRnJhbWV3b3JrL3NyYy9pY3ViaXNtbW9kZWxzZXR0aW5nJztcclxuaW1wb3J0IHsgTGl2ZTJEQ3ViaXNtRnJhbWV3b3JrIGFzIGN1YmlzbW1vZGVsc2V0dGluZ2pzb24gfSBmcm9tICcuLi9GcmFtZXdvcmsvc3JjL2N1YmlzbW1vZGVsc2V0dGluZ2pzb24nO1xyXG5pbXBvcnQgeyBMaXZlMkRDdWJpc21GcmFtZXdvcmsgYXMgY3ViaXNtZGVmYXVsdHBhcmFtZXRlcmlkIH0gZnJvbSAnLi4vRnJhbWV3b3JrL3NyYy9jdWJpc21kZWZhdWx0cGFyYW1ldGVyaWQnO1xyXG5pbXBvcnQgeyBMaXZlMkRDdWJpc21GcmFtZXdvcmsgYXMgYWN1YmlzbW1vdGlvbiB9IGZyb20gJy4uL0ZyYW1ld29yay9zcmMvbW90aW9uL2FjdWJpc21tb3Rpb24nO1xyXG5pbXBvcnQgeyBMaXZlMkRDdWJpc21GcmFtZXdvcmsgYXMgY3ViaXNtZXllYmxpbmsgfSBmcm9tICcuLi9GcmFtZXdvcmsvc3JjL2VmZmVjdC9jdWJpc21leWVibGluayc7XHJcbmltcG9ydCB7IExpdmUyREN1YmlzbUZyYW1ld29yayBhcyBjdWJpc21icmVhdGggfSBmcm9tICcuLi9GcmFtZXdvcmsvc3JjL2VmZmVjdC9jdWJpc21icmVhdGgnO1xyXG5pbXBvcnQgeyBMaXZlMkRDdWJpc21GcmFtZXdvcmsgYXMgY3NtdmVjdG9yIH0gZnJvbSAnLi4vRnJhbWV3b3JrL3NyYy90eXBlL2NzbXZlY3Rvcic7XHJcbmltcG9ydCB7IExpdmUyREN1YmlzbUZyYW1ld29yayBhcyBjc21tYXAgfSBmcm9tICcuLi9GcmFtZXdvcmsvc3JjL3R5cGUvY3NtbWFwJztcclxuaW1wb3J0IHsgTGl2ZTJEQ3ViaXNtRnJhbWV3b3JrIGFzIGN1YmlzbW1hdHJpeDQ0IH0gZnJvbSAnLi4vRnJhbWV3b3JrL3NyYy9tYXRoL2N1YmlzbW1hdHJpeDQ0JztcclxuaW1wb3J0IHsgTGl2ZTJEQ3ViaXNtRnJhbWV3b3JrIGFzIGN1YmlzbW1vdGlvbiB9IGZyb20gJy4uL0ZyYW1ld29yay9zcmMvbW90aW9uL2N1YmlzbW1vdGlvbic7XHJcbmltcG9ydCB7IExpdmUyREN1YmlzbUZyYW1ld29yayBhcyBjdWJpc21tb3Rpb25xdWV1ZW1hbmFnZXIgfSBmcm9tICcuLi9GcmFtZXdvcmsvc3JjL21vdGlvbi9jdWJpc21tb3Rpb25xdWV1ZW1hbmFnZXInO1xyXG5pbXBvcnQgeyBMaXZlMkRDdWJpc21GcmFtZXdvcmsgYXMgY3Ntc3RyaW5nIH0gZnJvbSAnLi4vRnJhbWV3b3JrL3NyYy90eXBlL2NzbXN0cmluZyc7XHJcbmltcG9ydCB7IExpdmUyREN1YmlzbUZyYW1ld29yayBhcyBjc21yZWN0IH0gZnJvbSAnLi4vRnJhbWV3b3JrL3NyYy90eXBlL2NzbXJlY3RmJztcclxuaW1wb3J0IHsgQ3ViaXNtTG9nSW5mbyB9IGZyb20gJy4uL0ZyYW1ld29yay9zcmMvdXRpbHMvY3ViaXNtZGVidWcnO1xyXG5pbXBvcnQgY3NtUmVjdCA9IGNzbXJlY3QuY3NtUmVjdDtcclxuaW1wb3J0IGNzbVN0cmluZyA9IGNzbXN0cmluZy5jc21TdHJpbmc7XHJcbmltcG9ydCBJbnZhbGlkTW90aW9uUXVldWVFbnRyeUhhbmRsZVZhbHVlID0gY3ViaXNtbW90aW9ucXVldWVtYW5hZ2VyLkludmFsaWRNb3Rpb25RdWV1ZUVudHJ5SGFuZGxlVmFsdWU7XHJcbmltcG9ydCBDdWJpc21Nb3Rpb25RdWV1ZUVudHJ5SGFuZGxlID0gY3ViaXNtbW90aW9ucXVldWVtYW5hZ2VyLkN1YmlzbU1vdGlvblF1ZXVlRW50cnlIYW5kbGU7XHJcbmltcG9ydCBDdWJpc21Nb3Rpb24gPSBjdWJpc21tb3Rpb24uQ3ViaXNtTW90aW9uO1xyXG5pbXBvcnQgQ3ViaXNtTWF0cml4NDQgPSBjdWJpc21tYXRyaXg0NC5DdWJpc21NYXRyaXg0NDtcclxuaW1wb3J0IGNzbU1hcCA9IGNzbW1hcC5jc21NYXA7XHJcbmltcG9ydCBjc21WZWN0b3IgPSBjc212ZWN0b3IuY3NtVmVjdG9yO1xyXG5pbXBvcnQgQ3ViaXNtQnJlYXRoID0gY3ViaXNtYnJlYXRoLkN1YmlzbUJyZWF0aDtcclxuaW1wb3J0IEJyZWF0aFBhcmFtZXRlckRhdGEgPSBjdWJpc21icmVhdGguQnJlYXRoUGFyYW1ldGVyRGF0YTtcclxuaW1wb3J0IEN1YmlzbUV5ZUJsaW5rID0gY3ViaXNtZXllYmxpbmsuQ3ViaXNtRXllQmxpbms7XHJcbmltcG9ydCBBQ3ViaXNtTW90aW9uID0gYWN1YmlzbW1vdGlvbi5BQ3ViaXNtTW90aW9uO1xyXG5pbXBvcnQgRmluaXNoZWRNb3Rpb25DYWxsYmFjayA9IGFjdWJpc21tb3Rpb24uRmluaXNoZWRNb3Rpb25DYWxsYmFjaztcclxuaW1wb3J0IEN1YmlzbUZyYW1ld29yayA9IGxpdmUyZGN1YmlzbWZyYW1ld29yay5DdWJpc21GcmFtZXdvcms7XHJcbmltcG9ydCBDdWJpc21JZEhhbmRsZSA9IGN1YmlzbWlkLkN1YmlzbUlkSGFuZGxlO1xyXG5pbXBvcnQgQ3ViaXNtVXNlck1vZGVsID0gY3ViaXNtdXNlcm1vZGVsLkN1YmlzbVVzZXJNb2RlbDtcclxuaW1wb3J0IElDdWJpc21Nb2RlbFNldHRpbmcgPSBpY3ViaXNtbW9kZWxzZXR0aW5nLklDdWJpc21Nb2RlbFNldHRpbmc7XHJcbmltcG9ydCBDdWJpc21Nb2RlbFNldHRpbmdKc29uID0gY3ViaXNtbW9kZWxzZXR0aW5nanNvbi5DdWJpc21Nb2RlbFNldHRpbmdKc29uO1xyXG5pbXBvcnQgQ3ViaXNtRGVmYXVsdFBhcmFtZXRlcklkID0gY3ViaXNtZGVmYXVsdHBhcmFtZXRlcmlkO1xyXG5cclxuaW1wb3J0IHsgTEFwcFBhbCB9IGZyb20gJy4vbGFwcHBhbCc7XHJcbmltcG9ydCB7IGdsLCBjYW52YXMsIGZyYW1lQnVmZmVyLCBMQXBwRGVsZWdhdGUgfSBmcm9tICcuL2xhcHBkZWxlZ2F0ZSc7XHJcbmltcG9ydCB7IFRleHR1cmVJbmZvIH0gZnJvbSAnLi9sYXBwdGV4dHVyZW1hbmFnZXInO1xyXG5pbXBvcnQgKiBhcyBMQXBwRGVmaW5lIGZyb20gJy4vbGFwcGRlZmluZSc7XHJcbmltcG9ydCAnd2hhdHdnLWZldGNoJztcclxuXHJcbmVudW0gTG9hZFN0ZXAge1xyXG4gIExvYWRBc3NldHMsXHJcbiAgTG9hZE1vZGVsLFxyXG4gIFdhaXRMb2FkTW9kZWwsXHJcbiAgTG9hZEV4cHJlc3Npb24sXHJcbiAgV2FpdExvYWRFeHByZXNzaW9uLFxyXG4gIExvYWRQaHlzaWNzLFxyXG4gIFdhaXRMb2FkUGh5c2ljcyxcclxuICBMb2FkUG9zZSxcclxuICBXYWl0TG9hZFBvc2UsXHJcbiAgU2V0dXBFeWVCbGluayxcclxuICBTZXR1cEJyZWF0aCxcclxuICBMb2FkVXNlckRhdGEsXHJcbiAgV2FpdExvYWRVc2VyRGF0YSxcclxuICBTZXR1cEV5ZUJsaW5rSWRzLFxyXG4gIFNldHVwTGlwU3luY0lkcyxcclxuICBTZXR1cExheW91dCxcclxuICBMb2FkTW90aW9uLFxyXG4gIFdhaXRMb2FkTW90aW9uLFxyXG4gIENvbXBsZXRlSW5pdGlhbGl6ZSxcclxuICBDb21wbGV0ZVNldHVwTW9kZWwsXHJcbiAgTG9hZFRleHR1cmUsXHJcbiAgV2FpdExvYWRUZXh0dXJlLFxyXG4gIENvbXBsZXRlU2V0dXBcclxufVxyXG5cclxuLyoqXHJcbiAqIOODpuODvOOCtuODvOOBjOWun+mam+OBq+S9v+eUqOOBmeOCi+ODouODh+ODq+OBruWun+ijheOCr+ODqeOCuTxicj5cclxuICog44Oi44OH44Or55Sf5oiQ44CB5qmf6IO944Kz44Oz44Od44O844ON44Oz44OI55Sf5oiQ44CB5pu05paw5Yem55CG44Go44Os44Oz44OA44Oq44Oz44Kw44Gu5ZG844Gz5Ye644GX44KS6KGM44GG44CCXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgTEFwcE1vZGVsIGV4dGVuZHMgQ3ViaXNtVXNlck1vZGVsIHtcclxuICAvKipcclxuICAgKiBtb2RlbDMuanNvbuOBjOe9ruOBi+OCjOOBn+ODh+OCo+ODrOOCr+ODiOODquOBqOODleOCoeOCpOODq+ODkeOCueOBi+OCieODouODh+ODq+OCkueUn+aIkOOBmeOCi1xyXG4gICAqIEBwYXJhbSBkaXJcclxuICAgKiBAcGFyYW0gZmlsZU5hbWVcclxuICAgKi9cclxuICBwdWJsaWMgbG9hZEFzc2V0cyhkaXI6IHN0cmluZywgZmlsZU5hbWU6IHN0cmluZyk6IHZvaWQge1xyXG4gICAgY29uc29sZS5sb2coJ+i1hOa6kOi3r+W+hCcsZGlyKVxyXG4gICAgdGhpcy5fbW9kZWxIb21lRGlyID0gZGlyO1xyXG4gICAgZmV0Y2goYCR7dGhpcy5fbW9kZWxIb21lRGlyfSR7ZmlsZU5hbWV9YClcclxuICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UuYXJyYXlCdWZmZXIoKSlcclxuICAgICAgLnRoZW4oYXJyYXlCdWZmZXIgPT4ge1xyXG4gICAgICAgIGNvbnN0IHNldHRpbmc6IElDdWJpc21Nb2RlbFNldHRpbmcgPSBuZXcgQ3ViaXNtTW9kZWxTZXR0aW5nSnNvbihcclxuICAgICAgICAgIGFycmF5QnVmZmVyLFxyXG4gICAgICAgICAgYXJyYXlCdWZmZXIuYnl0ZUxlbmd0aFxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIC8vIOOCueODhuODvOODiOOCkuabtOaWsFxyXG4gICAgICAgIHRoaXMuX3N0YXRlID0gTG9hZFN0ZXAuTG9hZE1vZGVsO1xyXG5cclxuICAgICAgICAvLyDntZDmnpzjgpLkv53lrZhcclxuICAgICAgICB0aGlzLnNldHVwTW9kZWwoc2V0dGluZyk7XHJcbiAgICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogbW9kZWwzLmpzb27jgYvjgonjg6Ljg4fjg6vjgpLnlJ/miJDjgZnjgovjgIJcclxuICAgKiBtb2RlbDMuanNvbuOBruiomOi/sOOBq+W+k+OBo+OBpuODouODh+ODq+eUn+aIkOOAgeODouODvOOCt+ODp+ODs+OAgeeJqeeQhua8lOeul+OBquOBqeOBruOCs+ODs+ODneODvOODjeODs+ODiOeUn+aIkOOCkuihjOOBhuOAglxyXG4gICAqXHJcbiAgICogQHBhcmFtIHNldHRpbmcgSUN1YmlzbU1vZGVsU2V0dGluZ+OBruOCpOODs+OCueOCv+ODs+OCuVxyXG4gICAqL1xyXG4gIHByaXZhdGUgc2V0dXBNb2RlbChzZXR0aW5nOiBJQ3ViaXNtTW9kZWxTZXR0aW5nKTogdm9pZCB7XHJcbiAgICB0aGlzLl91cGRhdGluZyA9IHRydWU7XHJcbiAgICB0aGlzLl9pbml0aWFsaXplZCA9IGZhbHNlO1xyXG5cclxuICAgIHRoaXMuX21vZGVsU2V0dGluZyA9IHNldHRpbmc7XHJcblxyXG4gICAgLy8gQ3ViaXNtTW9kZWxcclxuICAgIGlmICh0aGlzLl9tb2RlbFNldHRpbmcuZ2V0TW9kZWxGaWxlTmFtZSgpICE9ICcnKSB7XHJcbiAgICAgIGNvbnN0IG1vZGVsRmlsZU5hbWUgPSB0aGlzLl9tb2RlbFNldHRpbmcuZ2V0TW9kZWxGaWxlTmFtZSgpO1xyXG5cclxuICAgICAgZmV0Y2goYCR7dGhpcy5fbW9kZWxIb21lRGlyfSR7bW9kZWxGaWxlTmFtZX1gKVxyXG4gICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlLmFycmF5QnVmZmVyKCkpXHJcbiAgICAgICAgLnRoZW4oYXJyYXlCdWZmZXIgPT4ge1xyXG4gICAgICAgICAgdGhpcy5sb2FkTW9kZWwoYXJyYXlCdWZmZXIpO1xyXG4gICAgICAgICAgdGhpcy5fc3RhdGUgPSBMb2FkU3RlcC5Mb2FkRXhwcmVzc2lvbjtcclxuXHJcbiAgICAgICAgICAvLyBjYWxsYmFja1xyXG4gICAgICAgICAgbG9hZEN1YmlzbUV4cHJlc3Npb24oKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgIHRoaXMuX3N0YXRlID0gTG9hZFN0ZXAuV2FpdExvYWRNb2RlbDtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIExBcHBQYWwucHJpbnRNZXNzYWdlKCdNb2RlbCBkYXRhIGRvZXMgbm90IGV4aXN0LicpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEV4cHJlc3Npb25cclxuICAgIGNvbnN0IGxvYWRDdWJpc21FeHByZXNzaW9uID0gKCk6IHZvaWQgPT4ge1xyXG4gICAgICBpZiAodGhpcy5fbW9kZWxTZXR0aW5nLmdldEV4cHJlc3Npb25Db3VudCgpID4gMCkge1xyXG4gICAgICAgIGNvbnN0IGNvdW50OiBudW1iZXIgPSB0aGlzLl9tb2RlbFNldHRpbmcuZ2V0RXhwcmVzc2lvbkNvdW50KCk7XHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY291bnQ7IGkrKykge1xyXG4gICAgICAgICAgY29uc3QgZXhwcmVzc2lvbk5hbWUgPSB0aGlzLl9tb2RlbFNldHRpbmcuZ2V0RXhwcmVzc2lvbk5hbWUoaSk7XHJcbiAgICAgICAgICBjb25zdCBleHByZXNzaW9uRmlsZU5hbWUgPSB0aGlzLl9tb2RlbFNldHRpbmcuZ2V0RXhwcmVzc2lvbkZpbGVOYW1lKFxyXG4gICAgICAgICAgICBpXHJcbiAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgIGZldGNoKGAke3RoaXMuX21vZGVsSG9tZURpcn0ke2V4cHJlc3Npb25GaWxlTmFtZX1gKVxyXG4gICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS5hcnJheUJ1ZmZlcigpKVxyXG4gICAgICAgICAgICAudGhlbihhcnJheUJ1ZmZlciA9PiB7XHJcbiAgICAgICAgICAgICAgY29uc3QgbW90aW9uOiBBQ3ViaXNtTW90aW9uID0gdGhpcy5sb2FkRXhwcmVzc2lvbihcclxuICAgICAgICAgICAgICAgIGFycmF5QnVmZmVyLFxyXG4gICAgICAgICAgICAgICAgYXJyYXlCdWZmZXIuYnl0ZUxlbmd0aCxcclxuICAgICAgICAgICAgICAgIGV4cHJlc3Npb25OYW1lXHJcbiAgICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgICAgaWYgKHRoaXMuX2V4cHJlc3Npb25zLmdldFZhbHVlKGV4cHJlc3Npb25OYW1lKSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBBQ3ViaXNtTW90aW9uLmRlbGV0ZShcclxuICAgICAgICAgICAgICAgICAgdGhpcy5fZXhwcmVzc2lvbnMuZ2V0VmFsdWUoZXhwcmVzc2lvbk5hbWUpXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fZXhwcmVzc2lvbnMuc2V0VmFsdWUoZXhwcmVzc2lvbk5hbWUsIG51bGwpO1xyXG4gICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgdGhpcy5fZXhwcmVzc2lvbnMuc2V0VmFsdWUoZXhwcmVzc2lvbk5hbWUsIG1vdGlvbik7XHJcblxyXG4gICAgICAgICAgICAgIHRoaXMuX2V4cHJlc3Npb25Db3VudCsrO1xyXG5cclxuICAgICAgICAgICAgICBpZiAodGhpcy5fZXhwcmVzc2lvbkNvdW50ID49IGNvdW50KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9zdGF0ZSA9IExvYWRTdGVwLkxvYWRQaHlzaWNzO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIGNhbGxiYWNrXHJcbiAgICAgICAgICAgICAgICBsb2FkQ3ViaXNtUGh5c2ljcygpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX3N0YXRlID0gTG9hZFN0ZXAuV2FpdExvYWRFeHByZXNzaW9uO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMuX3N0YXRlID0gTG9hZFN0ZXAuTG9hZFBoeXNpY3M7XHJcblxyXG4gICAgICAgIC8vIGNhbGxiYWNrXHJcbiAgICAgICAgbG9hZEN1YmlzbVBoeXNpY3MoKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvLyBQaHlzaWNzXHJcbiAgICBjb25zdCBsb2FkQ3ViaXNtUGh5c2ljcyA9ICgpOiB2b2lkID0+IHtcclxuICAgICAgaWYgKHRoaXMuX21vZGVsU2V0dGluZy5nZXRQaHlzaWNzRmlsZU5hbWUoKSAhPSAnJykge1xyXG4gICAgICAgIGNvbnN0IHBoeXNpY3NGaWxlTmFtZSA9IHRoaXMuX21vZGVsU2V0dGluZy5nZXRQaHlzaWNzRmlsZU5hbWUoKTtcclxuXHJcbiAgICAgICAgZmV0Y2goYCR7dGhpcy5fbW9kZWxIb21lRGlyfSR7cGh5c2ljc0ZpbGVOYW1lfWApXHJcbiAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS5hcnJheUJ1ZmZlcigpKVxyXG4gICAgICAgICAgLnRoZW4oYXJyYXlCdWZmZXIgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmxvYWRQaHlzaWNzKGFycmF5QnVmZmVyLCBhcnJheUJ1ZmZlci5ieXRlTGVuZ3RoKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuX3N0YXRlID0gTG9hZFN0ZXAuTG9hZFBvc2U7XHJcblxyXG4gICAgICAgICAgICAvLyBjYWxsYmFja1xyXG4gICAgICAgICAgICBsb2FkQ3ViaXNtUG9zZSgpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5fc3RhdGUgPSBMb2FkU3RlcC5XYWl0TG9hZFBoeXNpY3M7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5fc3RhdGUgPSBMb2FkU3RlcC5Mb2FkUG9zZTtcclxuXHJcbiAgICAgICAgLy8gY2FsbGJhY2tcclxuICAgICAgICBsb2FkQ3ViaXNtUG9zZSgpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIFBvc2VcclxuICAgIGNvbnN0IGxvYWRDdWJpc21Qb3NlID0gKCk6IHZvaWQgPT4ge1xyXG4gICAgICBpZiAodGhpcy5fbW9kZWxTZXR0aW5nLmdldFBvc2VGaWxlTmFtZSgpICE9ICcnKSB7XHJcbiAgICAgICAgY29uc3QgcG9zZUZpbGVOYW1lID0gdGhpcy5fbW9kZWxTZXR0aW5nLmdldFBvc2VGaWxlTmFtZSgpO1xyXG5cclxuICAgICAgICBmZXRjaChgJHt0aGlzLl9tb2RlbEhvbWVEaXJ9JHtwb3NlRmlsZU5hbWV9YClcclxuICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlLmFycmF5QnVmZmVyKCkpXHJcbiAgICAgICAgICAudGhlbihhcnJheUJ1ZmZlciA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMubG9hZFBvc2UoYXJyYXlCdWZmZXIsIGFycmF5QnVmZmVyLmJ5dGVMZW5ndGgpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5fc3RhdGUgPSBMb2FkU3RlcC5TZXR1cEV5ZUJsaW5rO1xyXG5cclxuICAgICAgICAgICAgLy8gY2FsbGJhY2tcclxuICAgICAgICAgICAgc2V0dXBFeWVCbGluaygpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5fc3RhdGUgPSBMb2FkU3RlcC5XYWl0TG9hZFBvc2U7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5fc3RhdGUgPSBMb2FkU3RlcC5TZXR1cEV5ZUJsaW5rO1xyXG5cclxuICAgICAgICAvLyBjYWxsYmFja1xyXG4gICAgICAgIHNldHVwRXllQmxpbmsoKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvLyBFeWVCbGlua1xyXG4gICAgY29uc3Qgc2V0dXBFeWVCbGluayA9ICgpOiB2b2lkID0+IHtcclxuICAgICAgaWYgKHRoaXMuX21vZGVsU2V0dGluZy5nZXRFeWVCbGlua1BhcmFtZXRlckNvdW50KCkgPiAwKSB7XHJcbiAgICAgICAgdGhpcy5fZXllQmxpbmsgPSBDdWJpc21FeWVCbGluay5jcmVhdGUodGhpcy5fbW9kZWxTZXR0aW5nKTtcclxuICAgICAgICB0aGlzLl9zdGF0ZSA9IExvYWRTdGVwLlNldHVwQnJlYXRoO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBjYWxsYmFja1xyXG4gICAgICBzZXR1cEJyZWF0aCgpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyBCcmVhdGhcclxuICAgIGNvbnN0IHNldHVwQnJlYXRoID0gKCk6IHZvaWQgPT4ge1xyXG4gICAgICB0aGlzLl9icmVhdGggPSBDdWJpc21CcmVhdGguY3JlYXRlKCk7XHJcblxyXG4gICAgICBjb25zdCBicmVhdGhQYXJhbWV0ZXJzOiBjc21WZWN0b3I8QnJlYXRoUGFyYW1ldGVyRGF0YT4gPSBuZXcgY3NtVmVjdG9yKCk7XHJcbiAgICAgIGJyZWF0aFBhcmFtZXRlcnMucHVzaEJhY2soXHJcbiAgICAgICAgbmV3IEJyZWF0aFBhcmFtZXRlckRhdGEodGhpcy5faWRQYXJhbUFuZ2xlWCwgMC4wLCAxNS4wLCA2LjUzNDUsIDAuNSlcclxuICAgICAgKTtcclxuICAgICAgYnJlYXRoUGFyYW1ldGVycy5wdXNoQmFjayhcclxuICAgICAgICBuZXcgQnJlYXRoUGFyYW1ldGVyRGF0YSh0aGlzLl9pZFBhcmFtQW5nbGVZLCAwLjAsIDguMCwgMy41MzQ1LCAwLjUpXHJcbiAgICAgICk7XHJcbiAgICAgIGJyZWF0aFBhcmFtZXRlcnMucHVzaEJhY2soXHJcbiAgICAgICAgbmV3IEJyZWF0aFBhcmFtZXRlckRhdGEodGhpcy5faWRQYXJhbUFuZ2xlWiwgMC4wLCAxMC4wLCA1LjUzNDUsIDAuNSlcclxuICAgICAgKTtcclxuICAgICAgYnJlYXRoUGFyYW1ldGVycy5wdXNoQmFjayhcclxuICAgICAgICBuZXcgQnJlYXRoUGFyYW1ldGVyRGF0YSh0aGlzLl9pZFBhcmFtQm9keUFuZ2xlWCwgMC4wLCA0LjAsIDE1LjUzNDUsIDAuNSlcclxuICAgICAgKTtcclxuICAgICAgYnJlYXRoUGFyYW1ldGVycy5wdXNoQmFjayhcclxuICAgICAgICBuZXcgQnJlYXRoUGFyYW1ldGVyRGF0YShcclxuICAgICAgICAgIEN1YmlzbUZyYW1ld29yay5nZXRJZE1hbmFnZXIoKS5nZXRJZChcclxuICAgICAgICAgICAgQ3ViaXNtRGVmYXVsdFBhcmFtZXRlcklkLlBhcmFtQnJlYXRoXHJcbiAgICAgICAgICApLFxyXG4gICAgICAgICAgMC4wLFxyXG4gICAgICAgICAgMC41LFxyXG4gICAgICAgICAgMy4yMzQ1LFxyXG4gICAgICAgICAgMC41XHJcbiAgICAgICAgKVxyXG4gICAgICApO1xyXG5cclxuICAgICAgdGhpcy5fYnJlYXRoLnNldFBhcmFtZXRlcnMoYnJlYXRoUGFyYW1ldGVycyk7XHJcbiAgICAgIHRoaXMuX3N0YXRlID0gTG9hZFN0ZXAuTG9hZFVzZXJEYXRhO1xyXG5cclxuICAgICAgLy8gY2FsbGJhY2tcclxuICAgICAgbG9hZFVzZXJEYXRhKCk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIFVzZXJEYXRhXHJcbiAgICBjb25zdCBsb2FkVXNlckRhdGEgPSAoKTogdm9pZCA9PiB7XHJcbiAgICAgIGlmICh0aGlzLl9tb2RlbFNldHRpbmcuZ2V0VXNlckRhdGFGaWxlKCkgIT0gJycpIHtcclxuICAgICAgICBjb25zdCB1c2VyRGF0YUZpbGUgPSB0aGlzLl9tb2RlbFNldHRpbmcuZ2V0VXNlckRhdGFGaWxlKCk7XHJcblxyXG4gICAgICAgIGZldGNoKGAke3RoaXMuX21vZGVsSG9tZURpcn0ke3VzZXJEYXRhRmlsZX1gKVxyXG4gICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UuYXJyYXlCdWZmZXIoKSlcclxuICAgICAgICAgIC50aGVuKGFycmF5QnVmZmVyID0+IHtcclxuICAgICAgICAgICAgdGhpcy5sb2FkVXNlckRhdGEoYXJyYXlCdWZmZXIsIGFycmF5QnVmZmVyLmJ5dGVMZW5ndGgpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5fc3RhdGUgPSBMb2FkU3RlcC5TZXR1cEV5ZUJsaW5rSWRzO1xyXG5cclxuICAgICAgICAgICAgLy8gY2FsbGJhY2tcclxuICAgICAgICAgICAgc2V0dXBFeWVCbGlua0lkcygpO1xyXG4gICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuX3N0YXRlID0gTG9hZFN0ZXAuV2FpdExvYWRVc2VyRGF0YTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLl9zdGF0ZSA9IExvYWRTdGVwLlNldHVwRXllQmxpbmtJZHM7XHJcblxyXG4gICAgICAgIC8vIGNhbGxiYWNrXHJcbiAgICAgICAgc2V0dXBFeWVCbGlua0lkcygpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIEV5ZUJsaW5rSWRzXHJcbiAgICBjb25zdCBzZXR1cEV5ZUJsaW5rSWRzID0gKCk6IHZvaWQgPT4ge1xyXG4gICAgICBjb25zdCBleWVCbGlua0lkQ291bnQ6IG51bWJlciA9IHRoaXMuX21vZGVsU2V0dGluZy5nZXRFeWVCbGlua1BhcmFtZXRlckNvdW50KCk7XHJcblxyXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGV5ZUJsaW5rSWRDb3VudDsgKytpKSB7XHJcbiAgICAgICAgdGhpcy5fZXllQmxpbmtJZHMucHVzaEJhY2soXHJcbiAgICAgICAgICB0aGlzLl9tb2RlbFNldHRpbmcuZ2V0RXllQmxpbmtQYXJhbWV0ZXJJZChpKVxyXG4gICAgICAgICk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHRoaXMuX3N0YXRlID0gTG9hZFN0ZXAuU2V0dXBMaXBTeW5jSWRzO1xyXG5cclxuICAgICAgLy8gY2FsbGJhY2tcclxuICAgICAgc2V0dXBMaXBTeW5jSWRzKCk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIExpcFN5bmNJZHNcclxuICAgIGNvbnN0IHNldHVwTGlwU3luY0lkcyA9ICgpOiB2b2lkID0+IHtcclxuICAgICAgY29uc3QgbGlwU3luY0lkQ291bnQgPSB0aGlzLl9tb2RlbFNldHRpbmcuZ2V0TGlwU3luY1BhcmFtZXRlckNvdW50KCk7XHJcblxyXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpcFN5bmNJZENvdW50OyArK2kpIHtcclxuICAgICAgICB0aGlzLl9saXBTeW5jSWRzLnB1c2hCYWNrKHRoaXMuX21vZGVsU2V0dGluZy5nZXRMaXBTeW5jUGFyYW1ldGVySWQoaSkpO1xyXG4gICAgICB9XHJcbiAgICAgIHRoaXMuX3N0YXRlID0gTG9hZFN0ZXAuU2V0dXBMYXlvdXQ7XHJcblxyXG4gICAgICAvLyBjYWxsYmFja1xyXG4gICAgICBzZXR1cExheW91dCgpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyBMYXlvdXRcclxuICAgIGNvbnN0IHNldHVwTGF5b3V0ID0gKCk6IHZvaWQgPT4ge1xyXG4gICAgICBjb25zdCBsYXlvdXQ6IGNzbU1hcDxzdHJpbmcsIG51bWJlcj4gPSBuZXcgY3NtTWFwPHN0cmluZywgbnVtYmVyPigpO1xyXG4gICAgICB0aGlzLl9tb2RlbFNldHRpbmcuZ2V0TGF5b3V0TWFwKGxheW91dCk7XHJcbiAgICAgIHRoaXMuX21vZGVsTWF0cml4LnNldHVwRnJvbUxheW91dChsYXlvdXQpO1xyXG4gICAgICB0aGlzLl9zdGF0ZSA9IExvYWRTdGVwLkxvYWRNb3Rpb247XHJcblxyXG4gICAgICAvLyBjYWxsYmFja1xyXG4gICAgICBsb2FkQ3ViaXNtTW90aW9uKCk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIE1vdGlvblxyXG4gICAgY29uc3QgbG9hZEN1YmlzbU1vdGlvbiA9ICgpOiB2b2lkID0+IHtcclxuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xpdmUyZC1oaWRkZW4nKS5zdHlsZS5kaXNwbGF5PSdibG9jaydcclxuICAgICAgdGhpcy5fc3RhdGUgPSBMb2FkU3RlcC5XYWl0TG9hZE1vdGlvbjtcclxuICAgICAgdGhpcy5fbW9kZWwuc2F2ZVBhcmFtZXRlcnMoKTtcclxuICAgICAgdGhpcy5fYWxsTW90aW9uQ291bnQgPSAwO1xyXG4gICAgICB0aGlzLl9tb3Rpb25Db3VudCA9IDA7XHJcbiAgICAgIGNvbnN0IGdyb3VwOiBzdHJpbmdbXSA9IFtdO1xyXG5cclxuICAgICAgY29uc3QgbW90aW9uR3JvdXBDb3VudDogbnVtYmVyID0gdGhpcy5fbW9kZWxTZXR0aW5nLmdldE1vdGlvbkdyb3VwQ291bnQoKTtcclxuXHJcbiAgICAgIC8vIOODouODvOOCt+ODp+ODs+OBrue3j+aVsOOCkuaxguOCgeOCi1xyXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1vdGlvbkdyb3VwQ291bnQ7IGkrKykge1xyXG4gICAgICAgIGdyb3VwW2ldID0gdGhpcy5fbW9kZWxTZXR0aW5nLmdldE1vdGlvbkdyb3VwTmFtZShpKTtcclxuICAgICAgICB0aGlzLl9hbGxNb3Rpb25Db3VudCArPSB0aGlzLl9tb2RlbFNldHRpbmcuZ2V0TW90aW9uQ291bnQoZ3JvdXBbaV0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyDjg6Ljg7zjgrfjg6fjg7Pjga7oqq3jgb/ovrzjgb9cclxuICAgICAgLy8g6KOF5YWl5Yqo5L2cXHJcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbW90aW9uR3JvdXBDb3VudDsgaSsrKSB7XHJcbiAgICAgICAgdGhpcy5wcmVMb2FkTW90aW9uR3JvdXAoZ3JvdXBbaV0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyDjg6Ljg7zjgrfjg6fjg7PjgYzjgarjgYTloLTlkIhcclxuICAgICAgaWYgKG1vdGlvbkdyb3VwQ291bnQgPT0gMCkge1xyXG4gICAgICAgIHRoaXMuX3N0YXRlID0gTG9hZFN0ZXAuTG9hZFRleHR1cmU7XHJcblxyXG4gICAgICAgIC8vIOWFqOOBpuOBruODouODvOOCt+ODp+ODs+OCkuWBnOatouOBmeOCi1xyXG4gICAgICAgIHRoaXMuX21vdGlvbk1hbmFnZXIuc3RvcEFsbE1vdGlvbnMoKTtcclxuXHJcbiAgICAgICAgdGhpcy5fdXBkYXRpbmcgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLl9pbml0aWFsaXplZCA9IHRydWU7XHJcblxyXG4gICAgICAgIHRoaXMuY3JlYXRlUmVuZGVyZXIoKTtcclxuICAgICAgICB0aGlzLnNldHVwVGV4dHVyZXMoKTtcclxuICAgICAgICB0aGlzLmdldFJlbmRlcmVyKCkuc3RhcnRVcChnbCk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDjg4bjgq/jgrnjg4Hjg6Pjg6bjg4vjg4Pjg4jjgavjg4bjgq/jgrnjg4Hjg6PjgpLjg63jg7zjg4njgZnjgotcclxuICAgKi9cclxuICBwcml2YXRlIHNldHVwVGV4dHVyZXMoKTogdm9pZCB7XHJcbiAgICAvLyBpUGhvbmXjgafjga7jgqLjg6vjg5XjgqHlk4Hos6rlkJHkuIrjga7jgZ/jgoFUeXBlc2NyaXB044Gn44GvcHJlbXVsdGlwbGllZEFscGhh44KS5o6h55SoXHJcbiAgICBjb25zdCB1c2VQcmVtdWx0aXBseSA9IHRydWU7XHJcblxyXG4gICAgaWYgKHRoaXMuX3N0YXRlID09IExvYWRTdGVwLkxvYWRUZXh0dXJlKSB7XHJcbiAgICAgIC8vIOODhuOCr+OCueODgeODo+iqreOBv+i+vOOBv+eUqFxyXG4gICAgICBjb25zdCB0ZXh0dXJlQ291bnQ6IG51bWJlciA9IHRoaXMuX21vZGVsU2V0dGluZy5nZXRUZXh0dXJlQ291bnQoKTtcclxuXHJcbiAgICAgIGZvciAoXHJcbiAgICAgICAgbGV0IG1vZGVsVGV4dHVyZU51bWJlciA9IDA7XHJcbiAgICAgICAgbW9kZWxUZXh0dXJlTnVtYmVyIDwgdGV4dHVyZUNvdW50O1xyXG4gICAgICAgIG1vZGVsVGV4dHVyZU51bWJlcisrXHJcbiAgICAgICkge1xyXG4gICAgICAgIC8vIOODhuOCr+OCueODgeODo+WQjeOBjOepuuaWh+Wtl+OBoOOBo+OBn+WgtOWQiOOBr+ODreODvOODieODu+ODkOOCpOODs+ODieWHpueQhuOCkuOCueOCreODg+ODl1xyXG4gICAgICAgIGlmICh0aGlzLl9tb2RlbFNldHRpbmcuZ2V0VGV4dHVyZUZpbGVOYW1lKG1vZGVsVGV4dHVyZU51bWJlcikgPT0gJycpIHtcclxuICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gV2ViR0zjga7jg4bjgq/jgrnjg4Hjg6Pjg6bjg4vjg4Pjg4jjgavjg4bjgq/jgrnjg4Hjg6PjgpLjg63jg7zjg4njgZnjgotcclxuICAgICAgICAvLyDlnKhXZWJHTOeahOe6ueeQhuWNleWFg+S4reWKoOi9vee6ueeQhlxyXG4gICAgICAgIGxldCB0ZXh0dXJlUGF0aCA9IHRoaXMuX21vZGVsU2V0dGluZy5nZXRUZXh0dXJlRmlsZU5hbWUoXHJcbiAgICAgICAgICBtb2RlbFRleHR1cmVOdW1iZXJcclxuICAgICAgICApO1xyXG4gICAgICAgIHRleHR1cmVQYXRoID0gdGhpcy5fbW9kZWxIb21lRGlyICsgdGV4dHVyZVBhdGg7XHJcblxyXG4gICAgICAgIC8vIOODreODvOODieWujOS6huaZguOBq+WRvOOBs+WHuuOBmeOCs+ODvOODq+ODkOODg+OCr+mWouaVsFxyXG4gICAgICAgIC8vIOWKoOi9veWujOaIkOaXtuiwg+eUqOeahOWbnuiwg+WHveaVsFxyXG4gICAgICAgIGNvbnN0IG9uTG9hZCA9ICh0ZXh0dXJlSW5mbzogVGV4dHVyZUluZm8pOiB2b2lkID0+IHtcclxuICAgICAgICAgIHRoaXMuZ2V0UmVuZGVyZXIoKS5iaW5kVGV4dHVyZShtb2RlbFRleHR1cmVOdW1iZXIsIHRleHR1cmVJbmZvLmlkKTtcclxuXHJcbiAgICAgICAgICB0aGlzLl90ZXh0dXJlQ291bnQrKztcclxuXHJcbiAgICAgICAgICBpZiAodGhpcy5fdGV4dHVyZUNvdW50ID49IHRleHR1cmVDb3VudCkge1xyXG4gICAgICAgICAgICAvLyDjg63jg7zjg4nlrozkuoZcclxuICAgICAgICAgICAgdGhpcy5fc3RhdGUgPSBMb2FkU3RlcC5Db21wbGV0ZVNldHVwO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vIOiqreOBv+i+vOOBv1xyXG4gICAgICAgIExBcHBEZWxlZ2F0ZS5nZXRJbnN0YW5jZSgpXHJcbiAgICAgICAgICAuZ2V0VGV4dHVyZU1hbmFnZXIoKVxyXG4gICAgICAgICAgLmNyZWF0ZVRleHR1cmVGcm9tUG5nRmlsZSh0ZXh0dXJlUGF0aCwgdXNlUHJlbXVsdGlwbHksIG9uTG9hZCk7XHJcbiAgICAgICAgdGhpcy5nZXRSZW5kZXJlcigpLnNldElzUHJlbXVsdGlwbGllZEFscGhhKHVzZVByZW11bHRpcGx5KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgdGhpcy5fc3RhdGUgPSBMb2FkU3RlcC5XYWl0TG9hZFRleHR1cmU7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDjg6zjg7Pjg4Djg6njgpLlho3mp4vnr4njgZnjgotcclxuICAgKi9cclxuICBwdWJsaWMgcmVsb2FkUmVuZGVyZXIoKTogdm9pZCB7XHJcbiAgICB0aGlzLmRlbGV0ZVJlbmRlcmVyKCk7XHJcbiAgICB0aGlzLmNyZWF0ZVJlbmRlcmVyKCk7XHJcbiAgICB0aGlzLnNldHVwVGV4dHVyZXMoKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOabtOaWsFxyXG4gICAqL1xyXG4gIHB1YmxpYyB1cGRhdGUoKTogdm9pZCB7XHJcbiAgICBpZiAodGhpcy5fc3RhdGUgIT0gTG9hZFN0ZXAuQ29tcGxldGVTZXR1cCkgcmV0dXJuO1xyXG5cclxuICAgIGNvbnN0IGRlbHRhVGltZVNlY29uZHM6IG51bWJlciA9IExBcHBQYWwuZ2V0RGVsdGFUaW1lKCk7XHJcbiAgICB0aGlzLl91c2VyVGltZVNlY29uZHMgKz0gZGVsdGFUaW1lU2Vjb25kcztcclxuXHJcbiAgICB0aGlzLl9kcmFnTWFuYWdlci51cGRhdGUoZGVsdGFUaW1lU2Vjb25kcyk7XHJcbiAgICB0aGlzLl9kcmFnWCA9IHRoaXMuX2RyYWdNYW5hZ2VyLmdldFgoKTtcclxuICAgIHRoaXMuX2RyYWdZID0gdGhpcy5fZHJhZ01hbmFnZXIuZ2V0WSgpO1xyXG5cclxuICAgIC8vIOODouODvOOCt+ODp+ODs+OBq+OCiOOCi+ODkeODqeODoeODvOOCv+abtOaWsOOBruacieeEoVxyXG4gICAgbGV0IG1vdGlvblVwZGF0ZWQgPSBmYWxzZTtcclxuXHJcbiAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICB0aGlzLl9tb2RlbC5sb2FkUGFyYW1ldGVycygpOyAvLyDliY3lm57jgrvjg7zjg5bjgZXjgozjgZ/nirbmhYvjgpLjg63jg7zjg4lcclxuICAgIGlmICh0aGlzLl9tb3Rpb25NYW5hZ2VyLmlzRmluaXNoZWQoKSkge1xyXG4gICAgICB0aGlzLnN0YXJ0UmFuZG9tTW90aW9uKFxyXG4gICAgICAgIExBcHBEZWZpbmUuTW90aW9uR3JvdXBJZGxlLFxyXG4gICAgICAgIExBcHBEZWZpbmUuUHJpb3JpdHlJZGxlXHJcbiAgICAgICk7XHJcbiAgICAgIC8vIOWcqOayoeacieWKqOS9nOeahOi/kOihjOeahOaDheWGteS4i++8jOS7juW+heacuuWKqOS9nOS4remaj+acuui/kOihjOaKveWPlu+8jOWRvei/kOaKveeJjOWVpuWVpuWVpl4gXlxyXG4gICAgICBsZXQgbHVja3kgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDAwICsgMTAwKTtcclxuICAgICAgaWYgKGx1Y2t5ID09IDk5OSkge1xyXG4gICAgICAgIHRoaXMuc3RhcnRSYW5kb21Nb3Rpb24oXHJcbiAgICAgICAgICBMQXBwRGVmaW5lLk1vdGlvbkdyb3VwSWRsZSxcclxuICAgICAgICAgIExBcHBEZWZpbmUuUHJpb3JpdHlJZGxlXHJcbiAgICAgICAgKTtcclxuICAgICAgfSBlbHNlIGlmIChsdWNreSA9PSA4ODgpIHtcclxuICAgICAgICB0aGlzLnN0YXJ0UmFuZG9tTW90aW9uKFxyXG4gICAgICAgICAgTEFwcERlZmluZS5Nb3Rpb25Hcm91cERlZmF1bHQsXHJcbiAgICAgICAgICBMQXBwRGVmaW5lLlByaW9yaXR5SWRsZVxyXG4gICAgICAgICk7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIG1vdGlvblVwZGF0ZWQgPSB0aGlzLl9tb3Rpb25NYW5hZ2VyLnVwZGF0ZU1vdGlvbihcclxuICAgICAgICB0aGlzLl9tb2RlbCxcclxuICAgICAgICBkZWx0YVRpbWVTZWNvbmRzXHJcbiAgICAgICk7IC8vIOabtOaWsOWKqOS9nFxyXG4gICAgfVxyXG4gICAgdGhpcy5fbW9kZWwuc2F2ZVBhcmFtZXRlcnMoKTsgLy8g54q25oWL44KS5L+d5a2YXHJcbiAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG4gICAgLy8g44G+44Gw44Gf44GNXHJcbiAgICBpZiAoIW1vdGlvblVwZGF0ZWQpIHtcclxuICAgICAgaWYgKHRoaXMuX2V5ZUJsaW5rICE9IG51bGwpIHtcclxuICAgICAgICAvLyDjg6HjgqTjg7Pjg6Ljg7zjgrfjg6fjg7Pjga7mm7TmlrDjgYzjgarjgYTjgajjgY1cclxuICAgICAgICB0aGlzLl9leWVCbGluay51cGRhdGVQYXJhbWV0ZXJzKHRoaXMuX21vZGVsLCBkZWx0YVRpbWVTZWNvbmRzKTsgLy8g55uu44OR44OBXHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpZiAodGhpcy5fZXhwcmVzc2lvbk1hbmFnZXIgIT0gbnVsbCkge1xyXG4gICAgICB0aGlzLl9leHByZXNzaW9uTWFuYWdlci51cGRhdGVNb3Rpb24odGhpcy5fbW9kZWwsIGRlbHRhVGltZVNlY29uZHMpOyAvLyDooajmg4Xjgafjg5Hjg6njg6Hjg7zjgr/mm7TmlrDvvIjnm7jlr77lpInljJbvvIlcclxuICAgIH1cclxuXHJcbiAgICAvLyDjg4njg6njg4PjgrDjgavjgojjgovlpInljJZcclxuICAgIC8vIOODieODqeODg+OCsOOBq+OCiOOCi+mhlOOBruWQkeOBjeOBruiqv+aVtFxyXG4gICAgdGhpcy5fbW9kZWwuYWRkUGFyYW1ldGVyVmFsdWVCeUlkKHRoaXMuX2lkUGFyYW1BbmdsZVgsIHRoaXMuX2RyYWdYICogMzApOyAvLyAtMzDjgYvjgokzMOOBruWApOOCkuWKoOOBiOOCi1xyXG4gICAgdGhpcy5fbW9kZWwuYWRkUGFyYW1ldGVyVmFsdWVCeUlkKHRoaXMuX2lkUGFyYW1BbmdsZVksIHRoaXMuX2RyYWdZICogMzApO1xyXG4gICAgdGhpcy5fbW9kZWwuYWRkUGFyYW1ldGVyVmFsdWVCeUlkKFxyXG4gICAgICB0aGlzLl9pZFBhcmFtQW5nbGVaLFxyXG4gICAgICB0aGlzLl9kcmFnWCAqIHRoaXMuX2RyYWdZICogLTMwXHJcbiAgICApO1xyXG5cclxuICAgIC8vIOODieODqeODg+OCsOOBq+OCiOOCi+S9k+OBruWQkeOBjeOBruiqv+aVtFxyXG4gICAgdGhpcy5fbW9kZWwuYWRkUGFyYW1ldGVyVmFsdWVCeUlkKFxyXG4gICAgICB0aGlzLl9pZFBhcmFtQm9keUFuZ2xlWCxcclxuICAgICAgdGhpcy5fZHJhZ1ggKiAxMFxyXG4gICAgKTsgLy8gLTEw44GL44KJMTDjga7lgKTjgpLliqDjgYjjgotcclxuXHJcbiAgICAvLyDjg4njg6njg4PjgrDjgavjgojjgovnm67jga7lkJHjgY3jga7oqr/mlbRcclxuICAgIHRoaXMuX21vZGVsLmFkZFBhcmFtZXRlclZhbHVlQnlJZCh0aGlzLl9pZFBhcmFtRXllQmFsbFgsIHRoaXMuX2RyYWdYKTsgLy8gLTHjgYvjgokx44Gu5YCk44KS5Yqg44GI44KLXHJcbiAgICB0aGlzLl9tb2RlbC5hZGRQYXJhbWV0ZXJWYWx1ZUJ5SWQodGhpcy5faWRQYXJhbUV5ZUJhbGxZLCB0aGlzLl9kcmFnWSk7XHJcblxyXG4gICAgLy8g5ZG85ZC444Gq44GpXHJcbiAgICBpZiAodGhpcy5fYnJlYXRoICE9IG51bGwpIHtcclxuICAgICAgdGhpcy5fYnJlYXRoLnVwZGF0ZVBhcmFtZXRlcnModGhpcy5fbW9kZWwsIGRlbHRhVGltZVNlY29uZHMpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIOeJqeeQhua8lOeul+OBruioreWumlxyXG4gICAgaWYgKHRoaXMuX3BoeXNpY3MgIT0gbnVsbCkge1xyXG4gICAgICB0aGlzLl9waHlzaWNzLmV2YWx1YXRlKHRoaXMuX21vZGVsLCBkZWx0YVRpbWVTZWNvbmRzKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyDjg6rjg4Pjg5fjgrfjg7Pjgq/jga7oqK3lrppcclxuICAgIGlmICh0aGlzLl9saXBzeW5jKSB7XHJcbiAgICAgIGNvbnN0IHZhbHVlID0gMDsgLy8g44Oq44Ki44Or44K/44Kk44Og44Gn44Oq44OD44OX44K344Oz44Kv44KS6KGM44GG5aC05ZCI44CB44K344K544OG44Og44GL44KJ6Z+z6YeP44KS5Y+W5b6X44GX44Gm44CBMH4x44Gu56+E5Zuy44Gn5YCk44KS5YWl5Yqb44GX44G+44GZ44CCXHJcblxyXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX2xpcFN5bmNJZHMuZ2V0U2l6ZSgpOyArK2kpIHtcclxuICAgICAgICB0aGlzLl9tb2RlbC5hZGRQYXJhbWV0ZXJWYWx1ZUJ5SWQodGhpcy5fbGlwU3luY0lkcy5hdChpKSwgdmFsdWUsIDAuOCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyDjg53jg7zjgrrjga7oqK3lrppcclxuICAgIGlmICh0aGlzLl9wb3NlICE9IG51bGwpIHtcclxuICAgICAgdGhpcy5fcG9zZS51cGRhdGVQYXJhbWV0ZXJzKHRoaXMuX21vZGVsLCBkZWx0YVRpbWVTZWNvbmRzKTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLl9tb2RlbC51cGRhdGUoKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOW8leaVsOOBp+aMh+WumuOBl+OBn+ODouODvOOCt+ODp+ODs+OBruWGjeeUn+OCkumWi+Wni+OBmeOCi1xyXG4gICAqIEBwYXJhbSBncm91cCDjg6Ljg7zjgrfjg6fjg7PjgrDjg6vjg7zjg5flkI1cclxuICAgKiBAcGFyYW0gbm8g44Kw44Or44O844OX5YaF44Gu55Wq5Y+3XHJcbiAgICogQHBhcmFtIHByaW9yaXR5IOWEquWFiOW6plxyXG4gICAqIEBwYXJhbSBvbkZpbmlzaGVkTW90aW9uSGFuZGxlciDjg6Ljg7zjgrfjg6fjg7Plho3nlJ/ntYLkuobmmYLjgavlkbzjgbPlh7rjgZXjgozjgovjgrPjg7zjg6vjg5Djg4Pjgq/plqLmlbBcclxuICAgKiBAcmV0dXJuIOmWi+Wni+OBl+OBn+ODouODvOOCt+ODp+ODs+OBruitmOWIpeeVquWPt+OCkui/lOOBmeOAguWAi+WIpeOBruODouODvOOCt+ODp+ODs+OBjOe1guS6huOBl+OBn+OBi+WQpuOBi+OCkuWIpOWumuOBmeOCi2lzRmluaXNoZWQoKeOBruW8leaVsOOBp+S9v+eUqOOBmeOCi+OAgumWi+Wni+OBp+OBjeOBquOBhOaZguOBr1stMV1cclxuICAgKi9cclxuICBwdWJsaWMgc3RhcnRNb3Rpb24oXHJcbiAgICBncm91cDogc3RyaW5nLFxyXG4gICAgbm86IG51bWJlcixcclxuICAgIHByaW9yaXR5OiBudW1iZXIsXHJcbiAgICBvbkZpbmlzaGVkTW90aW9uSGFuZGxlcj86IEZpbmlzaGVkTW90aW9uQ2FsbGJhY2tcclxuICApOiBDdWJpc21Nb3Rpb25RdWV1ZUVudHJ5SGFuZGxlIHtcclxuICAgIGlmIChwcmlvcml0eSA9PSBMQXBwRGVmaW5lLlByaW9yaXR5Rm9yY2UpIHtcclxuICAgICAgdGhpcy5fbW90aW9uTWFuYWdlci5zZXRSZXNlcnZlUHJpb3JpdHkocHJpb3JpdHkpO1xyXG4gICAgfSBlbHNlIGlmICghdGhpcy5fbW90aW9uTWFuYWdlci5yZXNlcnZlTW90aW9uKHByaW9yaXR5KSkge1xyXG4gICAgICBpZiAodGhpcy5fZGVidWdNb2RlKSB7XHJcbiAgICAgICAgTEFwcFBhbC5wcmludE1lc3NhZ2UoXCJbQVBQXWNhbid0IHN0YXJ0IG1vdGlvbi5cIik7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIEludmFsaWRNb3Rpb25RdWV1ZUVudHJ5SGFuZGxlVmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgbW90aW9uRmlsZU5hbWUgPSB0aGlzLl9tb2RlbFNldHRpbmcuZ2V0TW90aW9uRmlsZU5hbWUoZ3JvdXAsIG5vKTtcclxuXHJcbiAgICAvLyBleCkgaWRsZV8wXHJcbiAgICBjb25zdCBuYW1lID0gYCR7Z3JvdXB9XyR7bm99YDtcclxuICAgIGxldCBtb3Rpb246IEN1YmlzbU1vdGlvbiA9IHRoaXMuX21vdGlvbnMuZ2V0VmFsdWUobmFtZSkgYXMgQ3ViaXNtTW90aW9uO1xyXG4gICAgbGV0IGF1dG9EZWxldGUgPSBmYWxzZTtcclxuXHJcbiAgICBpZiAobW90aW9uID09IG51bGwpIHtcclxuICAgICAgZmV0Y2goYCR7dGhpcy5fbW9kZWxIb21lRGlyfSR7bW90aW9uRmlsZU5hbWV9YClcclxuICAgICAgICAudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS5hcnJheUJ1ZmZlcigpKVxyXG4gICAgICAgIC50aGVuKGFycmF5QnVmZmVyID0+IHtcclxuICAgICAgICAgIG1vdGlvbiA9IHRoaXMubG9hZE1vdGlvbihcclxuICAgICAgICAgICAgYXJyYXlCdWZmZXIsXHJcbiAgICAgICAgICAgIGFycmF5QnVmZmVyLmJ5dGVMZW5ndGgsXHJcbiAgICAgICAgICAgIG51bGwsXHJcbiAgICAgICAgICAgIG9uRmluaXNoZWRNb3Rpb25IYW5kbGVyXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgICAgbGV0IGZhZGVUaW1lOiBudW1iZXIgPSB0aGlzLl9tb2RlbFNldHRpbmcuZ2V0TW90aW9uRmFkZUluVGltZVZhbHVlKFxyXG4gICAgICAgICAgICBncm91cCxcclxuICAgICAgICAgICAgbm9cclxuICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgaWYgKGZhZGVUaW1lID49IDAuMCkge1xyXG4gICAgICAgICAgICBtb3Rpb24uc2V0RmFkZUluVGltZShmYWRlVGltZSk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgZmFkZVRpbWUgPSB0aGlzLl9tb2RlbFNldHRpbmcuZ2V0TW90aW9uRmFkZU91dFRpbWVWYWx1ZShncm91cCwgbm8pO1xyXG4gICAgICAgICAgaWYgKGZhZGVUaW1lID49IDAuMCkge1xyXG4gICAgICAgICAgICBtb3Rpb24uc2V0RmFkZU91dFRpbWUoZmFkZVRpbWUpO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIG1vdGlvbi5zZXRFZmZlY3RJZHModGhpcy5fZXllQmxpbmtJZHMsIHRoaXMuX2xpcFN5bmNJZHMpO1xyXG4gICAgICAgICAgYXV0b0RlbGV0ZSA9IHRydWU7IC8vIOe1guS6huaZguOBq+ODoeODouODquOBi+OCieWJiumZpFxyXG4gICAgICAgIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgbW90aW9uLnNldEZpbmlzaGVkTW90aW9uSGFuZGxlcihvbkZpbmlzaGVkTW90aW9uSGFuZGxlcik7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMuX2RlYnVnTW9kZSkge1xyXG4gICAgICBMQXBwUGFsLnByaW50TWVzc2FnZShgW0FQUF1zdGFydCBtb3Rpb246IFske2dyb3VwfV8ke25vfWApO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRoaXMuX21vdGlvbk1hbmFnZXIuc3RhcnRNb3Rpb25Qcmlvcml0eShcclxuICAgICAgbW90aW9uLFxyXG4gICAgICBhdXRvRGVsZXRlLFxyXG4gICAgICBwcmlvcml0eVxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOODqeODs+ODgOODoOOBq+mBuOOBsOOCjOOBn+ODouODvOOCt+ODp+ODs+OBruWGjeeUn+OCkumWi+Wni+OBmeOCi+OAglxyXG4gICAqIEBwYXJhbSBncm91cCDjg6Ljg7zjgrfjg6fjg7PjgrDjg6vjg7zjg5flkI1cclxuICAgKiBAcGFyYW0gcHJpb3JpdHkg5YSq5YWI5bqmXHJcbiAgICogQHBhcmFtIG9uRmluaXNoZWRNb3Rpb25IYW5kbGVyIOODouODvOOCt+ODp+ODs+WGjeeUn+e1guS6huaZguOBq+WRvOOBs+WHuuOBleOCjOOCi+OCs+ODvOODq+ODkOODg+OCr+mWouaVsFxyXG4gICAqIEBwYXJhbSBvbkZpbmlzaGVkTW90aW9uSGFuZGxlciDliqjkvZzlho3nlJ/nu5PmnZ/ml7bosIPnlKjnmoTlm57lkbzlh73mlbBcclxuICAgKiBAcmV0dXJuIOmWi+Wni+OBl+OBn+ODouODvOOCt+ODp+ODs+OBruitmOWIpeeVquWPt+OCkui/lOOBmeOAguWAi+WIpeOBruODouODvOOCt+ODp+ODs+OBjOe1guS6huOBl+OBn+OBi+WQpuOBi+OCkuWIpOWumuOBmeOCi2lzRmluaXNoZWQoKeOBruW8leaVsOOBp+S9v+eUqOOBmeOCi+OAgumWi+Wni+OBp+OBjeOBquOBhOaZguOBr1stMV1cclxuICAgKiBAcmV0dXJuIOi/lOWbnuW8gOWni+WKqOS9nOeahOivhuWIq+WPt+eggeOAgueUqOS6juWIpOWumuS4quWIq+WKqOS9nOaYr+WQpue7k+adn+eahGlzRmluaXNoZWTvvIjvvInlj4LmlbDjgILml6Dms5XlvIDlp4vml7ZbLTFdXHJcbiAgICovXHJcbiAgcHVibGljIHN0YXJ0UmFuZG9tTW90aW9uKFxyXG4gICAgZ3JvdXA6IHN0cmluZyxcclxuICAgIHByaW9yaXR5OiBudW1iZXIsXHJcbiAgICBvbkZpbmlzaGVkTW90aW9uSGFuZGxlcj86IEZpbmlzaGVkTW90aW9uQ2FsbGJhY2tcclxuICApOiBDdWJpc21Nb3Rpb25RdWV1ZUVudHJ5SGFuZGxlIHtcclxuICAgIGlmICh0aGlzLl9tb2RlbFNldHRpbmcuZ2V0TW90aW9uQ291bnQoZ3JvdXApID09IDApIHtcclxuICAgICAgcmV0dXJuIEludmFsaWRNb3Rpb25RdWV1ZUVudHJ5SGFuZGxlVmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3Qgbm86IG51bWJlciA9IE1hdGguZmxvb3IoXHJcbiAgICAgIE1hdGgucmFuZG9tKCkgKiB0aGlzLl9tb2RlbFNldHRpbmcuZ2V0TW90aW9uQ291bnQoZ3JvdXApXHJcbiAgICApO1xyXG4gICAgcmV0dXJuIHRoaXMuc3RhcnRNb3Rpb24oZ3JvdXAsIG5vLCBwcmlvcml0eSwgb25GaW5pc2hlZE1vdGlvbkhhbmRsZXIpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog5byV5pWw44Gn5oyH5a6a44GX44Gf6KGo5oOF44Oi44O844K344On44Oz44KS44K744OD44OI44GZ44KLXHJcbiAgICpcclxuICAgKiBAcGFyYW0gZXhwcmVzc2lvbklkIOihqOaDheODouODvOOCt+ODp+ODs+OBrklEXHJcbiAgICovXHJcbiAgcHVibGljIHNldEV4cHJlc3Npb24oZXhwcmVzc2lvbklkOiBzdHJpbmcpOiB2b2lkIHtcclxuICAgIGNvbnN0IG1vdGlvbjogQUN1YmlzbU1vdGlvbiA9IHRoaXMuX2V4cHJlc3Npb25zLmdldFZhbHVlKGV4cHJlc3Npb25JZCk7XHJcblxyXG4gICAgaWYgKHRoaXMuX2RlYnVnTW9kZSkge1xyXG4gICAgICBMQXBwUGFsLnByaW50TWVzc2FnZShgW0FQUF1leHByZXNzaW9uOiBbJHtleHByZXNzaW9uSWR9XWApO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChtb3Rpb24gIT0gbnVsbCkge1xyXG4gICAgICB0aGlzLl9leHByZXNzaW9uTWFuYWdlci5zdGFydE1vdGlvblByaW9yaXR5KFxyXG4gICAgICAgIG1vdGlvbixcclxuICAgICAgICBmYWxzZSxcclxuICAgICAgICBMQXBwRGVmaW5lLlByaW9yaXR5Rm9yY2VcclxuICAgICAgKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGlmICh0aGlzLl9kZWJ1Z01vZGUpIHtcclxuICAgICAgICBMQXBwUGFsLnByaW50TWVzc2FnZShgW0FQUF1leHByZXNzaW9uWyR7ZXhwcmVzc2lvbklkfV0gaXMgbnVsbGApO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDjg6njg7Pjg4Djg6DjgavpgbjjgbDjgozjgZ/ooajmg4Xjg6Ljg7zjgrfjg6fjg7PjgpLjgrvjg4Pjg4jjgZnjgotcclxuICAgKi9cclxuICBwdWJsaWMgc2V0UmFuZG9tRXhwcmVzc2lvbigpOiB2b2lkIHtcclxuICAgIGlmICh0aGlzLl9leHByZXNzaW9ucy5nZXRTaXplKCkgPT0gMCkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3Qgbm86IG51bWJlciA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHRoaXMuX2V4cHJlc3Npb25zLmdldFNpemUoKSk7XHJcblxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9leHByZXNzaW9ucy5nZXRTaXplKCk7IGkrKykge1xyXG4gICAgICBpZiAoaSA9PSBubykge1xyXG4gICAgICAgIGNvbnN0IG5hbWU6IHN0cmluZyA9IHRoaXMuX2V4cHJlc3Npb25zLl9rZXlWYWx1ZXNbaV0uZmlyc3Q7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJjbGllbnQtLS0+OlwiICsgbmFtZSlcclxuICAgICAgICB0aGlzLnNldEV4cHJlc3Npb24obmFtZSk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDjgqTjg5njg7Pjg4jjga7nmbrngavjgpLlj5fjgZHlj5bjgotcclxuICAgKi9cclxuICBwdWJsaWMgbW90aW9uRXZlbnRGaXJlZChldmVudFZhbHVlOiBjc21TdHJpbmcpOiB2b2lkIHtcclxuICAgIEN1YmlzbUxvZ0luZm8oJ3swfSBpcyBmaXJlZCBvbiBMQXBwTW9kZWwhIScsIGV2ZW50VmFsdWUucyk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDlvZPjgZ/jgorliKTlrprjg4bjgrnjg4hcclxuICAgKiDmjIflrprvvKnvvKTjga7poILngrnjg6rjgrnjg4jjgYvjgonnn6nlvaLjgpLoqIjnrpfjgZfjgIHluqfmqJnjgpLjgYznn6nlvaLnr4Tlm7LlhoXjgYvliKTlrprjgZnjgovjgIJcclxuICAgKiDmoLnmja7mjIflrppJROeahOmhtueCueWIl+ihqOiuoeeul+efqeW9ou+8jOWIpOWumuWdkOagh+aYr+WQpuWcqOefqeW9ouiMg+WbtOWGheOAglxyXG4gICAqXHJcbiAgICogQHBhcmFtIGhpdEFyZW5hTmFtZSAg5b2T44Gf44KK5Yik5a6a44KS44OG44K544OI44GZ44KL5a++6LGh44GuSURcclxuICAgKiBAcGFyYW0geCAgICAgICAgICAgICDliKTlrprjgpLooYzjgYZY5bqn5qiZXHJcbiAgICogQHBhcmFtIHkgICAgICAgICAgICAg5Yik5a6a44KS6KGM44GGWeW6p+aomVxyXG4gICAqL1xyXG4gIHB1YmxpYyBoaXRUZXN0KGhpdEFyZW5hTmFtZTogc3RyaW5nLCB4OiBudW1iZXIsIHk6IG51bWJlcik6IGJvb2xlYW4ge1xyXG4gICAgLy8g6YCP5piO5pmC44Gv5b2T44Gf44KK5Yik5a6a54Sh44GX44CCXHJcbiAgICBpZiAodGhpcy5fb3BhY2l0eSA8IDEpIHtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGNvdW50OiBudW1iZXIgPSB0aGlzLl9tb2RlbFNldHRpbmcuZ2V0SGl0QXJlYXNDb3VudCgpO1xyXG5cclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY291bnQ7IGkrKykge1xyXG4gICAgICBpZiAodGhpcy5fbW9kZWxTZXR0aW5nLmdldEhpdEFyZWFOYW1lKGkpID09IGhpdEFyZW5hTmFtZSkge1xyXG4gICAgICAgIGNvbnN0IGRyYXdJZDogQ3ViaXNtSWRIYW5kbGUgPSB0aGlzLl9tb2RlbFNldHRpbmcuZ2V0SGl0QXJlYUlkKGkpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLmlzSGl0KGRyYXdJZCwgeCwgeSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDjg6Ljg7zjgrfjg6fjg7Pjg4fjg7zjgr/jgpLjgrDjg6vjg7zjg5flkI3jgYvjgonkuIDmi6zjgafjg63jg7zjg4njgZnjgovjgIJcclxuICAgKiDjg6Ljg7zjgrfjg6fjg7Pjg4fjg7zjgr/jga7lkI3liY3jga/lhoXpg6jjgadNb2RlbFNldHRpbmfjgYvjgonlj5blvpfjgZnjgovjgIJcclxuICAgKiDku47nu4TlkIjlkI3np7DkuK3nu5/kuIDliqDovb3liqjkvZzmlbDmja7jgIJcclxuICAgKiDliqjkvZzmlbDmja7nmoTlkI3np7DlnKjlhoXpg6jku45Nb2RlbFNldHRpbmflj5blvpfjgIJcclxuICAgKlxyXG4gICAqIEBwYXJhbSBncm91cCDjg6Ljg7zjgrfjg6fjg7Pjg4fjg7zjgr/jga7jgrDjg6vjg7zjg5flkI1cclxuICAgKiBncm91cOWKqOS9nOaVsOaNrueahOe7hOWQjeensFxyXG4gICAqL1xyXG4gIHB1YmxpYyBwcmVMb2FkTW90aW9uR3JvdXAoZ3JvdXA6IHN0cmluZyk6IHZvaWQge1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9tb2RlbFNldHRpbmcuZ2V0TW90aW9uQ291bnQoZ3JvdXApOyBpKyspIHtcclxuICAgICAgY29uc3QgbW90aW9uRmlsZU5hbWUgPSB0aGlzLl9tb2RlbFNldHRpbmcuZ2V0TW90aW9uRmlsZU5hbWUoZ3JvdXAsIGkpO1xyXG4gICAgICAvLyBleCkgaWRsZV8wXHJcbiAgICAgIGNvbnN0IG5hbWUgPSBgJHtncm91cH1fJHtpfWA7XHJcbiAgICAgIGlmICh0aGlzLl9kZWJ1Z01vZGUpIHtcclxuICAgICAgICBMQXBwUGFsLnByaW50TWVzc2FnZShcclxuICAgICAgICAgIGBbQVBQXWxvYWQgbW90aW9uOiAke21vdGlvbkZpbGVOYW1lfSA9PiBbJHtuYW1lfV1gXHJcbiAgICAgICAgKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgZmV0Y2goYCR7dGhpcy5fbW9kZWxIb21lRGlyfSR7bW90aW9uRmlsZU5hbWV9YClcclxuICAgICAgICAudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS5hcnJheUJ1ZmZlcigpKVxyXG4gICAgICAgIC50aGVuKGFycmF5QnVmZmVyID0+IHtcclxuICAgICAgICAgIGNvbnN0IHRtcE1vdGlvbjogQ3ViaXNtTW90aW9uID0gdGhpcy5sb2FkTW90aW9uKFxyXG4gICAgICAgICAgICBhcnJheUJ1ZmZlcixcclxuICAgICAgICAgICAgYXJyYXlCdWZmZXIuYnl0ZUxlbmd0aCxcclxuICAgICAgICAgICAgbmFtZVxyXG4gICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICBsZXQgZmFkZVRpbWUgPSB0aGlzLl9tb2RlbFNldHRpbmcuZ2V0TW90aW9uRmFkZUluVGltZVZhbHVlKGdyb3VwLCBpKTtcclxuICAgICAgICAgIGlmIChmYWRlVGltZSA+PSAwLjApIHtcclxuICAgICAgICAgICAgdG1wTW90aW9uLnNldEZhZGVJblRpbWUoZmFkZVRpbWUpO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGZhZGVUaW1lID0gdGhpcy5fbW9kZWxTZXR0aW5nLmdldE1vdGlvbkZhZGVPdXRUaW1lVmFsdWUoZ3JvdXAsIGkpO1xyXG4gICAgICAgICAgaWYgKGZhZGVUaW1lID49IDAuMCkge1xyXG4gICAgICAgICAgICB0bXBNb3Rpb24uc2V0RmFkZU91dFRpbWUoZmFkZVRpbWUpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgdG1wTW90aW9uLnNldEVmZmVjdElkcyh0aGlzLl9leWVCbGlua0lkcywgdGhpcy5fbGlwU3luY0lkcyk7XHJcblxyXG4gICAgICAgICAgaWYgKHRoaXMuX21vdGlvbnMuZ2V0VmFsdWUobmFtZSkgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICBBQ3ViaXNtTW90aW9uLmRlbGV0ZSh0aGlzLl9tb3Rpb25zLmdldFZhbHVlKG5hbWUpKTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICB0aGlzLl9tb3Rpb25zLnNldFZhbHVlKG5hbWUsIHRtcE1vdGlvbik7XHJcblxyXG4gICAgICAgICAgdGhpcy5fbW90aW9uQ291bnQrKztcclxuICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCd0aGlzLl9tb3Rpb25Db3VudCcsdGhpcy5fbW90aW9uQ291bnQpXHJcbiAgICAgICAgICAvLyBjb25zb2xlLmxvZygndGhpcy5fYWxsTW90aW9uQ291bnQnLHRoaXMuX2FsbE1vdGlvbkNvdW50KVxyXG4gICAgICAgICAgaWYgKHRoaXMuX21vdGlvbkNvdW50ID49IHRoaXMuX2FsbE1vdGlvbkNvdW50KSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3N0YXRlID0gTG9hZFN0ZXAuTG9hZFRleHR1cmU7XHJcblxyXG4gICAgICAgICAgICAvLyDlhajjgabjga7jg6Ljg7zjgrfjg6fjg7PjgpLlgZzmraLjgZnjgotcclxuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xpdmUyZC1oaWRkZW4nKS5zdHlsZS5kaXNwbGF5PSdub25lJ1xyXG4gICAgICAgICAgICBpZih0aGlzLl9tb3Rpb25NYW5hZ2VyKXtcclxuICAgICAgICAgICAgICB0aGlzLl9tb3Rpb25NYW5hZ2VyLnN0b3BBbGxNb3Rpb25zKCk7XHJcbiAgICAgICAgICAgICAgdGhpcy5jcmVhdGVSZW5kZXJlcigpO1xyXG4gICAgICAgICAgICAgIHRoaXMuc2V0dXBUZXh0dXJlcygpO1xyXG4gICAgICAgICAgICAgIHRoaXMuZ2V0UmVuZGVyZXIoKS5zdGFydFVwKGdsKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5fdXBkYXRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5faW5pdGlhbGl6ZWQgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgLy8gdGhpcy5jcmVhdGVSZW5kZXJlcigpO1xyXG4gICAgICAgICAgICAvLyB0aGlzLnNldHVwVGV4dHVyZXMoKTtcclxuICAgICAgICAgICAgLy8gdGhpcy5nZXRSZW5kZXJlcigpLnN0YXJ0VXAoZ2wpO1xyXG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGl2ZTJkJykuc3R5bGUudmlzaWJpbGl0eT0ndmlzaWJsZSdcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOOBmeOBueOBpuOBruODouODvOOCt+ODp+ODs+ODh+ODvOOCv+OCkuino+aUvuOBmeOCi+OAglxyXG4gICAqL1xyXG4gIHB1YmxpYyByZWxlYXNlTW90aW9ucygpOiB2b2lkIHtcclxuICAgIHRoaXMuX21vdGlvbnMuY2xlYXIoKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOWFqOOBpuOBruihqOaDheODh+ODvOOCv+OCkuino+aUvuOBmeOCi+OAglxyXG4gICAqL1xyXG4gIHB1YmxpYyByZWxlYXNlRXhwcmVzc2lvbnMoKTogdm9pZCB7XHJcbiAgICB0aGlzLl9leHByZXNzaW9ucy5jbGVhcigpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog44Oi44OH44Or44KS5o+P55S744GZ44KL5Yem55CG44CC44Oi44OH44Or44KS5o+P55S744GZ44KL56m66ZaT44GuVmlldy1Qcm9qZWN0aW9u6KGM5YiX44KS5rih44GZ44CCXHJcbiAgICovXHJcbiAgcHVibGljIGRvRHJhdygpOiB2b2lkIHtcclxuICAgIGlmICh0aGlzLl9tb2RlbCA9PSBudWxsKSByZXR1cm47XHJcblxyXG4gICAgLy8g44Kt44Oj44Oz44OQ44K544K144Kk44K644KS5rih44GZXHJcbiAgICBjb25zdCB2aWV3cG9ydDogbnVtYmVyW10gPSBbMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0XTtcclxuXHJcbiAgICB0aGlzLmdldFJlbmRlcmVyKCkuc2V0UmVuZGVyU3RhdGUoZnJhbWVCdWZmZXIsIHZpZXdwb3J0KTtcclxuICAgIHRoaXMuZ2V0UmVuZGVyZXIoKS5kcmF3TW9kZWwoKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOODouODh+ODq+OCkuaPj+eUu+OBmeOCi+WHpueQhuOAguODouODh+ODq+OCkuaPj+eUu+OBmeOCi+epuumWk+OBrlZpZXctUHJvamVjdGlvbuihjOWIl+OCkua4oeOBmeOAglxyXG4gICAqL1xyXG4gIHB1YmxpYyBkcmF3KG1hdHJpeDogQ3ViaXNtTWF0cml4NDQpOiB2b2lkIHtcclxuICAgIGlmICh0aGlzLl9tb2RlbCA9PSBudWxsKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICAvLyDlkIToqq3jgb/ovrzjgb/ntYLkuoblvoxcclxuICAgIGlmICh0aGlzLl9zdGF0ZSA9PSBMb2FkU3RlcC5Db21wbGV0ZVNldHVwKSB7XHJcbiAgICAgIG1hdHJpeC5tdWx0aXBseUJ5TWF0cml4KHRoaXMuX21vZGVsTWF0cml4KTtcclxuXHJcbiAgICAgIHRoaXMuZ2V0UmVuZGVyZXIoKS5zZXRNdnBNYXRyaXgobWF0cml4KTtcclxuXHJcbiAgICAgIHRoaXMuZG9EcmF3KCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDjgrPjg7Pjgrnjg4jjg6njgq/jgr9cclxuICAgKi9cclxuICBwdWJsaWMgY29uc3RydWN0b3IoKSB7XHJcbiAgICBzdXBlcigpO1xyXG5cclxuICAgIHRoaXMuX21vZGVsU2V0dGluZyA9IG51bGw7XHJcbiAgICB0aGlzLl9tb2RlbEhvbWVEaXIgPSBudWxsO1xyXG4gICAgdGhpcy5fdXNlclRpbWVTZWNvbmRzID0gMC4wO1xyXG5cclxuICAgIHRoaXMuX2V5ZUJsaW5rSWRzID0gbmV3IGNzbVZlY3RvcjxDdWJpc21JZEhhbmRsZT4oKTtcclxuICAgIHRoaXMuX2xpcFN5bmNJZHMgPSBuZXcgY3NtVmVjdG9yPEN1YmlzbUlkSGFuZGxlPigpO1xyXG5cclxuICAgIHRoaXMuX21vdGlvbnMgPSBuZXcgY3NtTWFwPHN0cmluZywgQUN1YmlzbU1vdGlvbj4oKTtcclxuICAgIHRoaXMuX2V4cHJlc3Npb25zID0gbmV3IGNzbU1hcDxzdHJpbmcsIEFDdWJpc21Nb3Rpb24+KCk7XHJcblxyXG4gICAgdGhpcy5faGl0QXJlYSA9IG5ldyBjc21WZWN0b3I8Y3NtUmVjdD4oKTtcclxuICAgIHRoaXMuX3VzZXJBcmVhID0gbmV3IGNzbVZlY3Rvcjxjc21SZWN0PigpO1xyXG5cclxuICAgIHRoaXMuX2lkUGFyYW1BbmdsZVggPSBDdWJpc21GcmFtZXdvcmsuZ2V0SWRNYW5hZ2VyKCkuZ2V0SWQoXHJcbiAgICAgIEN1YmlzbURlZmF1bHRQYXJhbWV0ZXJJZC5QYXJhbUFuZ2xlWFxyXG4gICAgKTtcclxuICAgIHRoaXMuX2lkUGFyYW1BbmdsZVkgPSBDdWJpc21GcmFtZXdvcmsuZ2V0SWRNYW5hZ2VyKCkuZ2V0SWQoXHJcbiAgICAgIEN1YmlzbURlZmF1bHRQYXJhbWV0ZXJJZC5QYXJhbUFuZ2xlWVxyXG4gICAgKTtcclxuICAgIHRoaXMuX2lkUGFyYW1BbmdsZVogPSBDdWJpc21GcmFtZXdvcmsuZ2V0SWRNYW5hZ2VyKCkuZ2V0SWQoXHJcbiAgICAgIEN1YmlzbURlZmF1bHRQYXJhbWV0ZXJJZC5QYXJhbUFuZ2xlWlxyXG4gICAgKTtcclxuICAgIHRoaXMuX2lkUGFyYW1FeWVCYWxsWCA9IEN1YmlzbUZyYW1ld29yay5nZXRJZE1hbmFnZXIoKS5nZXRJZChcclxuICAgICAgQ3ViaXNtRGVmYXVsdFBhcmFtZXRlcklkLlBhcmFtRXllQmFsbFhcclxuICAgICk7XHJcbiAgICB0aGlzLl9pZFBhcmFtRXllQmFsbFkgPSBDdWJpc21GcmFtZXdvcmsuZ2V0SWRNYW5hZ2VyKCkuZ2V0SWQoXHJcbiAgICAgIEN1YmlzbURlZmF1bHRQYXJhbWV0ZXJJZC5QYXJhbUV5ZUJhbGxZXHJcbiAgICApO1xyXG4gICAgdGhpcy5faWRQYXJhbUJvZHlBbmdsZVggPSBDdWJpc21GcmFtZXdvcmsuZ2V0SWRNYW5hZ2VyKCkuZ2V0SWQoXHJcbiAgICAgIEN1YmlzbURlZmF1bHRQYXJhbWV0ZXJJZC5QYXJhbUJvZHlBbmdsZVhcclxuICAgICk7XHJcblxyXG4gICAgdGhpcy5fc3RhdGUgPSBMb2FkU3RlcC5Mb2FkQXNzZXRzO1xyXG4gICAgdGhpcy5fZXhwcmVzc2lvbkNvdW50ID0gMDtcclxuICAgIHRoaXMuX3RleHR1cmVDb3VudCA9IDA7XHJcbiAgICB0aGlzLl9tb3Rpb25Db3VudCA9IDA7XHJcbiAgICB0aGlzLl9hbGxNb3Rpb25Db3VudCA9IDA7XHJcbiAgfVxyXG5cclxuICBfbW9kZWxTZXR0aW5nOiBJQ3ViaXNtTW9kZWxTZXR0aW5nOyAvLyDjg6Ljg4fjg6vjgrvjg4Pjg4bjgqPjg7PjgrDmg4XloLFcclxuICBfbW9kZWxIb21lRGlyOiBzdHJpbmc7IC8vIOODouODh+ODq+OCu+ODg+ODhuOCo+ODs+OCsOOBjOe9ruOBi+OCjOOBn+ODh+OCo+ODrOOCr+ODiOODqlxyXG4gIF91c2VyVGltZVNlY29uZHM6IG51bWJlcjsgLy8g44OH44Or44K/5pmC6ZaT44Gu56mN566X5YCkW+enkl1cclxuXHJcbiAgX2V5ZUJsaW5rSWRzOiBjc21WZWN0b3I8Q3ViaXNtSWRIYW5kbGU+OyAvLyDjg6Ljg4fjg6vjgavoqK3lrprjgZXjgozjgZ/nnqzjgY3mqZ/og73nlKjjg5Hjg6njg6Hjg7zjgr9JRFxyXG4gIF9saXBTeW5jSWRzOiBjc21WZWN0b3I8Q3ViaXNtSWRIYW5kbGU+OyAvLyDjg6Ljg4fjg6vjgavoqK3lrprjgZXjgozjgZ/jg6rjg4Pjg5fjgrfjg7Pjgq/mqZ/og73nlKjjg5Hjg6njg6Hjg7zjgr9JRFxyXG5cclxuICBfbW90aW9uczogY3NtTWFwPHN0cmluZywgQUN1YmlzbU1vdGlvbj47IC8vIOiqreOBv+i+vOOBvuOCjOOBpuOBhOOCi+ODouODvOOCt+ODp+ODs+OBruODquOCueODiFxyXG4gIF9leHByZXNzaW9uczogY3NtTWFwPHN0cmluZywgQUN1YmlzbU1vdGlvbj47IC8vIOiqreOBv+i+vOOBvuOCjOOBpuOBhOOCi+ihqOaDheOBruODquOCueODiFxyXG5cclxuICBfaGl0QXJlYTogY3NtVmVjdG9yPGNzbVJlY3Q+O1xyXG4gIF91c2VyQXJlYTogY3NtVmVjdG9yPGNzbVJlY3Q+O1xyXG5cclxuICBfaWRQYXJhbUFuZ2xlWDogQ3ViaXNtSWRIYW5kbGU7IC8vIOODkeODqeODoeODvOOCv0lEOiBQYXJhbUFuZ2xlWFxyXG4gIF9pZFBhcmFtQW5nbGVZOiBDdWJpc21JZEhhbmRsZTsgLy8g44OR44Op44Oh44O844K/SUQ6IFBhcmFtQW5nbGVZXHJcbiAgX2lkUGFyYW1BbmdsZVo6IEN1YmlzbUlkSGFuZGxlOyAvLyDjg5Hjg6njg6Hjg7zjgr9JRDogUGFyYW1BbmdsZVpcclxuICBfaWRQYXJhbUV5ZUJhbGxYOiBDdWJpc21JZEhhbmRsZTsgLy8g44OR44Op44Oh44O844K/SUQ6IFBhcmFtRXllQmFsbFhcclxuICBfaWRQYXJhbUV5ZUJhbGxZOiBDdWJpc21JZEhhbmRsZTsgLy8g44OR44Op44Oh44O844K/SUQ6IFBhcmFtRXllQkFsbFlcclxuICBfaWRQYXJhbUJvZHlBbmdsZVg6IEN1YmlzbUlkSGFuZGxlOyAvLyDjg5Hjg6njg6Hjg7zjgr9JRDogUGFyYW1Cb2R5QW5nbGVYXHJcblxyXG4gIF9zdGF0ZTogbnVtYmVyOyAvLyDnj77lnKjjga7jgrnjg4bjg7zjgr/jgrnnrqHnkIbnlKhcclxuICBfZXhwcmVzc2lvbkNvdW50OiBudW1iZXI7IC8vIOihqOaDheODh+ODvOOCv+OCq+OCpuODs+ODiFxyXG4gIF90ZXh0dXJlQ291bnQ6IG51bWJlcjsgLy8g44OG44Kv44K544OB44Oj44Kr44Km44Oz44OIXHJcbiAgX21vdGlvbkNvdW50OiBudW1iZXI7IC8vIOODouODvOOCt+ODp+ODs+ODh+ODvOOCv+OCq+OCpuODs+ODiFxyXG4gIF9hbGxNb3Rpb25Db3VudDogbnVtYmVyOyAvLyDjg6Ljg7zjgrfjg6fjg7Pnt4/mlbBcclxufVxyXG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBT0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFHQTtBQUdBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUFBO0FBMnZCQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFHQTtBQUdBO0FBR0E7QUFHQTtBQUdBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQTd4QkE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBR0E7QUFDQTtBQUNBO0FBUUE7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFHQTtBQUNBO0FBRUE7QUFFQTtBQUVBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7O0FBaENBO0FBQUE7QUFpQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUdBO0FBR0E7QUFHQTtBQUdBO0FBWUE7QUFDQTtBQUdBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBR0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUVBO0FBQ0E7QUFHQTtBQUVBO0FBR0E7QUFDQTtBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFHQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUFBO0FBRUE7QUFFQTtBQUVBO0FBR0E7QUFLQTs7QUFFQTtBQUlBO0FBR0E7QUFJQTtBQUNBO0FBRUE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBOzs7QUFsQ0E7QUFDQTtBQWtDQTtBQUVBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBR0E7QUFHQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFJQTtBQUFBO0FBQ0E7QUFJQTtBQUNBO0FBQUE7QUFDQTtBQUlBO0FBQ0E7QUFJQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBTUE7QUFNQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQVVBO0FBQUE7QUFNQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUdBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUtBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBV0E7QUFLQTtBQUNBO0FBQ0E7QUFFQTtBQUdBO0FBQ0E7QUFPQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUtBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQVdBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBV0E7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFHQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUdBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7OztBQTNEQTtBQUFBO0FBNERBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQUE7QUFHQTtBQUVBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBd0VBO0FBQUE7QUE5ekJBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/lappmodel.ts\n");

/***/ }),

/***/ "./src/lapppal.ts":
/*!************************!*\
  !*** ./src/lapppal.ts ***!
  \************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.LAppPal = void 0;\r\nvar LAppPal = (function () {\r\n    function LAppPal() {\r\n    }\r\n    LAppPal.loadFileAsBytes = function (filePath, callback) {\r\n        fetch(filePath)\r\n            .then(function (response) { return response.arrayBuffer(); })\r\n            .then(function (arrayBuffer) { return callback(arrayBuffer, arrayBuffer.byteLength); });\r\n    };\r\n    LAppPal.getDeltaTime = function () {\r\n        return this.s_deltaTime;\r\n    };\r\n    LAppPal.updateTime = function () {\r\n        this.s_currentFrame = Date.now();\r\n        this.s_deltaTime = (this.s_currentFrame - this.s_lastFrame) / 1000;\r\n        this.s_lastFrame = this.s_currentFrame;\r\n    };\r\n    LAppPal.printMessage = function (message) {\r\n        console.log(message);\r\n    };\r\n    LAppPal.lastUpdate = Date.now();\r\n    LAppPal.s_currentFrame = 0.0;\r\n    LAppPal.s_lastFrame = 0.0;\r\n    LAppPal.s_deltaTime = 0.0;\r\n    return LAppPal;\r\n}());\r\nexports.LAppPal = LAppPal;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbGFwcHBhbC50cy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL2xpdmUyZC8uL3NyYy9sYXBwcGFsLnRzP2QzNzAiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIENvcHlyaWdodChjKSBMaXZlMkQgSW5jLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4gKlxyXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSB0aGUgTGl2ZTJEIE9wZW4gU29mdHdhcmUgbGljZW5zZVxyXG4gKiB0aGF0IGNhbiBiZSBmb3VuZCBhdCBodHRwczovL3d3dy5saXZlMmQuY29tL2V1bGEvbGl2ZTJkLW9wZW4tc29mdHdhcmUtbGljZW5zZS1hZ3JlZW1lbnRfZW4uaHRtbC5cclxuICovXHJcblxyXG4vKipcclxuICog44OX44Op44OD44OI44OV44Kp44O844Og5L6d5a2Y5qmf6IO944KS5oq96LGh5YyW44GZ44KLIEN1YmlzbSBQbGF0Zm9ybSBBYnN0cmFjdGlvbiBMYXllci5cclxuICpcclxuICog44OV44Kh44Kk44Or6Kqt44G/6L6844G/44KE5pmC5Yi75Y+W5b6X562J44Gu44OX44Op44OD44OI44OV44Kp44O844Og44Gr5L6d5a2Y44GZ44KL6Zai5pWw44KS44G+44Go44KB44KL44CCXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgTEFwcFBhbCB7XHJcbiAgLyoqXHJcbiAgICog44OV44Kh44Kk44Or44KS44OQ44Kk44OI44OH44O844K/44Go44GX44Gm6Kqt44G/44GT44KAXHJcbiAgICpcclxuICAgKiBAcGFyYW0gZmlsZVBhdGgg6Kqt44G/6L6844G/5a++6LGh44OV44Kh44Kk44Or44Gu44OR44K5XHJcbiAgICogQHJldHVyblxyXG4gICAqIHtcclxuICAgKiAgICAgIGJ1ZmZlciwgICDoqq3jgb/ovrzjgpPjgaDjg5DjgqTjg4jjg4fjg7zjgr9cclxuICAgKiAgICAgIHNpemUgICAgICAgIOODleOCoeOCpOODq+OCteOCpOOCulxyXG4gICAqIH1cclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIGxvYWRGaWxlQXNCeXRlcyhcclxuICAgIGZpbGVQYXRoOiBzdHJpbmcsXHJcbiAgICBjYWxsYmFjazogKGFycmF5QnVmZmVyOiBBcnJheUJ1ZmZlciwgc2l6ZTogbnVtYmVyKSA9PiB2b2lkXHJcbiAgKTogdm9pZCB7XHJcbiAgICBmZXRjaChmaWxlUGF0aClcclxuICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UuYXJyYXlCdWZmZXIoKSlcclxuICAgICAgLnRoZW4oYXJyYXlCdWZmZXIgPT4gY2FsbGJhY2soYXJyYXlCdWZmZXIsIGFycmF5QnVmZmVyLmJ5dGVMZW5ndGgpKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOODh+ODq+OCv+aZgumWk++8iOWJjeWbnuODleODrOODvOODoOOBqOOBruW3ruWIhu+8ieOCkuWPluW+l+OBmeOCi1xyXG4gICAqIEByZXR1cm4g44OH44Or44K/5pmC6ZaTW21zXVxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgZ2V0RGVsdGFUaW1lKCk6IG51bWJlciB7XHJcbiAgICByZXR1cm4gdGhpcy5zX2RlbHRhVGltZTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBzdGF0aWMgdXBkYXRlVGltZSgpOiB2b2lkIHtcclxuICAgIHRoaXMuc19jdXJyZW50RnJhbWUgPSBEYXRlLm5vdygpO1xyXG4gICAgdGhpcy5zX2RlbHRhVGltZSA9ICh0aGlzLnNfY3VycmVudEZyYW1lIC0gdGhpcy5zX2xhc3RGcmFtZSkgLyAxMDAwO1xyXG4gICAgdGhpcy5zX2xhc3RGcmFtZSA9IHRoaXMuc19jdXJyZW50RnJhbWU7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDjg6Hjg4Pjgrvjg7zjgrjjgpLlh7rlipvjgZnjgotcclxuICAgKiBAcGFyYW0gbWVzc2FnZSDmloflrZfliJdcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIHByaW50TWVzc2FnZShtZXNzYWdlOiBzdHJpbmcpOiB2b2lkIHtcclxuICAgIGNvbnNvbGUubG9nKG1lc3NhZ2UpO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIGxhc3RVcGRhdGUgPSBEYXRlLm5vdygpO1xyXG5cclxuICBzdGF0aWMgc19jdXJyZW50RnJhbWUgPSAwLjA7XHJcbiAgc3RhdGljIHNfbGFzdEZyYW1lID0gMC4wO1xyXG4gIHN0YXRpYyBzX2RlbHRhVGltZSA9IDAuMDtcclxufVxyXG4iXSwibWFwcGluZ3MiOiI7OztBQVlBO0FBQUE7QUErQ0E7QUFwQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUEvQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/lapppal.ts\n");

/***/ }),

/***/ "./src/lapptexturemanager.ts":
/*!***********************************!*\
  !*** ./src/lapptexturemanager.ts ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.TextureInfo = exports.LAppTextureManager = void 0;\r\nvar csmvector_1 = __webpack_require__(/*! ../Framework/src/type/csmvector */ \"./Framework/src/type/csmvector.ts\");\r\nvar Csm_csmVector = csmvector_1.Live2DCubismFramework.csmVector;\r\nvar lappdelegate_1 = __webpack_require__(/*! ./lappdelegate */ \"./src/lappdelegate.ts\");\r\nvar LAppTextureManager = (function () {\r\n    function LAppTextureManager() {\r\n        this._textures = new Csm_csmVector();\r\n    }\r\n    LAppTextureManager.prototype.release = function () {\r\n        for (var ite = this._textures.begin(); ite.notEqual(this._textures.end()); ite.preIncrement()) {\r\n            lappdelegate_1.gl.deleteTexture(ite.ptr().id);\r\n        }\r\n        this._textures = null;\r\n    };\r\n    LAppTextureManager.prototype.createTextureFromPngFile = function (fileName, usePremultiply, callback) {\r\n        var _this = this;\r\n        var _loop_1 = function (ite) {\r\n            if (ite.ptr().fileName == fileName &&\r\n                ite.ptr().usePremultply == usePremultiply) {\r\n                ite.ptr().img = new Image();\r\n                ite.ptr().img.onload = function () { return callback(ite.ptr()); };\r\n                ite.ptr().img.src = fileName;\r\n                return { value: void 0 };\r\n            }\r\n        };\r\n        for (var ite = this._textures.begin(); ite.notEqual(this._textures.end()); ite.preIncrement()) {\r\n            var state_1 = _loop_1(ite);\r\n            if (typeof state_1 === \"object\")\r\n                return state_1.value;\r\n        }\r\n        var img = new Image();\r\n        img.onload = function () {\r\n            var tex = lappdelegate_1.gl.createTexture();\r\n            lappdelegate_1.gl.bindTexture(lappdelegate_1.gl.TEXTURE_2D, tex);\r\n            lappdelegate_1.gl.texParameteri(lappdelegate_1.gl.TEXTURE_2D, lappdelegate_1.gl.TEXTURE_MIN_FILTER, lappdelegate_1.gl.LINEAR_MIPMAP_LINEAR);\r\n            lappdelegate_1.gl.texParameteri(lappdelegate_1.gl.TEXTURE_2D, lappdelegate_1.gl.TEXTURE_MAG_FILTER, lappdelegate_1.gl.LINEAR);\r\n            if (usePremultiply) {\r\n                lappdelegate_1.gl.pixelStorei(lappdelegate_1.gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, 1);\r\n            }\r\n            lappdelegate_1.gl.texImage2D(lappdelegate_1.gl.TEXTURE_2D, 0, lappdelegate_1.gl.RGBA, lappdelegate_1.gl.RGBA, lappdelegate_1.gl.UNSIGNED_BYTE, img);\r\n            lappdelegate_1.gl.generateMipmap(lappdelegate_1.gl.TEXTURE_2D);\r\n            lappdelegate_1.gl.bindTexture(lappdelegate_1.gl.TEXTURE_2D, null);\r\n            var textureInfo = new TextureInfo();\r\n            if (textureInfo != null) {\r\n                textureInfo.fileName = fileName;\r\n                textureInfo.width = img.width;\r\n                textureInfo.height = img.height;\r\n                textureInfo.id = tex;\r\n                textureInfo.img = img;\r\n                textureInfo.usePremultply = usePremultiply;\r\n                _this._textures.pushBack(textureInfo);\r\n            }\r\n            callback(textureInfo);\r\n        };\r\n        img.src = fileName;\r\n        img.crossOrigin = \"anonymous\";\r\n    };\r\n    LAppTextureManager.prototype.releaseTextures = function () {\r\n        for (var i = 0; i < this._textures.getSize(); i++) {\r\n            this._textures.set(i, null);\r\n        }\r\n        this._textures.clear();\r\n    };\r\n    LAppTextureManager.prototype.releaseTextureByTexture = function (texture) {\r\n        for (var i = 0; i < this._textures.getSize(); i++) {\r\n            if (this._textures.at(i).id != texture) {\r\n                continue;\r\n            }\r\n            this._textures.set(i, null);\r\n            this._textures.remove(i);\r\n            break;\r\n        }\r\n    };\r\n    LAppTextureManager.prototype.releaseTextureByFilePath = function (fileName) {\r\n        for (var i = 0; i < this._textures.getSize(); i++) {\r\n            if (this._textures.at(i).fileName == fileName) {\r\n                this._textures.set(i, null);\r\n                this._textures.remove(i);\r\n                break;\r\n            }\r\n        }\r\n    };\r\n    return LAppTextureManager;\r\n}());\r\nexports.LAppTextureManager = LAppTextureManager;\r\nvar TextureInfo = (function () {\r\n    function TextureInfo() {\r\n        this.id = null;\r\n        this.width = 0;\r\n        this.height = 0;\r\n    }\r\n    return TextureInfo;\r\n}());\r\nexports.TextureInfo = TextureInfo;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbGFwcHRleHR1cmVtYW5hZ2VyLnRzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbGl2ZTJkLy4vc3JjL2xhcHB0ZXh0dXJlbWFuYWdlci50cz8yYzBhIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBDb3B5cmlnaHQoYykgTGl2ZTJEIEluYy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuICpcclxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgdGhlIExpdmUyRCBPcGVuIFNvZnR3YXJlIGxpY2Vuc2VcclxuICogdGhhdCBjYW4gYmUgZm91bmQgYXQgaHR0cHM6Ly93d3cubGl2ZTJkLmNvbS9ldWxhL2xpdmUyZC1vcGVuLXNvZnR3YXJlLWxpY2Vuc2UtYWdyZWVtZW50X2VuLmh0bWwuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgTGl2ZTJEQ3ViaXNtRnJhbWV3b3JrIGFzIGNzbXZlY3RvciB9IGZyb20gJy4uL0ZyYW1ld29yay9zcmMvdHlwZS9jc212ZWN0b3InO1xyXG5pbXBvcnQgQ3NtX2NzbVZlY3RvciA9IGNzbXZlY3Rvci5jc21WZWN0b3I7XHJcbmltcG9ydCBjc21WZWN0b3JfaXRlcmF0b3IgPSBjc212ZWN0b3IuaXRlcmF0b3I7XHJcbmltcG9ydCB7IGdsIH0gZnJvbSAnLi9sYXBwZGVsZWdhdGUnO1xyXG5cclxuLyoqXHJcbiAqIOODhuOCr+OCueODgeODo+euoeeQhuOCr+ODqeOCuVxyXG4gKiDnlLvlg4/oqq3jgb/ovrzjgb/jgIHnrqHnkIbjgpLooYzjgYbjgq/jg6njgrnjgIJcclxuICovXHJcbmV4cG9ydCBjbGFzcyBMQXBwVGV4dHVyZU1hbmFnZXIge1xyXG4gIC8qKlxyXG4gICAqIOOCs+ODs+OCueODiOODqeOCr+OCv1xyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgdGhpcy5fdGV4dHVyZXMgPSBuZXcgQ3NtX2NzbVZlY3RvcjxUZXh0dXJlSW5mbz4oKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOino+aUvuOBmeOCi+OAglxyXG4gICAqL1xyXG4gIHB1YmxpYyByZWxlYXNlKCk6IHZvaWQge1xyXG4gICAgZm9yIChcclxuICAgICAgbGV0IGl0ZTogY3NtVmVjdG9yX2l0ZXJhdG9yPFRleHR1cmVJbmZvPiA9IHRoaXMuX3RleHR1cmVzLmJlZ2luKCk7XHJcbiAgICAgIGl0ZS5ub3RFcXVhbCh0aGlzLl90ZXh0dXJlcy5lbmQoKSk7XHJcbiAgICAgIGl0ZS5wcmVJbmNyZW1lbnQoKVxyXG4gICAgKSB7XHJcbiAgICAgIGdsLmRlbGV0ZVRleHR1cmUoaXRlLnB0cigpLmlkKTtcclxuICAgIH1cclxuICAgIHRoaXMuX3RleHR1cmVzID0gbnVsbDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOWbvuWDj+ivu+WPllxyXG4gICAqXHJcbiAgICogQHBhcmFtIGZpbGVOYW1lIOivu+WPlueahOWbvuWDj+aWh+S7tui3r+W+hOWQjeensFxyXG4gICAqIEBwYXJhbSB1c2VQcmVtdWx0aXBseSDmmK/lkKblkK/nlKhQcmVtaXVsdOWkhOeQhlxyXG4gICAqIEByZXR1cm4g5Zu+5YOP5L+h5oGv6K+75Y+W5aSx6LSl5pe26L+U5ZuebnVsbFxyXG4gICAqL1xyXG4gIHB1YmxpYyBjcmVhdGVUZXh0dXJlRnJvbVBuZ0ZpbGUoXHJcbiAgICBmaWxlTmFtZTogc3RyaW5nLFxyXG4gICAgdXNlUHJlbXVsdGlwbHk6IGJvb2xlYW4sXHJcbiAgICBjYWxsYmFjazogKHRleHR1cmVJbmZvOiBUZXh0dXJlSW5mbykgPT4gdm9pZFxyXG4gICk6IHZvaWQge1xyXG4gICAgLy8gc2VhcmNoIGxvYWRlZCB0ZXh0dXJlIGFscmVhZHlcclxuICAgIGZvciAoXHJcbiAgICAgIGxldCBpdGU6IGNzbVZlY3Rvcl9pdGVyYXRvcjxUZXh0dXJlSW5mbz4gPSB0aGlzLl90ZXh0dXJlcy5iZWdpbigpO1xyXG4gICAgICBpdGUubm90RXF1YWwodGhpcy5fdGV4dHVyZXMuZW5kKCkpO1xyXG4gICAgICBpdGUucHJlSW5jcmVtZW50KClcclxuICAgICkge1xyXG4gICAgICBpZiAoXHJcbiAgICAgICAgaXRlLnB0cigpLmZpbGVOYW1lID09IGZpbGVOYW1lICYmXHJcbiAgICAgICAgaXRlLnB0cigpLnVzZVByZW11bHRwbHkgPT0gdXNlUHJlbXVsdGlwbHlcclxuICAgICAgKSB7XHJcbiAgICAgICAgLy8g56ys5LqM5qyh5Lul5ZCO5L2/55So57yT5a2Y77yI5peg562J5b6F5pe26Ze077yJXHJcbiAgICAgICAgLy8g5ZyoV2ViS2l05Lit77yM6KaB5YaN5qyh6LCD55So55u45ZCMSW1hZ2XnmoRvbmxvYWTvvIzpnIDopoHlho3mrKHlrp7kvotcclxuICAgICAgICAvLyDoqbPntLDvvJpodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvNTAyNDE4MVxyXG4gICAgICAgIGl0ZS5wdHIoKS5pbWcgPSBuZXcgSW1hZ2UoKTtcclxuICAgICAgICBpdGUucHRyKCkuaW1nLm9ubG9hZCA9ICgpOiB2b2lkID0+IGNhbGxiYWNrKGl0ZS5wdHIoKSk7XHJcbiAgICAgICAgaXRlLnB0cigpLmltZy5zcmMgPSBmaWxlTmFtZTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyDjg4fjg7zjgr/jga7jgqrjg7Pjg63jg7zjg4njgpLjg4jjg6rjgqzjg7zjgavjgZnjgotcclxuICAgIGNvbnN0IGltZyA9IG5ldyBJbWFnZSgpO1xyXG4gICAgaW1nLm9ubG9hZCA9ICgpOiB2b2lkID0+IHtcclxuICAgICAgLy8g44OG44Kv44K544OB44Oj44Kq44OW44K444Kn44Kv44OI44Gu5L2c5oiQXHJcbiAgICAgIGNvbnN0IHRleDogV2ViR0xUZXh0dXJlID0gZ2wuY3JlYXRlVGV4dHVyZSgpO1xyXG5cclxuICAgICAgLy8g44OG44Kv44K544OB44Oj44KS6YG45oqeXHJcbiAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIHRleCk7XHJcblxyXG4gICAgICAvLyDjg4bjgq/jgrnjg4Hjg6Pjgavjg5Tjgq/jgrvjg6vjgpLmm7jjgY3ovrzjgoBcclxuICAgICAgZ2wudGV4UGFyYW1ldGVyaShcclxuICAgICAgICBnbC5URVhUVVJFXzJELFxyXG4gICAgICAgIGdsLlRFWFRVUkVfTUlOX0ZJTFRFUixcclxuICAgICAgICBnbC5MSU5FQVJfTUlQTUFQX0xJTkVBUlxyXG4gICAgICApO1xyXG4gICAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfTUFHX0ZJTFRFUiwgZ2wuTElORUFSKTtcclxuXHJcbiAgICAgIC8vIFByZW11bHTlh6bnkIbjgpLooYzjgo/jgZvjgotcclxuICAgICAgaWYgKHVzZVByZW11bHRpcGx5KSB7XHJcbiAgICAgICAgZ2wucGl4ZWxTdG9yZWkoZ2wuVU5QQUNLX1BSRU1VTFRJUExZX0FMUEhBX1dFQkdMLCAxKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8g44OG44Kv44K544OB44Oj44Gr44OU44Kv44K744Or44KS5pu444GN6L6844KAXHJcbiAgICAgIGdsLnRleEltYWdlMkQoZ2wuVEVYVFVSRV8yRCwgMCwgZ2wuUkdCQSwgZ2wuUkdCQSwgZ2wuVU5TSUdORURfQllURSwgaW1nKTtcclxuXHJcbiAgICAgIC8vIOODn+ODg+ODl+ODnuODg+ODl+OCkueUn+aIkFxyXG4gICAgICBnbC5nZW5lcmF0ZU1pcG1hcChnbC5URVhUVVJFXzJEKTtcclxuXHJcbiAgICAgIC8vIOODhuOCr+OCueODgeODo+OCkuODkOOCpOODs+ODiVxyXG4gICAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCBudWxsKTtcclxuXHJcbiAgICAgIGNvbnN0IHRleHR1cmVJbmZvOiBUZXh0dXJlSW5mbyA9IG5ldyBUZXh0dXJlSW5mbygpO1xyXG4gICAgICBpZiAodGV4dHVyZUluZm8gIT0gbnVsbCkge1xyXG4gICAgICAgIHRleHR1cmVJbmZvLmZpbGVOYW1lID0gZmlsZU5hbWU7XHJcbiAgICAgICAgdGV4dHVyZUluZm8ud2lkdGggPSBpbWcud2lkdGg7XHJcbiAgICAgICAgdGV4dHVyZUluZm8uaGVpZ2h0ID0gaW1nLmhlaWdodDtcclxuICAgICAgICB0ZXh0dXJlSW5mby5pZCA9IHRleDtcclxuICAgICAgICB0ZXh0dXJlSW5mby5pbWcgPSBpbWc7XHJcbiAgICAgICAgdGV4dHVyZUluZm8udXNlUHJlbXVsdHBseSA9IHVzZVByZW11bHRpcGx5O1xyXG4gICAgICAgIHRoaXMuX3RleHR1cmVzLnB1c2hCYWNrKHRleHR1cmVJbmZvKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgY2FsbGJhY2sodGV4dHVyZUluZm8pO1xyXG4gICAgfTtcclxuICAgIGltZy5zcmMgPSBmaWxlTmFtZTtcclxuICAgIC8vICDmt7vliqDlhYHorrjlm77niYfotYTmupDot6jln5/or7fmsYJcclxuICAgIGltZy5jcm9zc09yaWdpbiA9IFwiYW5vbnltb3VzXCI7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDnlLvlg4/jga7op6PmlL5cclxuICAgKlxyXG4gICAqIOmFjeWIl+OBq+WtmOWcqOOBmeOCi+eUu+WDj+WFqOOBpuOCkuino+aUvuOBmeOCi+OAglxyXG4gICAqL1xyXG4gIHB1YmxpYyByZWxlYXNlVGV4dHVyZXMoKTogdm9pZCB7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX3RleHR1cmVzLmdldFNpemUoKTsgaSsrKSB7XHJcbiAgICAgIHRoaXMuX3RleHR1cmVzLnNldChpLCBudWxsKTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLl90ZXh0dXJlcy5jbGVhcigpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog55S75YOP44Gu6Kej5pS+XHJcbiAgICpcclxuICAgKiDmjIflrprjgZfjgZ/jg4bjgq/jgrnjg4Hjg6Pjga7nlLvlg4/jgpLop6PmlL7jgZnjgovjgIJcclxuICAgKiBAcGFyYW0gdGV4dHVyZSDop6PmlL7jgZnjgovjg4bjgq/jgrnjg4Hjg6NcclxuICAgKi9cclxuICBwdWJsaWMgcmVsZWFzZVRleHR1cmVCeVRleHR1cmUodGV4dHVyZTogV2ViR0xUZXh0dXJlKTogdm9pZCB7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX3RleHR1cmVzLmdldFNpemUoKTsgaSsrKSB7XHJcbiAgICAgIGlmICh0aGlzLl90ZXh0dXJlcy5hdChpKS5pZCAhPSB0ZXh0dXJlKSB7XHJcbiAgICAgICAgY29udGludWU7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHRoaXMuX3RleHR1cmVzLnNldChpLCBudWxsKTtcclxuICAgICAgdGhpcy5fdGV4dHVyZXMucmVtb3ZlKGkpO1xyXG4gICAgICBicmVhaztcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOeUu+WDj+OBruino+aUvlxyXG4gICAqXHJcbiAgICog5oyH5a6a44GX44Gf5ZCN5YmN44Gu55S75YOP44KS6Kej5pS+44GZ44KL44CCXHJcbiAgICogQHBhcmFtIGZpbGVOYW1lIOino+aUvuOBmeOCi+eUu+WDj+ODleOCoeOCpOODq+ODkeOCueWQjVxyXG4gICAqL1xyXG4gIHB1YmxpYyByZWxlYXNlVGV4dHVyZUJ5RmlsZVBhdGgoZmlsZU5hbWU6IHN0cmluZyk6IHZvaWQge1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl90ZXh0dXJlcy5nZXRTaXplKCk7IGkrKykge1xyXG4gICAgICBpZiAodGhpcy5fdGV4dHVyZXMuYXQoaSkuZmlsZU5hbWUgPT0gZmlsZU5hbWUpIHtcclxuICAgICAgICB0aGlzLl90ZXh0dXJlcy5zZXQoaSwgbnVsbCk7XHJcbiAgICAgICAgdGhpcy5fdGV4dHVyZXMucmVtb3ZlKGkpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfdGV4dHVyZXM6IENzbV9jc21WZWN0b3I8VGV4dHVyZUluZm8+O1xyXG59XHJcblxyXG4vKipcclxuICog55S75YOP5oOF5aCx5qeL6YCg5L2TXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgVGV4dHVyZUluZm8ge1xyXG4gIGltZzogSFRNTEltYWdlRWxlbWVudDsgLy8g55S75YOPXHJcbiAgaWQ6IFdlYkdMVGV4dHVyZSA9IG51bGw7IC8vIOODhuOCr+OCueODgeODo1xyXG4gIHdpZHRoID0gMDsgLy8g5qiq5bmFXHJcbiAgaGVpZ2h0ID0gMDsgLy8g6auY44GVXHJcbiAgdXNlUHJlbXVsdHBseTogYm9vbGVhbjsgLy8gUHJlbXVsdOWHpueQhuOCkuacieWKueOBq+OBmeOCi+OBi1xyXG4gIGZpbGVOYW1lOiBzdHJpbmc7IC8vIOODleOCoeOCpOODq+WQjVxyXG59XHJcbiJdLCJtYXBwaW5ncyI6Ijs7O0FBT0E7QUFDQTtBQUVBO0FBTUE7QUFJQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFTQTtBQUFBO0FBT0E7QUFJQTtBQUVBO0FBS0E7QUFDQTtBQUNBOztBQUVBOztBQWhCQTtBQUNBOzs7QUFnQkE7QUFHQTtBQUNBO0FBRUE7QUFHQTtBQUdBO0FBS0E7QUFHQTtBQUNBO0FBQ0E7QUFHQTtBQUdBO0FBR0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQUE7QUF2SkE7QUE0SkE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUdBO0FBQUE7QUFBQTtBQVBBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/lapptexturemanager.ts\n");

/***/ }),

/***/ "./src/lappview.ts":
/*!*************************!*\
  !*** ./src/lappview.ts ***!
  \*************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.LAppView = void 0;\r\nvar cubismmatrix44_1 = __webpack_require__(/*! ../Framework/src/math/cubismmatrix44 */ \"./Framework/src/math/cubismmatrix44.ts\");\r\nvar cubismviewmatrix_1 = __webpack_require__(/*! ../Framework/src/math/cubismviewmatrix */ \"./Framework/src/math/cubismviewmatrix.ts\");\r\nvar Csm_CubismViewMatrix = cubismviewmatrix_1.Live2DCubismFramework.CubismViewMatrix;\r\nvar Csm_CubismMatrix44 = cubismmatrix44_1.Live2DCubismFramework.CubismMatrix44;\r\nvar touchmanager_1 = __webpack_require__(/*! ./touchmanager */ \"./src/touchmanager.ts\");\r\nvar lapplive2dmanager_1 = __webpack_require__(/*! ./lapplive2dmanager */ \"./src/lapplive2dmanager.ts\");\r\nvar lappdelegate_1 = __webpack_require__(/*! ./lappdelegate */ \"./src/lappdelegate.ts\");\r\nvar lapppal_1 = __webpack_require__(/*! ./lapppal */ \"./src/lapppal.ts\");\r\nvar LAppDefine = __importStar(__webpack_require__(/*! ./lappdefine */ \"./src/lappdefine.ts\"));\r\nvar LAppView = (function () {\r\n    function LAppView() {\r\n        this._programId = null;\r\n        this._back = null;\r\n        this._gear = null;\r\n        this._touchManager = new touchmanager_1.TouchManager();\r\n        this._deviceToScreen = new Csm_CubismMatrix44();\r\n        this._viewMatrix = new Csm_CubismViewMatrix();\r\n    }\r\n    LAppView.prototype.initialize = function () {\r\n        var width = lappdelegate_1.canvas.width, height = lappdelegate_1.canvas.height;\r\n        var ratio = height / width;\r\n        var left = LAppDefine.ViewLogicalLeft;\r\n        var right = LAppDefine.ViewLogicalRight;\r\n        var bottom = -ratio;\r\n        var top = ratio;\r\n        this._viewMatrix.setScreenRect(left, right, bottom, top);\r\n        var screenW = Math.abs(left - right);\r\n        this._deviceToScreen.scaleRelative(screenW / width, -screenW / width);\r\n        this._deviceToScreen.translateRelative(-width * 0.5, -height * 0.5);\r\n        this._viewMatrix.setMaxScale(LAppDefine.ViewMaxScale);\r\n        this._viewMatrix.setMinScale(LAppDefine.ViewMinScale);\r\n        this._viewMatrix.setMaxScreenRect(LAppDefine.ViewLogicalMaxLeft, LAppDefine.ViewLogicalMaxRight, LAppDefine.ViewLogicalMaxBottom, LAppDefine.ViewLogicalMaxTop);\r\n    };\r\n    LAppView.prototype.release = function () {\r\n        this._viewMatrix = null;\r\n        this._touchManager = null;\r\n        this._deviceToScreen = null;\r\n        if (this._gear) {\r\n            this._gear.release();\r\n        }\r\n        this._gear = null;\r\n        if (this._back) {\r\n            this._back.release();\r\n        }\r\n        this._back = null;\r\n        lappdelegate_1.gl.deleteProgram(this._programId);\r\n        this._programId = null;\r\n    };\r\n    LAppView.prototype.render = function () {\r\n        lappdelegate_1.gl.useProgram(this._programId);\r\n        if (this._back) {\r\n            this._back.render(this._programId);\r\n        }\r\n        if (this._gear) {\r\n            this._gear.render(this._programId);\r\n        }\r\n        lappdelegate_1.gl.flush();\r\n        var live2DManager = lapplive2dmanager_1.LAppLive2DManager.getInstance();\r\n        live2DManager.onUpdate();\r\n    };\r\n    LAppView.prototype.initializeSprite = function () {\r\n        var width = lappdelegate_1.canvas.width;\r\n        var height = lappdelegate_1.canvas.height;\r\n        var textureManager = lappdelegate_1.LAppDelegate.getInstance().getTextureManager();\r\n        var resourcesPath = LAppDefine.ResourcesPath;\r\n        var imageName = '';\r\n    };\r\n    LAppView.prototype.onTouchesBegan = function (pointX, pointY) {\r\n        this._touchManager.touchesBegan(pointX, pointY);\r\n    };\r\n    LAppView.prototype.onTouchesMoved = function (pointX, pointY) {\r\n        var viewX = this.transformViewX(this._touchManager.getX());\r\n        var viewY = this.transformViewY(this._touchManager.getY());\r\n        this._touchManager.touchesMoved(pointX, pointY);\r\n        var live2DManager = lapplive2dmanager_1.LAppLive2DManager.getInstance();\r\n        live2DManager.onDrag(viewX, viewY);\r\n    };\r\n    LAppView.prototype.onTouchesEnded = function (pointX, pointY) {\r\n        var live2DManager = lapplive2dmanager_1.LAppLive2DManager.getInstance();\r\n        live2DManager.onDrag(0.0, 0.0);\r\n        {\r\n            var x = this._deviceToScreen.transformX(this._touchManager.getX());\r\n            var y = this._deviceToScreen.transformY(this._touchManager.getY());\r\n            if (LAppDefine.DebugTouchLogEnable) {\r\n                lapppal_1.LAppPal.printMessage(\"[APP]touchesEnded x: \" + x + \" y: \" + y);\r\n            }\r\n            live2DManager.onTap(x, y);\r\n        }\r\n    };\r\n    LAppView.prototype.transformViewX = function (deviceX) {\r\n        var screenX = this._deviceToScreen.transformX(deviceX);\r\n        return this._viewMatrix.invertTransformX(screenX);\r\n    };\r\n    LAppView.prototype.transformViewY = function (deviceY) {\r\n        var screenY = this._deviceToScreen.transformY(deviceY);\r\n        return this._viewMatrix.invertTransformY(screenY);\r\n    };\r\n    LAppView.prototype.transformScreenX = function (deviceX) {\r\n        return this._deviceToScreen.transformX(deviceX);\r\n    };\r\n    LAppView.prototype.transformScreenY = function (deviceY) {\r\n        return this._deviceToScreen.transformY(deviceY);\r\n    };\r\n    return LAppView;\r\n}());\r\nexports.LAppView = LAppView;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbGFwcHZpZXcudHMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9saXZlMmQvLi9zcmMvbGFwcHZpZXcudHM/YzA2MiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogQ29weXJpZ2h0KGMpIExpdmUyRCBJbmMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbiAqXHJcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IHRoZSBMaXZlMkQgT3BlbiBTb2Z0d2FyZSBsaWNlbnNlXHJcbiAqIHRoYXQgY2FuIGJlIGZvdW5kIGF0IGh0dHBzOi8vd3d3LmxpdmUyZC5jb20vZXVsYS9saXZlMmQtb3Blbi1zb2Z0d2FyZS1saWNlbnNlLWFncmVlbWVudF9lbi5odG1sLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IExpdmUyREN1YmlzbUZyYW1ld29yayBhcyBjdWJpc21NYXRyaXg0NCB9IGZyb20gJy4uL0ZyYW1ld29yay9zcmMvbWF0aC9jdWJpc21tYXRyaXg0NCc7XHJcbmltcG9ydCB7IExpdmUyREN1YmlzbUZyYW1ld29yayBhcyBjdWJpc212aWV3bWF0cml4IH0gZnJvbSAnLi4vRnJhbWV3b3JrL3NyYy9tYXRoL2N1YmlzbXZpZXdtYXRyaXgnO1xyXG5pbXBvcnQgQ3NtX0N1YmlzbVZpZXdNYXRyaXggPSBjdWJpc212aWV3bWF0cml4LkN1YmlzbVZpZXdNYXRyaXg7XHJcbmltcG9ydCBDc21fQ3ViaXNtTWF0cml4NDQgPSBjdWJpc21NYXRyaXg0NC5DdWJpc21NYXRyaXg0NDtcclxuaW1wb3J0IHsgVG91Y2hNYW5hZ2VyIH0gZnJvbSAnLi90b3VjaG1hbmFnZXInO1xyXG5pbXBvcnQgeyBMQXBwTGl2ZTJETWFuYWdlciB9IGZyb20gJy4vbGFwcGxpdmUyZG1hbmFnZXInO1xyXG5pbXBvcnQgeyBMQXBwRGVsZWdhdGUsIGNhbnZhcywgZ2wgfSBmcm9tICcuL2xhcHBkZWxlZ2F0ZSc7XHJcbmltcG9ydCB7IExBcHBTcHJpdGUgfSBmcm9tICcuL2xhcHBzcHJpdGUnO1xyXG5pbXBvcnQgeyBUZXh0dXJlSW5mbyB9IGZyb20gJy4vbGFwcHRleHR1cmVtYW5hZ2VyJztcclxuaW1wb3J0IHsgTEFwcFBhbCB9IGZyb20gJy4vbGFwcHBhbCc7XHJcbmltcG9ydCAqIGFzIExBcHBEZWZpbmUgZnJvbSAnLi9sYXBwZGVmaW5lJztcclxuXHJcbi8qKlxyXG4gKiDmj4/nlLvjgq/jg6njgrnjgIJcclxuICovXHJcbmV4cG9ydCBjbGFzcyBMQXBwVmlldyB7XHJcbiAgLyoqXHJcbiAgICog44Kz44Oz44K544OI44Op44Kv44K/XHJcbiAgICovXHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICB0aGlzLl9wcm9ncmFtSWQgPSBudWxsO1xyXG4gICAgdGhpcy5fYmFjayA9IG51bGw7XHJcbiAgICB0aGlzLl9nZWFyID0gbnVsbDtcclxuXHJcbiAgICAvLyDjgr/jg4Pjg4HplqLkv4Ljga7jgqTjg5njg7Pjg4jnrqHnkIZcclxuICAgIHRoaXMuX3RvdWNoTWFuYWdlciA9IG5ldyBUb3VjaE1hbmFnZXIoKTtcclxuXHJcbiAgICAvLyDjg4fjg5DjgqTjgrnluqfmqJnjgYvjgonjgrnjgq/jg6rjg7zjg7PluqfmqJnjgavlpInmj5vjgZnjgovjgZ/jgoHjga5cclxuICAgIHRoaXMuX2RldmljZVRvU2NyZWVuID0gbmV3IENzbV9DdWJpc21NYXRyaXg0NCgpO1xyXG5cclxuICAgIC8vIOeUu+mdouOBruihqOekuuOBruaLoeWkp+e4ruWwj+OChOenu+WLleOBruWkieaPm+OCkuihjOOBhuihjOWIl1xyXG4gICAgdGhpcy5fdmlld01hdHJpeCA9IG5ldyBDc21fQ3ViaXNtVmlld01hdHJpeCgpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog5Yid5pyf5YyW44GZ44KL44CCXHJcbiAgICovXHJcbiAgcHVibGljIGluaXRpYWxpemUoKTogdm9pZCB7XHJcbiAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IGNhbnZhcztcclxuXHJcbiAgICBjb25zdCByYXRpbzogbnVtYmVyID0gaGVpZ2h0IC8gd2lkdGg7XHJcbiAgICBjb25zdCBsZWZ0OiBudW1iZXIgPSBMQXBwRGVmaW5lLlZpZXdMb2dpY2FsTGVmdDtcclxuICAgIGNvbnN0IHJpZ2h0OiBudW1iZXIgPSBMQXBwRGVmaW5lLlZpZXdMb2dpY2FsUmlnaHQ7XHJcbiAgICBjb25zdCBib3R0b206IG51bWJlciA9IC1yYXRpbztcclxuICAgIGNvbnN0IHRvcDogbnVtYmVyID0gcmF0aW87XHJcblxyXG4gICAgdGhpcy5fdmlld01hdHJpeC5zZXRTY3JlZW5SZWN0KGxlZnQsIHJpZ2h0LCBib3R0b20sIHRvcCk7IC8vIOODh+ODkOOCpOOCueOBq+WvvuW/nOOBmeOCi+eUu+mdouOBruevhOWbsuOAgiBY44Gu5bem56uv44CBWOOBruWPs+err+OAgVnjga7kuIvnq6/jgIFZ44Gu5LiK56uvXHJcblxyXG4gICAgY29uc3Qgc2NyZWVuVzogbnVtYmVyID0gTWF0aC5hYnMobGVmdCAtIHJpZ2h0KTtcclxuICAgIHRoaXMuX2RldmljZVRvU2NyZWVuLnNjYWxlUmVsYXRpdmUoc2NyZWVuVyAvIHdpZHRoLCAtc2NyZWVuVyAvIHdpZHRoKTtcclxuICAgIHRoaXMuX2RldmljZVRvU2NyZWVuLnRyYW5zbGF0ZVJlbGF0aXZlKC13aWR0aCAqIDAuNSwgLWhlaWdodCAqIDAuNSk7XHJcblxyXG4gICAgLy8g6KGo56S656+E5Zuy44Gu6Kit5a6aXHJcbiAgICB0aGlzLl92aWV3TWF0cml4LnNldE1heFNjYWxlKExBcHBEZWZpbmUuVmlld01heFNjYWxlKTsgLy8g6ZmQ55WM5ouh5by1546HXHJcbiAgICB0aGlzLl92aWV3TWF0cml4LnNldE1pblNjYWxlKExBcHBEZWZpbmUuVmlld01pblNjYWxlKTsgLy8g6ZmQ55WM57iu5bCP546HXHJcblxyXG4gICAgLy8g6KGo56S644Gn44GN44KL5pyA5aSn56+E5ZuyXHJcbiAgICB0aGlzLl92aWV3TWF0cml4LnNldE1heFNjcmVlblJlY3QoXHJcbiAgICAgIExBcHBEZWZpbmUuVmlld0xvZ2ljYWxNYXhMZWZ0LFxyXG4gICAgICBMQXBwRGVmaW5lLlZpZXdMb2dpY2FsTWF4UmlnaHQsXHJcbiAgICAgIExBcHBEZWZpbmUuVmlld0xvZ2ljYWxNYXhCb3R0b20sXHJcbiAgICAgIExBcHBEZWZpbmUuVmlld0xvZ2ljYWxNYXhUb3BcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDop6PmlL7jgZnjgotcclxuICAgKi9cclxuICBwdWJsaWMgcmVsZWFzZSgpOiB2b2lkIHtcclxuICAgIHRoaXMuX3ZpZXdNYXRyaXggPSBudWxsO1xyXG4gICAgdGhpcy5fdG91Y2hNYW5hZ2VyID0gbnVsbDtcclxuICAgIHRoaXMuX2RldmljZVRvU2NyZWVuID0gbnVsbDtcclxuXHJcbiAgICBpZih0aGlzLl9nZWFyKXtcclxuICAgICAgdGhpcy5fZ2Vhci5yZWxlYXNlKCk7XHJcbiAgICB9XHJcbiAgICB0aGlzLl9nZWFyID0gbnVsbDtcclxuXHJcbiAgICBpZih0aGlzLl9iYWNrKXtcclxuICAgICAgdGhpcy5fYmFjay5yZWxlYXNlKCk7XHJcbiAgICB9XHJcbiAgICB0aGlzLl9iYWNrID0gbnVsbDtcclxuXHJcbiAgICBnbC5kZWxldGVQcm9ncmFtKHRoaXMuX3Byb2dyYW1JZCk7XHJcbiAgICB0aGlzLl9wcm9ncmFtSWQgPSBudWxsO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog5o+P55S744GZ44KL44CCXHJcbiAgICovXHJcbiAgcHVibGljIHJlbmRlcigpOiB2b2lkIHtcclxuICAgIGdsLnVzZVByb2dyYW0odGhpcy5fcHJvZ3JhbUlkKTtcclxuXHJcbiAgICBpZiAodGhpcy5fYmFjaykge1xyXG4gICAgICB0aGlzLl9iYWNrLnJlbmRlcih0aGlzLl9wcm9ncmFtSWQpO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXMuX2dlYXIpIHtcclxuICAgICAgdGhpcy5fZ2Vhci5yZW5kZXIodGhpcy5fcHJvZ3JhbUlkKTtcclxuICAgIH1cclxuXHJcbiAgICBnbC5mbHVzaCgpO1xyXG5cclxuICAgIGNvbnN0IGxpdmUyRE1hbmFnZXI6IExBcHBMaXZlMkRNYW5hZ2VyID0gTEFwcExpdmUyRE1hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcclxuXHJcbiAgICBsaXZlMkRNYW5hZ2VyLm9uVXBkYXRlKCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDnlLvlg4/jga7liJ3mnJ/ljJbjgpLooYzjgYbjgIJcclxuICAgKi9cclxuICBwdWJsaWMgaW5pdGlhbGl6ZVNwcml0ZSgpOiB2b2lkIHtcclxuICAgIGNvbnN0IHdpZHRoOiBudW1iZXIgPSBjYW52YXMud2lkdGg7XHJcbiAgICBjb25zdCBoZWlnaHQ6IG51bWJlciA9IGNhbnZhcy5oZWlnaHQ7XHJcblxyXG4gICAgY29uc3QgdGV4dHVyZU1hbmFnZXIgPSBMQXBwRGVsZWdhdGUuZ2V0SW5zdGFuY2UoKS5nZXRUZXh0dXJlTWFuYWdlcigpO1xyXG4gICAgY29uc3QgcmVzb3VyY2VzUGF0aCA9IExBcHBEZWZpbmUuUmVzb3VyY2VzUGF0aDtcclxuXHJcbiAgICBsZXQgaW1hZ2VOYW1lID0gJyc7XHJcblxyXG4gICAgLy8g5LiN5Yqg6L2955S75biD77yM55So5LqO5YGa55yL5p2/5aiYXHJcblxyXG4gICAgLy8gLy8g6IOM5pmv55S75YOP5Yid5pyf5YyWXHJcbiAgICAvLyBpbWFnZU5hbWUgPSBMQXBwRGVmaW5lLkJhY2tJbWFnZU5hbWU7XHJcblxyXG4gICAgLy8gLy8g6Z2e5ZCM5pyf44Gq44Gu44Gn44Kz44O844Or44OQ44OD44Kv6Zai5pWw44KS5L2c5oiQXHJcbiAgICAvLyBjb25zdCBpbml0QmFja0dyb3VuZFRleHR1cmUgPSAodGV4dHVyZUluZm86IFRleHR1cmVJbmZvKTogdm9pZCA9PiB7XHJcbiAgICAvLyAgIGNvbnN0IHg6IG51bWJlciA9IHdpZHRoICogMC41O1xyXG4gICAgLy8gICBjb25zdCB5OiBudW1iZXIgPSBoZWlnaHQgKiAwLjU7XHJcblxyXG4gICAgLy8gICBjb25zdCBmd2lkdGggPSB0ZXh0dXJlSW5mby53aWR0aCAqIDIuMDtcclxuICAgIC8vICAgY29uc3QgZmhlaWdodCA9IGhlaWdodCAqIDAuOTU7XHJcbiAgICAvLyAgIHRoaXMuX2JhY2sgPSBuZXcgTEFwcFNwcml0ZSh4LCB5LCBmd2lkdGgsIGZoZWlnaHQsIHRleHR1cmVJbmZvLmlkKTtcclxuICAgIC8vIH07XHJcblxyXG4gICAgLy8gdGV4dHVyZU1hbmFnZXIuY3JlYXRlVGV4dHVyZUZyb21QbmdGaWxlKFxyXG4gICAgLy8gICByZXNvdXJjZXNQYXRoICsgaW1hZ2VOYW1lLFxyXG4gICAgLy8gICBmYWxzZSxcclxuICAgIC8vICAgaW5pdEJhY2tHcm91bmRUZXh0dXJlXHJcbiAgICAvLyApO1xyXG5cclxuICAgIC8vIC8vIOatr+i7iueUu+WDj+WIneacn+WMllxyXG4gICAgLy8gaW1hZ2VOYW1lID0gTEFwcERlZmluZS5HZWFySW1hZ2VOYW1lO1xyXG4gICAgLy8gY29uc3QgaW5pdEdlYXJUZXh0dXJlID0gKHRleHR1cmVJbmZvOiBUZXh0dXJlSW5mbyk6IHZvaWQgPT4ge1xyXG4gICAgLy8gICBjb25zdCB4ID0gd2lkdGggLSB0ZXh0dXJlSW5mby53aWR0aCAqIDAuNTtcclxuICAgIC8vICAgY29uc3QgeSA9IGhlaWdodCAtIHRleHR1cmVJbmZvLmhlaWdodCAqIDAuNTtcclxuICAgIC8vICAgY29uc3QgZndpZHRoID0gdGV4dHVyZUluZm8ud2lkdGg7XHJcbiAgICAvLyAgIGNvbnN0IGZoZWlnaHQgPSB0ZXh0dXJlSW5mby5oZWlnaHQ7XHJcbiAgICAvLyAgIHRoaXMuX2dlYXIgPSBuZXcgTEFwcFNwcml0ZSh4LCB5LCBmd2lkdGgsIGZoZWlnaHQsIHRleHR1cmVJbmZvLmlkKTtcclxuICAgIC8vIH07XHJcblxyXG4gICAgLy8gdGV4dHVyZU1hbmFnZXIuY3JlYXRlVGV4dHVyZUZyb21QbmdGaWxlKFxyXG4gICAgLy8gICByZXNvdXJjZXNQYXRoICsgaW1hZ2VOYW1lLFxyXG4gICAgLy8gICBmYWxzZSxcclxuICAgIC8vICAgaW5pdEdlYXJUZXh0dXJlXHJcbiAgICAvLyApO1xyXG5cclxuICAgIC8vIC8vIOOCt+OCp+ODvOODgOODvOOCkuS9nOaIkFxyXG4gICAgLy8gaWYgKHRoaXMuX3Byb2dyYW1JZCA9PSBudWxsKSB7XHJcbiAgICAvLyAgIHRoaXMuX3Byb2dyYW1JZCA9IExBcHBEZWxlZ2F0ZS5nZXRJbnN0YW5jZSgpLmNyZWF0ZVNoYWRlcigpO1xyXG4gICAgLy8gfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog44K/44OD44OB44GV44KM44Gf5pmC44Gr5ZG844Gw44KM44KL44CCXHJcbiAgICpcclxuICAgKiBAcGFyYW0gcG9pbnRYIOOCueOCr+ODquODvOODs1jluqfmqJlcclxuICAgKiBAcGFyYW0gcG9pbnRZIOOCueOCr+ODquODvOODs1nluqfmqJlcclxuICAgKi9cclxuICBwdWJsaWMgb25Ub3VjaGVzQmVnYW4ocG9pbnRYOiBudW1iZXIsIHBvaW50WTogbnVtYmVyKTogdm9pZCB7XHJcbiAgICB0aGlzLl90b3VjaE1hbmFnZXIudG91Y2hlc0JlZ2FuKHBvaW50WCwgcG9pbnRZKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOOCv+ODg+ODgeOBl+OBpuOBhOOCi+OBqOOBjeOBq+ODneOCpOODs+OCv+OBjOWLleOBhOOBn+OCieWRvOOBsOOCjOOCi+OAglxyXG4gICAqXHJcbiAgICogQHBhcmFtIHBvaW50WCDjgrnjgq/jg6rjg7zjg7NY5bqn5qiZXHJcbiAgICogQHBhcmFtIHBvaW50WSDjgrnjgq/jg6rjg7zjg7NZ5bqn5qiZXHJcbiAgICovXHJcbiAgcHVibGljIG9uVG91Y2hlc01vdmVkKHBvaW50WDogbnVtYmVyLCBwb2ludFk6IG51bWJlcik6IHZvaWQge1xyXG4gICAgY29uc3Qgdmlld1g6IG51bWJlciA9IHRoaXMudHJhbnNmb3JtVmlld1godGhpcy5fdG91Y2hNYW5hZ2VyLmdldFgoKSk7XHJcbiAgICBjb25zdCB2aWV3WTogbnVtYmVyID0gdGhpcy50cmFuc2Zvcm1WaWV3WSh0aGlzLl90b3VjaE1hbmFnZXIuZ2V0WSgpKTtcclxuXHJcbiAgICB0aGlzLl90b3VjaE1hbmFnZXIudG91Y2hlc01vdmVkKHBvaW50WCwgcG9pbnRZKTtcclxuXHJcbiAgICBjb25zdCBsaXZlMkRNYW5hZ2VyOiBMQXBwTGl2ZTJETWFuYWdlciA9IExBcHBMaXZlMkRNYW5hZ2VyLmdldEluc3RhbmNlKCk7XHJcbiAgICBsaXZlMkRNYW5hZ2VyLm9uRHJhZyh2aWV3WCwgdmlld1kpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog44K/44OD44OB44GM57WC5LqG44GX44Gf44KJ5ZG844Gw44KM44KL44CCXHJcbiAgICpcclxuICAgKiBAcGFyYW0gcG9pbnRYIOOCueOCr+ODquODvOODs1jluqfmqJlcclxuICAgKiBAcGFyYW0gcG9pbnRZIOOCueOCr+ODquODvOODs1nluqfmqJlcclxuICAgKi9cclxuICBwdWJsaWMgb25Ub3VjaGVzRW5kZWQocG9pbnRYOiBudW1iZXIsIHBvaW50WTogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAvLyDjgr/jg4Pjg4HntYLkuoZcclxuICAgIGNvbnN0IGxpdmUyRE1hbmFnZXI6IExBcHBMaXZlMkRNYW5hZ2VyID0gTEFwcExpdmUyRE1hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcclxuICAgIGxpdmUyRE1hbmFnZXIub25EcmFnKDAuMCwgMC4wKTtcclxuXHJcbiAgICB7XHJcbiAgICAgIC8vIOOCt+ODs+OCsOODq+OCv+ODg+ODl1xyXG4gICAgICBjb25zdCB4OiBudW1iZXIgPSB0aGlzLl9kZXZpY2VUb1NjcmVlbi50cmFuc2Zvcm1YKFxyXG4gICAgICAgIHRoaXMuX3RvdWNoTWFuYWdlci5nZXRYKClcclxuICAgICAgKTsgLy8g6KuW55CG5bqn5qiZ5aSJ5o+b44GX44Gf5bqn5qiZ44KS5Y+W5b6X44CCXHJcbiAgICAgIGNvbnN0IHk6IG51bWJlciA9IHRoaXMuX2RldmljZVRvU2NyZWVuLnRyYW5zZm9ybVkoXHJcbiAgICAgICAgdGhpcy5fdG91Y2hNYW5hZ2VyLmdldFkoKVxyXG4gICAgICApOyAvLyDoq5bnkIbluqfmqJnlpInljJbjgZfjgZ/luqfmqJnjgpLlj5blvpfjgIJcclxuXHJcbiAgICAgIGlmIChMQXBwRGVmaW5lLkRlYnVnVG91Y2hMb2dFbmFibGUpIHtcclxuICAgICAgICBMQXBwUGFsLnByaW50TWVzc2FnZShgW0FQUF10b3VjaGVzRW5kZWQgeDogJHt4fSB5OiAke3l9YCk7XHJcbiAgICAgIH1cclxuICAgICAgbGl2ZTJETWFuYWdlci5vblRhcCh4LCB5KTtcclxuXHJcbiAgICAgIC8vIOatr+i7iuOBq+OCv+ODg+ODl+OBl+OBn+OBi1xyXG4gICAgICAvLyBpZiAodGhpcy5fZ2Vhci5pc0hpdChwb2ludFgsIHBvaW50WSkpIHtcclxuICAgICAgLy8gICBsaXZlMkRNYW5hZ2VyLm5leHRTY2VuZSgpO1xyXG4gICAgICAvLyB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBY5bqn5qiZ44KSVmlld+W6p+aomeOBq+WkieaPm+OBmeOCi+OAglxyXG4gICAqXHJcbiAgICogQHBhcmFtIGRldmljZVgg44OH44OQ44Kk44K5WOW6p+aomVxyXG4gICAqL1xyXG4gIHB1YmxpYyB0cmFuc2Zvcm1WaWV3WChkZXZpY2VYOiBudW1iZXIpOiBudW1iZXIge1xyXG4gICAgY29uc3Qgc2NyZWVuWDogbnVtYmVyID0gdGhpcy5fZGV2aWNlVG9TY3JlZW4udHJhbnNmb3JtWChkZXZpY2VYKTsgLy8g6KuW55CG5bqn5qiZ5aSJ5o+b44GX44Gf5bqn5qiZ44KS5Y+W5b6X44CCXHJcbiAgICByZXR1cm4gdGhpcy5fdmlld01hdHJpeC5pbnZlcnRUcmFuc2Zvcm1YKHNjcmVlblgpOyAvLyDmi6HlpKfjgIHnuK7lsI/jgIHnp7vli5Xlvozjga7lgKTjgIJcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFnluqfmqJnjgpJWaWV35bqn5qiZ44Gr5aSJ5o+b44GZ44KL44CCXHJcbiAgICpcclxuICAgKiBAcGFyYW0gZGV2aWNlWSDjg4fjg5DjgqTjgrlZ5bqn5qiZXHJcbiAgICovXHJcbiAgcHVibGljIHRyYW5zZm9ybVZpZXdZKGRldmljZVk6IG51bWJlcik6IG51bWJlciB7XHJcbiAgICBjb25zdCBzY3JlZW5ZOiBudW1iZXIgPSB0aGlzLl9kZXZpY2VUb1NjcmVlbi50cmFuc2Zvcm1ZKGRldmljZVkpOyAvLyDoq5bnkIbluqfmqJnlpInmj5vjgZfjgZ/luqfmqJnjgpLlj5blvpfjgIJcclxuICAgIHJldHVybiB0aGlzLl92aWV3TWF0cml4LmludmVydFRyYW5zZm9ybVkoc2NyZWVuWSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBY5bqn5qiZ44KSU2NyZWVu5bqn5qiZ44Gr5aSJ5o+b44GZ44KL44CCXHJcbiAgICogQHBhcmFtIGRldmljZVgg44OH44OQ44Kk44K5WOW6p+aomVxyXG4gICAqL1xyXG4gIHB1YmxpYyB0cmFuc2Zvcm1TY3JlZW5YKGRldmljZVg6IG51bWJlcik6IG51bWJlciB7XHJcbiAgICByZXR1cm4gdGhpcy5fZGV2aWNlVG9TY3JlZW4udHJhbnNmb3JtWChkZXZpY2VYKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFnluqfmqJnjgpJTY3JlZW7luqfmqJnjgavlpInmj5vjgZnjgovjgIJcclxuICAgKlxyXG4gICAqIEBwYXJhbSBkZXZpY2VZIOODh+ODkOOCpOOCuVnluqfmqJlcclxuICAgKi9cclxuICBwdWJsaWMgdHJhbnNmb3JtU2NyZWVuWShkZXZpY2VZOiBudW1iZXIpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIHRoaXMuX2RldmljZVRvU2NyZWVuLnRyYW5zZm9ybVkoZGV2aWNlWSk7XHJcbiAgfVxyXG5cclxuICBfdG91Y2hNYW5hZ2VyOiBUb3VjaE1hbmFnZXI7IC8vIOOCv+ODg+ODgeODnuODjeODvOOCuOODo+ODvFxyXG4gIF9kZXZpY2VUb1NjcmVlbjogQ3NtX0N1YmlzbU1hdHJpeDQ0OyAvLyDjg4fjg5DjgqTjgrnjgYvjgonjgrnjgq/jg6rjg7zjg7Pjgbjjga7ooYzliJdcclxuICBfdmlld01hdHJpeDogQ3NtX0N1YmlzbVZpZXdNYXRyaXg7IC8vIHZpZXdNYXRyaXhcclxuICBfcHJvZ3JhbUlkOiBXZWJHTFByb2dyYW07IC8vIOOCt+OCp+ODvOODgElEXHJcbiAgX2JhY2s6IExBcHBTcHJpdGU7IC8vIOiDjOaZr+eUu+WDj1xyXG4gIF9nZWFyOiBMQXBwU3ByaXRlOyAvLyDjgq7jgqLnlLvlg49cclxuICBfY2hhbmdlTW9kZWw6IGJvb2xlYW47IC8vIOODouODh+ODq+WIh+OCiuabv+OBiOODleODqeOCsFxyXG4gIF9pc0NsaWNrOiBib29sZWFuOyAvLyDjgq/jg6rjg4Pjgq/kuK1cclxufVxyXG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFLQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFHQTtBQUdBO0FBQ0E7QUFLQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUdBO0FBTUE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUVBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUEyQ0E7QUFRQTtBQUNBO0FBQ0E7QUFRQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQVFBO0FBRUE7QUFDQTtBQUVBO0FBRUE7QUFHQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFVQTtBQUFBO0FBMVBBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/lappview.ts\n");

/***/ }),

/***/ "./src/touchmanager.ts":
/*!*****************************!*\
  !*** ./src/touchmanager.ts ***!
  \*****************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.TouchManager = void 0;\r\nvar TouchManager = (function () {\r\n    function TouchManager() {\r\n        this._startX = 0.0;\r\n        this._startY = 0.0;\r\n        this._lastX = 0.0;\r\n        this._lastY = 0.0;\r\n        this._lastX1 = 0.0;\r\n        this._lastY1 = 0.0;\r\n        this._lastX2 = 0.0;\r\n        this._lastY2 = 0.0;\r\n        this._lastTouchDistance = 0.0;\r\n        this._deltaX = 0.0;\r\n        this._deltaY = 0.0;\r\n        this._scale = 1.0;\r\n        this._touchSingle = false;\r\n        this._flipAvailable = false;\r\n    }\r\n    TouchManager.prototype.getCenterX = function () {\r\n        return this._lastX;\r\n    };\r\n    TouchManager.prototype.getCenterY = function () {\r\n        return this._lastY;\r\n    };\r\n    TouchManager.prototype.getDeltaX = function () {\r\n        return this._deltaX;\r\n    };\r\n    TouchManager.prototype.getDeltaY = function () {\r\n        return this._deltaY;\r\n    };\r\n    TouchManager.prototype.getStartX = function () {\r\n        return this._startX;\r\n    };\r\n    TouchManager.prototype.getStartY = function () {\r\n        return this._startY;\r\n    };\r\n    TouchManager.prototype.getScale = function () {\r\n        return this._scale;\r\n    };\r\n    TouchManager.prototype.getX = function () {\r\n        return this._lastX;\r\n    };\r\n    TouchManager.prototype.getY = function () {\r\n        return this._lastY;\r\n    };\r\n    TouchManager.prototype.getX1 = function () {\r\n        return this._lastX1;\r\n    };\r\n    TouchManager.prototype.getY1 = function () {\r\n        return this._lastY1;\r\n    };\r\n    TouchManager.prototype.getX2 = function () {\r\n        return this._lastX2;\r\n    };\r\n    TouchManager.prototype.getY2 = function () {\r\n        return this._lastY2;\r\n    };\r\n    TouchManager.prototype.isSingleTouch = function () {\r\n        return this._touchSingle;\r\n    };\r\n    TouchManager.prototype.isFlickAvailable = function () {\r\n        return this._flipAvailable;\r\n    };\r\n    TouchManager.prototype.disableFlick = function () {\r\n        this._flipAvailable = false;\r\n    };\r\n    TouchManager.prototype.touchesBegan = function (deviceX, deviceY) {\r\n        this._lastX = deviceX;\r\n        this._lastY = deviceY;\r\n        this._startX = deviceX;\r\n        this._startY = deviceY;\r\n        this._lastTouchDistance = -1.0;\r\n        this._flipAvailable = true;\r\n        this._touchSingle = true;\r\n    };\r\n    TouchManager.prototype.touchesMoved = function (deviceX, deviceY) {\r\n        this._lastX = deviceX;\r\n        this._lastY = deviceY;\r\n        this._lastTouchDistance = -1.0;\r\n        this._touchSingle = true;\r\n    };\r\n    TouchManager.prototype.getFlickDistance = function () {\r\n        return this.calculateDistance(this._startX, this._startY, this._lastX, this._lastY);\r\n    };\r\n    TouchManager.prototype.calculateDistance = function (x1, y1, x2, y2) {\r\n        return Math.sqrt((x1 - x2) * (x1 - x2) + (y1 - y2) * (y1 - y2));\r\n    };\r\n    TouchManager.prototype.calculateMovingAmount = function (v1, v2) {\r\n        if (v1 > 0.0 != v2 > 0.0) {\r\n            return 0.0;\r\n        }\r\n        var sign = v1 > 0.0 ? 1.0 : -1.0;\r\n        var absoluteValue1 = Math.abs(v1);\r\n        var absoluteValue2 = Math.abs(v2);\r\n        return (sign * (absoluteValue1 < absoluteValue2 ? absoluteValue1 : absoluteValue2));\r\n    };\r\n    return TouchManager;\r\n}());\r\nexports.TouchManager = TouchManager;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdG91Y2htYW5hZ2VyLnRzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbGl2ZTJkLy4vc3JjL3RvdWNobWFuYWdlci50cz9hMmVhIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBDb3B5cmlnaHQoYykgTGl2ZTJEIEluYy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuICpcclxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgdGhlIExpdmUyRCBPcGVuIFNvZnR3YXJlIGxpY2Vuc2VcclxuICogdGhhdCBjYW4gYmUgZm91bmQgYXQgaHR0cHM6Ly93d3cubGl2ZTJkLmNvbS9ldWxhL2xpdmUyZC1vcGVuLXNvZnR3YXJlLWxpY2Vuc2UtYWdyZWVtZW50X2VuLmh0bWwuXHJcbiAqL1xyXG5cclxuZXhwb3J0IGNsYXNzIFRvdWNoTWFuYWdlciB7XHJcbiAgLyoqXHJcbiAgICog44Kz44Oz44K544OI44Op44Kv44K/XHJcbiAgICovXHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICB0aGlzLl9zdGFydFggPSAwLjA7XHJcbiAgICB0aGlzLl9zdGFydFkgPSAwLjA7XHJcbiAgICB0aGlzLl9sYXN0WCA9IDAuMDtcclxuICAgIHRoaXMuX2xhc3RZID0gMC4wO1xyXG4gICAgdGhpcy5fbGFzdFgxID0gMC4wO1xyXG4gICAgdGhpcy5fbGFzdFkxID0gMC4wO1xyXG4gICAgdGhpcy5fbGFzdFgyID0gMC4wO1xyXG4gICAgdGhpcy5fbGFzdFkyID0gMC4wO1xyXG4gICAgdGhpcy5fbGFzdFRvdWNoRGlzdGFuY2UgPSAwLjA7XHJcbiAgICB0aGlzLl9kZWx0YVggPSAwLjA7XHJcbiAgICB0aGlzLl9kZWx0YVkgPSAwLjA7XHJcbiAgICB0aGlzLl9zY2FsZSA9IDEuMDtcclxuICAgIHRoaXMuX3RvdWNoU2luZ2xlID0gZmFsc2U7XHJcbiAgICB0aGlzLl9mbGlwQXZhaWxhYmxlID0gZmFsc2U7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0Q2VudGVyWCgpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIHRoaXMuX2xhc3RYO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldENlbnRlclkoKTogbnVtYmVyIHtcclxuICAgIHJldHVybiB0aGlzLl9sYXN0WTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBnZXREZWx0YVgoKTogbnVtYmVyIHtcclxuICAgIHJldHVybiB0aGlzLl9kZWx0YVg7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0RGVsdGFZKCk6IG51bWJlciB7XHJcbiAgICByZXR1cm4gdGhpcy5fZGVsdGFZO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldFN0YXJ0WCgpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIHRoaXMuX3N0YXJ0WDtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBnZXRTdGFydFkoKTogbnVtYmVyIHtcclxuICAgIHJldHVybiB0aGlzLl9zdGFydFk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0U2NhbGUoKTogbnVtYmVyIHtcclxuICAgIHJldHVybiB0aGlzLl9zY2FsZTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBnZXRYKCk6IG51bWJlciB7XHJcbiAgICByZXR1cm4gdGhpcy5fbGFzdFg7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0WSgpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIHRoaXMuX2xhc3RZO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldFgxKCk6IG51bWJlciB7XHJcbiAgICByZXR1cm4gdGhpcy5fbGFzdFgxO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldFkxKCk6IG51bWJlciB7XHJcbiAgICByZXR1cm4gdGhpcy5fbGFzdFkxO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldFgyKCk6IG51bWJlciB7XHJcbiAgICByZXR1cm4gdGhpcy5fbGFzdFgyO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldFkyKCk6IG51bWJlciB7XHJcbiAgICByZXR1cm4gdGhpcy5fbGFzdFkyO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGlzU2luZ2xlVG91Y2goKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gdGhpcy5fdG91Y2hTaW5nbGU7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgaXNGbGlja0F2YWlsYWJsZSgpOiBib29sZWFuIHtcclxuICAgIHJldHVybiB0aGlzLl9mbGlwQXZhaWxhYmxlO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGRpc2FibGVGbGljaygpOiB2b2lkIHtcclxuICAgIHRoaXMuX2ZsaXBBdmFpbGFibGUgPSBmYWxzZTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOOCv+ODg+ODgemWi+Wni+aZguOCpOODmeODs+ODiFxyXG4gICAqIEBwYXJhbSBkZXZpY2VYIOOCv+ODg+ODgeOBl+OBn+eUu+mdouOBrnjjga7lgKRcclxuICAgKiBAcGFyYW0gZGV2aWNlWSDjgr/jg4Pjg4HjgZfjgZ/nlLvpnaLjga5544Gu5YCkXHJcbiAgICovXHJcbiAgcHVibGljIHRvdWNoZXNCZWdhbihkZXZpY2VYOiBudW1iZXIsIGRldmljZVk6IG51bWJlcik6IHZvaWQge1xyXG4gICAgdGhpcy5fbGFzdFggPSBkZXZpY2VYO1xyXG4gICAgdGhpcy5fbGFzdFkgPSBkZXZpY2VZO1xyXG4gICAgdGhpcy5fc3RhcnRYID0gZGV2aWNlWDtcclxuICAgIHRoaXMuX3N0YXJ0WSA9IGRldmljZVk7XHJcbiAgICB0aGlzLl9sYXN0VG91Y2hEaXN0YW5jZSA9IC0xLjA7XHJcbiAgICB0aGlzLl9mbGlwQXZhaWxhYmxlID0gdHJ1ZTtcclxuICAgIHRoaXMuX3RvdWNoU2luZ2xlID0gdHJ1ZTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOODieODqeODg+OCsOaZguOBruOCpOODmeODs+ODiFxyXG4gICAqIEBwYXJhbSBkZXZpY2VYIOOCv+ODg+ODgeOBl+OBn+eUu+mdouOBrnjjga7lgKRcclxuICAgKiBAcGFyYW0gZGV2aWNlWSDjgr/jg4Pjg4HjgZfjgZ/nlLvpnaLjga5544Gu5YCkXHJcbiAgICovXHJcbiAgcHVibGljIHRvdWNoZXNNb3ZlZChkZXZpY2VYOiBudW1iZXIsIGRldmljZVk6IG51bWJlcik6IHZvaWQge1xyXG4gICAgdGhpcy5fbGFzdFggPSBkZXZpY2VYO1xyXG4gICAgdGhpcy5fbGFzdFkgPSBkZXZpY2VZO1xyXG4gICAgdGhpcy5fbGFzdFRvdWNoRGlzdGFuY2UgPSAtMS4wO1xyXG4gICAgdGhpcy5fdG91Y2hTaW5nbGUgPSB0cnVlO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog44OV44Oq44OD44Kv44Gu6Led6Zui5ris5a6aXHJcbiAgICogQHJldHVybiDjg5Xjg6rjg4Pjgq/ot53pm6JcclxuICAgKi9cclxuICBwdWJsaWMgZ2V0RmxpY2tEaXN0YW5jZSgpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIHRoaXMuY2FsY3VsYXRlRGlzdGFuY2UoXHJcbiAgICAgIHRoaXMuX3N0YXJ0WCxcclxuICAgICAgdGhpcy5fc3RhcnRZLFxyXG4gICAgICB0aGlzLl9sYXN0WCxcclxuICAgICAgdGhpcy5fbGFzdFlcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDngrnvvJHjgYvjgonngrnvvJLjgbjjga7ot53pm6LjgpLmsYLjgoHjgotcclxuICAgKlxyXG4gICAqIEBwYXJhbSB4MSDvvJHjgaTnm67jga7jgr/jg4Pjg4HjgZfjgZ/nlLvpnaLjga5444Gu5YCkXHJcbiAgICogQHBhcmFtIHkxIO+8keOBpOebruOBruOCv+ODg+ODgeOBl+OBn+eUu+mdouOBrnnjga7lgKRcclxuICAgKiBAcGFyYW0geDIg77yS44Gk55uu44Gu44K/44OD44OB44GX44Gf55S76Z2i44GueOOBruWApFxyXG4gICAqIEBwYXJhbSB5MiDvvJLjgaTnm67jga7jgr/jg4Pjg4HjgZfjgZ/nlLvpnaLjga5544Gu5YCkXHJcbiAgICovXHJcbiAgcHVibGljIGNhbGN1bGF0ZURpc3RhbmNlKFxyXG4gICAgeDE6IG51bWJlcixcclxuICAgIHkxOiBudW1iZXIsXHJcbiAgICB4MjogbnVtYmVyLFxyXG4gICAgeTI6IG51bWJlclxyXG4gICk6IG51bWJlciB7XHJcbiAgICByZXR1cm4gTWF0aC5zcXJ0KCh4MSAtIHgyKSAqICh4MSAtIHgyKSArICh5MSAtIHkyKSAqICh5MSAtIHkyKSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDvvJLjgaTnm67jga7lgKTjgYvjgonjgIHnp7vli5Xph4/jgpLmsYLjgoHjgovjgIJcclxuICAgKiDpgZXjgYbmlrnlkJHjga7loLTlkIjjga/np7vli5Xph4/vvJDjgILlkIzjgZjmlrnlkJHjga7loLTlkIjjga/jgIHntbblr77lgKTjgYzlsI/jgZXjgYTmlrnjga7lgKTjgpLlj4LnhafjgZnjgovjgIJcclxuICAgKlxyXG4gICAqIEBwYXJhbSB2MSDvvJHjgaTnm67jga7np7vli5Xph49cclxuICAgKiBAcGFyYW0gdjIg77yS44Gk55uu44Gu56e75YuV6YePXHJcbiAgICpcclxuICAgKiBAcmV0dXJuIOWwj+OBleOBhOaWueOBruenu+WLlemHj1xyXG4gICAqL1xyXG4gIHB1YmxpYyBjYWxjdWxhdGVNb3ZpbmdBbW91bnQodjE6IG51bWJlciwgdjI6IG51bWJlcik6IG51bWJlciB7XHJcbiAgICBpZiAodjEgPiAwLjAgIT0gdjIgPiAwLjApIHtcclxuICAgICAgcmV0dXJuIDAuMDtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBzaWduOiBudW1iZXIgPSB2MSA+IDAuMCA/IDEuMCA6IC0xLjA7XHJcbiAgICBjb25zdCBhYnNvbHV0ZVZhbHVlMSA9IE1hdGguYWJzKHYxKTtcclxuICAgIGNvbnN0IGFic29sdXRlVmFsdWUyID0gTWF0aC5hYnModjIpO1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgc2lnbiAqIChhYnNvbHV0ZVZhbHVlMSA8IGFic29sdXRlVmFsdWUyID8gYWJzb2x1dGVWYWx1ZTEgOiBhYnNvbHV0ZVZhbHVlMilcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICBfc3RhcnRZOiBudW1iZXI7IC8vIOOCv+ODg+ODgeOCkumWi+Wni+OBl+OBn+aZguOBrnjjga7lgKRcclxuICBfc3RhcnRYOiBudW1iZXI7IC8vIOOCv+ODg+ODgeOCkumWi+Wni+OBl+OBn+aZguOBrnnjga7lgKRcclxuICBfbGFzdFg6IG51bWJlcjsgLy8g44K344Oz44Kw44Or44K/44OD44OB5pmC44GueOOBruWApFxyXG4gIF9sYXN0WTogbnVtYmVyOyAvLyDjgrfjg7PjgrDjg6vjgr/jg4Pjg4HmmYLjga5544Gu5YCkXHJcbiAgX2xhc3RYMTogbnVtYmVyOyAvLyDjg4Djg5bjg6vjgr/jg4Pjg4HmmYLjga7kuIDjgaTnm67jga5444Gu5YCkXHJcbiAgX2xhc3RZMTogbnVtYmVyOyAvLyDjg4Djg5bjg6vjgr/jg4Pjg4HmmYLjga7kuIDjgaTnm67jga5544Gu5YCkXHJcbiAgX2xhc3RYMjogbnVtYmVyOyAvLyDjg4Djg5bjg6vjgr/jg4Pjg4HmmYLjga7kuozjgaTnm67jga5444Gu5YCkXHJcbiAgX2xhc3RZMjogbnVtYmVyOyAvLyDjg4Djg5bjg6vjgr/jg4Pjg4HmmYLjga7kuozjgaTnm67jga5544Gu5YCkXHJcbiAgX2xhc3RUb3VjaERpc3RhbmNlOiBudW1iZXI7IC8vIDLmnKzku6XkuIrjgafjgr/jg4Pjg4HjgZfjgZ/jgajjgY3jga7mjIfjga7ot53pm6JcclxuICBfZGVsdGFYOiBudW1iZXI7IC8vIOWJjeWbnuOBruWApOOBi+OCieS7iuWbnuOBruWApOOBuOOBrnjjga7np7vli5Xot53pm6LjgIJcclxuICBfZGVsdGFZOiBudW1iZXI7IC8vIOWJjeWbnuOBruWApOOBi+OCieS7iuWbnuOBruWApOOBuOOBrnnjga7np7vli5Xot53pm6LjgIJcclxuICBfc2NhbGU6IG51bWJlcjsgLy8g44GT44Gu44OV44Os44O844Og44Gn5o6b44GR5ZCI44KP44Gb44KL5ouh5aSn546H44CC5ouh5aSn5pON5L2c5Lit5Lul5aSW44GvMeOAglxyXG4gIF90b3VjaFNpbmdsZTogYm9vbGVhbjsgLy8g44K344Oz44Kw44Or44K/44OD44OB5pmC44GvdHJ1ZVxyXG4gIF9mbGlwQXZhaWxhYmxlOiBib29sZWFuOyAvLyDjg5Xjg6rjg4Pjg5fjgYzmnInlirnjgYvjganjgYbjgYtcclxufVxyXG4iXSwibWFwcGluZ3MiOiI7OztBQU9BO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBTUE7QUFVQTtBQU1BO0FBQ0E7QUFXQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFnQkE7QUFBQTtBQWxMQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/touchmanager.ts\n");

/***/ }),

/***/ "react":
/*!**************************************************************************************!*\
  !*** external {"root":"React","commonjs2":"react","commonjs":"react","amd":"react"} ***!
  \**************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = __WEBPACK_EXTERNAL_MODULE_react__;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVhY3QuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9saXZlMmQvZXh0ZXJuYWwge1wicm9vdFwiOlwiUmVhY3RcIixcImNvbW1vbmpzMlwiOlwicmVhY3RcIixcImNvbW1vbmpzXCI6XCJyZWFjdFwiLFwiYW1kXCI6XCJyZWFjdFwifT8yNDZlIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9yZWFjdF9fOyJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///react\n");

/***/ })

/******/ });
});